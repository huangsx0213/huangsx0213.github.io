<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>gatling testing code</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        pre { background:#f5f5f5; border:1px solid #ddd; padding:10px; overflow:auto; }
        button { margin-bottom:10px; padding:6px 12px; }
    </style>
</head>
<body>
    <h2>gatling testing code</h2>
    <h3>Usage</h3>
    <pre>java GatlingCodeArchiver.java export . gatling.code.html
java GatlingCodeArchiver.java import gatling.code.html restoredDir</pre>
    <button onclick="togglePackage()">Show / Hide Package</button>
    <button onclick="copyPackage()">Copy Package To Clipboard</button>
    <pre id="display" style="display:none;"></pre>
    <h3>GatlingCodeArchiver.java</h3>
    <button onclick="toggleSrc()">Show / Hide Source</button>
    <button onclick="copySource()">Copy Source Code</button>
    <pre id="src" style="display:none;"></pre>
    <script id="code-data" type="text/plain">PATH:application.properties
I1VwZGF0ZWQgYnkgQXBwbGljYXRpb25Qcm9wZXJ0aWVzVmlld01vZGVsDQojVGh1IEp1biAyNiAyMjozNTo0NyBDU1QgMjAyNQ0KY3VycmVudC5lbnY9VUstU0lUDQpjdXJyZW50LnByb2plY3QubmFtZT1VSw==
END
PATH:dependency-reduced-pom.xml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxwcm9qZWN0IHhtbG5zPSJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wIGh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL21hdmVuLXY0XzBfMC54c2QiPg0KICA8bW9kZWxWZXJzaW9uPjQuMC4wPC9tb2RlbFZlcnNpb24+DQogIDxncm91cElkPmNvbS5xYTwvZ3JvdXBJZD4NCiAgPGFydGlmYWN0SWQ+Z2F0bGluZy10ZXN0aW5nLXN5c3RlbTwvYXJ0aWZhY3RJZD4NCiAgPHZlcnNpb24+MS4wLVNOQVBTSE9UPC92ZXJzaW9uPg0KICA8YnVpbGQ+DQogICAgPHBsdWdpbnM+DQogICAgICA8cGx1Z2luPg0KICAgICAgICA8Z3JvdXBJZD5pby5nYXRsaW5nPC9ncm91cElkPg0KICAgICAgICA8YXJ0aWZhY3RJZD5nYXRsaW5nLW1hdmVuLXBsdWdpbjwvYXJ0aWZhY3RJZD4NCiAgICAgICAgPHZlcnNpb24+JHtnYXRsaW5nLnZlcnNpb259PC92ZXJzaW9uPg0KICAgICAgICA8Y29uZmlndXJhdGlvbj4NCiAgICAgICAgICA8c2ltdWxhdGlvbkNsYXNzPmNvbS5xYS5hcHAudXRpbC5HYXRsaW5nVGVzdFNpbXVsYXRpb248L3NpbXVsYXRpb25DbGFzcz4NCiAgICAgICAgICA8anZtQXJncz4NCiAgICAgICAgICAgIDxqdm1Bcmc+LS1hZGQtb3BlbnM9amF2YS5iYXNlL2phdmEubGFuZz1BTEwtVU5OQU1FRDwvanZtQXJnPg0KICAgICAgICAgICAgPGp2bUFyZz4tLWFkZC1vcGVucz1qYXZhLmJhc2UvamF2YS51dGlsPUFMTC1VTk5BTUVEPC9qdm1Bcmc+DQogICAgICAgICAgPC9qdm1BcmdzPg0KICAgICAgICA8L2NvbmZpZ3VyYXRpb24+DQogICAgICA8L3BsdWdpbj4NCiAgICAgIDxwbHVnaW4+DQogICAgICAgIDxhcnRpZmFjdElkPm1hdmVuLWRlcGVuZGVuY3ktcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICA8dmVyc2lvbj4zLjYuMTwvdmVyc2lvbj4NCiAgICAgICAgPGV4ZWN1dGlvbnM+DQogICAgICAgICAgPGV4ZWN1dGlvbj4NCiAgICAgICAgICAgIDxpZD5zZXQtY2xhc3NwYXRoLXByb3BlcnR5PC9pZD4NCiAgICAgICAgICAgIDxwaGFzZT5wcm9jZXNzLXJlc291cmNlczwvcGhhc2U+DQogICAgICAgICAgICA8Z29hbHM+DQogICAgICAgICAgICAgIDxnb2FsPmJ1aWxkLWNsYXNzcGF0aDwvZ29hbD4NCiAgICAgICAgICAgIDwvZ29hbHM+DQogICAgICAgICAgICA8Y29uZmlndXJhdGlvbj4NCiAgICAgICAgICAgICAgPG91dHB1dEZpbGU+JHtwcm9qZWN0LmJ1aWxkLmRpcmVjdG9yeX0vZ2F0bGluZy5jbGFzc3BhdGg8L291dHB1dEZpbGU+DQogICAgICAgICAgICA8L2NvbmZpZ3VyYXRpb24+DQogICAgICAgICAgPC9leGVjdXRpb24+DQogICAgICAgIDwvZXhlY3V0aW9ucz4NCiAgICAgIDwvcGx1Z2luPg0KICAgICAgPHBsdWdpbj4NCiAgICAgICAgPGdyb3VwSWQ+bmV0LmFsY2hpbTMxLm1hdmVuPC9ncm91cElkPg0KICAgICAgICA8YXJ0aWZhY3RJZD5zY2FsYS1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+DQogICAgICAgIDx2ZXJzaW9uPjQuOC4xPC92ZXJzaW9uPg0KICAgICAgPC9wbHVnaW4+DQogICAgICA8cGx1Z2luPg0KICAgICAgICA8YXJ0aWZhY3RJZD5tYXZlbi1jb21waWxlci1wbHVnaW48L2FydGlmYWN0SWQ+DQogICAgICAgIDx2ZXJzaW9uPjMuOC4xPC92ZXJzaW9uPg0KICAgICAgICA8Y29uZmlndXJhdGlvbj4NCiAgICAgICAgICA8c291cmNlPiR7bWF2ZW4uY29tcGlsZXIuc291cmNlfTwvc291cmNlPg0KICAgICAgICAgIDx0YXJnZXQ+JHttYXZlbi5jb21waWxlci50YXJnZXR9PC90YXJnZXQ+DQogICAgICAgIDwvY29uZmlndXJhdGlvbj4NCiAgICAgIDwvcGx1Z2luPg0KICAgICAgPHBsdWdpbj4NCiAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+DQogICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+DQogICAgICAgIDx2ZXJzaW9uPjAuMC44PC92ZXJzaW9uPg0KICAgICAgICA8Y29uZmlndXJhdGlvbj4NCiAgICAgICAgICA8bWFpbkNsYXNzPmNvbS5xYS5hcHAuQXBwPC9tYWluQ2xhc3M+DQogICAgICAgICAgPG9wdGlvbnM+DQogICAgICAgICAgICA8b3B0aW9uPi0tYWRkLW9wZW5zPWphdmEuYmFzZS9qYXZhLmxhbmc9QUxMLVVOTkFNRUQ8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24+LS1hZGQtb3BlbnM9amF2YS5iYXNlL2phdmEudXRpbD1BTEwtVU5OQU1FRDwvb3B0aW9uPg0KICAgICAgICAgICAgPG9wdGlvbj4tRGdhdGxpbmcuY2xhc3NwYXRoLmZpbGU9JHtwcm9qZWN0LmJ1aWxkLmRpcmVjdG9yeX0vZ2F0bGluZy5jbGFzc3BhdGg8L29wdGlvbj4NCiAgICAgICAgICA8L29wdGlvbnM+DQogICAgICAgIDwvY29uZmlndXJhdGlvbj4NCiAgICAgIDwvcGx1Z2luPg0KICAgICAgPHBsdWdpbj4NCiAgICAgICAgPGFydGlmYWN0SWQ+bWF2ZW4tc2hhZGUtcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICA8dmVyc2lvbj4zLjUuMTwvdmVyc2lvbj4NCiAgICAgICAgPGV4ZWN1dGlvbnM+DQogICAgICAgICAgPGV4ZWN1dGlvbj4NCiAgICAgICAgICAgIDxwaGFzZT5wYWNrYWdlPC9waGFzZT4NCiAgICAgICAgICAgIDxnb2Fscz4NCiAgICAgICAgICAgICAgPGdvYWw+c2hhZGU8L2dvYWw+DQogICAgICAgICAgICA8L2dvYWxzPg0KICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgIDx0cmFuc2Zvcm1lcnM+DQogICAgICAgICAgICAgICAgPHRyYW5zZm9ybWVyPg0KICAgICAgICAgICAgICAgICAgPG1haW5DbGFzcz5jb20ucWEuYXBwLkFwcDwvbWFpbkNsYXNzPg0KICAgICAgICAgICAgICAgIDwvdHJhbnNmb3JtZXI+DQogICAgICAgICAgICAgIDwvdHJhbnNmb3JtZXJzPg0KICAgICAgICAgICAgICA8ZmlsdGVycz4NCiAgICAgICAgICAgICAgICA8ZmlsdGVyPg0KICAgICAgICAgICAgICAgICAgPGFydGlmYWN0Pio6KjwvYXJ0aWZhY3Q+DQogICAgICAgICAgICAgICAgICA8ZXhjbHVkZXM+DQogICAgICAgICAgICAgICAgICAgIDxleGNsdWRlPk1FVEEtSU5GLyouU0Y8L2V4Y2x1ZGU+DQogICAgICAgICAgICAgICAgICAgIDxleGNsdWRlPk1FVEEtSU5GLyouRFNBPC9leGNsdWRlPg0KICAgICAgICAgICAgICAgICAgICA8ZXhjbHVkZT5NRVRBLUlORi8qLlJTQTwvZXhjbHVkZT4NCiAgICAgICAgICAgICAgICAgIDwvZXhjbHVkZXM+DQogICAgICAgICAgICAgICAgPC9maWx0ZXI+DQogICAgICAgICAgICAgIDwvZmlsdGVycz4NCiAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj4NCiAgICAgICAgICA8L2V4ZWN1dGlvbj4NCiAgICAgICAgPC9leGVjdXRpb25zPg0KICAgICAgPC9wbHVnaW4+DQogICAgPC9wbHVnaW5zPg0KICA8L2J1aWxkPg0KICA8ZGVwZW5kZW5jaWVzPg0KICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5ncm9vdnk8L2dyb3VwSWQ+DQogICAgICA8YXJ0aWZhY3RJZD5ncm9vdnktYWxsPC9hcnRpZmFjdElkPg0KICAgICAgPHZlcnNpb24+NC4wLjIxPC92ZXJzaW9uPg0KICAgICAgPHR5cGU+cG9tPC90eXBlPg0KICAgICAgPHNjb3BlPmNvbXBpbGU8L3Njb3BlPg0KICAgIDwvZGVwZW5kZW5jeT4NCiAgPC9kZXBlbmRlbmNpZXM+DQogIDxwcm9wZXJ0aWVzPg0KICAgIDxzcWxpdGUuamRiYy52ZXJzaW9uPjMuMzYuMC4zPC9zcWxpdGUuamRiYy52ZXJzaW9uPg0KICAgIDxtYXZlbi5jb21waWxlci5zb3VyY2U+MjE8L21hdmVuLmNvbXBpbGVyLnNvdXJjZT4NCiAgICA8Z2F0bGluZy52ZXJzaW9uPjMuMTQuMzwvZ2F0bGluZy52ZXJzaW9uPg0KICAgIDxtYXZlbi5jb21waWxlci50YXJnZXQ+MjE8L21hdmVuLmNvbXBpbGVyLnRhcmdldD4NCiAgICA8cHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5VVEYtODwvcHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz4NCiAgICA8amF2YWZ4LnZlcnNpb24+MjEuMC4xPC9qYXZhZngudmVyc2lvbj4NCiAgICA8c2NhbGEudmVyc2lvbj4yLjEzLjEyPC9zY2FsYS52ZXJzaW9uPg0KICA8L3Byb3BlcnRpZXM+DQo8L3Byb2plY3Q+DQo=
END
PATH:GatlingCodeArchiver.java
cGFja2FnZSBjb20ucWEuYXBwLnV0aWw7DQoNCmltcG9ydCBqYXZhLmlvLio7DQppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5TdGFuZGFyZENoYXJzZXRzOw0KaW1wb3J0IGphdmEubmlvLmZpbGUuKjsNCmltcG9ydCBqYXZhLnV0aWwuKjsNCmltcG9ydCBqYXZhLnV0aWwuQmFzZTY0Ow0KaW1wb3J0IGphdmEudXRpbC5yZWdleC5NYXRjaGVyOw0KaW1wb3J0IGphdmEudXRpbC5yZWdleC5QYXR0ZXJuOw0KDQovKioNCiAqIENvbWJpbmVkIHV0aWxpdHk6IGV4cG9ydCBwcm9qZWN0IGNvZGUgaW50byBzZWxmLWNvbnRhaW5lZCBIVE1MIChnYXRsaW5nLmNvZGUuaHRtbCkNCiAqIGFuZCBpbXBvcnQgKHJlc3RvcmUpIGNvZGUgZnJvbSB0aGF0IEhUTUwuDQogKg0KICogMS4gRXhwb3J0IChkZWZhdWx0KToNCiAqICAgIGphdmEgR2F0bGluZ0NvZGVBcmNoaXZlciBleHBvcnQgWzxwcm9qZWN0RGlyPi5dIFs8b3V0cHV0SHRtbD4gZ2F0bGluZy5jb2RlLmh0bWxdDQogKg0KICogMi4gSW1wb3J0Og0KICogICAgamF2YSBHYXRsaW5nQ29kZUFyY2hpdmVyIGltcG9ydCA8aW5wdXRIdG1sPiA8dGFyZ2V0RGlyPg0KICoNCiAqIEhUTUwgdGl0bGU6ICJnYXRsaW5nIHRlc3RpbmcgY29kZSIuDQogKiBIVE1MIGVtYmVkcyByYXcgcGFja2FnZWQgdHh0IGluc2lkZSBhIDxzY3JpcHQgaWQ9ImNvZGUtZGF0YSIgdHlwZT0idGV4dC9wbGFpbiI+IHRhZyB0byBhdm9pZCBlc2NhcGluZy4NCiAqLw0KcHVibGljIGNsYXNzIEdhdGxpbmdDb2RlQXJjaGl2ZXIgew0KDQogICAgLyogLS0tLS0tLS0tLSBDb25maWcgLS0tLS0tLS0tLSAqLw0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IFRFWFRfRVhURU5TSU9OUyA9IFNldC5vZigNCiAgICAgICAgICAgICJqYXZhIiwgInhtbCIsICJwcm9wZXJ0aWVzIiwgImNvbmYiLCAiY29uZmlnIiwgInR4dCIsICJmeG1sIiwgImNzcyIsICJtZCIsICJqc29uIiwgInltbCIsICJ5YW1sIik7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTGlzdDxTdHJpbmc+IEVYQ0xVREVfRElSUyA9IExpc3Qub2YoDQogICAgICAgICAgICAiLmdpdCIsICJ0YXJnZXQiLCAiLmlkZWEiLCAib3V0IiwgImxvZ3MiLCAiLmN1cnNvciIsICIudnNjb2RlIik7DQoNCiAgICAvKiAtLS0tLS0tLS0tIEVudHJ5IC0tLS0tLS0tLS0gKi8NCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09IDAgfHwgImV4cG9ydCIuZXF1YWxzSWdub3JlQ2FzZShhcmdzWzBdKSkgew0KICAgICAgICAgICAgUGF0aCBwcm9qZWN0ID0gYXJncy5sZW5ndGggPiAxID8gUGF0aHMuZ2V0KGFyZ3NbMV0pIDogUGF0aHMuZ2V0KCIuIik7DQogICAgICAgICAgICBQYXRoIG91dCA9IGFyZ3MubGVuZ3RoID4gMiA/IFBhdGhzLmdldChhcmdzWzJdKSA6IFBhdGhzLmdldCgiZ2F0bGluZy5jb2RlLmh0bWwiKTsNCiAgICAgICAgICAgIGV4cG9ydEh0bWwocHJvamVjdCwgb3V0KTsNCiAgICAgICAgfSBlbHNlIGlmICgiaW1wb3J0Ii5lcXVhbHNJZ25vcmVDYXNlKGFyZ3NbMF0pKSB7DQogICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCAzKSB7DQogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJVc2FnZTogaW1wb3J0IDxpbnB1dEh0bWw+IDx0YXJnZXREaXI+Iik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgUGF0aCBodG1sID0gUGF0aHMuZ2V0KGFyZ3NbMV0pOw0KICAgICAgICAgICAgUGF0aCB0YXJnZXQgPSBQYXRocy5nZXQoYXJnc1syXSk7DQogICAgICAgICAgICBpbXBvcnRGcm9tSHRtbChodG1sLCB0YXJnZXQpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJVbmtub3duIGNvbW1hbmQuIFVzYWdlOlxuICBleHBvcnQgW3Byb2plY3REaXJdIFtvdXRwdXRIdG1sXVxuICBpbXBvcnQgPGlucHV0SHRtbD4gPHRhcmdldERpcj4iKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qIC0tLS0tLS0tLS0gRXhwb3J0IC0tLS0tLS0tLS0gKi8NCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIGV4cG9ydEh0bWwoUGF0aCByb290LCBQYXRoIG91dHB1dEh0bWwpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQogICAgICAgIGlmICghRmlsZXMuaXNEaXJlY3Rvcnkocm9vdCkpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIlByb2plY3QgZGlyZWN0b3J5IG5vdCBmb3VuZDogIiArIHJvb3QpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQnVpbGQgcGFja2FnZWQgdGV4dCAoTkRKU09OLWxpa2UpDQogICAgICAgIFN0cmluZ0J1aWxkZXIgcGtnQnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7DQogICAgICAgIEZpbGVzLndhbGsocm9vdCkNCiAgICAgICAgICAgICAgICAuZmlsdGVyKEZpbGVzOjppc1JlZ3VsYXJGaWxlKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIocCAtPiBzaG91bGRJbmNsdWRlKHApKQ0KICAgICAgICAgICAgICAgIC5mb3JFYWNoKHAgLT4gYXBwZW5kRmlsZUVudHJ5KHJvb3QsIHAsIHBrZ0J1aWxkZXIpKTsNCiAgICAgICAgU3RyaW5nIHBhY2thZ2VkVGV4dCA9IHBrZ0J1aWxkZXIudG9TdHJpbmcoKTsNCg0KICAgICAgICAvLyBSZWFkIHRoaXMgY2xhc3MncyBzb3VyY2UgKGJlc3QgZWZmb3J0KQ0KICAgICAgICBQYXRoIHNlbGZTcmNQYXRoID0gcm9vdC5yZXNvbHZlKCJHYXRsaW5nQ29kZUFyY2hpdmVyLmphdmEiKTsNCiAgICAgICAgU3RyaW5nIHNlbGZTb3VyY2UgPSAiIjsNCiAgICAgICAgaWYgKEZpbGVzLmV4aXN0cyhzZWxmU3JjUGF0aCkpIHsNCiAgICAgICAgICAgIHNlbGZTb3VyY2UgPSBGaWxlcy5yZWFkU3RyaW5nKHNlbGZTcmNQYXRoLCBTdGFuZGFyZENoYXJzZXRzLlVURl84KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIFBhdGggYWx0ID0gcm9vdC5yZXNvbHZlKCJHYXRsaW5nQ29kZUFyY2hpdmVyLmphdmEiKTsNCiAgICAgICAgICAgIGlmIChGaWxlcy5leGlzdHMoYWx0KSkgew0KICAgICAgICAgICAgICAgIHNlbGZTb3VyY2UgPSBGaWxlcy5yZWFkU3RyaW5nKGFsdCwgU3RhbmRhcmRDaGFyc2V0cy5VVEZfOCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyBCdWlsZCBIVE1MDQogICAgICAgIFN0cmluZyBodG1sID0gYnVpbGRIdG1sKHBhY2thZ2VkVGV4dCwgc2VsZlNvdXJjZSk7DQoNCiAgICAgICAgLy8gRW5zdXJlIGRpciBleGlzdHMNCiAgICAgICAgaWYgKG91dHB1dEh0bWwuZ2V0UGFyZW50KCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgRmlsZXMuY3JlYXRlRGlyZWN0b3JpZXMob3V0cHV0SHRtbC5nZXRQYXJlbnQoKSk7DQogICAgICAgIH0NCiAgICAgICAgRmlsZXMud3JpdGVTdHJpbmcob3V0cHV0SHRtbCwgaHRtbCwgU3RhbmRhcmRDaGFyc2V0cy5VVEZfOCk7DQogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiRXhwb3J0ZWQgdG8gIiArIG91dHB1dEh0bWwudG9BYnNvbHV0ZVBhdGgoKSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBzaG91bGRJbmNsdWRlKFBhdGggZmlsZSkgew0KICAgICAgICBmb3IgKFBhdGggcGFydCA6IGZpbGUpIHsNCiAgICAgICAgICAgIGlmIChFWENMVURFX0RJUlMuY29udGFpbnMocGFydC50b1N0cmluZygpKSkgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIFN0cmluZyBuYW1lID0gZmlsZS5nZXRGaWxlTmFtZSgpLnRvU3RyaW5nKCk7DQogICAgICAgIGludCBpZHggPSBuYW1lLmxhc3RJbmRleE9mKCcuJyk7DQogICAgICAgIGlmIChpZHggPT0gLTEpIHJldHVybiBmYWxzZTsNCiAgICAgICAgcmV0dXJuIFRFWFRfRVhURU5TSU9OUy5jb250YWlucyhuYW1lLnN1YnN0cmluZyhpZHggKyAxKS50b0xvd2VyQ2FzZSgpKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIGFwcGVuZEZpbGVFbnRyeShQYXRoIHJvb3QsIFBhdGggZmlsZSwgU3RyaW5nQnVpbGRlciBzYikgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgUGF0aCByZWwgPSByb290LnJlbGF0aXZpemUoZmlsZSk7DQogICAgICAgICAgICBTdHJpbmcgYjY0ID0gQmFzZTY0LmdldEVuY29kZXIoKS5lbmNvZGVUb1N0cmluZyhGaWxlcy5yZWFkQWxsQnl0ZXMoZmlsZSkpOw0KICAgICAgICAgICAgc2IuYXBwZW5kKCJQQVRIOiIpLmFwcGVuZChyZWwudG9TdHJpbmcoKS5yZXBsYWNlKCdcXCcsICcvJykpLmFwcGVuZCgnXG4nKTsNCiAgICAgICAgICAgIHNiLmFwcGVuZChiNjQpLmFwcGVuZCgnXG4nKTsNCiAgICAgICAgICAgIHNiLmFwcGVuZCgiRU5EXG4iKTsNCiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiU2tpcCBmaWxlICIgKyBmaWxlICsgIiBkdWU6ICIgKyBleC5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyogLS0tLS0tLS0tLSBJbXBvcnQgLS0tLS0tLS0tLSAqLw0KICAgIHByaXZhdGUgc3RhdGljIHZvaWQgaW1wb3J0RnJvbUh0bWwoUGF0aCBodG1sRmlsZSwgUGF0aCB0YXJnZXREaXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQogICAgICAgIGlmICghRmlsZXMuZXhpc3RzKGh0bWxGaWxlKSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiSFRNTCBmaWxlIG5vdCBmb3VuZDogIiArIGh0bWxGaWxlKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyBSZWFkIGh0bWwgYXMgc3RyaW5nDQogICAgICAgIFN0cmluZyBodG1sID0gRmlsZXMucmVhZFN0cmluZyhodG1sRmlsZSwgU3RhbmRhcmRDaGFyc2V0cy5VVEZfOCk7DQogICAgICAgIC8vIEV4dHJhY3QgYmV0d2VlbiA8c2NyaXB0IGlkPSJjb2RlLWRhdGEiIHR5cGU9InRleHQvcGxhaW4iPiAuLi4gPC9zY3JpcHQ+DQogICAgICAgIFBhdHRlcm4gcGF0dGVybiA9IFBhdHRlcm4uY29tcGlsZSgiPHNjcmlwdFtePl0qaWQ9XCJjb2RlLWRhdGFcIltePl0qPihbXFxzXFxTXSo/KTwvc2NyaXB0PiIsIFBhdHRlcm4uQ0FTRV9JTlNFTlNJVElWRSk7DQogICAgICAgIE1hdGNoZXIgbSA9IHBhdHRlcm4ubWF0Y2hlcihodG1sKTsNCiAgICAgICAgaWYgKCFtLmZpbmQoKSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigiTm8gY29kZS1kYXRhIHNlY3Rpb24gZm91bmQgaW4gSFRNTCIpOw0KICAgICAgICB9DQogICAgICAgIFN0cmluZyBwa2cgPSBtLmdyb3VwKDEpLnRyaW0oKTsNCiAgICAgICAgLy8gRW5zdXJlIHRhcmdldCBkaXIgZXhpc3RzDQogICAgICAgIEZpbGVzLmNyZWF0ZURpcmVjdG9yaWVzKHRhcmdldERpcik7DQogICAgICAgIHBhcnNlQW5kV3JpdGUocGtnLCB0YXJnZXREaXIpOw0KICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkltcG9ydCBjb21wbGV0ZWQgdG8gIiArIHRhcmdldERpci50b0Fic29sdXRlUGF0aCgpKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHBhcnNlQW5kV3JpdGUoU3RyaW5nIHBrZywgUGF0aCB0YXJnZXREaXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQogICAgICAgIHRyeSAoQnVmZmVyZWRSZWFkZXIgYnIgPSBuZXcgQnVmZmVyZWRSZWFkZXIobmV3IFN0cmluZ1JlYWRlcihwa2cpKSkgew0KICAgICAgICAgICAgU3RyaW5nIGxpbmU7DQogICAgICAgICAgICBTdHJpbmcgY3VycmVudFBhdGggPSBudWxsOw0KICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBiNjQgPSBuZXcgU3RyaW5nQnVpbGRlcigpOw0KICAgICAgICAgICAgd2hpbGUgKChsaW5lID0gYnIucmVhZExpbmUoKSkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoIlBBVEg6IikpIHsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBsaW5lLnN1YnN0cmluZyg1KTsNCiAgICAgICAgICAgICAgICAgICAgYjY0LnNldExlbmd0aCgwKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuZXF1YWxzKCJFTkQiKSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhdGggIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgUGF0aCBvdXRGaWxlID0gdGFyZ2V0RGlyLnJlc29sdmUoY3VycmVudFBhdGgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgRmlsZXMuY3JlYXRlRGlyZWN0b3JpZXMob3V0RmlsZS5nZXRQYXJlbnQoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBieXRlW10gZGF0YSA9IEJhc2U2NC5nZXREZWNvZGVyKCkuZGVjb2RlKGI2NC50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVzLndyaXRlKG91dEZpbGUsIGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gbnVsbDsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBiNjQuYXBwZW5kKGxpbmUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qIC0tLS0tLS0tLS0gSFRNTCB0ZW1wbGF0ZSAtLS0tLS0tLS0tICovDQogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIGJ1aWxkSHRtbChTdHJpbmcgcGFja2FnZWRUZXh0LCBTdHJpbmcgYXJjaGl2ZXJTb3VyY2UpIHsNCiAgICAgICAgU3RyaW5nIHVzYWdlID0gImphdmEgR2F0bGluZ0NvZGVBcmNoaXZlci5qYXZhIGV4cG9ydCAuIGdhdGxpbmcuY29kZS5odG1sXG4iICsNCiAgICAgICAgICAgICAgICAgICAgICAgImphdmEgR2F0bGluZ0NvZGVBcmNoaXZlci5qYXZhIGltcG9ydCBnYXRsaW5nLmNvZGUuaHRtbCByZXN0b3JlZERpciI7DQoNCiAgICAgICAgU3RyaW5nIHNhZmVQa2cgPSBwYWNrYWdlZFRleHQucmVwbGFjZSgiPC9zY3JpcHQ+IiwgIjxcXC9zY3JpcHQ+Iik7DQogICAgICAgIFN0cmluZyBzYWZlU3JjID0gYXJjaGl2ZXJTb3VyY2UucmVwbGFjZSgiPC9zY3JpcHQ+IiwgIjxcXC9zY3JpcHQ+Iik7DQoNCiAgICAgICAgcmV0dXJuICIiIg0KICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBodG1sPg0KICAgICAgICAgICAgICAgIDxodG1sIGxhbmc9ImVuIj4NCiAgICAgICAgICAgICAgICA8aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgPG1ldGEgY2hhcnNldD0idXRmLTgiIC8+DQogICAgICAgICAgICAgICAgICAgIDx0aXRsZT5nYXRsaW5nIHRlc3RpbmcgY29kZTwvdGl0bGU+DQogICAgICAgICAgICAgICAgICAgIDxzdHlsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1hcmdpbjogMjBweDsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlIHsgYmFja2dyb3VuZDojZjVmNWY1OyBib3JkZXI6MXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6MTBweDsgb3ZlcmZsb3c6YXV0bzsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uIHsgbWFyZ2luLWJvdHRvbToxMHB4OyBwYWRkaW5nOjZweCAxMnB4OyB9DQogICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+DQogICAgICAgICAgICAgICAgPC9oZWFkPg0KICAgICAgICAgICAgICAgIDxib2R5Pg0KICAgICAgICAgICAgICAgICAgICA8aDI+Z2F0bGluZyB0ZXN0aW5nIGNvZGU8L2gyPg0KICAgICAgICAgICAgICAgICAgICA8aDM+VXNhZ2U8L2gzPg0KICAgICAgICAgICAgICAgICAgICA8cHJlPiVzPC9wcmU+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0idG9nZ2xlUGFja2FnZSgpIj5TaG93IC8gSGlkZSBQYWNrYWdlPC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iY29weVBhY2thZ2UoKSI+Q29weSBQYWNrYWdlIFRvIENsaXBib2FyZDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8cHJlIGlkPSJkaXNwbGF5IiBzdHlsZT0iZGlzcGxheTpub25lOyI+PC9wcmU+DQogICAgICAgICAgICAgICAgICAgIDxoMz5HYXRsaW5nQ29kZUFyY2hpdmVyLmphdmE8L2gzPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InRvZ2dsZVNyYygpIj5TaG93IC8gSGlkZSBTb3VyY2U8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjb3B5U291cmNlKCkiPkNvcHkgU291cmNlIENvZGU8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPHByZSBpZD0ic3JjIiBzdHlsZT0iZGlzcGxheTpub25lOyI+PC9wcmU+DQogICAgICAgICAgICAgICAgICAgIDxzY3JpcHQgaWQ9ImNvZGUtZGF0YSIgdHlwZT0idGV4dC9wbGFpbiI+JXM8L3NjcmlwdD4NCiAgICAgICAgICAgICAgICAgICAgPHNjcmlwdCBpZD0ic291cmNlLWRhdGEiIHR5cGU9InRleHQvcGxhaW4iPiVzPC9zY3JpcHQ+DQogICAgICAgICAgICAgICAgICAgIDxzY3JpcHQ+DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29kZS1kYXRhJykudGV4dENvbnRlbnQudHJpbSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3JjUmF3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdXJjZS1kYXRhJykudGV4dENvbnRlbnQudHJpbSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXknKS50ZXh0Q29udGVudCA9IHJhdzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcmMnKS50ZXh0Q29udGVudCA9IHNyY1JhdzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvcHlQYWNrYWdlKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHJhdykudGhlbigoKT0+YWxlcnQoJ1BhY2thZ2UgY29waWVkIScpKS5jYXRjaChlPT5hbGVydCgnQ29weSBmYWlsZWQ6ICcrZSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlUGFja2FnZSgpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGVsLnN0eWxlLmRpc3BsYXk9PT0nbm9uZSc/ICdibG9jayc6J25vbmUnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlU3JjKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyYycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBlbC5zdHlsZS5kaXNwbGF5PT09J25vbmUnPyAnYmxvY2snOidub25lJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvcHlTb3VyY2UoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoc3JjUmF3KS50aGVuKCgpPT5hbGVydCgnU291cmNlIGNvcGllZCEnKSkuY2F0Y2goZT0+YWxlcnQoJ0NvcHkgZmFpbGVkOiAnK2UpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgPC9zY3JpcHQ+DQogICAgICAgICAgICAgICAgPC9ib2R5Pg0KICAgICAgICAgICAgICAgIDwvaHRtbD4NCiAgICAgICAgICAgICAgICAiIiIuZm9ybWF0dGVkKHVzYWdlLCBzYWZlUGtnLCBzYWZlU3JjKTsNCiAgICB9DQp9IA==
END
PATH:pom.xml
PHByb2plY3QgeG1sbnM9Imh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMCINCiAgICAgICAgIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiDQogICAgICAgICB4c2k6c2NoZW1hTG9jYXRpb249Imh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMCBodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy94c2QvbWF2ZW4tNC4wLjAueHNkIj4NCiAgICA8bW9kZWxWZXJzaW9uPjQuMC4wPC9tb2RlbFZlcnNpb24+DQoNCiAgICA8Z3JvdXBJZD5jb20ucWE8L2dyb3VwSWQ+DQogICAgPGFydGlmYWN0SWQ+Z2F0bGluZy10ZXN0aW5nLXN5c3RlbTwvYXJ0aWZhY3RJZD4NCiAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+DQoNCiAgICA8cHJvcGVydGllcz4NCiAgICAgICAgPHByb2plY3QuYnVpbGQuc291cmNlRW5jb2Rpbmc+VVRGLTg8L3Byb2plY3QuYnVpbGQuc291cmNlRW5jb2Rpbmc+DQogICAgICAgIDxtYXZlbi5jb21waWxlci5zb3VyY2U+MjE8L21hdmVuLmNvbXBpbGVyLnNvdXJjZT4NCiAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4yMTwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0Pg0KICAgICAgICA8amF2YWZ4LnZlcnNpb24+MjEuMC4xPC9qYXZhZngudmVyc2lvbj4gPCEtLSBPciBhIG5ld2VyIHN0YWJsZSB2ZXJzaW9uIC0tPg0KICAgICAgICA8c3FsaXRlLmpkYmMudmVyc2lvbj4zLjM2LjAuMzwvc3FsaXRlLmpkYmMudmVyc2lvbj4gPCEtLSBPciBhIG5ld2VyIHN0YWJsZSB2ZXJzaW9uIC0tPg0KICAgICAgICA8Z2F0bGluZy52ZXJzaW9uPjMuMTQuMzwvZ2F0bGluZy52ZXJzaW9uPg0KICAgICAgICA8c2NhbGEudmVyc2lvbj4yLjEzLjEyPC9zY2FsYS52ZXJzaW9uPg0KICAgIDwvcHJvcGVydGllcz4NCg0KICAgIDxkZXBlbmRlbmNpZXM+DQogICAgICAgIDwhLS0gR2F0bGluZyBUZXN0IEZyYW1ld29yayBmb3IgZW1iZWRkaW5nIC0tPg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPmlvLmdhdGxpbmc8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5nYXRsaW5nLWFwcDwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPiR7Z2F0bGluZy52ZXJzaW9ufTwvdmVyc2lvbj4NCiAgICAgICAgPC9kZXBlbmRlbmN5Pg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPmlvLmdhdGxpbmc8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5nYXRsaW5nLXRlc3QtZnJhbWV3b3JrPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgPHZlcnNpb24+JHtnYXRsaW5nLnZlcnNpb259PC92ZXJzaW9uPg0KICAgICAgICA8L2RlcGVuZGVuY3k+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+aW8uZ2F0bGluZy5oaWdoY2hhcnRzPC9ncm91cElkPg0KICAgICAgICAgICAgPGFydGlmYWN0SWQ+Z2F0bGluZy1jaGFydHMtaGlnaGNoYXJ0czwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPiR7Z2F0bGluZy52ZXJzaW9ufTwvdmVyc2lvbj4NCiAgICAgICAgPC9kZXBlbmRlbmN5Pg0KDQogICAgICAgIDwhLS0gSmF2YUZYIC0tPg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPg0KICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWNvbnRyb2xzPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+DQogICAgICAgIDwvZGVwZW5kZW5jeT4NCiAgICAgICAgPGRlcGVuZGVuY3k+DQogICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD4NCiAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1meG1sPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+DQogICAgICAgIDwvZGVwZW5kZW5jeT4NCg0KICAgICAgICA8IS0tIFNRTGl0ZSBKREJDIERyaXZlciAtLT4NCiAgICAgICAgPGRlcGVuZGVuY3k+DQogICAgICAgICAgICA8Z3JvdXBJZD5vcmcueGVyaWFsPC9ncm91cElkPg0KICAgICAgICAgICAgPGFydGlmYWN0SWQ+c3FsaXRlLWpkYmM8L2FydGlmYWN0SWQ+DQogICAgICAgICAgICA8dmVyc2lvbj4ke3NxbGl0ZS5qZGJjLnZlcnNpb259PC92ZXJzaW9uPg0KICAgICAgICA8L2RlcGVuZGVuY3k+DQoNCiAgICAgICAgPCEtLSBKYWNrc29uIERhdGFiaW5kIC0tPg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPmNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5jb3JlPC9ncm91cElkPg0KICAgICAgICAgICAgPGFydGlmYWN0SWQ+amFja3Nvbi1kYXRhYmluZDwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPjIuMTUuMjwvdmVyc2lvbj4NCiAgICAgICAgPC9kZXBlbmRlbmN5Pg0KDQogICAgICAgIDwhLS0gR3Jvb3Z5IGZvciBkeW5hbWljIHNjcmlwdGluZyAoVXBncmFkZWQgdG8gdjQgZm9yIG1vZGVybiBKREsgY29tcGF0aWJpbGl0eSkgLS0+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5ncm9vdnk8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5ncm9vdnktYWxsPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgPHZlcnNpb24+NC4wLjIxPC92ZXJzaW9uPg0KICAgICAgICAgICAgPHR5cGU+cG9tPC90eXBlPg0KICAgICAgICA8L2RlcGVuZGVuY3k+DQoNCiAgICAgICAgPCEtLSBTbmFrZVlBTUwgLS0+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLnlhbWw8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5zbmFrZXlhbWw8L2FydGlmYWN0SWQ+DQogICAgICAgICAgICA8dmVyc2lvbj4yLjI8L3ZlcnNpb24+DQogICAgICAgIDwvZGVwZW5kZW5jeT4NCg0KICAgICAgICA8IS0tIEpTT04gZm9yIHBhcnNpbmcgZHluYW1pYyB2YXJpYWJsZXMgLS0+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmpzb248L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5qc29uPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgPHZlcnNpb24+MjAxODA4MTM8L3ZlcnNpb24+DQogICAgICAgIDwvZGVwZW5kZW5jeT4NCg0KICAgICAgICA8IS0tIENvbnRyb2xzRlggLS0+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmNvbnRyb2xzZng8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5jb250cm9sc2Z4PC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgPHZlcnNpb24+MTEuMS4yPC92ZXJzaW9uPg0KICAgICAgICA8L2RlcGVuZGVuY3k+DQoNCiAgICAgICAgPCEtLSBGcmVlTWFya2VyIC0tPg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPm9yZy5mcmVlbWFya2VyPC9ncm91cElkPg0KICAgICAgICAgICAgPGFydGlmYWN0SWQ+ZnJlZW1hcmtlcjwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPjIuMy4zMjwvdmVyc2lvbj4NCiAgICAgICAgPC9kZXBlbmRlbmN5Pg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPmNvbS56YXh4ZXI8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5IaWthcmlDUDwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPjUuMS4wPC92ZXJzaW9uPg0KICAgICAgICA8L2RlcGVuZGVuY3k+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+bXlzcWw8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5teXNxbC1jb25uZWN0b3ItamF2YTwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPjguMC4zMzwvdmVyc2lvbj4NCiAgICAgICAgICAgIDxzY29wZT5wcm92aWRlZDwvc2NvcGU+DQogICAgICAgIDwvZGVwZW5kZW5jeT4NCiAgICAgICAgPGRlcGVuZGVuY3k+DQogICAgICAgICAgICA8Z3JvdXBJZD5vcmcucG9zdGdyZXNxbDwvZ3JvdXBJZD4NCiAgICAgICAgICAgIDxhcnRpZmFjdElkPnBvc3RncmVzcWw8L2FydGlmYWN0SWQ+DQogICAgICAgICAgICA8dmVyc2lvbj40Mi43LjM8L3ZlcnNpb24+DQogICAgICAgICAgICA8c2NvcGU+cHJvdmlkZWQ8L3Njb3BlPg0KICAgICAgICA8L2RlcGVuZGVuY3k+DQoNCiAgICAgICAgPCEtLSBKYWNrc29uIE1yLiBCZWFuIE1vZHVsZSB0byBoZWxwIHdpdGggZGVzZXJpYWxpemF0aW9uIC0tPg0KICAgICAgICA8ZGVwZW5kZW5jeT4NCiAgICAgICAgICAgIDxncm91cElkPmNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5tb2R1bGU8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYWNrc29uLW1vZHVsZS1tcmJlYW48L2FydGlmYWN0SWQ+DQogICAgICAgICAgICA8dmVyc2lvbj4yLjE1LjI8L3ZlcnNpb24+DQogICAgICAgIDwvZGVwZW5kZW5jeT4NCg0KICAgICAgICA8IS0tIFNjYWxhIExvZ2dpbmcgLS0+DQogICAgICAgIDxkZXBlbmRlbmN5Pg0KICAgICAgICAgICAgPGdyb3VwSWQ+Y29tLnR5cGVzYWZlLnNjYWxhLWxvZ2dpbmc8L2dyb3VwSWQ+DQogICAgICAgICAgICA8YXJ0aWZhY3RJZD5zY2FsYS1sb2dnaW5nXzIuMTM8L2FydGlmYWN0SWQ+DQogICAgICAgICAgICA8dmVyc2lvbj4zLjkuNTwvdmVyc2lvbj4NCiAgICAgICAgPC9kZXBlbmRlbmN5Pg0KDQogICAgICAgIDwhLS0gTE9HQkFDSyBmb3IgU0xGNEogYmluZGluZyAtLT4NCiAgICAgICAgPGRlcGVuZGVuY3k+DQogICAgICAgICAgICA8Z3JvdXBJZD5jaC5xb3MubG9nYmFjazwvZ3JvdXBJZD4NCiAgICAgICAgICAgIDxhcnRpZmFjdElkPmxvZ2JhY2stY2xhc3NpYzwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgIDx2ZXJzaW9uPjEuMi4xMjwvdmVyc2lvbj4NCiAgICAgICAgPC9kZXBlbmRlbmN5Pg0KICAgIDwvZGVwZW5kZW5jaWVzPg0KDQogICAgPGJ1aWxkPg0KICAgICAgICA8cGx1Z2lucz4NCiAgICAgICAgICAgIDxwbHVnaW4+DQogICAgICAgICAgICAgICAgPGdyb3VwSWQ+aW8uZ2F0bGluZzwvZ3JvdXBJZD4NCiAgICAgICAgICAgICAgICA8YXJ0aWZhY3RJZD5nYXRsaW5nLW1hdmVuLXBsdWdpbjwvYXJ0aWZhY3RJZD4NCiAgICAgICAgICAgICAgICA8dmVyc2lvbj4ke2dhdGxpbmcudmVyc2lvbn08L3ZlcnNpb24+DQogICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgICAgICAgIDxzaW11bGF0aW9uQ2xhc3M+Y29tLnFhLmFwcC51dGlsLkdhdGxpbmdUZXN0U2ltdWxhdGlvbjwvc2ltdWxhdGlvbkNsYXNzPg0KICAgICAgICAgICAgICAgICAgICA8anZtQXJncz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxqdm1Bcmc+LS1hZGQtb3BlbnM9amF2YS5iYXNlL2phdmEubGFuZz1BTEwtVU5OQU1FRDwvanZtQXJnPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGp2bUFyZz4tLWFkZC1vcGVucz1qYXZhLmJhc2UvamF2YS51dGlsPUFMTC1VTk5BTUVEPC9qdm1Bcmc+DQogICAgICAgICAgICAgICAgICAgIDwvanZtQXJncz4NCiAgICAgICAgICAgICAgICA8L2NvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICA8L3BsdWdpbj4NCiAgICAgICAgICAgIDxwbHVnaW4+DQogICAgICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5tYXZlbi5wbHVnaW5zPC9ncm91cElkPg0KICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPm1hdmVuLWRlcGVuZGVuY3ktcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgICAgIDx2ZXJzaW9uPjMuNi4xPC92ZXJzaW9uPg0KICAgICAgICAgICAgICAgIDxleGVjdXRpb25zPg0KICAgICAgICAgICAgICAgICAgICA8ZXhlY3V0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlkPnNldC1jbGFzc3BhdGgtcHJvcGVydHk8L2lkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBoYXNlPnByb2Nlc3MtcmVzb3VyY2VzPC9waGFzZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnb2Fscz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Z29hbD5idWlsZC1jbGFzc3BhdGg8L2dvYWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2dvYWxzPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG91dHB1dEZpbGU+JHtwcm9qZWN0LmJ1aWxkLmRpcmVjdG9yeX0vZ2F0bGluZy5jbGFzc3BhdGg8L291dHB1dEZpbGU+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9uPg0KICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9ucz4NCiAgICAgICAgICAgIDwvcGx1Z2luPg0KICAgICAgICAgICAgPHBsdWdpbj4NCiAgICAgICAgICAgICAgICA8Z3JvdXBJZD5uZXQuYWxjaGltMzEubWF2ZW48L2dyb3VwSWQ+DQogICAgICAgICAgICAgICAgPGFydGlmYWN0SWQ+c2NhbGEtbWF2ZW4tcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgICAgIDx2ZXJzaW9uPjQuOC4xPC92ZXJzaW9uPg0KICAgICAgICAgICAgICAgIDxleGVjdXRpb25zPg0KICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9ucz4NCiAgICAgICAgICAgIDwvcGx1Z2luPg0KICAgICAgICAgICAgPHBsdWdpbj4NCiAgICAgICAgICAgICAgICA8Z3JvdXBJZD5vcmcuYXBhY2hlLm1hdmVuLnBsdWdpbnM8L2dyb3VwSWQ+DQogICAgICAgICAgICAgICAgPGFydGlmYWN0SWQ+bWF2ZW4tY29tcGlsZXItcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgICAgIDx2ZXJzaW9uPjMuOC4xPC92ZXJzaW9uPg0KICAgICAgICAgICAgICAgIDxjb25maWd1cmF0aW9uPg0KICAgICAgICAgICAgICAgICAgICA8c291cmNlPiR7bWF2ZW4uY29tcGlsZXIuc291cmNlfTwvc291cmNlPg0KICAgICAgICAgICAgICAgICAgICA8dGFyZ2V0PiR7bWF2ZW4uY29tcGlsZXIudGFyZ2V0fTwvdGFyZ2V0Pg0KICAgICAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj4NCiAgICAgICAgICAgIDwvcGx1Z2luPg0KICAgICAgICAgICAgPHBsdWdpbj4NCiAgICAgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD4NCiAgICAgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtbWF2ZW4tcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgICAgIDx2ZXJzaW9uPjAuMC44PC92ZXJzaW9uPiA8IS0tIE9yIGEgbmV3ZXIgc3RhYmxlIHZlcnNpb24gLS0+DQogICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgICAgICAgIDxtYWluQ2xhc3M+Y29tLnFhLmFwcC5BcHA8L21haW5DbGFzcz4NCiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbnM+DQogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPi0tYWRkLW9wZW5zPWphdmEuYmFzZS9qYXZhLmxhbmc9QUxMLVVOTkFNRUQ8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24+LS1hZGQtb3BlbnM9amF2YS5iYXNlL2phdmEudXRpbD1BTEwtVU5OQU1FRDwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbj4tRGdhdGxpbmcuY2xhc3NwYXRoLmZpbGU9JHtwcm9qZWN0LmJ1aWxkLmRpcmVjdG9yeX0vZ2F0bGluZy5jbGFzc3BhdGg8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb25zPg0KICAgICAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj4NCiAgICAgICAgICAgIDwvcGx1Z2luPg0KICAgICAgICAgICAgPHBsdWdpbj4NCiAgICAgICAgICAgICAgICA8Z3JvdXBJZD5vcmcuYXBhY2hlLm1hdmVuLnBsdWdpbnM8L2dyb3VwSWQ+DQogICAgICAgICAgICAgICAgPGFydGlmYWN0SWQ+bWF2ZW4tc2hhZGUtcGx1Z2luPC9hcnRpZmFjdElkPg0KICAgICAgICAgICAgICAgIDx2ZXJzaW9uPjMuNS4xPC92ZXJzaW9uPiA8IS0tIE9yIGEgbmV3ZXIgc3RhYmxlIHZlcnNpb24gLS0+DQogICAgICAgICAgICAgICAgPGV4ZWN1dGlvbnM+DQogICAgICAgICAgICAgICAgICAgIDxleGVjdXRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGhhc2U+cGFja2FnZTwvcGhhc2U+DQogICAgICAgICAgICAgICAgICAgICAgICA8Z29hbHM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGdvYWw+c2hhZGU8L2dvYWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2dvYWxzPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyYW5zZm9ybWVycz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyYW5zZm9ybWVyIGltcGxlbWVudGF0aW9uPSJvcmcuYXBhY2hlLm1hdmVuLnBsdWdpbnMuc2hhZGUucmVzb3VyY2UuTWFuaWZlc3RSZXNvdXJjZVRyYW5zZm9ybWVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtYWluQ2xhc3M+Y29tLnFhLmFwcC5BcHA8L21haW5DbGFzcz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cmFuc2Zvcm1lcj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyYW5zZm9ybWVycz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmlsdGVycz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpbHRlcj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhcnRpZmFjdD4qOio8L2FydGlmYWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGV4Y2x1ZGVzPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxleGNsdWRlPk1FVEEtSU5GLyouU0Y8L2V4Y2x1ZGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGV4Y2x1ZGU+TUVUQS1JTkYvKi5EU0E8L2V4Y2x1ZGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGV4Y2x1ZGU+TUVUQS1JTkYvKi5SU0E8L2V4Y2x1ZGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2V4Y2x1ZGVzPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ZpbHRlcj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ZpbHRlcnM+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbmZpZ3VyYXRpb24+DQogICAgICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9uPg0KICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9ucz4NCiAgICAgICAgICAgIDwvcGx1Z2luPg0KICAgICAgICA8L3BsdWdpbnM+DQogICAgPC9idWlsZD4NCjwvcHJvamVjdD4=
END
PATH:src/main/java/com/qa/app/App.java
cGFja2FnZSBjb20ucWEuYXBwOwoKaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjsKaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7CmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50OwppbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lOwppbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlOwppbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlOwoKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgppbXBvcnQgY29tLnFhLmFwcC5kYW8udXRpbC5EQlV0aWw7CmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOwoKcHVibGljIGNsYXNzIEFwcCBleHRlbmRzIEFwcGxpY2F0aW9uIHsKCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICAvLyBJbml0aWFsaXplIGRhdGFiYXNlIGFuZCBjcmVhdGUgdGFibGVzIGlmIHRoZXkgZG9uJ3QgZXhpc3QKICAgICAgICBEQlV0aWwuaW5pdGlhbGl6ZURhdGFiYXNlKCk7CiAgICAgICAgCiAgICAgICAgLy8gRm9yY2UgbG9hZCBjb25maWd1cmF0aW9uIGJlZm9yZSBVSSBpbml0aWFsaXphdGlvbgogICAgICAgIEFwcENvbmZpZy5yZWxvYWQoKTsKICAgICAgICAKICAgICAgICAvLyBMb2FkIHRoZSBGWE1MIGZpbGUgZm9yIHRoZSBtYWluIHZpZXcKICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoIi9jb20vcWEvYXBwL3VpL3ZpZXcvbWFpbl92aWV3LmZ4bWwiKSk7CiAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpOwoKICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0VGl0bGUoIkdhdGxpbmcgVGVzdGluZyBTeXN0ZW0iKTsKICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0U2NlbmUobmV3IFNjZW5lKHJvb3QsIDE0NDAsIDkwMCkpOwogICAgICAgIHByaW1hcnlTdGFnZS5nZXRJY29ucygpLmFkZChuZXcgSW1hZ2UoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZUFzU3RyZWFtKCIvc3RhdGljL2ljb24vZmF2aWNvbi5pY28iKSkpOwogICAgICAgIHByaW1hcnlTdGFnZS5zZXRNYXhpbWl6ZWQodHJ1ZSk7CiAgICAgICAgcHJpbWFyeVN0YWdlLnNob3coKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgbGF1bmNoKGFyZ3MpOwogICAgfQp9
END
PATH:src/main/java/com/qa/app/common/listeners/AppConfigChangeListener.java
cGFja2FnZSBjb20ucWEuYXBwLmNvbW1vbi5saXN0ZW5lcnM7DQoNCnB1YmxpYyBpbnRlcmZhY2UgQXBwQ29uZmlnQ2hhbmdlTGlzdGVuZXIgew0KICAgIHZvaWQgb25Db25maWdDaGFuZ2VkKCk7DQp9IA==
END
PATH:src/main/java/com/qa/app/dao/api/IBodyTemplateDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZTsNCg0KcHVibGljIGludGVyZmFjZSBJQm9keVRlbXBsYXRlRGFvIHsNCiAgICB2b2lkIGFkZEJvZHlUZW1wbGF0ZShCb2R5VGVtcGxhdGUgdGVtcGxhdGUpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgQm9keVRlbXBsYXRlIGdldEJvZHlUZW1wbGF0ZUJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIEJvZHlUZW1wbGF0ZSBnZXRCb2R5VGVtcGxhdGVCeU5hbWUoU3RyaW5nIG5hbWUpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgTGlzdDxCb2R5VGVtcGxhdGU+IGdldEFsbEJvZHlUZW1wbGF0ZXMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlQm9keVRlbXBsYXRlKEJvZHlUZW1wbGF0ZSB0ZW1wbGF0ZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIGRlbGV0ZUJvZHlUZW1wbGF0ZShpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgTGlzdDxCb2R5VGVtcGxhdGU+IGdldEJvZHlUZW1wbGF0ZXNCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIEV4Y2VwdGlvbjsNCn0g
END
PATH:src/main/java/com/qa/app/dao/api/IDbConnectionDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkRiQ29ubmVjdGlvbjsNCg0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElEYkNvbm5lY3Rpb25EYW8gew0KICAgIHZvaWQgYWRkKERiQ29ubmVjdGlvbiBjb25uZWN0aW9uKTsNCiAgICB2b2lkIHVwZGF0ZShEYkNvbm5lY3Rpb24gY29ubmVjdGlvbik7DQogICAgdm9pZCBkZWxldGUoRGJDb25uZWN0aW9uIGNvbm5lY3Rpb24pOw0KICAgIERiQ29ubmVjdGlvbiBnZXQoTG9uZyBpZCk7DQogICAgTGlzdDxEYkNvbm5lY3Rpb24+IGdldEJ5UHJvamVjdChJbnRlZ2VyIHByb2plY3RJZCk7DQogICAgRGJDb25uZWN0aW9uIGdldEJ5QWxpYXMoU3RyaW5nIGFsaWFzKTsNCiAgICBMaXN0PERiQ29ubmVjdGlvbj4gZmluZEFsbCgpOw0KfSA=
END
PATH:src/main/java/com/qa/app/dao/api/IEndpointDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVuZHBvaW50Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElFbmRwb2ludERhbyB7DQogICAgdm9pZCBhZGRFbmRwb2ludChFbmRwb2ludCBlbmRwb2ludCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIHVwZGF0ZUVuZHBvaW50KEVuZHBvaW50IGVuZHBvaW50KSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIHZvaWQgZGVsZXRlRW5kcG9pbnQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIEVuZHBvaW50IGdldEVuZHBvaW50QnlJZChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgRW5kcG9pbnQgZ2V0RW5kcG9pbnRCeU5hbWUoU3RyaW5nIG5hbWUpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgRW5kcG9pbnQgZ2V0RW5kcG9pbnRCeU5hbWVBbmRFbnYoU3RyaW5nIG5hbWUsIEludGVnZXIgZW52aXJvbm1lbnRJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBMaXN0PEVuZHBvaW50PiBnZXRBbGxFbmRwb2ludHMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIExpc3Q8RW5kcG9pbnQ+IGdldEVuZHBvaW50c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KfSA=
END
PATH:src/main/java/com/qa/app/dao/api/IEnvironmentDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVudmlyb25tZW50Ow0KaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGludGVyZmFjZSBJRW52aXJvbm1lbnREYW8gew0KICAgIHZvaWQgYWRkRW52aXJvbm1lbnQoRW52aXJvbm1lbnQgZW52aXJvbm1lbnQpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVFbnZpcm9ubWVudChFbnZpcm9ubWVudCBlbnZpcm9ubWVudCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIGRlbGV0ZUVudmlyb25tZW50KGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBFbnZpcm9ubWVudCBnZXRFbnZpcm9ubWVudEJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIEVudmlyb25tZW50IGdldEVudmlyb25tZW50QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIExpc3Q8RW52aXJvbm1lbnQ+IGdldEFsbEVudmlyb25tZW50cygpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgTGlzdDxFbnZpcm9ubWVudD4gZ2V0RW52aXJvbm1lbnRzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTUUxFeGNlcHRpb247DQp9IA==
END
PATH:src/main/java/com/qa/app/dao/api/IGatlingScenarioDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlNjZW5hcmlvOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW9TdGVwOw0KDQppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElHYXRsaW5nU2NlbmFyaW9EYW8gew0KICAgIC8vIFNjZW5hcmlvIENSVUQNCiAgICB2b2lkIGFkZFNjZW5hcmlvKFNjZW5hcmlvIHNjZW5hcmlvKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlU2NlbmFyaW8oU2NlbmFyaW8gc2NlbmFyaW8pIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgdm9pZCBkZWxldGVTY2VuYXJpbyhpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBTY2VuYXJpbyBnZXRTY2VuYXJpb0J5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIExpc3Q8U2NlbmFyaW8+IGdldEFsbFNjZW5hcmlvcyhJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIHVwZGF0ZU9yZGVyKExpc3Q8U2NlbmFyaW8+IHNjZW5hcmlvcykgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCg0KICAgIC8vIFNjZW5hcmlvIHN0ZXBzDQogICAgdm9pZCBkZWxldGVTdGVwc0J5U2NlbmFyaW9JZChpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIGFkZFN0ZXAoaW50IHNjZW5hcmlvSWQsIFNjZW5hcmlvU3RlcCBzdGVwKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIExpc3Q8U2NlbmFyaW9TdGVwPiBnZXRTdGVwc0J5U2NlbmFyaW9JZChpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCg0KICAgIC8vIFNjaGVkdWxlDQogICAgdm9pZCB1cHNlcnRTY2hlZHVsZShpbnQgc2NlbmFyaW9JZCwgU3RyaW5nIGNyb25FeHByLCBib29sZWFuIGVuYWJsZWQpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgY29tLnFhLmFwcC5tb2RlbC5TY2VuYXJpb1NjaGVkdWxlIGdldFNjaGVkdWxlKGludCBzY2VuYXJpb0lkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KfSA=
END
PATH:src/main/java/com/qa/app/dao/api/IGatlingTestDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdUZXN0Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElHYXRsaW5nVGVzdERhbyB7DQogICAgdm9pZCBhZGRUZXN0KEdhdGxpbmdUZXN0IHRlc3QpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgR2F0bGluZ1Rlc3QgZ2V0VGVzdEJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIEdhdGxpbmdUZXN0IGdldFRlc3RCeVRjaWQoU3RyaW5nIHRjaWQpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgTGlzdDxHYXRsaW5nVGVzdD4gZ2V0QWxsVGVzdHMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIExpc3Q8R2F0bGluZ1Rlc3Q+IGdldFRlc3RzQnlTdWl0ZShTdHJpbmcgc3VpdGUpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVUZXN0KEdhdGxpbmdUZXN0IHRlc3QpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgdm9pZCBkZWxldGVUZXN0KGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIHVwZGF0ZVRlc3RSdW5TdGF0dXMoaW50IGlkLCBib29sZWFuIGlzRW5hYmxlZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBMaXN0PEdhdGxpbmdUZXN0PiBnZXRUZXN0c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlT3JkZXIoTGlzdDxHYXRsaW5nVGVzdD4gdGVzdHMpIHRocm93cyBTUUxFeGNlcHRpb247DQp9
END
PATH:src/main/java/com/qa/app/dao/api/IGroovyVariableDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7CgppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5Hcm9vdnlWYXJpYWJsZTsKCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBpbnRlcmZhY2UgSUdyb292eVZhcmlhYmxlRGFvIHsKICAgIHZvaWQgYWRkKEdyb292eVZhcmlhYmxlIHZhcmlhYmxlKSB0aHJvd3MgU1FMRXhjZXB0aW9uOwogICAgdm9pZCB1cGRhdGUoR3Jvb3Z5VmFyaWFibGUgdmFyaWFibGUpIHRocm93cyBTUUxFeGNlcHRpb247CiAgICB2b2lkIGRlbGV0ZShpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb247CiAgICB2b2lkIGRlbGV0ZUFsbCgpIHRocm93cyBTUUxFeGNlcHRpb247CiAgICBHcm9vdnlWYXJpYWJsZSBnZXRCeUlkKGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsKICAgIExpc3Q8R3Jvb3Z5VmFyaWFibGU+IGdldEJ5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uOwogICAgTGlzdDxHcm9vdnlWYXJpYWJsZT4gZ2V0QWxsKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsKfSA=
END
PATH:src/main/java/com/qa/app/dao/api/IHeadersTemplateDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkhlYWRlcnNUZW1wbGF0ZTsNCg0KcHVibGljIGludGVyZmFjZSBJSGVhZGVyc1RlbXBsYXRlRGFvIHsNCiAgICB2b2lkIGFkZEhlYWRlcnNUZW1wbGF0ZShIZWFkZXJzVGVtcGxhdGUgdGVtcGxhdGUpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVIZWFkZXJzVGVtcGxhdGUoSGVhZGVyc1RlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU1FMRXhjZXB0aW9uOw0KICAgIHZvaWQgZGVsZXRlSGVhZGVyc1RlbXBsYXRlKGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBIZWFkZXJzVGVtcGxhdGUgZ2V0SGVhZGVyc1RlbXBsYXRlQnlJZChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgSGVhZGVyc1RlbXBsYXRlIGdldEhlYWRlcnNUZW1wbGF0ZUJ5TmFtZShTdHJpbmcgbmFtZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBMaXN0PEhlYWRlcnNUZW1wbGF0ZT4gZ2V0QWxsSGVhZGVyc1RlbXBsYXRlcygpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgTGlzdDxIZWFkZXJzVGVtcGxhdGU+IGdldEhlYWRlcnNUZW1wbGF0ZXNCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCn0g
END
PATH:src/main/java/com/qa/app/dao/api/IProjectDao.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5hcGk7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlByb2plY3Q7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCnB1YmxpYyBpbnRlcmZhY2UgSVByb2plY3REYW8gew0KICAgIHZvaWQgYWRkUHJvamVjdChQcm9qZWN0IHByb2plY3QpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVQcm9qZWN0KFByb2plY3QgcHJvamVjdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICB2b2lkIGRlbGV0ZVByb2plY3QoSW50ZWdlciBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBQcm9qZWN0IGdldFByb2plY3QoSW50ZWdlciBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBMaXN0PFByb2plY3Q+IGdldEFsbFByb2plY3RzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjsNCiAgICBQcm9qZWN0IGdldFByb2plY3RCeU5hbWUoU3RyaW5nIG5hbWUpIHRocm93cyBTUUxFeGNlcHRpb247DQp9IA==
END
PATH:src/main/java/com/qa/app/dao/impl/BodyTemplateDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOwoKaW1wb3J0IGphdmEuc3FsLio7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklCb2R5VGVtcGxhdGVEYW87CmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZTsKaW1wb3J0IGNvbS5xYS5hcHAuZGFvLnV0aWwuREJVdGlsOwoKcHVibGljIGNsYXNzIEJvZHlUZW1wbGF0ZURhb0ltcGwgaW1wbGVtZW50cyBJQm9keVRlbXBsYXRlRGFvIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgYWRkQm9keVRlbXBsYXRlKEJvZHlUZW1wbGF0ZSB0ZW1wbGF0ZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJJTlNFUlQgSU5UTyBib2R5X3RlbXBsYXRlcyAobmFtZSwgY29udGVudCwgZGVzY3JpcHRpb24sIHByb2plY3RfaWQpIFZBTFVFUyAoPywgPywgPywgPykiOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIHRlbXBsYXRlLmdldE5hbWUoKSk7CiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCB0ZW1wbGF0ZS5nZXRDb250ZW50KCkpOwogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMywgdGVtcGxhdGUuZ2V0RGVzY3JpcHRpb24oKSk7CiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5nZXRQcm9qZWN0SWQoKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBwc3RtdC5zZXRJbnQoNCwgdGVtcGxhdGUuZ2V0UHJvamVjdElkKCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcHN0bXQuc2V0TnVsbCg0LCBqYXZhLnNxbC5UeXBlcy5JTlRFR0VSKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IGdlbmVyYXRlZEtleXMgPSBwc3RtdC5nZXRHZW5lcmF0ZWRLZXlzKCkpIHsKICAgICAgICAgICAgICAgIGlmIChnZW5lcmF0ZWRLZXlzLm5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLnNldElkKGdlbmVyYXRlZEtleXMuZ2V0SW50KDEpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHVwZGF0ZUJvZHlUZW1wbGF0ZShCb2R5VGVtcGxhdGUgdGVtcGxhdGUpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiVVBEQVRFIGJvZHlfdGVtcGxhdGVzIFNFVCBuYW1lID0gPywgY29udGVudCA9ID8sIGRlc2NyaXB0aW9uID0gPywgcHJvamVjdF9pZCA9ID8gV0hFUkUgaWQgPSA/IjsKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7CiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygxLCB0ZW1wbGF0ZS5nZXROYW1lKCkpOwogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMiwgdGVtcGxhdGUuZ2V0Q29udGVudCgpKTsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDMsIHRlbXBsYXRlLmdldERlc2NyaXB0aW9uKCkpOwogICAgICAgICAgICBpZiAodGVtcGxhdGUuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDQsIHRlbXBsYXRlLmdldFByb2plY3RJZCgpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNCwgamF2YS5zcWwuVHlwZXMuSU5URUdFUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDUsIHRlbXBsYXRlLmdldElkKCkpOwogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZGVsZXRlQm9keVRlbXBsYXRlKGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJERUxFVEUgRlJPTSBib2R5X3RlbXBsYXRlcyBXSEVSRSBpZCA9ID8iOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsKICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsKICAgICAgICAgICAgcHN0bXQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBCb2R5VGVtcGxhdGUgZ2V0Qm9keVRlbXBsYXRlQnlJZChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBib2R5X3RlbXBsYXRlcyBXSEVSRSBpZCA9ID8iOwogICAgICAgIEJvZHlUZW1wbGF0ZSB0ZW1wbGF0ZSA9IG51bGw7CiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOwogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgewogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMSwgaWQpOwogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzdG10LmV4ZWN1dGVRdWVyeSgpKSB7CiAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBjcmVhdGVUZW1wbGF0ZUZyb21SZXN1bHRTZXQocnMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBCb2R5VGVtcGxhdGUgZ2V0Qm9keVRlbXBsYXRlQnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gYm9keV90ZW1wbGF0ZXMgV0hFUkUgbmFtZSA9ID8iOwogICAgICAgIEJvZHlUZW1wbGF0ZSB0ZW1wbGF0ZSA9IG51bGw7CiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOwogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgewogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMSwgbmFtZSk7CiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCkpIHsKICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IGNyZWF0ZVRlbXBsYXRlRnJvbVJlc3VsdFNldChycyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRlbXBsYXRlOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIExpc3Q8Qm9keVRlbXBsYXRlPiBnZXRBbGxCb2R5VGVtcGxhdGVzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGJvZHlfdGVtcGxhdGVzIE9SREVSIEJZIG5hbWUiOwogICAgICAgIExpc3Q8Qm9keVRlbXBsYXRlPiB0ZW1wbGF0ZXMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7CiAgICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShzcWwpKSB7CiAgICAgICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHsKICAgICAgICAgICAgICAgIHRlbXBsYXRlcy5hZGQoY3JlYXRlVGVtcGxhdGVGcm9tUmVzdWx0U2V0KHJzKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRlbXBsYXRlczsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBMaXN0PEJvZHlUZW1wbGF0ZT4gZ2V0Qm9keVRlbXBsYXRlc0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gYm9keV90ZW1wbGF0ZXMgV0hFUkUgcHJvamVjdF9pZCA9ID8iOwogICAgICAgIExpc3Q8Qm9keVRlbXBsYXRlPiBsaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7CiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOwogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgewogICAgICAgICAgICBwcy5zZXRJbnQoMSwgcHJvamVjdElkKTsKICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwcy5leGVjdXRlUXVlcnkoKSkgewogICAgICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGNyZWF0ZVRlbXBsYXRlRnJvbVJlc3VsdFNldChycykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIHByaXZhdGUgQm9keVRlbXBsYXRlIGNyZWF0ZVRlbXBsYXRlRnJvbVJlc3VsdFNldChSZXN1bHRTZXQgcnMpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBuZXcgQm9keVRlbXBsYXRlKAogICAgICAgICAgICAgICAgcnMuZ2V0SW50KCJpZCIpLAogICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJuYW1lIiksCiAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoImNvbnRlbnQiKSwKICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZygiZGVzY3JpcHRpb24iKSwKICAgICAgICAgICAgICAgIHJzLmdldE9iamVjdCgicHJvamVjdF9pZCIpID09IG51bGwgPyBudWxsIDogcnMuZ2V0SW50KCJwcm9qZWN0X2lkIikKICAgICAgICApOwogICAgfQp9IA==
END
PATH:src/main/java/com/qa/app/dao/impl/DbConnectionDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOw0KDQppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklEYkNvbm5lY3Rpb25EYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8udXRpbC5EQlV0aWw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5EYkNvbm5lY3Rpb247DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5EYlR5cGU7DQoNCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uOw0KaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50Ow0KaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDsNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIERiQ29ubmVjdGlvbkRhb0ltcGwgaW1wbGVtZW50cyBJRGJDb25uZWN0aW9uRGFvIHsNCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGFkZChEYkNvbm5lY3Rpb24gY29ubmVjdGlvbikgew0KICAgICAgICBTdHJpbmcgc3FsID0gIklOU0VSVCBJTlRPIGRiX2Nvbm5lY3Rpb25zKGFsaWFzLCBkYl90eXBlLCBob3N0LCBwb3J0LCBkYl9uYW1lLCBzY2hlbWFfbmFtZSwgc2VydmljZV9uYW1lLCB1c2VybmFtZSwgcGFzc3dvcmQsIHBvb2xfc2l6ZSwgcHJvamVjdF9pZCwgZW52aXJvbm1lbnRfaWQsIGRlc2NyaXB0aW9uKSBWQUxVRVMoPyw/LD8sPyw/LD8sPyw/LD8sPyw/LD8sPykiOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7IFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIG1hcERiQ29ubmVjdGlvblRvU3RhdGVtZW50KGNvbm5lY3Rpb24sIHBzdG10KTsNCiAgICAgICAgICAgIHBzdG10LmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGUoRGJDb25uZWN0aW9uIGNvbm5lY3Rpb24pIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJVUERBVEUgZGJfY29ubmVjdGlvbnMgU0VUIGFsaWFzID0gPywgZGJfdHlwZSA9ID8sIGhvc3QgPSA/LCBwb3J0ID0gPywgZGJfbmFtZSA9ID8sIHNjaGVtYV9uYW1lID0gPywgc2VydmljZV9uYW1lID0gPywgdXNlcm5hbWUgPSA/LCBwYXNzd29yZCA9ID8sIHBvb2xfc2l6ZSA9ID8sIHByb2plY3RfaWQgPSA/LCBlbnZpcm9ubWVudF9pZCA9ID8sIGRlc2NyaXB0aW9uID0gPyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7IFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIG1hcERiQ29ubmVjdGlvblRvU3RhdGVtZW50KGNvbm5lY3Rpb24sIHBzdG10KTsNCiAgICAgICAgICAgIHBzdG10LnNldExvbmcoMTQsIGNvbm5lY3Rpb24uZ2V0SWQoKSk7DQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgZGVsZXRlKERiQ29ubmVjdGlvbiBjb25uZWN0aW9uKSB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiREVMRVRFIEZST00gZGJfY29ubmVjdGlvbnMgV0hFUkUgaWQgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOyBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRMb25nKDEsIGNvbm5lY3Rpb24uZ2V0SWQoKSk7DQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBEYkNvbm5lY3Rpb24gZ2V0KExvbmcgaWQpIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGRiX2Nvbm5lY3Rpb25zIFdIRVJFIGlkID0gPyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0TG9uZygxLCBpZCk7DQogICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKTsNCiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbWFwUm93VG9EYkNvbm5lY3Rpb24ocnMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgTGlzdDxEYkNvbm5lY3Rpb24+IGdldEJ5UHJvamVjdChJbnRlZ2VyIHByb2plY3RJZCkgew0KICAgICAgICBMaXN0PERiQ29ubmVjdGlvbj4gY29ubmVjdGlvbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGRiX2Nvbm5lY3Rpb25zIFdIRVJFIHByb2plY3RfaWQgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOyBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMSwgcHJvamVjdElkKTsNCiAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHBzdG10LmV4ZWN1dGVRdWVyeSgpOw0KICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmFkZChtYXBSb3dUb0RiQ29ubmVjdGlvbihycykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY29ubmVjdGlvbnM7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIERiQ29ubmVjdGlvbiBnZXRCeUFsaWFzKFN0cmluZyBhbGlhcykgew0KICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gZGJfY29ubmVjdGlvbnMgV0hFUkUgYWxpYXMgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOyBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMSwgYWxpYXMpOw0KICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCk7DQogICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1hcFJvd1RvRGJDb25uZWN0aW9uKHJzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8RGJDb25uZWN0aW9uPiBmaW5kQWxsKCkgew0KICAgICAgICBMaXN0PERiQ29ubmVjdGlvbj4gY29ubmVjdGlvbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGRiX2Nvbm5lY3Rpb25zIjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCk7DQogICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCkpIHsNCg0KICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmFkZChtYXBSb3dUb0RiQ29ubmVjdGlvbihycykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY29ubmVjdGlvbnM7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBEYkNvbm5lY3Rpb24gbWFwUm93VG9EYkNvbm5lY3Rpb24oUmVzdWx0U2V0IHJzKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgRGJDb25uZWN0aW9uIGNvbm5lY3Rpb24gPSBuZXcgRGJDb25uZWN0aW9uKCk7DQogICAgICAgIGNvbm5lY3Rpb24uc2V0SWQocnMuZ2V0TG9uZygiaWQiKSk7DQogICAgICAgIGNvbm5lY3Rpb24uc2V0QWxpYXMocnMuZ2V0U3RyaW5nKCJhbGlhcyIpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXREYlR5cGUoRGJUeXBlLnZhbHVlT2YocnMuZ2V0U3RyaW5nKCJkYl90eXBlIikudG9VcHBlckNhc2UoKSkpOw0KICAgICAgICBjb25uZWN0aW9uLnNldEhvc3QocnMuZ2V0U3RyaW5nKCJob3N0IikpOw0KICAgICAgICBjb25uZWN0aW9uLnNldFBvcnQocnMuZ2V0SW50KCJwb3J0IikpOw0KICAgICAgICBjb25uZWN0aW9uLnNldERiTmFtZShycy5nZXRTdHJpbmcoImRiX25hbWUiKSk7DQogICAgICAgIGNvbm5lY3Rpb24uc2V0U2NoZW1hTmFtZShycy5nZXRTdHJpbmcoInNjaGVtYV9uYW1lIikpOw0KICAgICAgICBjb25uZWN0aW9uLnNldFNlcnZpY2VOYW1lKHJzLmdldFN0cmluZygic2VydmljZV9uYW1lIikpOw0KICAgICAgICBjb25uZWN0aW9uLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZygidXNlcm5hbWUiKSk7DQogICAgICAgIGNvbm5lY3Rpb24uc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKCJwYXNzd29yZCIpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXRQb29sU2l6ZShycy5nZXRJbnQoInBvb2xfc2l6ZSIpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXRQcm9qZWN0SWQocnMuZ2V0SW50KCJwcm9qZWN0X2lkIikpOw0KICAgICAgICBjb25uZWN0aW9uLnNldEVudmlyb25tZW50SWQocnMuZ2V0SW50KCJlbnZpcm9ubWVudF9pZCIpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXREZXNjcmlwdGlvbihycy5nZXRTdHJpbmcoImRlc2NyaXB0aW9uIikpOw0KICAgICAgICByZXR1cm4gY29ubmVjdGlvbjsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgbWFwRGJDb25uZWN0aW9uVG9TdGF0ZW1lbnQoRGJDb25uZWN0aW9uIGNvbm5lY3Rpb24sIFByZXBhcmVkU3RhdGVtZW50IHBzdG10KSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIGNvbm5lY3Rpb24uZ2V0QWxpYXMoKSk7DQogICAgICAgIHBzdG10LnNldFN0cmluZygyLCBjb25uZWN0aW9uLmdldERiVHlwZSgpLm5hbWUoKSk7DQogICAgICAgIHBzdG10LnNldFN0cmluZygzLCBjb25uZWN0aW9uLmdldEhvc3QoKSk7DQogICAgICAgIHBzdG10LnNldEludCg0LCBjb25uZWN0aW9uLmdldFBvcnQoKSk7DQogICAgICAgIHBzdG10LnNldFN0cmluZyg1LCBjb25uZWN0aW9uLmdldERiTmFtZSgpKTsNCiAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDYsIGNvbm5lY3Rpb24uZ2V0U2NoZW1hTmFtZSgpKTsNCiAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDcsIGNvbm5lY3Rpb24uZ2V0U2VydmljZU5hbWUoKSk7DQogICAgICAgIHBzdG10LnNldFN0cmluZyg4LCBjb25uZWN0aW9uLmdldFVzZXJuYW1lKCkpOw0KICAgICAgICBwc3RtdC5zZXRTdHJpbmcoOSwgY29ubmVjdGlvbi5nZXRQYXNzd29yZCgpKTsNCiAgICAgICAgcHN0bXQuc2V0SW50KDEwLCBjb25uZWN0aW9uLmdldFBvb2xTaXplKCkpOw0KICAgICAgICBwc3RtdC5zZXRJbnQoMTEsIGNvbm5lY3Rpb24uZ2V0UHJvamVjdElkKCkpOw0KICAgICAgICBwc3RtdC5zZXRJbnQoMTIsIGNvbm5lY3Rpb24uZ2V0RW52aXJvbm1lbnRJZCgpKTsNCiAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEzLCBjb25uZWN0aW9uLmdldERlc2NyaXB0aW9uKCkpOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/dao/impl/EndpointDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOw0KDQppbXBvcnQgamF2YS5zcWwuKjsNCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklFbmRwb2ludERhbzsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVuZHBvaW50Ow0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLnV0aWwuREJVdGlsOw0KDQpwdWJsaWMgY2xhc3MgRW5kcG9pbnREYW9JbXBsIGltcGxlbWVudHMgSUVuZHBvaW50RGFvIHsNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRFbmRwb2ludChFbmRwb2ludCBlbmRwb2ludCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiSU5TRVJUIElOVE8gZW5kcG9pbnRzIChuYW1lLCBtZXRob2QsIHVybCwgZW52aXJvbm1lbnRfaWQsIHByb2plY3RfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPykiOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsLCBTdGF0ZW1lbnQuUkVUVVJOX0dFTkVSQVRFRF9LRVlTKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIGVuZHBvaW50LmdldE5hbWUoKSk7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMiwgZW5kcG9pbnQuZ2V0TWV0aG9kKCkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDMsIGVuZHBvaW50LmdldFVybCgpKTsNCiAgICAgICAgICAgIGlmIChlbmRwb2ludC5nZXRFbnZpcm9ubWVudElkKCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNCwgamF2YS5zcWwuVHlwZXMuSU5URUdFUik7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHBzdG10LnNldEludCg0LCBlbmRwb2ludC5nZXRFbnZpcm9ubWVudElkKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGVuZHBvaW50LmdldFByb2plY3RJZCgpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBwc3RtdC5zZXRJbnQoNSwgZW5kcG9pbnQuZ2V0UHJvamVjdElkKCkpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwc3RtdC5zZXROdWxsKDUsIGphdmEuc3FsLlR5cGVzLklOVEVHRVIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcHN0bXQuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgZ2VuZXJhdGVkS2V5cyA9IHBzdG10LmdldEdlbmVyYXRlZEtleXMoKSkgew0KICAgICAgICAgICAgICAgIGlmIChnZW5lcmF0ZWRLZXlzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgICAgICBlbmRwb2ludC5zZXRJZChnZW5lcmF0ZWRLZXlzLmdldEludCgxKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlRW5kcG9pbnQoRW5kcG9pbnQgZW5kcG9pbnQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlVQREFURSBlbmRwb2ludHMgU0VUIG5hbWUgPSA/LCBtZXRob2QgPSA/LCB1cmwgPSA/LCBlbnZpcm9ubWVudF9pZCA9ID8sIHByb2plY3RfaWQgPSA/IFdIRVJFIGlkID0gPyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMSwgZW5kcG9pbnQuZ2V0TmFtZSgpKTsNCiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCBlbmRwb2ludC5nZXRNZXRob2QoKSk7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMywgZW5kcG9pbnQuZ2V0VXJsKCkpOw0KICAgICAgICAgICAgaWYgKGVuZHBvaW50LmdldEVudmlyb25tZW50SWQoKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgcHN0bXQuc2V0TnVsbCg0LCBqYXZhLnNxbC5UeXBlcy5JTlRFR0VSKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDQsIGVuZHBvaW50LmdldEVudmlyb25tZW50SWQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZW5kcG9pbnQuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHBzdG10LnNldEludCg1LCBlbmRwb2ludC5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNSwgamF2YS5zcWwuVHlwZXMuSU5URUdFUik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoNiwgZW5kcG9pbnQuZ2V0SWQoKSk7DQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGVFbmRwb2ludChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIkRFTEVURSBGUk9NIGVuZHBvaW50cyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsNCiAgICAgICAgICAgIHBzdG10LmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBFbmRwb2ludCBnZXRFbmRwb2ludEJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVuZHBvaW50cyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsNCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCkpIHsNCiAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVGcm9tUmVzdWx0U2V0KHJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEVuZHBvaW50IGdldEVuZHBvaW50QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVuZHBvaW50cyBXSEVSRSBuYW1lID0gPyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMSwgbmFtZSk7DQogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzdG10LmV4ZWN1dGVRdWVyeSgpKSB7DQogICAgICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRnJvbVJlc3VsdFNldChycyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBudWxsOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBFbmRwb2ludCBnZXRFbmRwb2ludEJ5TmFtZUFuZEVudihTdHJpbmcgbmFtZSwgSW50ZWdlciBlbnZpcm9ubWVudElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVuZHBvaW50cyBXSEVSRSBuYW1lID0gPyBBTkQgZW52aXJvbm1lbnRfaWQgIiArIChlbnZpcm9ubWVudElkID09IG51bGwgPyAiSVMgTlVMTCIgOiAiPSA/IikgOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIG5hbWUpOw0KICAgICAgICAgICAgaWYgKGVudmlyb25tZW50SWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHBzdG10LnNldEludCgyLCBlbnZpcm9ubWVudElkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCkpIHsNCiAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVGcm9tUmVzdWx0U2V0KHJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8RW5kcG9pbnQ+IGdldEFsbEVuZHBvaW50cygpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gZW5kcG9pbnRzIE9SREVSIEJZIGlkIjsNCiAgICAgICAgTGlzdDxFbmRwb2ludD4gbGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpOw0KICAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHNxbCkpIHsNCiAgICAgICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICBsaXN0LmFkZChjcmVhdGVGcm9tUmVzdWx0U2V0KHJzKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGxpc3Q7DQogICAgfQ0KDQogICAgcHVibGljIExpc3Q8RW5kcG9pbnQ+IGdldEVuZHBvaW50c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVuZHBvaW50cyBXSEVSRSBwcm9qZWN0X2lkID0gPyBPUkRFUiBCWSBpZCI7DQogICAgICAgIExpc3Q8RW5kcG9pbnQ+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzdG10LnNldEludCgxLCBwcm9qZWN0SWQpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoY3JlYXRlRnJvbVJlc3VsdFNldChycykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbGlzdDsNCiAgICB9DQoNCiAgICBwcml2YXRlIEVuZHBvaW50IGNyZWF0ZUZyb21SZXN1bHRTZXQoUmVzdWx0U2V0IHJzKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgcmV0dXJuIG5ldyBFbmRwb2ludCgNCiAgICAgICAgICAgICAgICBycy5nZXRJbnQoImlkIiksDQogICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJuYW1lIiksDQogICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJtZXRob2QiKSwNCiAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoInVybCIpLA0KICAgICAgICAgICAgICAgIHJzLmdldE9iamVjdCgiZW52aXJvbm1lbnRfaWQiKSA9PSBudWxsID8gbnVsbCA6IHJzLmdldEludCgiZW52aXJvbm1lbnRfaWQiKSwNCiAgICAgICAgICAgICAgICBycy5nZXRPYmplY3QoInByb2plY3RfaWQiKSA9PSBudWxsID8gbnVsbCA6IHJzLmdldEludCgicHJvamVjdF9pZCIpDQogICAgICAgICk7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/dao/impl/EnvironmentDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOw0KDQppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklFbnZpcm9ubWVudERhbzsNCmltcG9ydCBjb20ucWEuYXBwLmRhby51dGlsLkRCVXRpbDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVudmlyb25tZW50Ow0KDQppbXBvcnQgamF2YS5zcWwuKjsNCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQpwdWJsaWMgY2xhc3MgRW52aXJvbm1lbnREYW9JbXBsIGltcGxlbWVudHMgSUVudmlyb25tZW50RGFvIHsNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRFbnZpcm9ubWVudChFbnZpcm9ubWVudCBlbnZpcm9ubWVudCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiSU5TRVJUIElOVE8gZW52aXJvbm1lbnRzIChuYW1lLCBkZXNjcmlwdGlvbiwgcHJvamVjdF9pZCkgVkFMVUVTICg/LCA/LCA/KSI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwsIFN0YXRlbWVudC5SRVRVUk5fR0VORVJBVEVEX0tFWVMpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMSwgZW52aXJvbm1lbnQuZ2V0TmFtZSgpKTsNCiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCBlbnZpcm9ubWVudC5nZXREZXNjcmlwdGlvbigpKTsNCiAgICAgICAgICAgIGlmIChlbnZpcm9ubWVudC5nZXRQcm9qZWN0SWQoKSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDMsIGVudmlyb25tZW50LmdldFByb2plY3RJZCgpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcHN0bXQuc2V0TnVsbCgzLCBqYXZhLnNxbC5UeXBlcy5JTlRFR0VSKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHBzdG10LmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IGdlbmVyYXRlZEtleXMgPSBwc3RtdC5nZXRHZW5lcmF0ZWRLZXlzKCkpIHsNCiAgICAgICAgICAgICAgICBpZiAoZ2VuZXJhdGVkS2V5cy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgZW52aXJvbm1lbnQuc2V0SWQoZ2VuZXJhdGVkS2V5cy5nZXRJbnQoMSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIHVwZGF0ZUVudmlyb25tZW50KEVudmlyb25tZW50IGVudmlyb25tZW50KSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJVUERBVEUgZW52aXJvbm1lbnRzIFNFVCBuYW1lID0gPywgZGVzY3JpcHRpb24gPSA/LCBwcm9qZWN0X2lkID0gPyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIGVudmlyb25tZW50LmdldE5hbWUoKSk7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMiwgZW52aXJvbm1lbnQuZ2V0RGVzY3JpcHRpb24oKSk7DQogICAgICAgICAgICBpZiAoZW52aXJvbm1lbnQuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHBzdG10LnNldEludCgzLCBlbnZpcm9ubWVudC5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoMywgamF2YS5zcWwuVHlwZXMuSU5URUdFUik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoNCwgZW52aXJvbm1lbnQuZ2V0SWQoKSk7DQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGVFbnZpcm9ubWVudChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIkRFTEVURSBGUk9NIGVudmlyb25tZW50cyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsNCiAgICAgICAgICAgIHBzdG10LmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBFbnZpcm9ubWVudCBnZXRFbnZpcm9ubWVudEJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVudmlyb25tZW50cyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICBFbnZpcm9ubWVudCBlbnZpcm9ubWVudCA9IG51bGw7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMSwgaWQpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgZW52aXJvbm1lbnQgPSBjcmVhdGVFbnZpcm9ubWVudEZyb21SZXN1bHRTZXQocnMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZW52aXJvbm1lbnQ7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEVudmlyb25tZW50IGdldEVudmlyb25tZW50QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVudmlyb25tZW50cyBXSEVSRSBuYW1lID0gPyI7DQogICAgICAgIEVudmlyb25tZW50IGVudmlyb25tZW50ID0gbnVsbDsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygxLCBuYW1lKTsNCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCkpIHsNCiAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50ID0gY3JlYXRlRW52aXJvbm1lbnRGcm9tUmVzdWx0U2V0KHJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGVudmlyb25tZW50Ow0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEVudmlyb25tZW50PiBnZXRBbGxFbnZpcm9ubWVudHMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGVudmlyb25tZW50cyBPUkRFUiBCWSBuYW1lIjsNCiAgICAgICAgTGlzdDxFbnZpcm9ubWVudD4gZW52aXJvbm1lbnRzID0gbmV3IEFycmF5TGlzdDw+KCk7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7DQogICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoc3FsKSkgew0KICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgIGVudmlyb25tZW50cy5hZGQoY3JlYXRlRW52aXJvbm1lbnRGcm9tUmVzdWx0U2V0KHJzKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGVudmlyb25tZW50czsNCiAgICB9DQoNCiAgICBwdWJsaWMgTGlzdDxFbnZpcm9ubWVudD4gZ2V0RW52aXJvbm1lbnRzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gZW52aXJvbm1lbnRzIFdIRVJFIHByb2plY3RfaWQgPSA/IE9SREVSIEJZIG5hbWUiOw0KICAgICAgICBMaXN0PEVudmlyb25tZW50PiBlbnZpcm9ubWVudHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzdG10LnNldEludCgxLCBwcm9qZWN0SWQpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgZW52aXJvbm1lbnRzLmFkZChjcmVhdGVFbnZpcm9ubWVudEZyb21SZXN1bHRTZXQocnMpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGVudmlyb25tZW50czsNCiAgICB9DQoNCiAgICBwcml2YXRlIEVudmlyb25tZW50IGNyZWF0ZUVudmlyb25tZW50RnJvbVJlc3VsdFNldChSZXN1bHRTZXQgcnMpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBFbnZpcm9ubWVudCBlbnZpcm9ubWVudCA9IG5ldyBFbnZpcm9ubWVudCgpOw0KICAgICAgICBlbnZpcm9ubWVudC5zZXRJZChycy5nZXRJbnQoImlkIikpOw0KICAgICAgICBlbnZpcm9ubWVudC5zZXROYW1lKHJzLmdldFN0cmluZygibmFtZSIpKTsNCiAgICAgICAgZW52aXJvbm1lbnQuc2V0RGVzY3JpcHRpb24ocnMuZ2V0U3RyaW5nKCJkZXNjcmlwdGlvbiIpKTsNCiAgICAgICAgT2JqZWN0IHBpZCA9IHJzLmdldE9iamVjdCgicHJvamVjdF9pZCIpOw0KICAgICAgICBpZiAocGlkICE9IG51bGwpIHsNCiAgICAgICAgICAgIGVudmlyb25tZW50LnNldFByb2plY3RJZCgoSW50ZWdlcilwaWQpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBlbnZpcm9ubWVudDsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/dao/impl/GatlingScenarioDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOw0KDQppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklHYXRsaW5nU2NlbmFyaW9EYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8udXRpbC5EQlV0aWw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5TY2VuYXJpbzsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlNjZW5hcmlvU3RlcDsNCg0KaW1wb3J0IGphdmEuc3FsLio7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIEdhdGxpbmdTY2VuYXJpb0Rhb0ltcGwgaW1wbGVtZW50cyBJR2F0bGluZ1NjZW5hcmlvRGFvIHsNCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGFkZFNjZW5hcmlvKFNjZW5hcmlvIHNjZW5hcmlvKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJJTlNFUlQgSU5UTyBzY2VuYXJpbyhuYW1lLCBkZXNjLCB0aHJlYWRfZ3JvdXBfanNvbiwgc2NoZWR1bGVfanNvbiwgcHJvamVjdF9pZCwgZGlzcGxheV9vcmRlcikgVkFMVUVTKD8sPyw/LD8sPyw/KSI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKSkgew0KICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgaW50IG1heE9yZGVyID0gMDsNCiAgICAgICAgICAgICAgICBTdHJpbmcgbWF4T3JkZXJTcWwgPSAiU0VMRUNUIE1BWChkaXNwbGF5X29yZGVyKSBGUk9NIHNjZW5hcmlvIFdIRVJFIHByb2plY3RfaWQgPSA/IjsNCiAgICAgICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHBzT3JkZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQobWF4T3JkZXJTcWwpKSB7DQogICAgICAgICAgICAgICAgICAgIHBzT3JkZXIuc2V0SW50KDEsIHNjZW5hcmlvLmdldFByb2plY3RJZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gcHNPcmRlci5leGVjdXRlUXVlcnkoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWF4T3JkZXIgPSBycy5nZXRJbnQoMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc2NlbmFyaW8uc2V0RGlzcGxheU9yZGVyKG1heE9yZGVyICsgMSk7DQoNCiAgICAgICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDEsIHNjZW5hcmlvLmdldE5hbWUoKSk7DQogICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBzY2VuYXJpby5nZXREZXNjcmlwdGlvbigpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIHNjZW5hcmlvLmdldFRocmVhZEdyb3VwSnNvbigpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIHNjZW5hcmlvLmdldFNjaGVkdWxlSnNvbigpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDUsIHNjZW5hcmlvLmdldFByb2plY3RJZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDYsIHNjZW5hcmlvLmdldERpc3BsYXlPcmRlcigpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICAgICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzLmdldEdlbmVyYXRlZEtleXMoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkgc2NlbmFyaW8uc2V0SWQocnMuZ2V0SW50KDEpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25uLmNvbW1pdCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBjb25uLnJvbGxiYWNrKCk7DQogICAgICAgICAgICAgICAgdGhyb3cgZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIHVwZGF0ZVNjZW5hcmlvKFNjZW5hcmlvIHNjZW5hcmlvKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJVUERBVEUgc2NlbmFyaW8gU0VUIG5hbWU9PywgZGVzYz0/LCB0aHJlYWRfZ3JvdXBfanNvbj0/LCBzY2hlZHVsZV9qc29uPT8sIHByb2plY3RfaWQ9PywgZGlzcGxheV9vcmRlcj0/IFdIRVJFIGlkPT8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDEsIHNjZW5hcmlvLmdldE5hbWUoKSk7DQogICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgc2NlbmFyaW8uZ2V0RGVzY3JpcHRpb24oKSk7DQogICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgc2NlbmFyaW8uZ2V0VGhyZWFkR3JvdXBKc29uKCkpOw0KICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIHNjZW5hcmlvLmdldFNjaGVkdWxlSnNvbigpKTsNCiAgICAgICAgICAgIHBzLnNldEludCg1LCBzY2VuYXJpby5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICBwcy5zZXRJbnQoNiwgc2NlbmFyaW8uZ2V0RGlzcGxheU9yZGVyKCkpOw0KICAgICAgICAgICAgcHMuc2V0SW50KDcsIHNjZW5hcmlvLmdldElkKCkpOw0KICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgZGVsZXRlU2NlbmFyaW8oaW50IHNjZW5hcmlvSWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCkpIHsNCiAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7DQogICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IGRlbFN0ZXBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KCJERUxFVEUgRlJPTSBzY2VuYXJpb19zdGVwIFdIRVJFIHNjZW5hcmlvX2lkPT8iKSkgew0KICAgICAgICAgICAgICAgIGRlbFN0ZXBzLnNldEludCgxLCBzY2VuYXJpb0lkKTsNCiAgICAgICAgICAgICAgICBkZWxTdGVwcy5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IGRlbFNjaGVkdWxlcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudCgiREVMRVRFIEZST00gc2NlbmFyaW9fc2NoZWR1bGUgV0hFUkUgc2NlbmFyaW9faWQ9PyIpKSB7DQogICAgICAgICAgICAgICAgZGVsU2NoZWR1bGVzLnNldEludCgxLCBzY2VuYXJpb0lkKTsNCiAgICAgICAgICAgICAgICBkZWxTY2hlZHVsZXMuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBkZWxTY2VuYXJpbyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudCgiREVMRVRFIEZST00gc2NlbmFyaW8gV0hFUkUgaWQ9PyIpKSB7DQogICAgICAgICAgICAgICAgZGVsU2NlbmFyaW8uc2V0SW50KDEsIHNjZW5hcmlvSWQpOw0KICAgICAgICAgICAgICAgIGRlbFNjZW5hcmlvLmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgU2NlbmFyaW8gZ2V0U2NlbmFyaW9CeUlkKGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBzY2VuYXJpbyBXSEVSRSBpZD0/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzLnNldEludCgxLCBpZCk7DQogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzLmV4ZWN1dGVRdWVyeSgpKSB7DQogICAgICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU2NlbmFyaW9Gcm9tUmVzdWx0U2V0KHJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8U2NlbmFyaW8+IGdldEFsbFNjZW5hcmlvcyhJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBzY2VuYXJpbyBXSEVSRSBwcm9qZWN0X2lkID0gPyBPUkRFUiBCWSBkaXNwbGF5X29yZGVyIEFTQyI7DQogICAgICAgIExpc3Q8U2NlbmFyaW8+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzLnNldEludCgxLCBwcm9qZWN0SWQpOw0KICAgICAgICAgICAgdHJ5KFJlc3VsdFNldCBycyA9IHBzLmV4ZWN1dGVRdWVyeSgpKSB7DQogICAgICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgICAgICBsaXN0LmFkZChjcmVhdGVTY2VuYXJpb0Zyb21SZXN1bHRTZXQocnMpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGxpc3Q7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlT3JkZXIoTGlzdDxTY2VuYXJpbz4gc2NlbmFyaW9zKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJVUERBVEUgc2NlbmFyaW8gU0VUIGRpc3BsYXlfb3JkZXIgPSA/IFdIRVJFIGlkID0gPyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKSkgew0KICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTsNCiAgICAgICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgICAgIGZvciAoU2NlbmFyaW8gc2NlbmFyaW8gOiBzY2VuYXJpb3MpIHsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHNjZW5hcmlvLmdldERpc3BsYXlPcmRlcigpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDIsIHNjZW5hcmlvLmdldElkKCkpOw0KICAgICAgICAgICAgICAgICAgICBwcy5hZGRCYXRjaCgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwcy5leGVjdXRlQmF0Y2goKTsNCiAgICAgICAgICAgICAgICBjb25uLmNvbW1pdCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBjb25uLnJvbGxiYWNrKCk7DQogICAgICAgICAgICAgICAgdGhyb3cgZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgU2NlbmFyaW8gY3JlYXRlU2NlbmFyaW9Gcm9tUmVzdWx0U2V0KFJlc3VsdFNldCBycykgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFNjZW5hcmlvIHNjID0gbmV3IFNjZW5hcmlvKCk7DQogICAgICAgIHNjLnNldElkKHJzLmdldEludCgiaWQiKSk7DQogICAgICAgIHNjLnNldE5hbWUocnMuZ2V0U3RyaW5nKCJuYW1lIikpOw0KICAgICAgICBzYy5zZXREZXNjcmlwdGlvbihycy5nZXRTdHJpbmcoImRlc2MiKSk7DQogICAgICAgIHNjLnNldFRocmVhZEdyb3VwSnNvbihycy5nZXRTdHJpbmcoInRocmVhZF9ncm91cF9qc29uIikpOw0KICAgICAgICBzYy5zZXRTY2hlZHVsZUpzb24ocnMuZ2V0U3RyaW5nKCJzY2hlZHVsZV9qc29uIikpOw0KICAgICAgICBzYy5zZXRQcm9qZWN0SWQocnMuZ2V0SW50KCJwcm9qZWN0X2lkIikpOw0KICAgICAgICBzYy5zZXREaXNwbGF5T3JkZXIocnMuZ2V0SW50KCJkaXNwbGF5X29yZGVyIikpOw0KICAgICAgICByZXR1cm4gc2M7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgZGVsZXRlU3RlcHNCeVNjZW5hcmlvSWQoaW50IHNjZW5hcmlvSWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIkRFTEVURSBGUk9NIHNjZW5hcmlvX3N0ZXAgV0hFUkUgc2NlbmFyaW9faWQ9PyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwcy5zZXRJbnQoMSwgc2NlbmFyaW9JZCk7DQogICAgICAgICAgICBwcy5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRTdGVwKGludCBzY2VuYXJpb0lkLCBTY2VuYXJpb1N0ZXAgc3RlcCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiSU5TRVJUIElOVE8gc2NlbmFyaW9fc3RlcChzY2VuYXJpb19pZCwgb3JkZXJfaW5kZXgsIHRlc3RfdGNpZCwgd2FpdF90aW1lLCB0YWdzKSBWQUxVRVMoPyw/LD8sPyw/KSI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwcy5zZXRJbnQoMSwgc2NlbmFyaW9JZCk7DQogICAgICAgICAgICBwcy5zZXRJbnQoMiwgc3RlcC5nZXRPcmRlcigpKTsNCiAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBzdGVwLmdldFRlc3RUY2lkKCkpOw0KICAgICAgICAgICAgcHMuc2V0SW50KDQsIHN0ZXAuZ2V0V2FpdFRpbWUoKSk7DQogICAgICAgICAgICBwcy5zZXRTdHJpbmcoNSwgc3RlcC5nZXRUYWdzKCkpOw0KICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8U2NlbmFyaW9TdGVwPiBnZXRTdGVwc0J5U2NlbmFyaW9JZChpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUIG9yZGVyX2luZGV4LCB0ZXN0X3RjaWQsIHdhaXRfdGltZSwgdGFncyBGUk9NIHNjZW5hcmlvX3N0ZXAgV0hFUkUgc2NlbmFyaW9faWQ9PyBPUkRFUiBCWSBvcmRlcl9pbmRleCBBU0MiOw0KICAgICAgICBMaXN0PFNjZW5hcmlvU3RlcD4gc3RlcHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzLnNldEludCgxLCBzY2VuYXJpb0lkKTsNCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHMuZXhlY3V0ZVF1ZXJ5KCkpIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvU3RlcCBzdGVwID0gbmV3IFNjZW5hcmlvU3RlcCgpOw0KICAgICAgICAgICAgICAgICAgICBzdGVwLnNldE9yZGVyKHJzLmdldEludCgib3JkZXJfaW5kZXgiKSk7DQogICAgICAgICAgICAgICAgICAgIHN0ZXAuc2V0VGVzdFRjaWQocnMuZ2V0U3RyaW5nKCJ0ZXN0X3RjaWQiKSk7DQogICAgICAgICAgICAgICAgICAgIHN0ZXAuc2V0V2FpdFRpbWUocnMuZ2V0SW50KCJ3YWl0X3RpbWUiKSk7DQogICAgICAgICAgICAgICAgICAgIHN0ZXAuc2V0VGFncyhycy5nZXRTdHJpbmcoInRhZ3MiKSk7DQogICAgICAgICAgICAgICAgICAgIHN0ZXBzLmFkZChzdGVwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN0ZXBzOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIHVwc2VydFNjaGVkdWxlKGludCBzY2VuYXJpb0lkLCBTdHJpbmcgY3JvbkV4cHIsIGJvb2xlYW4gZW5hYmxlZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiSU5TRVJUIElOVE8gc2NlbmFyaW9fc2NoZWR1bGUoc2NlbmFyaW9faWQsIGNyb25fZXhwciwgZW5hYmxlZCkgVkFMVUVTKD8sPyw/KSAiICsNCiAgICAgICAgICAgICAgICAgICAgICJPTiBDT05GTElDVChzY2VuYXJpb19pZCkgRE8gVVBEQVRFIFNFVCBjcm9uX2V4cHI9ZXhjbHVkZWQuY3Jvbl9leHByLCBlbmFibGVkPWV4Y2x1ZGVkLmVuYWJsZWQiOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHMuc2V0SW50KDEsIHNjZW5hcmlvSWQpOw0KICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIGNyb25FeHByKTsNCiAgICAgICAgICAgIHBzLnNldEJvb2xlYW4oMywgZW5hYmxlZCk7DQogICAgICAgICAgICBwcy5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgY29tLnFhLmFwcC5tb2RlbC5TY2VuYXJpb1NjaGVkdWxlIGdldFNjaGVkdWxlKGludCBzY2VuYXJpb0lkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1Qgc2NlbmFyaW9faWQsIGNyb25fZXhwciwgbmV4dF9ydW5fYXQsIGVuYWJsZWQgRlJPTSBzY2VuYXJpb19zY2hlZHVsZSBXSEVSRSBzY2VuYXJpb19pZD0/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzLnNldEludCgxLCBzY2VuYXJpb0lkKTsNCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHMuZXhlY3V0ZVF1ZXJ5KCkpIHsNCiAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW9TY2hlZHVsZSBzID0gbmV3IGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW9TY2hlZHVsZSgpOw0KICAgICAgICAgICAgICAgICAgICBzLnNldFNjZW5hcmlvSWQocnMuZ2V0SW50KCJzY2VuYXJpb19pZCIpKTsNCiAgICAgICAgICAgICAgICAgICAgcy5zZXRDcm9uRXhwcihycy5nZXRTdHJpbmcoImNyb25fZXhwciIpKTsNCiAgICAgICAgICAgICAgICAgICAgcy5zZXROZXh0UnVuQXQocnMuZ2V0U3RyaW5nKCJuZXh0X3J1bl9hdCIpKTsNCiAgICAgICAgICAgICAgICAgICAgcy5zZXRFbmFibGVkKHJzLmdldEJvb2xlYW4oImVuYWJsZWQiKSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/dao/impl/GatlingTestDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOw0KDQppbXBvcnQgb3JnLmpzb24uSlNPTk9iamVjdDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JR2F0bGluZ1Rlc3REYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8udXRpbC5EQlV0aWw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nVGVzdDsNCg0KaW1wb3J0IG9yZy5qc29uLkpTT05FeGNlcHRpb247DQoNCmltcG9ydCBqYXZhLnNxbC4qOw0KaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQppbXBvcnQgamF2YS51dGlsLk1hcDsNCg0KcHVibGljIGNsYXNzIEdhdGxpbmdUZXN0RGFvSW1wbCBpbXBsZW1lbnRzIElHYXRsaW5nVGVzdERhbyB7DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRUZXN0KEdhdGxpbmdUZXN0IHRlc3QpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIklOU0VSVCBJTlRPIGdhdGxpbmdfdGVzdHMgKGlzX2VuYWJsZWQsIHN1aXRlLCB0Y2lkLCBkZXNjcmlwdGlvbnMsIGNvbmRpdGlvbnMsICIgKw0KICAgICAgICAgICAgICAgICAgICAiZW5kcG9pbnRfaWQsIHRhZ3MsIHdhaXRfdGltZSwgaGVhZGVyc190ZW1wbGF0ZV9pZCwgYm9keV90ZW1wbGF0ZV9pZCwgZW5kcG9pbnRfZHluYW1pY192YXJpYWJsZXMsIGhlYWRlcnNfZHluYW1pY192YXJpYWJsZXMsIGJvZHlfZHluYW1pY192YXJpYWJsZXMsIHJlc3BvbnNlX2NoZWNrcywgcHJvamVjdF9pZCwgcmVwb3J0X3BhdGgsIGxhc3RfcnVuX3Bhc3NlZCwgZGlzcGxheV9vcmRlcikgIiArDQogICAgICAgICAgICAgICAgICAgICJWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8pIjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpKSB7DQogICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBpbnQgbWF4T3JkZXIgPSAwOw0KICAgICAgICAgICAgICAgIFN0cmluZyBtYXhPcmRlclNxbCA9ICJTRUxFQ1QgTUFYKGRpc3BsYXlfb3JkZXIpIEZST00gZ2F0bGluZ190ZXN0cyBXSEVSRSBwcm9qZWN0X2lkID0gPyI7DQogICAgICAgICAgICAgICAgaWYgKHRlc3QuZ2V0UHJvamVjdElkKCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBtYXhPcmRlclNxbCA9ICJTRUxFQ1QgTUFYKGRpc3BsYXlfb3JkZXIpIEZST00gZ2F0bGluZ190ZXN0cyBXSEVSRSBwcm9qZWN0X2lkIElTIE5VTEwiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHBzT3JkZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQobWF4T3JkZXJTcWwpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldFByb2plY3RJZCgpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBzT3JkZXIuc2V0SW50KDEsIHRlc3QuZ2V0UHJvamVjdElkKCkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHBzT3JkZXIuZXhlY3V0ZVF1ZXJ5KCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1heE9yZGVyID0gcnMuZ2V0SW50KDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRlc3Quc2V0RGlzcGxheU9yZGVyKG1heE9yZGVyICsgMSk7DQoNCiAgICAgICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0Qm9vbGVhbigxLCB0ZXN0LmlzRW5hYmxlZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDIsIHRlc3QuZ2V0U3VpdGUoKSk7DQogICAgICAgICAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygzLCB0ZXN0LmdldFRjaWQoKSk7DQogICAgICAgICAgICAgICAgICAgIHBzdG10LnNldFN0cmluZyg0LCB0ZXN0LmdldERlc2NyaXB0aW9ucygpKTsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDUsIHRlc3QuZ2V0Q29uZGl0aW9ucygpKTsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDYsIHRlc3QuZ2V0RW5kcG9pbnRJZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDcsIHRlc3QuZ2V0VGFncygpKTsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDgsIHRlc3QuZ2V0V2FpdFRpbWUoKSk7DQogICAgICAgICAgICAgICAgICAgIHBzdG10LnNldEludCg5LCB0ZXN0LmdldEhlYWRlcnNUZW1wbGF0ZUlkKCkpOw0KICAgICAgICAgICAgICAgICAgICBwc3RtdC5zZXRJbnQoMTAsIHRlc3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSk7DQogICAgICAgICAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygxMSwgY29udmVydE1hcFRvSnNvbih0ZXN0LmdldEVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcygpKSk7DQogICAgICAgICAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygxMiwgY29udmVydE1hcFRvSnNvbih0ZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEzLCBjb252ZXJ0TWFwVG9Kc29uKHRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSkpOw0KICAgICAgICAgICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMTQsIHRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldFByb2plY3RJZCgpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBzdG10LnNldEludCgxNSwgdGVzdC5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwc3RtdC5zZXROdWxsKDE1LCBqYXZhLnNxbC5UeXBlcy5JTlRFR0VSKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMTYsIHRlc3QuZ2V0UmVwb3J0UGF0aCgpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QuZ2V0TGFzdFJ1blBhc3NlZCgpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBzdG10LnNldEJvb2xlYW4oMTcsIHRlc3QuZ2V0TGFzdFJ1blBhc3NlZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoMTcsIGphdmEuc3FsLlR5cGVzLkJPT0xFQU4pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHBzdG10LnNldEludCgxOCwgdGVzdC5nZXREaXNwbGF5T3JkZXIoKSk7DQogICAgICAgICAgICAgICAgICAgIHBzdG10LmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgZ2VuZXJhdGVkS2V5cyA9IHBzdG10LmdldEdlbmVyYXRlZEtleXMoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlbmVyYXRlZEtleXMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdC5zZXRJZChnZW5lcmF0ZWRLZXlzLmdldEludCgxKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29ubi5jb21taXQoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgY29ubi5yb2xsYmFjaygpOw0KICAgICAgICAgICAgICAgIHRocm93IGU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgR2F0bGluZ1Rlc3QgZ2V0VGVzdEJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGdhdGxpbmdfdGVzdHMgV0hFUkUgaWQgPSA/IjsNCiAgICAgICAgR2F0bGluZ1Rlc3QgdGVzdCA9IG51bGw7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMSwgaWQpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGVzdCA9IGNyZWF0ZVRlc3RGcm9tUmVzdWx0U2V0KHJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRlc3Q7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEdhdGxpbmdUZXN0IGdldFRlc3RCeVRjaWQoU3RyaW5nIHRjaWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gZ2F0bGluZ190ZXN0cyBXSEVSRSB0Y2lkID0gPyI7DQogICAgICAgIEdhdGxpbmdUZXN0IHRlc3QgPSBudWxsOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIHRjaWQpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGVzdCA9IGNyZWF0ZVRlc3RGcm9tUmVzdWx0U2V0KHJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRlc3Q7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8R2F0bGluZ1Rlc3Q+IGdldEFsbFRlc3RzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBnYXRsaW5nX3Rlc3RzIE9SREVSIEJZIGRpc3BsYXlfb3JkZXIiOw0KICAgICAgICBMaXN0PEdhdGxpbmdUZXN0PiB0ZXN0cyA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpOw0KICAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHNxbCkpIHsNCiAgICAgICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICB0ZXN0cy5hZGQoY3JlYXRlVGVzdEZyb21SZXN1bHRTZXQocnMpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdGVzdHM7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8R2F0bGluZ1Rlc3Q+IGdldFRlc3RzQnlTdWl0ZShTdHJpbmcgc3VpdGUpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gZ2F0bGluZ190ZXN0cyBXSEVSRSBzdWl0ZSA9ID8gT1JERVIgQlkgZGlzcGxheV9vcmRlciI7DQogICAgICAgIExpc3Q8R2F0bGluZ1Rlc3Q+IHRlc3RzID0gbmV3IEFycmF5TGlzdDw+KCk7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMSwgc3VpdGUpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGVzdHMuYWRkKGNyZWF0ZVRlc3RGcm9tUmVzdWx0U2V0KHJzKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0ZXN0czsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGVUZXN0KEdhdGxpbmdUZXN0IHRlc3QpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlVQREFURSBnYXRsaW5nX3Rlc3RzIFNFVCBpc19lbmFibGVkID0gPywgc3VpdGUgPSA/LCB0Y2lkID0gPywgZGVzY3JpcHRpb25zID0gPywgIiArDQogICAgICAgICAgICAgICAgICAgICJjb25kaXRpb25zID0gPywgZW5kcG9pbnRfaWQgPSA/LCB0YWdzID0gPywgd2FpdF90aW1lID0gPywgaGVhZGVyc190ZW1wbGF0ZV9pZCA9ID8sICIgKw0KICAgICAgICAgICAgICAgICAgICAiYm9keV90ZW1wbGF0ZV9pZCA9ID8sIGVuZHBvaW50X2R5bmFtaWNfdmFyaWFibGVzID0gPywgaGVhZGVyc19keW5hbWljX3ZhcmlhYmxlcyA9ID8sIGJvZHlfZHluYW1pY192YXJpYWJsZXMgPSA/LCByZXNwb25zZV9jaGVja3MgPSA/LCBwcm9qZWN0X2lkID0gPywgcmVwb3J0X3BhdGggPSA/LCBsYXN0X3J1bl9wYXNzZWQgPSA/LCBkaXNwbGF5X29yZGVyID0gPyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0Qm9vbGVhbigxLCB0ZXN0LmlzRW5hYmxlZCgpKTsNCiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCB0ZXN0LmdldFN1aXRlKCkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDMsIHRlc3QuZ2V0VGNpZCgpKTsNCiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZyg0LCB0ZXN0LmdldERlc2NyaXB0aW9ucygpKTsNCiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZyg1LCB0ZXN0LmdldENvbmRpdGlvbnMoKSk7DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoNiwgdGVzdC5nZXRFbmRwb2ludElkKCkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDcsIHRlc3QuZ2V0VGFncygpKTsNCiAgICAgICAgICAgIHBzdG10LnNldEludCg4LCB0ZXN0LmdldFdhaXRUaW1lKCkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDksIHRlc3QuZ2V0SGVhZGVyc1RlbXBsYXRlSWQoKSk7DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMTAsIHRlc3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSk7DQogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMTEsIGNvbnZlcnRNYXBUb0pzb24odGVzdC5nZXRFbmRwb2ludER5bmFtaWNWYXJpYWJsZXMoKSkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEyLCBjb252ZXJ0TWFwVG9Kc29uKHRlc3QuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEzLCBjb252ZXJ0TWFwVG9Kc29uKHRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDE0LCB0ZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCkpOw0KICAgICAgICAgICAgaWYgKHRlc3QuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHBzdG10LnNldEludCgxNSwgdGVzdC5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoMTUsIGphdmEuc3FsLlR5cGVzLklOVEVHRVIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDE2LCB0ZXN0LmdldFJlcG9ydFBhdGgoKSk7DQogICAgICAgICAgICBpZiAodGVzdC5nZXRMYXN0UnVuUGFzc2VkKCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHBzdG10LnNldEJvb2xlYW4oMTcsIHRlc3QuZ2V0TGFzdFJ1blBhc3NlZCgpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcHN0bXQuc2V0TnVsbCgxNywgamF2YS5zcWwuVHlwZXMuQk9PTEVBTik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMTgsIHRlc3QuZ2V0RGlzcGxheU9yZGVyKCkpOw0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDE5LCB0ZXN0LmdldElkKCkpOw0KICAgICAgICAgICAgcHN0bXQuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgZGVsZXRlVGVzdChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIkRFTEVURSBGUk9NIGdhdGxpbmdfdGVzdHMgV0hFUkUgaWQgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsNCiAgICAgICAgICAgIHBzdG10LnNldEludCgxLCBpZCk7DQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGVUZXN0UnVuU3RhdHVzKGludCBpZCwgYm9vbGVhbiBpc0VuYWJsZWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlVQREFURSBnYXRsaW5nX3Rlc3RzIFNFVCBpc19lbmFibGVkID0gPyBXSEVSRSBpZCA9ID8iOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHN0bXQuc2V0Qm9vbGVhbigxLCBpc0VuYWJsZWQpOw0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDIsIGlkKTsNCiAgICAgICAgICAgIHBzdG10LmV4ZWN1dGVVcGRhdGUoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyBMaXN0PEdhdGxpbmdUZXN0PiBnZXRUZXN0c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGdhdGxpbmdfdGVzdHMgV0hFUkUgcHJvamVjdF9pZCA9ID8gT1JERVIgQlkgZGlzcGxheV9vcmRlciI7DQogICAgICAgIExpc3Q8R2F0bGluZ1Rlc3Q+IHRlc3RzID0gbmV3IEFycmF5TGlzdDw+KCk7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMSwgcHJvamVjdElkKTsNCiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJzID0gcHN0bXQuZXhlY3V0ZVF1ZXJ5KCkpIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHRlc3RzLmFkZChjcmVhdGVUZXN0RnJvbVJlc3VsdFNldChycykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdGVzdHM7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBHYXRsaW5nVGVzdCBjcmVhdGVUZXN0RnJvbVJlc3VsdFNldChSZXN1bHRTZXQgcnMpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBHYXRsaW5nVGVzdCB0ZXN0ID0gbmV3IEdhdGxpbmdUZXN0KCk7DQogICAgICAgIHRlc3Quc2V0SWQocnMuZ2V0SW50KCJpZCIpKTsNCiAgICAgICAgdGVzdC5zZXRFbmFibGVkKHJzLmdldEJvb2xlYW4oImlzX2VuYWJsZWQiKSk7DQogICAgICAgIHRlc3Quc2V0U3VpdGUocnMuZ2V0U3RyaW5nKCJzdWl0ZSIpKTsNCiAgICAgICAgdGVzdC5zZXRUY2lkKHJzLmdldFN0cmluZygidGNpZCIpKTsNCiAgICAgICAgdGVzdC5zZXREZXNjcmlwdGlvbnMocnMuZ2V0U3RyaW5nKCJkZXNjcmlwdGlvbnMiKSk7DQogICAgICAgIHRlc3Quc2V0Q29uZGl0aW9ucyhycy5nZXRTdHJpbmcoImNvbmRpdGlvbnMiKSk7DQogICAgICAgIHRlc3Quc2V0RW5kcG9pbnRJZChycy5nZXRJbnQoImVuZHBvaW50X2lkIikpOw0KICAgICAgICB0ZXN0LnNldFRhZ3MocnMuZ2V0U3RyaW5nKCJ0YWdzIikpOw0KICAgICAgICB0ZXN0LnNldFdhaXRUaW1lKHJzLmdldEludCgid2FpdF90aW1lIikpOw0KICAgICAgICB0ZXN0LnNldEhlYWRlcnNUZW1wbGF0ZUlkKHJzLmdldEludCgiaGVhZGVyc190ZW1wbGF0ZV9pZCIpKTsNCiAgICAgICAgdGVzdC5zZXRCb2R5VGVtcGxhdGVJZChycy5nZXRJbnQoImJvZHlfdGVtcGxhdGVfaWQiKSk7DQogICAgICAgIHRlc3Quc2V0RW5kcG9pbnREeW5hbWljVmFyaWFibGVzKGNvbnZlcnRKc29uVG9NYXAocnMuZ2V0U3RyaW5nKCJlbmRwb2ludF9keW5hbWljX3ZhcmlhYmxlcyIpKSk7DQogICAgICAgIHRlc3Quc2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoY29udmVydEpzb25Ub01hcChycy5nZXRTdHJpbmcoImhlYWRlcnNfZHluYW1pY192YXJpYWJsZXMiKSkpOw0KICAgICAgICB0ZXN0LnNldER5bmFtaWNWYXJpYWJsZXMoY29udmVydEpzb25Ub01hcChycy5nZXRTdHJpbmcoImJvZHlfZHluYW1pY192YXJpYWJsZXMiKSkpOw0KICAgICAgICB0ZXN0LnNldFJlc3BvbnNlQ2hlY2tzKHJzLmdldFN0cmluZygicmVzcG9uc2VfY2hlY2tzIikpOw0KICAgICAgICBPYmplY3QgcGlkID0gcnMuZ2V0T2JqZWN0KCJwcm9qZWN0X2lkIik7DQogICAgICAgIGlmIChwaWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgdGVzdC5zZXRQcm9qZWN0SWQoKEludGVnZXIpcGlkKTsNCiAgICAgICAgfQ0KICAgICAgICB0ZXN0LnNldFJlcG9ydFBhdGgocnMuZ2V0U3RyaW5nKCJyZXBvcnRfcGF0aCIpKTsNCiAgICAgICAgYm9vbGVhbiBsYXN0UnVuUGFzc2VkID0gcnMuZ2V0Qm9vbGVhbigibGFzdF9ydW5fcGFzc2VkIik7DQogICAgICAgIGlmICghcnMud2FzTnVsbCgpKSB7DQogICAgICAgICAgICB0ZXN0LnNldExhc3RSdW5QYXNzZWQobGFzdFJ1blBhc3NlZCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0ZXN0LnNldExhc3RSdW5QYXNzZWQobnVsbCk7DQogICAgICAgIH0NCiAgICAgICAgdGVzdC5zZXREaXNwbGF5T3JkZXIocnMuZ2V0SW50KCJkaXNwbGF5X29yZGVyIikpOw0KICAgICAgICByZXR1cm4gdGVzdDsNCiAgICB9DQoNCiAgICBwcml2YXRlIFN0cmluZyBjb252ZXJ0TWFwVG9Kc29uKE1hcDxTdHJpbmcsIFN0cmluZz4gbWFwKSB7DQogICAgICAgIGlmIChtYXAgPT0gbnVsbCB8fCBtYXAuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbmV3IEpTT05PYmplY3QobWFwKS50b1N0cmluZygpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgTWFwPFN0cmluZywgU3RyaW5nPiBjb252ZXJ0SnNvblRvTWFwKFN0cmluZyBqc29uU3RyaW5nKSB7DQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gbWFwID0gbmV3IEhhc2hNYXA8PigpOw0KICAgICAgICBpZiAoanNvblN0cmluZyA9PSBudWxsIHx8IGpzb25TdHJpbmcudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgcmV0dXJuIG1hcDsNCiAgICAgICAgfQ0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgSlNPTk9iamVjdCBqc29uT2JqZWN0ID0gbmV3IEpTT05PYmplY3QoanNvblN0cmluZyk7DQogICAgICAgICAgICBmb3IgKFN0cmluZyBrZXkgOiBqc29uT2JqZWN0LmtleVNldCgpKSB7DQogICAgICAgICAgICAgICAgbWFwLnB1dChrZXksIGpzb25PYmplY3QuZ2V0U3RyaW5nKGtleSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChKU09ORXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRXJyb3IgcGFyc2luZyBKU09OOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgLy8gT3B0aW9uYWxseSwgcmV0dXJuIGFuIGVtcHR5IG1hcCBvciByZS10aHJvdyBhIGN1c3RvbSBleGNlcHRpb24NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbWFwOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIHVwZGF0ZU9yZGVyKExpc3Q8R2F0bGluZ1Rlc3Q+IHRlc3RzKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJVUERBVEUgZ2F0bGluZ190ZXN0cyBTRVQgZGlzcGxheV9vcmRlciA9ID8gV0hFUkUgaWQgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpKSB7DQogICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpOw0KICAgICAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBwcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICAgICAgZm9yIChHYXRsaW5nVGVzdCB0ZXN0IDogdGVzdHMpIHsNCiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHRlc3QuZ2V0RGlzcGxheU9yZGVyKCkpOw0KICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMiwgdGVzdC5nZXRJZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgcHMuYWRkQmF0Y2goKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcHMuZXhlY3V0ZUJhdGNoKCk7DQogICAgICAgICAgICAgICAgY29ubi5jb21taXQoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgY29ubi5yb2xsYmFjaygpOw0KICAgICAgICAgICAgICAgIHRocm93IGU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9
END
PATH:src/main/java/com/qa/app/dao/impl/GroovyVariableDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOwoKaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JR3Jvb3Z5VmFyaWFibGVEYW87CmltcG9ydCBjb20ucWEuYXBwLmRhby51dGlsLkRCVXRpbDsKaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuR3Jvb3Z5VmFyaWFibGU7CgppbXBvcnQgamF2YS5zcWwuKjsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBHcm9vdnlWYXJpYWJsZURhb0ltcGwgaW1wbGVtZW50cyBJR3Jvb3Z5VmFyaWFibGVEYW8gewoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgYWRkKEdyb292eVZhcmlhYmxlIHZhcmlhYmxlKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgc3FsID0gIklOU0VSVCBJTlRPIGdyb292eV92YXJpYWJsZXMgKG5hbWUsIHZhbHVlLCBkZXNjcmlwdGlvbiwgZW52aXJvbm1lbnRfaWQsIHByb2plY3RfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPykiOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIHZhcmlhYmxlLmdldE5hbWUoKSk7CiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCB2YXJpYWJsZS5nZXRWYWx1ZSgpKTsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDMsIHZhcmlhYmxlLmdldERlc2NyaXB0aW9uKCkpOwogICAgICAgICAgICBpZiAodmFyaWFibGUuZ2V0RW52aXJvbm1lbnRJZCgpID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNCwgVHlwZXMuSU5URUdFUik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwc3RtdC5zZXRJbnQoNCwgdmFyaWFibGUuZ2V0RW52aXJvbm1lbnRJZCgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodmFyaWFibGUuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDUsIHZhcmlhYmxlLmdldFByb2plY3RJZCgpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNSwgVHlwZXMuSU5URUdFUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHN0bXQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBnZW5lcmF0ZWRLZXlzID0gcHN0bXQuZ2V0R2VuZXJhdGVkS2V5cygpKSB7CiAgICAgICAgICAgICAgICBpZiAoZ2VuZXJhdGVkS2V5cy5uZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5zZXRJZChnZW5lcmF0ZWRLZXlzLmdldEludCgxKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCB1cGRhdGUoR3Jvb3Z5VmFyaWFibGUgdmFyaWFibGUpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiVVBEQVRFIGdyb292eV92YXJpYWJsZXMgU0VUIG5hbWUgPSA/LCB2YWx1ZSA9ID8sIGRlc2NyaXB0aW9uID0gPywgZW52aXJvbm1lbnRfaWQgPSA/LCBwcm9qZWN0X2lkID0gPyBXSEVSRSBpZCA9ID8iOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIHZhcmlhYmxlLmdldE5hbWUoKSk7CiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCB2YXJpYWJsZS5nZXRWYWx1ZSgpKTsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDMsIHZhcmlhYmxlLmdldERlc2NyaXB0aW9uKCkpOwogICAgICAgICAgICBpZiAodmFyaWFibGUuZ2V0RW52aXJvbm1lbnRJZCgpID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNCwgVHlwZXMuSU5URUdFUik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwc3RtdC5zZXRJbnQoNCwgdmFyaWFibGUuZ2V0RW52aXJvbm1lbnRJZCgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodmFyaWFibGUuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDUsIHZhcmlhYmxlLmdldFByb2plY3RJZCgpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNSwgVHlwZXMuSU5URUdFUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDYsIHZhcmlhYmxlLmdldElkKCkpOwogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZGVsZXRlKGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJERUxFVEUgRlJPTSBncm9vdnlfdmFyaWFibGVzIFdIRVJFIGlkID0gPyI7CiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOwogICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHN0bXQgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgewogICAgICAgICAgICBwc3RtdC5zZXRJbnQoMSwgaWQpOwogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZGVsZXRlQWxsKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJERUxFVEUgRlJPTSBncm9vdnlfdmFyaWFibGVzIjsKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCkpIHsKICAgICAgICAgICAgc3RtdC5leGVjdXRlVXBkYXRlKHNxbCk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIEdyb292eVZhcmlhYmxlIGdldEJ5SWQoaW50IGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gZ3Jvb3Z5X3ZhcmlhYmxlcyBXSEVSRSBpZCA9ID8iOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsKICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsKICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgewogICAgICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVGcm9tUmVzdWx0U2V0KHJzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBMaXN0PEdyb292eVZhcmlhYmxlPiBnZXRCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGdyb292eV92YXJpYWJsZXMgV0hFUkUgcHJvamVjdF9pZCA9ID8gT1JERVIgQlkgaWQiOwogICAgICAgIExpc3Q8R3Jvb3Z5VmFyaWFibGU+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7CiAgICAgICAgICAgIHBzdG10LnNldEludCgxLCBwcm9qZWN0SWQpOwogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzdG10LmV4ZWN1dGVRdWVyeSgpKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoY3JlYXRlRnJvbVJlc3VsdFNldChycykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIExpc3Q8R3Jvb3Z5VmFyaWFibGU+IGdldEFsbCgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBncm9vdnlfdmFyaWFibGVzIE9SREVSIEJZIGlkIjsKICAgICAgICBMaXN0PEdyb292eVZhcmlhYmxlPiBsaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7CiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOwogICAgICAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpOwogICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoc3FsKSkgewogICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7CiAgICAgICAgICAgICAgICBsaXN0LmFkZChjcmVhdGVGcm9tUmVzdWx0U2V0KHJzKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9CgogICAgcHJpdmF0ZSBHcm9vdnlWYXJpYWJsZSBjcmVhdGVGcm9tUmVzdWx0U2V0KFJlc3VsdFNldCBycykgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBHcm9vdnlWYXJpYWJsZSgKICAgICAgICAgICAgICAgIHJzLmdldEludCgiaWQiKSwKICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZygibmFtZSIpLAogICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJ2YWx1ZSIpLAogICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJkZXNjcmlwdGlvbiIpLAogICAgICAgICAgICAgICAgcnMuZ2V0T2JqZWN0KCJlbnZpcm9ubWVudF9pZCIpID09IG51bGwgPyBudWxsIDogcnMuZ2V0SW50KCJlbnZpcm9ubWVudF9pZCIpLAogICAgICAgICAgICAgICAgcnMuZ2V0T2JqZWN0KCJwcm9qZWN0X2lkIikgPT0gbnVsbCA/IG51bGwgOiBycy5nZXRJbnQoInByb2plY3RfaWQiKQogICAgICAgICk7CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/dao/impl/HeadersTemplateDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOwoKaW1wb3J0IGphdmEuc3FsLio7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklIZWFkZXJzVGVtcGxhdGVEYW87CmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkhlYWRlcnNUZW1wbGF0ZTsKaW1wb3J0IGNvbS5xYS5hcHAuZGFvLnV0aWwuREJVdGlsOwoKcHVibGljIGNsYXNzIEhlYWRlcnNUZW1wbGF0ZURhb0ltcGwgaW1wbGVtZW50cyBJSGVhZGVyc1RlbXBsYXRlRGFvIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgYWRkSGVhZGVyc1RlbXBsYXRlKEhlYWRlcnNUZW1wbGF0ZSB0ZW1wbGF0ZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJJTlNFUlQgSU5UTyBoZWFkZXJzX3RlbXBsYXRlcyAobmFtZSwgY29udGVudCwgZGVzY3JpcHRpb24sIHByb2plY3RfaWQpIFZBTFVFUyAoPywgPywgPywgPykiOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIHRlbXBsYXRlLmdldE5hbWUoKSk7CiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygyLCB0ZW1wbGF0ZS5nZXRDb250ZW50KCkpOwogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMywgdGVtcGxhdGUuZ2V0RGVzY3JpcHRpb24oKSk7CiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5nZXRQcm9qZWN0SWQoKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBwc3RtdC5zZXRJbnQoNCwgdGVtcGxhdGUuZ2V0UHJvamVjdElkKCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcHN0bXQuc2V0TnVsbCg0LCBqYXZhLnNxbC5UeXBlcy5JTlRFR0VSKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IGdlbmVyYXRlZEtleXMgPSBwc3RtdC5nZXRHZW5lcmF0ZWRLZXlzKCkpIHsKICAgICAgICAgICAgICAgIGlmIChnZW5lcmF0ZWRLZXlzLm5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLnNldElkKGdlbmVyYXRlZEtleXMuZ2V0SW50KDEpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHVwZGF0ZUhlYWRlcnNUZW1wbGF0ZShIZWFkZXJzVGVtcGxhdGUgdGVtcGxhdGUpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiVVBEQVRFIGhlYWRlcnNfdGVtcGxhdGVzIFNFVCBuYW1lID0gPywgY29udGVudCA9ID8sIGRlc2NyaXB0aW9uID0gPywgcHJvamVjdF9pZCA9ID8gV0hFUkUgaWQgPSA/IjsKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7CiAgICAgICAgICAgIHBzdG10LnNldFN0cmluZygxLCB0ZW1wbGF0ZS5nZXROYW1lKCkpOwogICAgICAgICAgICBwc3RtdC5zZXRTdHJpbmcoMiwgdGVtcGxhdGUuZ2V0Q29udGVudCgpKTsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDMsIHRlbXBsYXRlLmdldERlc2NyaXB0aW9uKCkpOwogICAgICAgICAgICBpZiAodGVtcGxhdGUuZ2V0UHJvamVjdElkKCkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcHN0bXQuc2V0SW50KDQsIHRlbXBsYXRlLmdldFByb2plY3RJZCgpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBzdG10LnNldE51bGwoNCwgamF2YS5zcWwuVHlwZXMuSU5URUdFUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHN0bXQuc2V0SW50KDUsIHRlbXBsYXRlLmdldElkKCkpOwogICAgICAgICAgICBwc3RtdC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZGVsZXRlSGVhZGVyc1RlbXBsYXRlKGludCBpZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJERUxFVEUgRlJPTSBoZWFkZXJzX3RlbXBsYXRlcyBXSEVSRSBpZCA9ID8iOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsKICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsKICAgICAgICAgICAgcHN0bXQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBIZWFkZXJzVGVtcGxhdGUgZ2V0SGVhZGVyc1RlbXBsYXRlQnlJZChpbnQgaWQpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBoZWFkZXJzX3RlbXBsYXRlcyBXSEVSRSBpZCA9ID8iOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsKICAgICAgICAgICAgcHN0bXQuc2V0SW50KDEsIGlkKTsKICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwc3RtdC5leGVjdXRlUXVlcnkoKSkgewogICAgICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVGcm9tUmVzdWx0U2V0KHJzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBIZWFkZXJzVGVtcGxhdGUgZ2V0SGVhZGVyc1RlbXBsYXRlQnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gaGVhZGVyc190ZW1wbGF0ZXMgV0hFUkUgbmFtZSA9ID8iOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzdG10ID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCkpIHsKICAgICAgICAgICAgcHN0bXQuc2V0U3RyaW5nKDEsIG5hbWUpOwogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzdG10LmV4ZWN1dGVRdWVyeSgpKSB7CiAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21SZXN1bHRTZXQocnMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIExpc3Q8SGVhZGVyc1RlbXBsYXRlPiBnZXRBbGxIZWFkZXJzVGVtcGxhdGVzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGhlYWRlcnNfdGVtcGxhdGVzIE9SREVSIEJZIGlkIjsKICAgICAgICBMaXN0PEhlYWRlcnNUZW1wbGF0ZT4gbGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOwogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgIFN0YXRlbWVudCBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTsKICAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHNxbCkpIHsKICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgewogICAgICAgICAgICAgICAgbGlzdC5hZGQoY3JlYXRlRnJvbVJlc3VsdFNldChycykpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIExpc3Q8SGVhZGVyc1RlbXBsYXRlPiBnZXRIZWFkZXJzVGVtcGxhdGVzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUICogRlJPTSBoZWFkZXJzX3RlbXBsYXRlcyBXSEVSRSBwcm9qZWN0X2lkID0gPyBPUkRFUiBCWSBpZCI7CiAgICAgICAgTGlzdDxIZWFkZXJzVGVtcGxhdGU+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc3RtdCA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7CiAgICAgICAgICAgIHBzdG10LnNldEludCgxLCBwcm9qZWN0SWQpOwogICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBycyA9IHBzdG10LmV4ZWN1dGVRdWVyeSgpKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoY3JlYXRlRnJvbVJlc3VsdFNldChycykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIHByaXZhdGUgSGVhZGVyc1RlbXBsYXRlIGNyZWF0ZUZyb21SZXN1bHRTZXQoUmVzdWx0U2V0IHJzKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gbmV3IEhlYWRlcnNUZW1wbGF0ZSgKICAgICAgICAgICAgICAgIHJzLmdldEludCgiaWQiKSwKICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZygibmFtZSIpLAogICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJjb250ZW50IiksCiAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoImRlc2NyaXB0aW9uIiksCiAgICAgICAgICAgICAgICBycy5nZXRPYmplY3QoInByb2plY3RfaWQiKSA9PSBudWxsID8gbnVsbCA6IHJzLmdldEludCgicHJvamVjdF9pZCIpCiAgICAgICAgKTsKICAgIH0KfSA=
END
PATH:src/main/java/com/qa/app/dao/impl/ProjectDaoImpl.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby5pbXBsOw0KDQppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklQcm9qZWN0RGFvOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLnV0aWwuREJVdGlsOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuUHJvamVjdDsNCg0KaW1wb3J0IGphdmEuc3FsLio7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIFByb2plY3REYW9JbXBsIGltcGxlbWVudHMgSVByb2plY3REYW8gew0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGFkZFByb2plY3QoUHJvamVjdCBwcm9qZWN0KSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJJTlNFUlQgSU5UTyBwcm9qZWN0IChuYW1lLCBkZXNjcmlwdGlvbikgVkFMVUVTICg/LCA/KSI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDEsIHByb2plY3QuZ2V0TmFtZSgpKTsNCiAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBwcm9qZWN0LmdldERlc2NyaXB0aW9uKCkpOw0KICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oIkZhaWxlZCB0byBhZGQgcHJvamVjdCIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlUHJvamVjdChQcm9qZWN0IHByb2plY3QpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlVQREFURSBwcm9qZWN0IFNFVCBuYW1lID0gPywgZGVzY3JpcHRpb24gPSA/IFdIRVJFIGlkID0gPyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDEsIHByb2plY3QuZ2V0TmFtZSgpKTsNCiAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBwcm9qZWN0LmdldERlc2NyaXB0aW9uKCkpOw0KICAgICAgICAgICAgcHMuc2V0SW50KDMsIHByb2plY3QuZ2V0SWQoKSk7DQogICAgICAgICAgICBwcy5leGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiRmFpbGVkIHRvIHVwZGF0ZSBwcm9qZWN0IiwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGVQcm9qZWN0KEludGVnZXIgaWQpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIkRFTEVURSBGUk9NIHByb2plY3QgV0hFUkUgaWQgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOyBQcmVwYXJlZFN0YXRlbWVudCBwcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwcy5zZXRJbnQoMSwgaWQpOw0KICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oIkZhaWxlZCB0byBkZWxldGUgcHJvamVjdCIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIFByb2plY3QgZ2V0UHJvamVjdChJbnRlZ2VyIGlkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIHByb2plY3QgV0hFUkUgaWQgPSA/IjsNCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBEQlV0aWwuZ2V0Q29ubmVjdGlvbigpOyBQcmVwYXJlZFN0YXRlbWVudCBwcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWwpKSB7DQogICAgICAgICAgICBwcy5zZXRJbnQoMSwgaWQpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwcy5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9qZWN0KA0KICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0SW50KCJpZCIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJuYW1lIiksDQogICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoImRlc2NyaXB0aW9uIikNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiRmFpbGVkIHRvIGdldCBwcm9qZWN0IGJ5IGlkIiwgZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8UHJvamVjdD4gZ2V0QWxsUHJvamVjdHMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgKiBGUk9NIHByb2plY3QgT1JERVIgQlkgaWQgREVTQyI7DQogICAgICAgIExpc3Q8UHJvamVjdD4gbGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubiA9IERCVXRpbC5nZXRDb25uZWN0aW9uKCk7IFN0YXRlbWVudCBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTsgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoc3FsKSkgew0KICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkgew0KICAgICAgICAgICAgICAgIGxpc3QuYWRkKG5ldyBQcm9qZWN0KA0KICAgICAgICAgICAgICAgICAgICBycy5nZXRJbnQoImlkIiksDQogICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZygibmFtZSIpLA0KICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoImRlc2NyaXB0aW9uIikNCiAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJGYWlsZWQgdG8gZ2V0IGFsbCBwcm9qZWN0cyIsIGUpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBsaXN0Ow0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBQcm9qZWN0IGdldFByb2plY3RCeU5hbWUoU3RyaW5nIG5hbWUpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCAqIEZST00gcHJvamVjdCBXSEVSRSBuYW1lID0gPyI7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gREJVdGlsLmdldENvbm5lY3Rpb24oKTsgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsKSkgew0KICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDEsIG5hbWUpOw0KICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcnMgPSBwcy5leGVjdXRlUXVlcnkoKSkgew0KICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9qZWN0KA0KICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0SW50KCJpZCIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKCJuYW1lIiksDQogICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoImRlc2NyaXB0aW9uIikNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiRmFpbGVkIHRvIGdldCBwcm9qZWN0IGJ5IG5hbWUiLCBlKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/dao/util/DBUtil.java
cGFja2FnZSBjb20ucWEuYXBwLmRhby51dGlsOw0KDQppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5Ecml2ZXJNYW5hZ2VyOw0KaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7DQoNCnB1YmxpYyBjbGFzcyBEQlV0aWwgew0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSAiamRiYzpzcWxpdGU6Z2F0bGluZ190ZXN0aW5nX3N5c3RlbS5kYiI7DQoNCiAgICBwdWJsaWMgc3RhdGljIENvbm5lY3Rpb24gZ2V0Q29ubmVjdGlvbigpIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZSgib3JnLnNxbGl0ZS5KREJDIik7DQogICAgICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMKTsNCiAgICAgICAgICAgIC8vIGVuYWJsZSBTUUxpdGUgZm9yZWlnbiBrZXkgY29uc3RyYWludHMNCiAgICAgICAgICAgIHRyeSAoU3RhdGVtZW50IHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpKSB7DQogICAgICAgICAgICAgICAgc3RtdC5leGVjdXRlKCJQUkFHTUEgZm9yZWlnbl9rZXlzID0gT04iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBjb25uOw0KICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiU1FMaXRlIEpEQkMgZHJpdmVyIG5vdCBmb3VuZDogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIHRocm93IG5ldyBTUUxFeGNlcHRpb24oIlNRTGl0ZSBKREJDIGRyaXZlciBub3QgZm91bmQiLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBjbG9zZUNvbm5lY3Rpb24oQ29ubmVjdGlvbiBjb25uZWN0aW9uKSB7DQogICAgICAgIGlmIChjb25uZWN0aW9uICE9IG51bGwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkVycm9yIGNsb3NpbmcgY29ubmVjdGlvbjogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbml0aWFsaXplRGF0YWJhc2UoKSB7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFN0YXRlbWVudCBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKSkgew0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDcmVhdGUgZ2F0bGluZ190ZXN0cyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0IHdpdGggdGhlIG5ldyBzY2hlbWENCiAgICAgICAgICAgIFN0cmluZyB0ZXN0c1NxbCA9ICJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBnYXRsaW5nX3Rlc3RzICgiDQogICAgICAgICAgICAgICAgICAgICsgIiBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIg0KICAgICAgICAgICAgICAgICAgICArICIgaXNfZW5hYmxlZCBCT09MRUFOIE5PVCBOVUxMIERFRkFVTFQgMCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBzdWl0ZSBURVhUIE5PVCBOVUxMLCINCiAgICAgICAgICAgICAgICAgICAgKyAiIHRjaWQgVEVYVCBOT1QgTlVMTCBVTklRVUUsIg0KICAgICAgICAgICAgICAgICAgICArICIgdGFncyBURVhULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIHdhaXRfdGltZSBJTlRFR0VSIERFRkFVTFQgMCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBjb25kaXRpb25zIFRFWFQsIg0KICAgICAgICAgICAgICAgICAgICArICIgZGVzY3JpcHRpb25zIFRFWFQsIg0KICAgICAgICAgICAgICAgICAgICArICIgZW5kcG9pbnRfaWQgSU5URUdFUiwiDQogICAgICAgICAgICAgICAgICAgICsgIiBoZWFkZXJzX3RlbXBsYXRlX2lkIElOVEVHRVIsIg0KICAgICAgICAgICAgICAgICAgICArICIgYm9keV90ZW1wbGF0ZV9pZCBJTlRFR0VSLCINCiAgICAgICAgICAgICAgICAgICAgKyAiIGVuZHBvaW50X2R5bmFtaWNfdmFyaWFibGVzIFRFWFQsIg0KICAgICAgICAgICAgICAgICAgICArICIgaGVhZGVyc19keW5hbWljX3ZhcmlhYmxlcyBURVhULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIGJvZHlfZHluYW1pY192YXJpYWJsZXMgVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiByZXNwb25zZV9jaGVja3MgVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBwcm9qZWN0X2lkIElOVEVHRVIsIg0KICAgICAgICAgICAgICAgICAgICArICIgcmVwb3J0X3BhdGggVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBsYXN0X3J1bl9wYXNzZWQgQk9PTEVBTiwiDQogICAgICAgICAgICAgICAgICAgICsgIiBkaXNwbGF5X29yZGVyIElOVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShwcm9qZWN0X2lkKSBSRUZFUkVOQ0VTIHByb2plY3QoaWQpIE9OIERFTEVURSBTRVQgTlVMTCBPTiBVUERBVEUgQ0FTQ0FERSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShlbmRwb2ludF9pZCkgUkVGRVJFTkNFUyBlbmRwb2ludHMoaWQpIE9OIERFTEVURSBSRVNUUklDVCBPTiBVUERBVEUgQ0FTQ0FERSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShoZWFkZXJzX3RlbXBsYXRlX2lkKSBSRUZFUkVOQ0VTIGhlYWRlcnNfdGVtcGxhdGVzKGlkKSBPTiBERUxFVEUgU0VUIE5VTEwgT04gVVBEQVRFIENBU0NBREUsIg0KICAgICAgICAgICAgICAgICAgICArICIgRk9SRUlHTiBLRVkoYm9keV90ZW1wbGF0ZV9pZCkgUkVGRVJFTkNFUyBib2R5X3RlbXBsYXRlcyhpZCkgT04gREVMRVRFIFNFVCBOVUxMIE9OIFVQREFURSBDQVNDQURFIg0KICAgICAgICAgICAgICAgICAgICArICIpOyI7DQogICAgICAgICAgICBzdG10LmV4ZWN1dGUodGVzdHNTcWwpOw0KDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIENyZWF0ZSBib2R5X3RlbXBsYXRlcyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0DQogICAgICAgICAgICBTdHJpbmcgYm9keVRlbXBsYXRlU3FsID0gIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJvZHlfdGVtcGxhdGVzICgiDQogICAgICAgICAgICAgICAgICAgICsgIiBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIg0KICAgICAgICAgICAgICAgICAgICArICIgbmFtZSBURVhUIE5PVCBOVUxMIFVOSVFVRSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBjb250ZW50IFRFWFQgTk9UIE5VTEwsIg0KICAgICAgICAgICAgICAgICAgICArICIgZGVzY3JpcHRpb24gVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBwcm9qZWN0X2lkIElOVEVHRVIsIg0KICAgICAgICAgICAgICAgICAgICArICIgRk9SRUlHTiBLRVkocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0KGlkKSBPTiBERUxFVEUgU0VUIE5VTEwgT04gVVBEQVRFIENBU0NBREUiDQogICAgICAgICAgICAgICAgICAgICsgIik7IjsNCiAgICAgICAgICAgIHN0bXQuZXhlY3V0ZShib2R5VGVtcGxhdGVTcWwpOw0KDQogICAgICAgICAgICAvLyBDcmVhdGUgaGVhZGVyc190ZW1wbGF0ZXMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdA0KICAgICAgICAgICAgU3RyaW5nIGhlYWRlcnNUZW1wbGF0ZVNxbCA9ICJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBoZWFkZXJzX3RlbXBsYXRlcyAoIg0KICAgICAgICAgICAgICAgICAgICArICIgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIG5hbWUgVEVYVCBOT1QgTlVMTCBVTklRVUUsIg0KICAgICAgICAgICAgICAgICAgICArICIgY29udGVudCBURVhUIE5PVCBOVUxMLCINCiAgICAgICAgICAgICAgICAgICAgKyAiIHByb2plY3RfaWQgSU5URUdFUiwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShwcm9qZWN0X2lkKSBSRUZFUkVOQ0VTIHByb2plY3QoaWQpIE9OIERFTEVURSBTRVQgTlVMTCBPTiBVUERBVEUgQ0FTQ0FERSINCiAgICAgICAgICAgICAgICAgICAgKyAiKTsiOw0KICAgICAgICAgICAgc3RtdC5leGVjdXRlKGhlYWRlcnNUZW1wbGF0ZVNxbCk7DQoNCiAgICAgICAgICAgIC8vIENyZWF0ZSBlbnZpcm9ubWVudHMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdA0KICAgICAgICAgICAgU3RyaW5nIGVudmlyb25tZW50U3FsID0gIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGVudmlyb25tZW50cyAoIg0KICAgICAgICAgICAgICAgICAgICArICIgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIG5hbWUgVEVYVCBOT1QgTlVMTCBVTklRVUUsIg0KICAgICAgICAgICAgICAgICAgICArICIgZGVzY3JpcHRpb24gVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBwcm9qZWN0X2lkIElOVEVHRVIsIg0KICAgICAgICAgICAgICAgICAgICArICIgRk9SRUlHTiBLRVkocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0KGlkKSBPTiBERUxFVEUgU0VUIE5VTEwgT04gVVBEQVRFIENBU0NBREUiDQogICAgICAgICAgICAgICAgICAgICsgIik7IjsNCiAgICAgICAgICAgIHN0bXQuZXhlY3V0ZShlbnZpcm9ubWVudFNxbCk7DQoNCiAgICAgICAgICAgIC8vIENyZWF0ZSBlbmRwb2ludHMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdA0KICAgICAgICAgICAgU3RyaW5nIGVuZHBvaW50U3FsID0gIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGVuZHBvaW50cyAoIg0KICAgICAgICAgICAgICAgICAgICArICIgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIG5hbWUgVEVYVCBOT1QgTlVMTCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBtZXRob2QgVEVYVCBOT1QgTlVMTCwiDQogICAgICAgICAgICAgICAgICAgICsgIiB1cmwgVEVYVCBOT1QgTlVMTCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBlbnZpcm9ubWVudF9pZCBJTlRFR0VSLCINCiAgICAgICAgICAgICAgICAgICAgKyAiIHByb2plY3RfaWQgSU5URUdFUiwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShlbnZpcm9ubWVudF9pZCkgUkVGRVJFTkNFUyBlbnZpcm9ubWVudHMoaWQpIE9OIERFTEVURSBSRVNUUklDVCBPTiBVUERBVEUgQ0FTQ0FERSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShwcm9qZWN0X2lkKSBSRUZFUkVOQ0VTIHByb2plY3QoaWQpIE9OIERFTEVURSBTRVQgTlVMTCBPTiBVUERBVEUgQ0FTQ0FERSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBVTklRVUUobmFtZSwgZW52aXJvbm1lbnRfaWQpIg0KICAgICAgICAgICAgICAgICAgICArICIpOyI7DQogICAgICAgICAgICBzdG10LmV4ZWN1dGUoZW5kcG9pbnRTcWwpOw0KDQogICAgICAgICAgICAvLyBDcmVhdGUgZ3Jvb3Z5X3ZhcmlhYmxlcyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0DQogICAgICAgICAgICBTdHJpbmcgZ3Jvb3Z5VmFyaWFibGVTcWwgPSAiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZ3Jvb3Z5X3ZhcmlhYmxlcyAoIg0KICAgICAgICAgICAgICAgICAgICArICJpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsICINCiAgICAgICAgICAgICAgICAgICAgKyAibmFtZSBURVhUIE5PVCBOVUxMLCAiDQogICAgICAgICAgICAgICAgICAgICsgInZhbHVlIFRFWFQsICINCiAgICAgICAgICAgICAgICAgICAgKyAiZGVzY3JpcHRpb24gVEVYVCwgIg0KICAgICAgICAgICAgICAgICAgICArICJlbnZpcm9ubWVudF9pZCBJTlRFR0VSLCAiDQogICAgICAgICAgICAgICAgICAgICsgInByb2plY3RfaWQgSU5URUdFUiwgIg0KICAgICAgICAgICAgICAgICAgICArICJGT1JFSUdOIEtFWSAoZW52aXJvbm1lbnRfaWQpIFJFRkVSRU5DRVMgZW52aXJvbm1lbnRzKGlkKSBPTiBERUxFVEUgUkVTVFJJQ1QgT04gVVBEQVRFIENBU0NBREUsIg0KICAgICAgICAgICAgICAgICAgICArICJGT1JFSUdOIEtFWSAocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0KGlkKSBPTiBERUxFVEUgU0VUIE5VTEwgT04gVVBEQVRFIENBU0NBREUsIg0KICAgICAgICAgICAgICAgICAgICArICIgVU5JUVVFKG5hbWUsIGVudmlyb25tZW50X2lkKSINCiAgICAgICAgICAgICAgICAgICAgKyAiKTsiOw0KICAgICAgICAgICAgc3RtdC5leGVjdXRlKGdyb292eVZhcmlhYmxlU3FsKTsNCg0KICAgICAgICAgICAgLy8gQ3JlYXRlIHByb2plY3QgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdA0KICAgICAgICAgICAgU3RyaW5nIHByb2plY3RTcWwgPSAiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvamVjdCAoIg0KICAgICAgICAgICAgICAgICAgICArICIgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIG5hbWUgVEVYVCBOT1QgTlVMTCBVTklRVUUsIg0KICAgICAgICAgICAgICAgICAgICArICIgZGVzY3JpcHRpb24gVEVYVCINCiAgICAgICAgICAgICAgICAgICAgKyAiKTsiOw0KICAgICAgICAgICAgc3RtdC5leGVjdXRlKHByb2plY3RTcWwpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDcmVhdGUgc2NlbmFyaW9zIHRhYmxlDQogICAgICAgICAgICBTdHJpbmcgc2NlbmFyaW9TcWwgPSAiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2NlbmFyaW8gKCIgKw0KICAgICAgICAgICAgICAgICAgICAiIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiBuYW1lIFRFWFQgTk9UIE5VTEwgVU5JUVVFLCIgKw0KICAgICAgICAgICAgICAgICAgICAiIGRlc2MgVEVYVCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiB0aHJlYWRfZ3JvdXBfanNvbiBURVhULCIgKw0KICAgICAgICAgICAgICAgICAgICAiIHNjaGVkdWxlX2pzb24gVEVYVCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiBwcm9qZWN0X2lkIElOVEVHRVIsIiArDQogICAgICAgICAgICAgICAgICAgICIgZGlzcGxheV9vcmRlciBJTlQsIiArDQogICAgICAgICAgICAgICAgICAgICIgRk9SRUlHTiBLRVkocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0KGlkKSBPTiBERUxFVEUgU0VUIE5VTEwgT04gVVBEQVRFIENBU0NBREUiICsNCiAgICAgICAgICAgICAgICAgICAgIik7IjsNCiAgICAgICAgICAgIHN0bXQuZXhlY3V0ZShzY2VuYXJpb1NxbCk7DQoNCiAgICAgICAgICAgIC8vIENyZWF0ZSBzY2VuYXJpb19zdGVwIHRhYmxlDQogICAgICAgICAgICBTdHJpbmcgc3RlcFNxbCA9ICJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzY2VuYXJpb19zdGVwICgiICsNCiAgICAgICAgICAgICAgICAgICAgIiBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIiArDQogICAgICAgICAgICAgICAgICAgICIgc2NlbmFyaW9faWQgSU5URUdFUiBOT1QgTlVMTCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiBvcmRlcl9pbmRleCBJTlRFR0VSIE5PVCBOVUxMLCIgKw0KICAgICAgICAgICAgICAgICAgICAiIHRlc3RfdGNpZCBURVhUIE5PVCBOVUxMLCIgKw0KICAgICAgICAgICAgICAgICAgICAiIHdhaXRfdGltZSBJTlRFR0VSIERFRkFVTFQgMCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiB0YWdzIFRFWFQsIiArDQogICAgICAgICAgICAgICAgICAgICIgRk9SRUlHTiBLRVkoc2NlbmFyaW9faWQpIFJFRkVSRU5DRVMgc2NlbmFyaW8oaWQpIE9OIERFTEVURSBDQVNDQURFIE9OIFVQREFURSBDQVNDQURFIiArDQogICAgICAgICAgICAgICAgICAgICIpOyI7DQogICAgICAgICAgICBzdG10LmV4ZWN1dGUoc3RlcFNxbCk7DQoNCiAgICAgICAgICAgIC8vIENyZWF0ZSBzY2VuYXJpb19zY2hlZHVsZSB0YWJsZQ0KICAgICAgICAgICAgU3RyaW5nIHNjaGVkU3FsID0gIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNjZW5hcmlvX3NjaGVkdWxlICgiICsNCiAgICAgICAgICAgICAgICAgICAgIiBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIiArDQogICAgICAgICAgICAgICAgICAgICIgc2NlbmFyaW9faWQgSU5URUdFUiBOT1QgTlVMTCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiBjcm9uX2V4cHIgVEVYVCBOT1QgTlVMTCwiICsNCiAgICAgICAgICAgICAgICAgICAgIiBuZXh0X3J1bl9hdCBURVhULCIgKw0KICAgICAgICAgICAgICAgICAgICAiIGVuYWJsZWQgQk9PTEVBTiBERUZBVUxUIDEsIiArDQogICAgICAgICAgICAgICAgICAgICIgRk9SRUlHTiBLRVkoc2NlbmFyaW9faWQpIFJFRkVSRU5DRVMgc2NlbmFyaW8oaWQpIE9OIERFTEVURSBDQVNDQURFIE9OIFVQREFURSBDQVNDQURFIiArDQogICAgICAgICAgICAgICAgICAgICIpOyI7DQogICAgICAgICAgICBzdG10LmV4ZWN1dGUoc2NoZWRTcWwpOw0KDQogICAgICAgICAgICAvLyBDcmVhdGUgZGJfY29ubmVjdGlvbnMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdA0KICAgICAgICAgICAgU3RyaW5nIGRiQ29ubmVjdGlvbnNTcWwgPSAiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZGJfY29ubmVjdGlvbnMoIg0KICAgICAgICAgICAgICAgICAgICArICIgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIGFsaWFzIFRFWFQgVU5JUVVFIE5PVCBOVUxMLCINCiAgICAgICAgICAgICAgICAgICAgKyAiIGRlc2NyaXB0aW9uIFRFWFQsIg0KICAgICAgICAgICAgICAgICAgICArICIgZGJfdHlwZSBURVhULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIGhvc3QgVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBwb3J0IElOVEVHRVIsIg0KICAgICAgICAgICAgICAgICAgICArICIgZGJfbmFtZSBURVhULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIHNjaGVtYV9uYW1lIFRFWFQsIg0KICAgICAgICAgICAgICAgICAgICArICIgc2VydmljZV9uYW1lIFRFWFQsIg0KICAgICAgICAgICAgICAgICAgICArICIgdXNlcm5hbWUgVEVYVCwiDQogICAgICAgICAgICAgICAgICAgICsgIiBwYXNzd29yZCBURVhULCINCiAgICAgICAgICAgICAgICAgICAgKyAiIHBvb2xfc2l6ZSBJTlRFR0VSIERFRkFVTFQgNSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBwcm9qZWN0X2lkIElOVEVHRVIsIg0KICAgICAgICAgICAgICAgICAgICArICIgZW52aXJvbm1lbnRfaWQgSU5URUdFUiwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShwcm9qZWN0X2lkKSBSRUZFUkVOQ0VTIHByb2plY3QoaWQpIE9OIERFTEVURSBTRVQgTlVMTCBPTiBVUERBVEUgQ0FTQ0FERSwiDQogICAgICAgICAgICAgICAgICAgICsgIiBGT1JFSUdOIEtFWShlbnZpcm9ubWVudF9pZCkgUkVGRVJFTkNFUyBlbnZpcm9ubWVudHMoaWQpIE9OIERFTEVURSBSRVNUUklDVCBPTiBVUERBVEUgQ0FTQ0FERSINCiAgICAgICAgICAgICAgICAgICAgKyAiKTsiOw0KICAgICAgICAgICAgc3RtdC5leGVjdXRlKGRiQ29ubmVjdGlvbnNTcWwpOw0KDQogICAgICAgICAgICANCiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemVkLiBBbGwgdGFibGVzIGFyZSB1cCB0byBkYXRlLiIpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJFcnJvciBpbml0aWFsaXppbmcgZGF0YWJhc2U6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBNYWluIG1ldGhvZCB0byBpbml0aWFsaXplIHRoZSBkYXRhYmFzZSB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHMgb3IgZm9yIHRlc3RpbmcNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7DQogICAgICAgIGluaXRpYWxpemVEYXRhYmFzZSgpOw0KICAgIH0NCn0=
END
PATH:src/main/java/com/qa/app/model/BodyTemplate.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOwoKaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5JbnRlZ2VyUHJvcGVydHk7CmltcG9ydCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlSW50ZWdlclByb3BlcnR5OwppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5OwppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlN0cmluZ1Byb3BlcnR5OwoKcHVibGljIGNsYXNzIEJvZHlUZW1wbGF0ZSB7CiAgICBwcml2YXRlIGZpbmFsIEludGVnZXJQcm9wZXJ0eSBpZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nUHJvcGVydHkgbmFtZSA9IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgpOwogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSBjb250ZW50ID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGRlc2NyaXB0aW9uID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7CiAgICBwcml2YXRlIGZpbmFsIEludGVnZXJQcm9wZXJ0eSBwcm9qZWN0SWQgPSBuZXcgU2ltcGxlSW50ZWdlclByb3BlcnR5KCk7CgogICAgcHVibGljIEJvZHlUZW1wbGF0ZSgpIHsKICAgIH0KCiAgICBwdWJsaWMgQm9keVRlbXBsYXRlKFN0cmluZyBuYW1lLCBTdHJpbmcgY29udGVudCwgU3RyaW5nIGRlc2NyaXB0aW9uLCBJbnRlZ2VyIHByb2plY3RJZCkgewogICAgICAgIHRoaXMubmFtZS5zZXQobmFtZSk7CiAgICAgICAgdGhpcy5jb250ZW50LnNldChjb250ZW50KTsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uLnNldChkZXNjcmlwdGlvbik7CiAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMucHJvamVjdElkLnNldChwcm9qZWN0SWQpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgQm9keVRlbXBsYXRlKGludCBpZCwgU3RyaW5nIG5hbWUsIFN0cmluZyBjb250ZW50LCBTdHJpbmcgZGVzY3JpcHRpb24sIEludGVnZXIgcHJvamVjdElkKSB7CiAgICAgICAgdGhpcy5pZC5zZXQoaWQpOwogICAgICAgIHRoaXMubmFtZS5zZXQobmFtZSk7CiAgICAgICAgdGhpcy5jb250ZW50LnNldChjb250ZW50KTsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uLnNldChkZXNjcmlwdGlvbik7CiAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMucHJvamVjdElkLnNldChwcm9qZWN0SWQpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgaW50IGdldElkKCkgewogICAgICAgIHJldHVybiBpZC5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHsKICAgICAgICB0aGlzLmlkLnNldChpZCk7CiAgICB9CgogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSBpZFByb3BlcnR5KCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIG5hbWUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHRoaXMubmFtZS5zZXQobmFtZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IG5hbWVQcm9wZXJ0eSgpIHsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbnRlbnQoKSB7CiAgICAgICAgcmV0dXJuIGNvbnRlbnQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29udGVudChTdHJpbmcgY29udGVudCkgewogICAgICAgIHRoaXMuY29udGVudC5zZXQoY29udGVudCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGNvbnRlbnRQcm9wZXJ0eSgpIHsKICAgICAgICByZXR1cm4gY29udGVudDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiBkZXNjcmlwdGlvbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREZXNjcmlwdGlvbihTdHJpbmcgZGVzY3JpcHRpb24pIHsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uLnNldChkZXNjcmlwdGlvbik7CiAgICB9CgogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGRlc2NyaXB0aW9uUHJvcGVydHkoKSB7CiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uOwogICAgfQoKICAgIHB1YmxpYyBJbnRlZ2VyIGdldFByb2plY3RJZCgpIHsKICAgICAgICByZXR1cm4gcHJvamVjdElkLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgewogICAgICAgIGlmIChwcm9qZWN0SWQgIT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLnByb2plY3RJZC5zZXQocHJvamVjdElkKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSBwcm9qZWN0SWRQcm9wZXJ0eSgpIHsKICAgICAgICByZXR1cm4gcHJvamVjdElkOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4gbmFtZS5nZXQoKTsgLy8gRGlzcGxheSB0ZW1wbGF0ZSBuYW1lIGluIENvbWJvQm94CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/model/CheckType.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQpwdWJsaWMgZW51bSBDaGVja1R5cGUgew0KICAgIFNUQVRVUywgLy8gSFRUUCBzdGF0dXMgY29kZQ0KICAgIEpTT05fUEFUSCwNCiAgICBYUEFUSCwNCiAgICBSRUdFWCwNCiAgICBESUZGLCAgICAvLyBEaWZmZXJlbmNlIGNoZWNrOiBjb21wYXJlIHZhbHVlIGNoYW5nZXMgYmVmb3JlIGFuZCBhZnRlciBhbiBvcGVyYXRpb24NCiAgICBQUkVfQ0hFQ0ssIC8vIFByZS1jaGVjazogdmFsaWRhdGUgcmVmZXJlbmNlIEFQSSB2YWx1ZSBiZWZvcmUgbWFpbiByZXF1ZXN0DQogICAgUFNUX0NIRUNLLCAgLy8gUG9zdC1jaGVjazogdmFsaWRhdGUgcmVmZXJlbmNlIEFQSSB2YWx1ZSBhZnRlciBtYWluIHJlcXVlc3QNCiAgICBEQg0KfSA=
END
PATH:src/main/java/com/qa/app/model/ConditionRow.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOwoKaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eTsKaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TdHJpbmdQcm9wZXJ0eTsKaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5MaXN0UHJvcGVydHk7CmltcG9ydCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlTGlzdFByb3BlcnR5OwppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7CgpwdWJsaWMgY2xhc3MgQ29uZGl0aW9uUm93IHsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nUHJvcGVydHkgcHJlZml4OwogICAgcHJpdmF0ZSBmaW5hbCBMaXN0UHJvcGVydHk8U3RyaW5nPiB0Y2lkczsKCiAgICBwdWJsaWMgQ29uZGl0aW9uUm93KFN0cmluZyBwcmVmaXgsIE9ic2VydmFibGVMaXN0PFN0cmluZz4gdGNpZHMpIHsKICAgICAgICB0aGlzLnByZWZpeCA9IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShwcmVmaXgpOwogICAgICAgIHRoaXMudGNpZHMgPSBuZXcgU2ltcGxlTGlzdFByb3BlcnR5PD4odGNpZHMpOwogICAgfQoKICAgIHB1YmxpYyBDb25kaXRpb25Sb3coU3RyaW5nIHByZWZpeCwgU3RyaW5nIHRjaWQpIHsKICAgICAgICB0aGlzKHByZWZpeCwgRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KHRjaWQpKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFByZWZpeCgpIHsKICAgICAgICByZXR1cm4gcHJlZml4LmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFByZWZpeChTdHJpbmcgcHJlZml4KSB7CiAgICAgICAgdGhpcy5wcmVmaXguc2V0KHByZWZpeCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IHByZWZpeFByb3BlcnR5KCkgewogICAgICAgIHJldHVybiBwcmVmaXg7CiAgICB9CgogICAgcHVibGljIE9ic2VydmFibGVMaXN0PFN0cmluZz4gZ2V0VGNpZHMoKSB7CiAgICAgICAgcmV0dXJuIHRjaWRzLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRjaWRzKE9ic2VydmFibGVMaXN0PFN0cmluZz4gdGNpZHMpIHsKICAgICAgICB0aGlzLnRjaWRzLnNldCh0Y2lkcyk7CiAgICB9CgogICAgcHVibGljIExpc3RQcm9wZXJ0eTxTdHJpbmc+IHRjaWRzUHJvcGVydHkoKSB7CiAgICAgICAgcmV0dXJuIHRjaWRzOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGNpZCgpIHsKICAgICAgICByZXR1cm4gdGNpZHMuaXNFbXB0eSgpID8gIiIgOiB0Y2lkcy5nZXQoMCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VGNpZChTdHJpbmcgdGNpZCkgewogICAgICAgIHRoaXMudGNpZHMuc2V0KEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCh0Y2lkKSk7CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/model/DbConnection.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQpwdWJsaWMgY2xhc3MgRGJDb25uZWN0aW9uIHsNCiAgICBwcml2YXRlIExvbmcgaWQ7DQogICAgcHJpdmF0ZSBTdHJpbmcgYWxpYXM7DQogICAgcHJpdmF0ZSBEYlR5cGUgZGJUeXBlOw0KICAgIHByaXZhdGUgU3RyaW5nIGhvc3Q7DQogICAgcHJpdmF0ZSBpbnQgcG9ydDsNCiAgICBwcml2YXRlIFN0cmluZyBkYk5hbWU7DQogICAgcHJpdmF0ZSBTdHJpbmcgc2NoZW1hTmFtZTsNCiAgICBwcml2YXRlIFN0cmluZyBzZXJ2aWNlTmFtZTsNCiAgICBwcml2YXRlIFN0cmluZyB1c2VybmFtZTsNCiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDsNCiAgICBwcml2YXRlIGludCBwb29sU2l6ZSA9IDEwOw0KICAgIHByaXZhdGUgSW50ZWdlciBwcm9qZWN0SWQ7DQogICAgcHJpdmF0ZSBJbnRlZ2VyIGVudmlyb25tZW50SWQ7DQogICAgcHJpdmF0ZSBTdHJpbmcgZGVzY3JpcHRpb247DQogICAgDQogICAgLy8gR2V0dGVycyBhbmQgU2V0dGVycw0KICAgIHB1YmxpYyBMb25nIGdldElkKCkgew0KICAgICAgICByZXR1cm4gaWQ7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0SWQoTG9uZyBpZCkgew0KICAgICAgICB0aGlzLmlkID0gaWQ7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRBbGlhcygpIHsNCiAgICAgICAgcmV0dXJuIGFsaWFzOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldEFsaWFzKFN0cmluZyBhbGlhcykgew0KICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7DQogICAgfQ0KDQogICAgcHVibGljIERiVHlwZSBnZXREYlR5cGUoKSB7DQogICAgICAgIHJldHVybiBkYlR5cGU7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0RGJUeXBlKERiVHlwZSBkYlR5cGUpIHsNCiAgICAgICAgdGhpcy5kYlR5cGUgPSBkYlR5cGU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRIb3N0KCkgew0KICAgICAgICByZXR1cm4gaG9zdDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRIb3N0KFN0cmluZyBob3N0KSB7DQogICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRQb3J0KCkgew0KICAgICAgICByZXR1cm4gcG9ydDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRQb3J0KGludCBwb3J0KSB7DQogICAgICAgIHRoaXMucG9ydCA9IHBvcnQ7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXREYk5hbWUoKSB7DQogICAgICAgIHJldHVybiBkYk5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0RGJOYW1lKFN0cmluZyBkYk5hbWUpIHsNCiAgICAgICAgdGhpcy5kYk5hbWUgPSBkYk5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRTY2hlbWFOYW1lKCkgew0KICAgICAgICByZXR1cm4gc2NoZW1hTmFtZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlbWFOYW1lKFN0cmluZyBzY2hlbWFOYW1lKSB7DQogICAgICAgIHRoaXMuc2NoZW1hTmFtZSA9IHNjaGVtYU5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRTZXJ2aWNlTmFtZSgpIHsNCiAgICAgICAgcmV0dXJuIHNlcnZpY2VOYW1lOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFNlcnZpY2VOYW1lKFN0cmluZyBzZXJ2aWNlTmFtZSkgew0KICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRVc2VybmFtZSgpIHsNCiAgICAgICAgcmV0dXJuIHVzZXJuYW1lOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkgew0KICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHsNCiAgICAgICAgcmV0dXJuIHBhc3N3b3JkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkgew0KICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRQb29sU2l6ZSgpIHsNCiAgICAgICAgcmV0dXJuIHBvb2xTaXplOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFBvb2xTaXplKGludCBwb29sU2l6ZSkgew0KICAgICAgICB0aGlzLnBvb2xTaXplID0gcG9vbFNpemU7DQogICAgfQ0KDQogICAgcHVibGljIEludGVnZXIgZ2V0UHJvamVjdElkKCkgew0KICAgICAgICByZXR1cm4gcHJvamVjdElkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgew0KICAgICAgICB0aGlzLnByb2plY3RJZCA9IHByb2plY3RJZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgSW50ZWdlciBnZXRFbnZpcm9ubWVudElkKCkgew0KICAgICAgICByZXR1cm4gZW52aXJvbm1lbnRJZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRFbnZpcm9ubWVudElkKEludGVnZXIgZW52aXJvbm1lbnRJZCkgew0KICAgICAgICB0aGlzLmVudmlyb25tZW50SWQgPSBlbnZpcm9ubWVudElkOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7DQogICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXREZXNjcmlwdGlvbihTdHJpbmcgZGVzY3JpcHRpb24pIHsNCiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/model/DbType.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQovKioNCiAqIFN1cHBvcnRlZCBkYXRhYmFzZSB0eXBlcy4gRWFjaCBlbnVtIHZhbHVlIGhhcyBhbiBhc3NvY2lhdGVkIHN0cmluZyBrZXkgdXNlZCBmb3INCiAqIGRyaXZlciByZXNvbHV0aW9uIGFuZCBkYXRhYmFzZSBvcGVyYXRpb25zLg0KICovDQpwdWJsaWMgZW51bSBEYlR5cGUgew0KICAgIE1ZU1FMKCJteXNxbCIpLA0KICAgIFBPU1RHUkVTUUwoInBvc3RncmVzcWwiKSwNCiAgICBPUkFDTEUoIm9yYWNsZSIpLA0KICAgIFNRTFNFUlZFUigic3Fsc2VydmVyIik7DQogICAgDQogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcga2V5Ow0KICAgIA0KICAgIERiVHlwZShTdHJpbmcga2V5KSB7DQogICAgICAgIHRoaXMua2V5ID0ga2V5Ow0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBDb252ZXJ0IGZyb20gbG93ZXJjYXNlIGtleSB0byBlbnVtIGNvbnN0YW50Lg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgRGJUeXBlIGZyb21LZXkoU3RyaW5nIGtleSkgew0KICAgICAgICBpZiAoa2V5ID09IG51bGwpIHJldHVybiBudWxsOw0KICAgICAgICByZXR1cm4gc3dpdGNoIChrZXkudG9Mb3dlckNhc2UoKSkgew0KICAgICAgICAgICAgY2FzZSAibXlzcWwiIC0+IE1ZU1FMOw0KICAgICAgICAgICAgY2FzZSAicG9zdGdyZXNxbCIgLT4gUE9TVEdSRVNRTDsNCiAgICAgICAgICAgIGNhc2UgIm9yYWNsZSIgLT4gT1JBQ0xFOw0KICAgICAgICAgICAgY2FzZSAic3Fsc2VydmVyIiAtPiBTUUxTRVJWRVI7DQogICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIlVuc3VwcG9ydGVkIERCIHR5cGU6ICIgKyBrZXkpOw0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFJldHVybnMgdGhlIGNhbm9uaWNhbCBzdHJpbmcga2V5IGZvciB0aGlzIGRhdGFiYXNlIHR5cGUuDQogICAgICovDQogICAgcHVibGljIFN0cmluZyBrZXkoKSB7DQogICAgICAgIHJldHVybiBrZXk7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/model/DynamicVariable.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5Ow0KaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TdHJpbmdQcm9wZXJ0eTsNCg0KcHVibGljIGNsYXNzIER5bmFtaWNWYXJpYWJsZSB7DQogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSBrZXk7DQogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSB2YWx1ZTsNCg0KICAgIHB1YmxpYyBEeW5hbWljVmFyaWFibGUoU3RyaW5nIGtleSwgU3RyaW5nIHZhbHVlKSB7DQogICAgICAgIHRoaXMua2V5ID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KGtleSk7DQogICAgICAgIHRoaXMudmFsdWUgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkodmFsdWUpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0S2V5KCkgew0KICAgICAgICByZXR1cm4ga2V5LmdldCgpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSBrZXlQcm9wZXJ0eSgpIHsNCiAgICAgICAgcmV0dXJuIGtleTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRLZXkoU3RyaW5nIGtleSkgew0KICAgICAgICB0aGlzLmtleS5zZXQoa2V5KTsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldFZhbHVlKCkgew0KICAgICAgICByZXR1cm4gdmFsdWUuZ2V0KCk7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IHZhbHVlUHJvcGVydHkoKSB7DQogICAgICAgIHJldHVybiB2YWx1ZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRWYWx1ZShTdHJpbmcgdmFsdWUpIHsNCiAgICAgICAgdGhpcy52YWx1ZS5zZXQodmFsdWUpOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/model/Endpoint.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQpwdWJsaWMgY2xhc3MgRW5kcG9pbnQgew0KICAgIHByaXZhdGUgaW50IGlkOw0KICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7DQogICAgcHJpdmF0ZSBTdHJpbmcgbWV0aG9kOw0KICAgIHByaXZhdGUgU3RyaW5nIHVybDsNCiAgICBwcml2YXRlIEludGVnZXIgZW52aXJvbm1lbnRJZDsNCiAgICBwcml2YXRlIEludGVnZXIgcHJvamVjdElkOw0KDQogICAgcHVibGljIEVuZHBvaW50KCkge30NCiAgICBwdWJsaWMgRW5kcG9pbnQoaW50IGlkLCBTdHJpbmcgbmFtZSwgU3RyaW5nIG1ldGhvZCwgU3RyaW5nIHVybCwgSW50ZWdlciBlbnZpcm9ubWVudElkLCBJbnRlZ2VyIHByb2plY3RJZCkgew0KICAgICAgICB0aGlzLmlkID0gaWQ7DQogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7DQogICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kOw0KICAgICAgICB0aGlzLnVybCA9IHVybDsNCiAgICAgICAgdGhpcy5lbnZpcm9ubWVudElkID0gZW52aXJvbm1lbnRJZDsNCiAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSBwcm9qZWN0SWQ7DQogICAgfQ0KICAgIHB1YmxpYyBFbmRwb2ludChTdHJpbmcgbmFtZSwgU3RyaW5nIG1ldGhvZCwgU3RyaW5nIHVybCwgSW50ZWdlciBlbnZpcm9ubWVudElkLCBJbnRlZ2VyIHByb2plY3RJZCkgew0KICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOw0KICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDsNCiAgICAgICAgdGhpcy51cmwgPSB1cmw7DQogICAgICAgIHRoaXMuZW52aXJvbm1lbnRJZCA9IGVudmlyb25tZW50SWQ7DQogICAgICAgIHRoaXMucHJvamVjdElkID0gcHJvamVjdElkOw0KICAgIH0NCiAgICBwdWJsaWMgaW50IGdldElkKCkgeyByZXR1cm4gaWQ7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHsgdGhpcy5pZCA9IGlkOyB9DQogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgeyByZXR1cm4gbmFtZTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZTsgfQ0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0TWV0aG9kKCkgeyByZXR1cm4gbWV0aG9kOyB9DQogICAgcHVibGljIHZvaWQgc2V0TWV0aG9kKFN0cmluZyBtZXRob2QpIHsgdGhpcy5tZXRob2QgPSBtZXRob2Q7IH0NCiAgICBwdWJsaWMgU3RyaW5nIGdldFVybCgpIHsgcmV0dXJuIHVybDsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFVybChTdHJpbmcgdXJsKSB7IHRoaXMudXJsID0gdXJsOyB9DQogICAgcHVibGljIEludGVnZXIgZ2V0RW52aXJvbm1lbnRJZCgpIHsgcmV0dXJuIGVudmlyb25tZW50SWQ7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRFbnZpcm9ubWVudElkKEludGVnZXIgZW52aXJvbm1lbnRJZCkgeyB0aGlzLmVudmlyb25tZW50SWQgPSBlbnZpcm9ubWVudElkOyB9DQogICAgcHVibGljIEludGVnZXIgZ2V0UHJvamVjdElkKCkgeyByZXR1cm4gcHJvamVjdElkOyB9DQogICAgcHVibGljIHZvaWQgc2V0UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB7IHRoaXMucHJvamVjdElkID0gcHJvamVjdElkOyB9DQp9IA==
END
PATH:src/main/java/com/qa/app/model/Environment.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOwoKaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5JbnRlZ2VyUHJvcGVydHk7CmltcG9ydCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlSW50ZWdlclByb3BlcnR5OwppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5OwppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlN0cmluZ1Byb3BlcnR5OwoKcHVibGljIGNsYXNzIEVudmlyb25tZW50IHsKICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IGlkID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOwogICAgcHJpdmF0ZSBmaW5hbCBJbnRlZ2VyUHJvcGVydHkgcHJvamVjdElkID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOwogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSBuYW1lID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGRlc2NyaXB0aW9uID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7CgogICAgcHVibGljIEVudmlyb25tZW50KCkge30KCiAgICBwdWJsaWMgRW52aXJvbm1lbnQoU3RyaW5nIG5hbWUsIFN0cmluZyBkZXNjcmlwdGlvbiwgSW50ZWdlciBwcm9qZWN0SWQpIHsKICAgICAgICB0aGlzLm5hbWUuc2V0KG5hbWUpOwogICAgICAgIHRoaXMuZGVzY3JpcHRpb24uc2V0KGRlc2NyaXB0aW9uKTsKICAgICAgICBpZiAocHJvamVjdElkICE9IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0SWQuc2V0KHByb2plY3RJZCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBFbnZpcm9ubWVudChpbnQgaWQsIFN0cmluZyBuYW1lLCBTdHJpbmcgZGVzY3JpcHRpb24sIEludGVnZXIgcHJvamVjdElkKSB7CiAgICAgICAgdGhpcy5pZC5zZXQoaWQpOwogICAgICAgIHRoaXMubmFtZS5zZXQobmFtZSk7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbi5zZXQoZGVzY3JpcHRpb24pOwogICAgICAgIGlmIChwcm9qZWN0SWQgIT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLnByb2plY3RJZC5zZXQocHJvamVjdElkKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGludCBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gaWQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7CiAgICAgICAgdGhpcy5pZC5zZXQoaWQpOwogICAgfQoKICAgIHB1YmxpYyBJbnRlZ2VyUHJvcGVydHkgaWRQcm9wZXJ0eSgpIHsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CgogICAgcHVibGljIEludGVnZXIgZ2V0UHJvamVjdElkKCkgewogICAgICAgIHJldHVybiBwcm9qZWN0SWQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB7CiAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMucHJvamVjdElkLnNldChwcm9qZWN0SWQpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IHByb2plY3RJZFByb3BlcnR5KCkgewogICAgICAgIHJldHVybiBwcm9qZWN0SWQ7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewogICAgICAgIHJldHVybiBuYW1lLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICB0aGlzLm5hbWUuc2V0KG5hbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSBuYW1lUHJvcGVydHkoKSB7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsKICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGVzY3JpcHRpb24oU3RyaW5nIGRlc2NyaXB0aW9uKSB7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbi5zZXQoZGVzY3JpcHRpb24pOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSBkZXNjcmlwdGlvblByb3BlcnR5KCkgewogICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIG5hbWUuZ2V0KCk7CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/model/GatlingLoadParameters.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOwoKaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLio7CgppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7CgpwdWJsaWMgY2xhc3MgR2F0bGluZ0xvYWRQYXJhbWV0ZXJzIGltcGxlbWVudHMgU2VyaWFsaXphYmxlIHsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFMOwoKICAgIHByaXZhdGUgVGhyZWFkR3JvdXBUeXBlIHR5cGUgPSBUaHJlYWRHcm91cFR5cGUuU1RBTkRBUkQ7CiAgICBwcml2YXRlIFN0YW5kYXJkVGhyZWFkR3JvdXAgc3RhbmRhcmRUaHJlYWRHcm91cDsKICAgIHByaXZhdGUgU3RlcHBpbmdUaHJlYWRHcm91cCBzdGVwcGluZ1RocmVhZEdyb3VwOwogICAgcHJpdmF0ZSBVbHRpbWF0ZVRocmVhZEdyb3VwIHVsdGltYXRlVGhyZWFkR3JvdXA7CgogICAgcHVibGljIFRocmVhZEdyb3VwVHlwZSBnZXRUeXBlKCkgewogICAgICAgIHJldHVybiB0eXBlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFR5cGUoVGhyZWFkR3JvdXBUeXBlIHR5cGUpIHsKICAgICAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgfQoKICAgIHB1YmxpYyBTdGFuZGFyZFRocmVhZEdyb3VwIGdldFN0YW5kYXJkVGhyZWFkR3JvdXAoKSB7CiAgICAgICAgcmV0dXJuIHN0YW5kYXJkVGhyZWFkR3JvdXA7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U3RhbmRhcmRUaHJlYWRHcm91cChTdGFuZGFyZFRocmVhZEdyb3VwIHN0YW5kYXJkVGhyZWFkR3JvdXApIHsKICAgICAgICB0aGlzLnN0YW5kYXJkVGhyZWFkR3JvdXAgPSBzdGFuZGFyZFRocmVhZEdyb3VwOwogICAgfQoKICAgIHB1YmxpYyBTdGVwcGluZ1RocmVhZEdyb3VwIGdldFN0ZXBwaW5nVGhyZWFkR3JvdXAoKSB7CiAgICAgICAgcmV0dXJuIHN0ZXBwaW5nVGhyZWFkR3JvdXA7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U3RlcHBpbmdUaHJlYWRHcm91cChTdGVwcGluZ1RocmVhZEdyb3VwIHN0ZXBwaW5nVGhyZWFkR3JvdXApIHsKICAgICAgICB0aGlzLnN0ZXBwaW5nVGhyZWFkR3JvdXAgPSBzdGVwcGluZ1RocmVhZEdyb3VwOwogICAgfQoKICAgIHB1YmxpYyBVbHRpbWF0ZVRocmVhZEdyb3VwIGdldFVsdGltYXRlVGhyZWFkR3JvdXAoKSB7CiAgICAgICAgcmV0dXJuIHVsdGltYXRlVGhyZWFkR3JvdXA7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VWx0aW1hdGVUaHJlYWRHcm91cChVbHRpbWF0ZVRocmVhZEdyb3VwIHVsdGltYXRlVGhyZWFkR3JvdXApIHsKICAgICAgICB0aGlzLnVsdGltYXRlVGhyZWFkR3JvdXAgPSB1bHRpbWF0ZVRocmVhZEdyb3VwOwogICAgfQp9IA==
END
PATH:src/main/java/com/qa/app/model/GatlingTest.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5Lio7DQoNCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQpwdWJsaWMgY2xhc3MgR2F0bGluZ1Rlc3Qgew0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IGlkID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgQm9vbGVhblByb3BlcnR5IGlzRW5hYmxlZCA9IG5ldyBTaW1wbGVCb29sZWFuUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IHN1aXRlID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSB0Y2lkID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSBkZXNjcmlwdGlvbnMgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGNvbmRpdGlvbnMgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IHJlc3BvbnNlQ2hlY2tzID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBJbnRlZ2VyUHJvcGVydHkgZW5kcG9pbnRJZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGhlYWRlcnMgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGJvZHkgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IHRhZ3MgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIEludGVnZXJQcm9wZXJ0eSB3YWl0VGltZSA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIEludGVnZXJQcm9wZXJ0eSBib2R5VGVtcGxhdGVJZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIEludGVnZXJQcm9wZXJ0eSBoZWFkZXJzVGVtcGxhdGVJZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGVuZHBvaW50TmFtZSA9IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IHByb2plY3RJZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGludCBkaXNwbGF5T3JkZXI7DQogICAgcHJpdmF0ZSBNYXA8U3RyaW5nLCBTdHJpbmc+IGR5bmFtaWNWYXJpYWJsZXMgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgcHJpdmF0ZSBNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnNEeW5hbWljVmFyaWFibGVzID0gbmV3IEhhc2hNYXA8PigpOw0KICAgIHByaXZhdGUgTWFwPFN0cmluZywgU3RyaW5nPiBlbmRwb2ludER5bmFtaWNWYXJpYWJsZXMgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgcHJpdmF0ZSBTdHJpbmcgcmVwb3J0UGF0aDsNCiAgICBwcml2YXRlIEJvb2xlYW4gbGFzdFJ1blBhc3NlZDsNCg0KICAgIC8vIERlcHJlY2F0ZWQgZmllbGRzIHJlbW92ZWQ6IGV4cFN0YXR1cywgc2F2ZUZpZWxkcw0KDQogICAgcHVibGljIEdhdGxpbmdUZXN0KCkgew0KICAgICAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIHNob3VsZCBiZSBlbXB0eSBvciBpbml0aWFsaXplIHByb3BlcnRpZXMgd2l0aCBkZWZhdWx0IHZhbHVlcy4NCiAgICAgICAgLy8gVGhlIGVycm9uZW91cyBsaW5lIGhhcyBiZWVuIHJlbW92ZWQuDQogICAgfQ0KDQogICAgcHVibGljIEdhdGxpbmdUZXN0KFN0cmluZyBzdWl0ZSwgU3RyaW5nIHRjaWQsIFN0cmluZyBkZXNjcmlwdGlvbnMsIFN0cmluZyBlbmRwb2ludE5hbWUsIEludGVnZXIgcHJvamVjdElkKSB7DQogICAgICAgIHRoaXMuc3VpdGUuc2V0KHN1aXRlID09IG51bGwgPyAiIiA6IHN1aXRlKTsNCiAgICAgICAgdGhpcy50Y2lkLnNldCh0Y2lkKTsNCiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbnMuc2V0KGRlc2NyaXB0aW9ucyk7DQogICAgICAgIHRoaXMuZW5kcG9pbnROYW1lLnNldChlbmRwb2ludE5hbWUpOw0KICAgICAgICB0aGlzLmlzRW5hYmxlZC5zZXQoZmFsc2UpOw0KICAgICAgICB0aGlzLndhaXRUaW1lLnNldCgwKTsNCiAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLnByb2plY3RJZC5zZXQocHJvamVjdElkKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyBHYXRsaW5nVGVzdChpbnQgaWQsIGJvb2xlYW4gaXNFbmFibGVkLCBTdHJpbmcgc3VpdGUsIFN0cmluZyB0Y2lkLCBTdHJpbmcgZGVzY3JpcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBjb25kaXRpb25zLCBTdHJpbmcgcmVzcG9uc2VDaGVja3MsDQogICAgICAgICAgICAgICAgICAgICAgaW50IGVuZHBvaW50SWQsIFN0cmluZyBoZWFkZXJzLCBTdHJpbmcgYm9keSwNCiAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgdGFncywgaW50IHdhaXRUaW1lLCBpbnQgYm9keVRlbXBsYXRlSWQsIGludCBoZWFkZXJzVGVtcGxhdGVJZCwgTWFwPFN0cmluZywgU3RyaW5nPiBkeW5hbWljVmFyaWFibGVzLCBNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnNEeW5hbWljVmFyaWFibGVzLCBNYXA8U3RyaW5nLCBTdHJpbmc+IGVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcykgew0KICAgICAgICB0aGlzLmlkLnNldChpZCk7DQogICAgICAgIHRoaXMuaXNFbmFibGVkLnNldChpc0VuYWJsZWQpOw0KICAgICAgICB0aGlzLnN1aXRlLnNldChzdWl0ZSk7DQogICAgICAgIHRoaXMudGNpZC5zZXQodGNpZCk7DQogICAgICAgIHRoaXMuZGVzY3JpcHRpb25zLnNldChkZXNjcmlwdGlvbnMpOw0KICAgICAgICB0aGlzLmNvbmRpdGlvbnMuc2V0KGNvbmRpdGlvbnMpOw0KICAgICAgICB0aGlzLnJlc3BvbnNlQ2hlY2tzLnNldChyZXNwb25zZUNoZWNrcyk7DQogICAgICAgIHRoaXMuZW5kcG9pbnRJZC5zZXQoZW5kcG9pbnRJZCk7DQogICAgICAgIHRoaXMuaGVhZGVycy5zZXQoaGVhZGVycyk7DQogICAgICAgIHRoaXMuYm9keS5zZXQoYm9keSk7DQogICAgICAgIHRoaXMudGFncy5zZXQodGFncyk7DQogICAgICAgIHRoaXMud2FpdFRpbWUuc2V0KHdhaXRUaW1lKTsNCiAgICAgICAgdGhpcy5ib2R5VGVtcGxhdGVJZC5zZXQoYm9keVRlbXBsYXRlSWQpOw0KICAgICAgICB0aGlzLmhlYWRlcnNUZW1wbGF0ZUlkLnNldChoZWFkZXJzVGVtcGxhdGVJZCk7DQogICAgICAgIHRoaXMuZHluYW1pY1ZhcmlhYmxlcyA9IGR5bmFtaWNWYXJpYWJsZXM7DQogICAgICAgIHRoaXMuaGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMgPSBoZWFkZXJzRHluYW1pY1ZhcmlhYmxlczsNCiAgICAgICAgdGhpcy5lbmRwb2ludER5bmFtaWNWYXJpYWJsZXMgPSBlbmRwb2ludER5bmFtaWNWYXJpYWJsZXM7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ29weSBjb25zdHJ1Y3RvciBmb3IgZHVwbGljYXRpb24uDQogICAgICogQHBhcmFtIG90aGVyIFRoZSBHYXRsaW5nVGVzdCB0byBjb3B5Lg0KICAgICAqLw0KICAgIHB1YmxpYyBHYXRsaW5nVGVzdChHYXRsaW5nVGVzdCBvdGhlcikgew0KICAgICAgICAvLyBEbyBub3QgY29weSBJRCB0byBhbGxvdyBmb3IgbmV3IGluc2VydGlvbg0KICAgICAgICB0aGlzLmlzRW5hYmxlZC5zZXQoZmFsc2UpOyAvLyBEZWZhdWx0IHRvIGRpc2FibGVkDQogICAgICAgIHRoaXMuc3VpdGUuc2V0KG90aGVyLmdldFN1aXRlKCkpOw0KICAgICAgICB0aGlzLnRjaWQuc2V0KG90aGVyLmdldFRjaWQoKSArICJfY29weSIpOw0KICAgICAgICB0aGlzLmRlc2NyaXB0aW9ucy5zZXQob3RoZXIuZ2V0RGVzY3JpcHRpb25zKCkpOw0KICAgICAgICB0aGlzLmNvbmRpdGlvbnMuc2V0KG90aGVyLmdldENvbmRpdGlvbnMoKSk7DQogICAgICAgIHRoaXMucmVzcG9uc2VDaGVja3Muc2V0KG90aGVyLmdldFJlc3BvbnNlQ2hlY2tzKCkpOw0KICAgICAgICB0aGlzLmVuZHBvaW50SWQuc2V0KG90aGVyLmdldEVuZHBvaW50SWQoKSk7DQogICAgICAgIHRoaXMuaGVhZGVycy5zZXQob3RoZXIuZ2V0SGVhZGVycygpKTsNCiAgICAgICAgdGhpcy5ib2R5LnNldChvdGhlci5nZXRCb2R5KCkpOw0KICAgICAgICB0aGlzLnRhZ3Muc2V0KG90aGVyLmdldFRhZ3MoKSk7DQogICAgICAgIHRoaXMud2FpdFRpbWUuc2V0KG90aGVyLmdldFdhaXRUaW1lKCkpOw0KICAgICAgICB0aGlzLmJvZHlUZW1wbGF0ZUlkLnNldChvdGhlci5nZXRCb2R5VGVtcGxhdGVJZCgpKTsNCiAgICAgICAgdGhpcy5oZWFkZXJzVGVtcGxhdGVJZC5zZXQob3RoZXIuZ2V0SGVhZGVyc1RlbXBsYXRlSWQoKSk7DQogICAgICAgIHRoaXMuZW5kcG9pbnROYW1lLnNldChvdGhlci5nZXRFbmRwb2ludE5hbWUoKSk7DQogICAgICAgIHRoaXMucHJvamVjdElkLnNldChvdGhlci5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgIC8vIERlZXAgY29weSBtYXBzIHRvIGF2b2lkIHNoYXJlZCByZWZlcmVuY2VzDQogICAgICAgIHRoaXMuZHluYW1pY1ZhcmlhYmxlcyA9IG5ldyBIYXNoTWFwPD4ob3RoZXIuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgIHRoaXMuaGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMgPSBuZXcgSGFzaE1hcDw+KG90aGVyLmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICB0aGlzLmVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcyA9IG5ldyBIYXNoTWFwPD4ob3RoZXIuZ2V0RW5kcG9pbnREeW5hbWljVmFyaWFibGVzKCkpOw0KICAgIH0NCg0KICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnMNCiAgICBwdWJsaWMgaW50IGdldElkKCkgeyByZXR1cm4gaWQuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHsgdGhpcy5pZC5zZXQoaWQpOyB9DQogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSBpZFByb3BlcnR5KCkgeyByZXR1cm4gaWQ7IH0NCg0KICAgIHB1YmxpYyBib29sZWFuIGlzRW5hYmxlZCgpIHsgcmV0dXJuIGlzRW5hYmxlZC5nZXQoKTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldEVuYWJsZWQoYm9vbGVhbiBpc0VuYWJsZWQpIHsgdGhpcy5pc0VuYWJsZWQuc2V0KGlzRW5hYmxlZCk7IH0NCiAgICBwdWJsaWMgQm9vbGVhblByb3BlcnR5IGlzRW5hYmxlZFByb3BlcnR5KCkgeyByZXR1cm4gaXNFbmFibGVkOyB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldFN1aXRlKCkgeyByZXR1cm4gc3VpdGUuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRTdWl0ZShTdHJpbmcgc3VpdGUpIHsgdGhpcy5zdWl0ZS5zZXQoc3VpdGUgPT0gbnVsbCA/ICIiIDogc3VpdGUpOyB9DQogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IHN1aXRlUHJvcGVydHkoKSB7IHJldHVybiBzdWl0ZTsgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRUY2lkKCkgeyByZXR1cm4gdGNpZC5nZXQoKTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFRjaWQoU3RyaW5nIHRjaWQpIHsgdGhpcy50Y2lkLnNldCh0Y2lkKTsgfQ0KICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSB0Y2lkUHJvcGVydHkoKSB7IHJldHVybiB0Y2lkOyB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9ucygpIHsgcmV0dXJuIGRlc2NyaXB0aW9ucy5nZXQoKTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9ucyhTdHJpbmcgZGVzY3JpcHRpb25zKSB7IHRoaXMuZGVzY3JpcHRpb25zLnNldChkZXNjcmlwdGlvbnMpOyB9DQogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGRlc2NyaXB0aW9uc1Byb3BlcnR5KCkgeyByZXR1cm4gZGVzY3JpcHRpb25zOyB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbmRpdGlvbnMoKSB7IHJldHVybiBjb25kaXRpb25zLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0Q29uZGl0aW9ucyhTdHJpbmcgY29uZGl0aW9ucykgeyB0aGlzLmNvbmRpdGlvbnMuc2V0KGNvbmRpdGlvbnMpOyB9DQogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGNvbmRpdGlvbnNQcm9wZXJ0eSgpIHsgcmV0dXJuIGNvbmRpdGlvbnM7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVzcG9uc2VDaGVja3MoKSB7IHJldHVybiByZXNwb25zZUNoZWNrcy5nZXQoKTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFJlc3BvbnNlQ2hlY2tzKFN0cmluZyByZXNwb25zZUNoZWNrcykgeyB0aGlzLnJlc3BvbnNlQ2hlY2tzLnNldChyZXNwb25zZUNoZWNrcyk7IH0NCiAgICBwdWJsaWMgU3RyaW5nUHJvcGVydHkgcmVzcG9uc2VDaGVja3NQcm9wZXJ0eSgpIHsgcmV0dXJuIHJlc3BvbnNlQ2hlY2tzOyB9DQoNCiAgICBwdWJsaWMgaW50IGdldEVuZHBvaW50SWQoKSB7IHJldHVybiBlbmRwb2ludElkLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0RW5kcG9pbnRJZChpbnQgZW5kcG9pbnRJZCkgeyB0aGlzLmVuZHBvaW50SWQuc2V0KGVuZHBvaW50SWQpOyB9DQogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSBlbmRwb2ludElkUHJvcGVydHkoKSB7IHJldHVybiBlbmRwb2ludElkOyB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldEhlYWRlcnMoKSB7IHJldHVybiBoZWFkZXJzLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0SGVhZGVycyhTdHJpbmcgaGVhZGVycykgeyB0aGlzLmhlYWRlcnMuc2V0KGhlYWRlcnMpOyB9DQogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGhlYWRlcnNQcm9wZXJ0eSgpIHsgcmV0dXJuIGhlYWRlcnM7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0Qm9keSgpIHsgcmV0dXJuIGJvZHkuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRCb2R5KFN0cmluZyBib2R5VGVtcGxhdGUpIHsgdGhpcy5ib2R5LnNldChib2R5VGVtcGxhdGUpOyB9DQogICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGJvZHlUZW1wbGF0ZVByb3BlcnR5KCkgeyByZXR1cm4gYm9keTsgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRUYWdzKCkgeyByZXR1cm4gdGFncy5nZXQoKTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFRhZ3MoU3RyaW5nIHRhZ3MpIHsgdGhpcy50YWdzLnNldCh0YWdzKTsgfQ0KICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSB0YWdzUHJvcGVydHkoKSB7IHJldHVybiB0YWdzOyB9DQoNCiAgICBwdWJsaWMgaW50IGdldFdhaXRUaW1lKCkgeyByZXR1cm4gd2FpdFRpbWUuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRXYWl0VGltZShpbnQgd2FpdFRpbWUpIHsgdGhpcy53YWl0VGltZS5zZXQod2FpdFRpbWUpOyB9DQogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSB3YWl0VGltZVByb3BlcnR5KCkgeyByZXR1cm4gd2FpdFRpbWU7IH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0Qm9keVRlbXBsYXRlSWQoKSB7IHJldHVybiBib2R5VGVtcGxhdGVJZC5nZXQoKTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldEJvZHlUZW1wbGF0ZUlkKGludCBib2R5VGVtcGxhdGVJZCkgeyB0aGlzLmJvZHlUZW1wbGF0ZUlkLnNldChib2R5VGVtcGxhdGVJZCk7IH0NCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IGJvZHlUZW1wbGF0ZUlkUHJvcGVydHkoKSB7IHJldHVybiBib2R5VGVtcGxhdGVJZDsgfQ0KDQogICAgcHVibGljIGludCBnZXRIZWFkZXJzVGVtcGxhdGVJZCgpIHsgcmV0dXJuIGhlYWRlcnNUZW1wbGF0ZUlkLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0SGVhZGVyc1RlbXBsYXRlSWQoaW50IGhlYWRlcnNUZW1wbGF0ZUlkKSB7IHRoaXMuaGVhZGVyc1RlbXBsYXRlSWQuc2V0KGhlYWRlcnNUZW1wbGF0ZUlkKTsgfQ0KICAgIHB1YmxpYyBJbnRlZ2VyUHJvcGVydHkgaGVhZGVyc1RlbXBsYXRlSWRQcm9wZXJ0eSgpIHsgcmV0dXJuIGhlYWRlcnNUZW1wbGF0ZUlkOyB9DQoNCiAgICBwdWJsaWMgTWFwPFN0cmluZywgU3RyaW5nPiBnZXRCb2R5RHluYW1pY1ZhcmlhYmxlcygpIHsgcmV0dXJuIGR5bmFtaWNWYXJpYWJsZXM7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXREeW5hbWljVmFyaWFibGVzKE1hcDxTdHJpbmcsIFN0cmluZz4gZHluYW1pY1ZhcmlhYmxlcykgeyB0aGlzLmR5bmFtaWNWYXJpYWJsZXMgPSBkeW5hbWljVmFyaWFibGVzOyB9DQoNCiAgICBwdWJsaWMgTWFwPFN0cmluZywgU3RyaW5nPiBnZXRIZWFkZXJzRHluYW1pY1ZhcmlhYmxlcygpIHsgcmV0dXJuIGhlYWRlcnNEeW5hbWljVmFyaWFibGVzOyB9DQogICAgcHVibGljIHZvaWQgc2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoTWFwPFN0cmluZywgU3RyaW5nPiBoZWFkZXJzRHluYW1pY1ZhcmlhYmxlcykgeyB0aGlzLmhlYWRlcnNEeW5hbWljVmFyaWFibGVzID0gaGVhZGVyc0R5bmFtaWNWYXJpYWJsZXM7IH0NCg0KICAgIHB1YmxpYyBNYXA8U3RyaW5nLCBTdHJpbmc+IGdldEVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcygpIHsgcmV0dXJuIGVuZHBvaW50RHluYW1pY1ZhcmlhYmxlczsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldEVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcyhNYXA8U3RyaW5nLCBTdHJpbmc+IGVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcykgeyB0aGlzLmVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcyA9IGVuZHBvaW50RHluYW1pY1ZhcmlhYmxlczsgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRFbmRwb2ludE5hbWUoKSB7IHJldHVybiBlbmRwb2ludE5hbWUuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRFbmRwb2ludE5hbWUoU3RyaW5nIGVuZHBvaW50TmFtZSkgeyB0aGlzLmVuZHBvaW50TmFtZS5zZXQoZW5kcG9pbnROYW1lKTsgfQ0KICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSBlbmRwb2ludE5hbWVQcm9wZXJ0eSgpIHsgcmV0dXJuIGVuZHBvaW50TmFtZTsgfQ0KDQogICAgcHVibGljIEludGVnZXIgZ2V0UHJvamVjdElkKCkgew0KICAgICAgICByZXR1cm4gcHJvamVjdElkLmdldCgpOw0KICAgIH0NCiAgICBwdWJsaWMgdm9pZCBzZXRQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHsNCiAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLnByb2plY3RJZC5zZXQocHJvamVjdElkKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IHByb2plY3RJZFByb3BlcnR5KCkgew0KICAgICAgICByZXR1cm4gcHJvamVjdElkOw0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0RGlzcGxheU9yZGVyKCkgew0KICAgICAgICByZXR1cm4gZGlzcGxheU9yZGVyOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldERpc3BsYXlPcmRlcihpbnQgZGlzcGxheU9yZGVyKSB7DQogICAgICAgIHRoaXMuZGlzcGxheU9yZGVyID0gZGlzcGxheU9yZGVyOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVwb3J0UGF0aCgpIHsNCiAgICAgICAgcmV0dXJuIHJlcG9ydFBhdGg7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0UmVwb3J0UGF0aChTdHJpbmcgcmVwb3J0UGF0aCkgew0KICAgICAgICB0aGlzLnJlcG9ydFBhdGggPSByZXBvcnRQYXRoOw0KICAgIH0NCg0KICAgIHB1YmxpYyBCb29sZWFuIGdldExhc3RSdW5QYXNzZWQoKSB7DQogICAgICAgIHJldHVybiBsYXN0UnVuUGFzc2VkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldExhc3RSdW5QYXNzZWQoQm9vbGVhbiBsYXN0UnVuUGFzc2VkKSB7DQogICAgICAgIHRoaXMubGFzdFJ1blBhc3NlZCA9IGxhc3RSdW5QYXNzZWQ7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsNCiAgICAgICAgcmV0dXJuICJHYXRsaW5nVGVzdHsiICsNCiAgICAgICAgICAgICAgICAiaWQ9IiArIGdldElkKCkgKw0KICAgICAgICAgICAgICAgICIsIGlzRW5hYmxlZD0iICsgaXNFbmFibGVkKCkgKw0KICAgICAgICAgICAgICAgICIsIHN1aXRlPSciICsgZ2V0U3VpdGUoKSArICdcJycgKw0KICAgICAgICAgICAgICAgICIsIHRjaWQ9JyIgKyBnZXRUY2lkKCkgKyAnXCcnICsNCiAgICAgICAgICAgICAgICAiLCBkZXNjcmlwdGlvbnM9JyIgKyBnZXREZXNjcmlwdGlvbnMoKSArICdcJycgKw0KICAgICAgICAgICAgICAgICIsIGVuZHBvaW50TmFtZT0nIiArIGdldEVuZHBvaW50TmFtZSgpICsgJ1wnJyArDQogICAgICAgICAgICAgICAgJ30nOw0KICAgIH0NCn0=
END
PATH:src/main/java/com/qa/app/model/GroovyVariable.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOwoKcHVibGljIGNsYXNzIEdyb292eVZhcmlhYmxlIHsKICAgIHByaXZhdGUgSW50ZWdlciBpZDsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIFN0cmluZyB2YWx1ZTsKICAgIHByaXZhdGUgU3RyaW5nIGRlc2NyaXB0aW9uOwogICAgcHJpdmF0ZSBJbnRlZ2VyIGVudmlyb25tZW50SWQ7CiAgICBwcml2YXRlIEludGVnZXIgcHJvamVjdElkOwoKICAgIHB1YmxpYyBHcm9vdnlWYXJpYWJsZSgpIHsKICAgIH0KCiAgICBwdWJsaWMgR3Jvb3Z5VmFyaWFibGUoU3RyaW5nIG5hbWUsIFN0cmluZyB2YWx1ZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBJbnRlZ2VyIGVudmlyb25tZW50SWQsIEludGVnZXIgcHJvamVjdElkKSB7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMuZW52aXJvbm1lbnRJZCA9IGVudmlyb25tZW50SWQ7CiAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSBwcm9qZWN0SWQ7CiAgICB9CgogICAgcHVibGljIEdyb292eVZhcmlhYmxlKEludGVnZXIgaWQsIFN0cmluZyBuYW1lLCBTdHJpbmcgdmFsdWUsIFN0cmluZyBkZXNjcmlwdGlvbiwgSW50ZWdlciBlbnZpcm9ubWVudElkLCBJbnRlZ2VyIHByb2plY3RJZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICAgICAgdGhpcy5lbnZpcm9ubWVudElkID0gZW52aXJvbm1lbnRJZDsKICAgICAgICB0aGlzLnByb2plY3RJZCA9IHByb2plY3RJZDsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWQoSW50ZWdlciBpZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRWYWx1ZSgpIHsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VmFsdWUoU3RyaW5nIHZhbHVlKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikgewogICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRFbnZpcm9ubWVudElkKCkgewogICAgICAgIHJldHVybiBlbnZpcm9ubWVudElkOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEVudmlyb25tZW50SWQoSW50ZWdlciBlbnZpcm9ubWVudElkKSB7CiAgICAgICAgdGhpcy5lbnZpcm9ubWVudElkID0gZW52aXJvbm1lbnRJZDsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRQcm9qZWN0SWQoKSB7CiAgICAgICAgcmV0dXJuIHByb2plY3RJZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHsKICAgICAgICB0aGlzLnByb2plY3RJZCA9IHByb2plY3RJZDsKICAgIH0KfSA=
END
PATH:src/main/java/com/qa/app/model/HeadersTemplate.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOwoKcHVibGljIGNsYXNzIEhlYWRlcnNUZW1wbGF0ZSB7CiAgICBwcml2YXRlIGludCBpZDsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIFN0cmluZyBjb250ZW50OwogICAgcHJpdmF0ZSBTdHJpbmcgZGVzY3JpcHRpb247CiAgICBwcml2YXRlIEludGVnZXIgcHJvamVjdElkOwoKICAgIHB1YmxpYyBIZWFkZXJzVGVtcGxhdGUoKSB7fQogICAgcHVibGljIEhlYWRlcnNUZW1wbGF0ZShpbnQgaWQsIFN0cmluZyBuYW1lLCBTdHJpbmcgY29udGVudCwgU3RyaW5nIGRlc2NyaXB0aW9uLCBJbnRlZ2VyIHByb2plY3RJZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMucHJvamVjdElkID0gcHJvamVjdElkOwogICAgfQogICAgcHVibGljIEhlYWRlcnNUZW1wbGF0ZShTdHJpbmcgbmFtZSwgU3RyaW5nIGNvbnRlbnQsIFN0cmluZyBkZXNjcmlwdGlvbiwgSW50ZWdlciBwcm9qZWN0SWQpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMucHJvamVjdElkID0gcHJvamVjdElkOwogICAgfQogICAgcHVibGljIEhlYWRlcnNUZW1wbGF0ZShTdHJpbmcgbmFtZSwgU3RyaW5nIGNvbnRlbnQpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICB9CiAgICBwdWJsaWMgaW50IGdldElkKCkgeyByZXR1cm4gaWQ7IH0KICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkgeyB0aGlzLmlkID0gaWQ7IH0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsgcmV0dXJuIG5hbWU7IH0KICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZTsgfQogICAgcHVibGljIFN0cmluZyBnZXRDb250ZW50KCkgeyByZXR1cm4gY29udGVudDsgfQogICAgcHVibGljIHZvaWQgc2V0Q29udGVudChTdHJpbmcgY29udGVudCkgeyB0aGlzLmNvbnRlbnQgPSBjb250ZW50OyB9CiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgeyByZXR1cm4gZGVzY3JpcHRpb247IH0KICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247IH0KICAgIHB1YmxpYyBJbnRlZ2VyIGdldFByb2plY3RJZCgpIHsgcmV0dXJuIHByb2plY3RJZDsgfQogICAgcHVibGljIHZvaWQgc2V0UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB7IHRoaXMucHJvamVjdElkID0gcHJvamVjdElkOyB9Cn0g
END
PATH:src/main/java/com/qa/app/model/Operator.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQpwdWJsaWMgZW51bSBPcGVyYXRvciB7DQogICAgSVMsDQogICAgSVNfTk9ULA0KICAgIENPTlRBSU5TLA0KICAgIE5PVF9DT05UQUlOUywNCiAgICBHUkVBVEVSX1RIQU4sDQogICAgTEVTU19USEFOLA0KICAgIElTX05VTEwsDQogICAgTk9UX05VTEwsDQogICAgTUFUQ0hFUywNCiAgICBOT1RfTUFUQ0hFUw0KfSA=
END
PATH:src/main/java/com/qa/app/model/Project.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQpwdWJsaWMgY2xhc3MgUHJvamVjdCB7DQogICAgcHJpdmF0ZSBpbnQgaWQ7DQogICAgcHJpdmF0ZSBTdHJpbmcgbmFtZTsNCiAgICBwcml2YXRlIFN0cmluZyBkZXNjcmlwdGlvbjsNCiAgICBwcml2YXRlIGJvb2xlYW4gbGFzdFVzZWQ7DQoNCiAgICBwdWJsaWMgUHJvamVjdCgpIHt9DQoNCiAgICBwdWJsaWMgUHJvamVjdChpbnQgaWQsIFN0cmluZyBuYW1lLCBTdHJpbmcgZGVzY3JpcHRpb24pIHsNCiAgICAgICAgdGhpcy5pZCA9IGlkOw0KICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOw0KICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247DQogICAgfQ0KDQogICAgcHVibGljIFByb2plY3QoU3RyaW5nIG5hbWUsIFN0cmluZyBkZXNjcmlwdGlvbikgew0KICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOw0KICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRJZCgpIHsNCiAgICAgICAgcmV0dXJuIGlkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkgew0KICAgICAgICB0aGlzLmlkID0gaWQ7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgew0KICAgICAgICByZXR1cm4gbmFtZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7DQogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikgew0KICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247DQogICAgfQ0KDQogICAgcHVibGljIGJvb2xlYW4gaXNMYXN0VXNlZCgpIHsNCiAgICAgICAgcmV0dXJuIGxhc3RVc2VkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldExhc3RVc2VkKGJvb2xlYW4gbGFzdFVzZWQpIHsNCiAgICAgICAgdGhpcy5sYXN0VXNlZCA9IGxhc3RVc2VkOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/model/reports/CaseReport.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIENhc2VSZXBvcnQgew0KICAgIHByaXZhdGUgU3RyaW5nIHRjaWQ7DQogICAgcHJpdmF0ZSBMaXN0PFJlcXVlc3RSZXBvcnQ+IGl0ZW1zOw0KICAgIHByaXZhdGUgYm9vbGVhbiBwYXNzZWQ7DQoNCiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzDQogICAgcHVibGljIFN0cmluZyBnZXRUY2lkKCkgew0KICAgICAgICByZXR1cm4gdGNpZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRUY2lkKFN0cmluZyB0Y2lkKSB7DQogICAgICAgIHRoaXMudGNpZCA9IHRjaWQ7DQogICAgfQ0KDQogICAgcHVibGljIExpc3Q8UmVxdWVzdFJlcG9ydD4gZ2V0SXRlbXMoKSB7DQogICAgICAgIHJldHVybiBpdGVtczsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRJdGVtcyhMaXN0PFJlcXVlc3RSZXBvcnQ+IGl0ZW1zKSB7DQogICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtczsNCiAgICB9DQoNCiAgICBwdWJsaWMgYm9vbGVhbiBpc1Bhc3NlZCgpIHsNCiAgICAgICAgcmV0dXJuIHBhc3NlZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzZWQoYm9vbGVhbiBwYXNzZWQpIHsNCiAgICAgICAgdGhpcy5wYXNzZWQgPSBwYXNzZWQ7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/model/reports/CheckReport.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkNoZWNrVHlwZTsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLk9wZXJhdG9yOw0KDQpwdWJsaWMgY2xhc3MgQ2hlY2tSZXBvcnQgew0KICAgIHByaXZhdGUgQ2hlY2tUeXBlIHR5cGU7DQogICAgcHJpdmF0ZSBTdHJpbmcgZXhwcmVzc2lvbjsNCiAgICBwcml2YXRlIE9wZXJhdG9yIG9wZXJhdG9yOw0KICAgIHByaXZhdGUgU3RyaW5nIGV4cGVjdDsNCiAgICBwcml2YXRlIFN0cmluZyBhY3R1YWw7DQogICAgcHJpdmF0ZSBib29sZWFuIHBhc3NlZDsNCg0KICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnMNCiAgICBwdWJsaWMgQ2hlY2tUeXBlIGdldFR5cGUoKSB7DQogICAgICAgIHJldHVybiB0eXBlOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFR5cGUoQ2hlY2tUeXBlIHR5cGUpIHsNCiAgICAgICAgdGhpcy50eXBlID0gdHlwZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldEV4cHJlc3Npb24oKSB7DQogICAgICAgIHJldHVybiBleHByZXNzaW9uOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldEV4cHJlc3Npb24oU3RyaW5nIGV4cHJlc3Npb24pIHsNCiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjsNCiAgICB9DQoNCiAgICBwdWJsaWMgT3BlcmF0b3IgZ2V0T3BlcmF0b3IoKSB7DQogICAgICAgIHJldHVybiBvcGVyYXRvcjsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRPcGVyYXRvcihPcGVyYXRvciBvcGVyYXRvcikgew0KICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRFeHBlY3QoKSB7DQogICAgICAgIHJldHVybiBleHBlY3Q7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0RXhwZWN0KFN0cmluZyBleHBlY3QpIHsNCiAgICAgICAgdGhpcy5leHBlY3QgPSBleHBlY3Q7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRBY3R1YWwoKSB7DQogICAgICAgIHJldHVybiBhY3R1YWw7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0QWN0dWFsKFN0cmluZyBhY3R1YWwpIHsNCiAgICAgICAgdGhpcy5hY3R1YWwgPSBhY3R1YWw7DQogICAgfQ0KDQogICAgcHVibGljIGJvb2xlYW4gaXNQYXNzZWQoKSB7DQogICAgICAgIHJldHVybiBwYXNzZWQ7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0UGFzc2VkKGJvb2xlYW4gcGFzc2VkKSB7DQogICAgICAgIHRoaXMucGFzc2VkID0gcGFzc2VkOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/model/reports/FunctionalTestReport.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIEZ1bmN0aW9uYWxUZXN0UmVwb3J0IHsNCiAgICBwcml2YXRlIFN0cmluZyBvcmlnaW5UY2lkOw0KICAgIHByaXZhdGUgU3RyaW5nIHN1aXRlOw0KICAgIHByaXZhdGUgU3RyaW5nIGV4ZWN1dGVkQXQ7DQogICAgcHJpdmF0ZSBMaXN0PE1vZGVHcm91cD4gZ3JvdXBzID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PigpOw0KICAgIHByaXZhdGUgYm9vbGVhbiBwYXNzZWQ7DQoNCiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzDQogICAgcHVibGljIFN0cmluZyBnZXRPcmlnaW5UY2lkKCkgew0KICAgICAgICByZXR1cm4gb3JpZ2luVGNpZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRPcmlnaW5UY2lkKFN0cmluZyBvcmlnaW5UY2lkKSB7DQogICAgICAgIHRoaXMub3JpZ2luVGNpZCA9IG9yaWdpblRjaWQ7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRTdWl0ZSgpIHsNCiAgICAgICAgcmV0dXJuIHN1aXRlOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFN1aXRlKFN0cmluZyBzdWl0ZSkgew0KICAgICAgICB0aGlzLnN1aXRlID0gc3VpdGU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRFeGVjdXRlZEF0KCkgew0KICAgICAgICByZXR1cm4gZXhlY3V0ZWRBdDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRFeGVjdXRlZEF0KFN0cmluZyBleGVjdXRlZEF0KSB7DQogICAgICAgIHRoaXMuZXhlY3V0ZWRBdCA9IGV4ZWN1dGVkQXQ7DQogICAgfQ0KDQogICAgcHVibGljIExpc3Q8TW9kZUdyb3VwPiBnZXRHcm91cHMoKSB7DQogICAgICAgIHJldHVybiBncm91cHM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0R3JvdXBzKExpc3Q8TW9kZUdyb3VwPiBncm91cHMpIHsNCiAgICAgICAgdGhpcy5ncm91cHMgPSBncm91cHM7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyBib29sZWFuIGlzUGFzc2VkKCkgew0KICAgICAgICByZXR1cm4gcGFzc2VkOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzZWQoYm9vbGVhbiBwYXNzZWQpIHsNCiAgICAgICAgdGhpcy5wYXNzZWQgPSBwYXNzZWQ7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/model/reports/ModeGroup.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIE1vZGVHcm91cCB7DQogICAgcHJpdmF0ZSBUZXN0TW9kZSBtb2RlOw0KICAgIHByaXZhdGUgTGlzdDxDYXNlUmVwb3J0PiBjYXNlczsNCg0KICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnMNCiAgICBwdWJsaWMgVGVzdE1vZGUgZ2V0TW9kZSgpIHsNCiAgICAgICAgcmV0dXJuIG1vZGU7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0TW9kZShUZXN0TW9kZSBtb2RlKSB7DQogICAgICAgIHRoaXMubW9kZSA9IG1vZGU7DQogICAgfQ0KDQogICAgcHVibGljIExpc3Q8Q2FzZVJlcG9ydD4gZ2V0Q2FzZXMoKSB7DQogICAgICAgIHJldHVybiBjYXNlczsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRDYXNlcyhMaXN0PENhc2VSZXBvcnQ+IGNhc2VzKSB7DQogICAgICAgIHRoaXMuY2FzZXMgPSBjYXNlczsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/model/reports/RequestInfo.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQpwdWJsaWMgY2xhc3MgUmVxdWVzdEluZm8gew0KICAgIHByaXZhdGUgU3RyaW5nIG1ldGhvZDsNCiAgICBwcml2YXRlIFN0cmluZyB1cmw7DQogICAgcHJpdmF0ZSBNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnM7DQogICAgcHJpdmF0ZSBTdHJpbmcgYm9keTsNCg0KICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnMNCiAgICBwdWJsaWMgU3RyaW5nIGdldE1ldGhvZCgpIHsNCiAgICAgICAgcmV0dXJuIG1ldGhvZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRob2QoU3RyaW5nIG1ldGhvZCkgew0KICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldFVybCgpIHsNCiAgICAgICAgcmV0dXJuIHVybDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRVcmwoU3RyaW5nIHVybCkgew0KICAgICAgICB0aGlzLnVybCA9IHVybDsNCiAgICB9DQoNCiAgICBwdWJsaWMgTWFwPFN0cmluZywgU3RyaW5nPiBnZXRIZWFkZXJzKCkgew0KICAgICAgICByZXR1cm4gaGVhZGVyczsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRIZWFkZXJzKE1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVycykgew0KICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0Qm9keSgpIHsNCiAgICAgICAgcmV0dXJuIGJvZHk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0Qm9keShTdHJpbmcgYm9keSkgew0KICAgICAgICB0aGlzLmJvZHkgPSBib2R5Ow0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/model/reports/RequestReport.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGNsYXNzIFJlcXVlc3RSZXBvcnQgew0KICAgIHByaXZhdGUgU3RyaW5nIHJlcXVlc3ROYW1lOw0KICAgIHByaXZhdGUgUmVxdWVzdEluZm8gcmVxdWVzdDsNCiAgICBwcml2YXRlIFJlc3BvbnNlSW5mbyByZXNwb25zZTsNCiAgICBwcml2YXRlIExpc3Q8Q2hlY2tSZXBvcnQ+IGNoZWNrczsNCiAgICBwcml2YXRlIGJvb2xlYW4gcGFzc2VkOw0KICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1czsNCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3RhdHVzKCkgew0KICAgICAgICByZXR1cm4gc3RhdHVzOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1cyhTdHJpbmcgc3RhdHVzKSB7DQogICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzOw0KICAgIH0NCg0KICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnMNCiAgICBwdWJsaWMgYm9vbGVhbiBpc1Bhc3NlZCgpIHsNCiAgICAgICAgcmV0dXJuIHBhc3NlZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzZWQoYm9vbGVhbiBwYXNzZWQpIHsNCiAgICAgICAgdGhpcy5wYXNzZWQgPSBwYXNzZWQ7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRSZXF1ZXN0TmFtZSgpIHsNCiAgICAgICAgcmV0dXJuIHJlcXVlc3ROYW1lOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFJlcXVlc3ROYW1lKFN0cmluZyByZXF1ZXN0TmFtZSkgew0KICAgICAgICB0aGlzLnJlcXVlc3ROYW1lID0gcmVxdWVzdE5hbWU7DQogICAgfQ0KDQogICAgcHVibGljIFJlcXVlc3RJbmZvIGdldFJlcXVlc3QoKSB7DQogICAgICAgIHJldHVybiByZXF1ZXN0Ow0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFJlcXVlc3QoUmVxdWVzdEluZm8gcmVxdWVzdCkgew0KICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0Ow0KICAgIH0NCg0KICAgIHB1YmxpYyBSZXNwb25zZUluZm8gZ2V0UmVzcG9uc2UoKSB7DQogICAgICAgIHJldHVybiByZXNwb25zZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRSZXNwb25zZShSZXNwb25zZUluZm8gcmVzcG9uc2UpIHsNCiAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlOw0KICAgIH0NCg0KICAgIHB1YmxpYyBMaXN0PENoZWNrUmVwb3J0PiBnZXRDaGVja3MoKSB7DQogICAgICAgIHJldHVybiBjaGVja3M7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0Q2hlY2tzKExpc3Q8Q2hlY2tSZXBvcnQ+IGNoZWNrcykgew0KICAgICAgICB0aGlzLmNoZWNrcyA9IGNoZWNrczsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/model/reports/ResponseInfo.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQpwdWJsaWMgY2xhc3MgUmVzcG9uc2VJbmZvIHsNCiAgICBwcml2YXRlIGludCBzdGF0dXM7DQogICAgcHJpdmF0ZSBNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnM7DQogICAgcHJpdmF0ZSBTdHJpbmcgYm9keVNhbXBsZTsNCiAgICBwcml2YXRlIGxvbmcgbGF0ZW5jeU1zOw0KICAgIHByaXZhdGUgbG9uZyBzaXplQnl0ZXM7DQoNCiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzDQogICAgcHVibGljIGludCBnZXRTdGF0dXMoKSB7DQogICAgICAgIHJldHVybiBzdGF0dXM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0U3RhdHVzKGludCBzdGF0dXMpIHsNCiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7DQogICAgfQ0KDQogICAgcHVibGljIE1hcDxTdHJpbmcsIFN0cmluZz4gZ2V0SGVhZGVycygpIHsNCiAgICAgICAgcmV0dXJuIGhlYWRlcnM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0SGVhZGVycyhNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnMpIHsNCiAgICAgICAgdGhpcy5oZWFkZXJzID0gaGVhZGVyczsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldEJvZHlTYW1wbGUoKSB7DQogICAgICAgIHJldHVybiBib2R5U2FtcGxlOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldEJvZHlTYW1wbGUoU3RyaW5nIGJvZHlTYW1wbGUpIHsNCiAgICAgICAgdGhpcy5ib2R5U2FtcGxlID0gYm9keVNhbXBsZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgbG9uZyBnZXRMYXRlbmN5TXMoKSB7DQogICAgICAgIHJldHVybiBsYXRlbmN5TXM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0TGF0ZW5jeU1zKGxvbmcgbGF0ZW5jeU1zKSB7DQogICAgICAgIHRoaXMubGF0ZW5jeU1zID0gbGF0ZW5jeU1zOw0KICAgIH0NCg0KICAgIHB1YmxpYyBsb25nIGdldFNpemVCeXRlcygpIHsNCiAgICAgICAgcmV0dXJuIHNpemVCeXRlczsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRTaXplQnl0ZXMobG9uZyBzaXplQnl0ZXMpIHsNCiAgICAgICAgdGhpcy5zaXplQnl0ZXMgPSBzaXplQnl0ZXM7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/model/reports/TestMode.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHM7DQoNCnB1YmxpYyBlbnVtIFRlc3RNb2RlIHsNCiAgICBTRVRVUCwNCiAgICBNQUlOLA0KICAgIFRFQVJET1dOLA0KICAgIERJRkZfUFJFLA0KICAgIERJRkZfUFNULA0KICAgIFBSRV9DSEVDSywNCiAgICBQU1RfQ0hFQ0sNCn0g
END
PATH:src/main/java/com/qa/app/model/ResponseCheck.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmFubm90YXRpb24uSnNvbklnbm9yZVByb3BlcnRpZXM7DQoNCi8qKg0KICogUmVwcmVzZW50cyBhIHJlc3BvbnNlIHZhbGlkYXRpb24gcnVsZSBjb25maWd1cmVkIGZvciBhIEdhdGxpbmcgdGVzdC4NCiAqIDxwPg0KICogVGhlIHJ1bnRpbWUgImFjdHVhbCIgcmVzdWx0IG9mIHRoZSBjaGVjayBpcyBubyBsb25nZXIgcGVyc2lzdGVkIHRvIHRoZSBkYXRhYmFzZSwNCiAqIHRoZXJlZm9yZSBpdCBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyBtb2RlbC4gQW55IGxlZ2FjeSBKU09OIHRoYXQgc3RpbGwNCiAqIGNvbnRhaW5zIGFuICJhY3R1YWwiIGZpZWxkIHdpbGwgYmUgc2FmZWx5IGlnbm9yZWQgdmlhIHtAbGluayBKc29uSWdub3JlUHJvcGVydGllc30uDQogKi8NCkBKc29uSWdub3JlUHJvcGVydGllcyhpZ25vcmVVbmtub3duID0gdHJ1ZSkNCnB1YmxpYyBjbGFzcyBSZXNwb25zZUNoZWNrIHsNCiAgICBwcml2YXRlIENoZWNrVHlwZSB0eXBlOw0KICAgIHByaXZhdGUgU3RyaW5nIGV4cHJlc3Npb247DQogICAgcHJpdmF0ZSBPcGVyYXRvciBvcGVyYXRvcjsNCiAgICBwcml2YXRlIFN0cmluZyBleHBlY3Q7DQogICAgcHJpdmF0ZSBTdHJpbmcgc2F2ZUFzOw0KICAgIC8vIElmIHRydWUsIHRoaXMgY2hlY2sgYmVjb21lcyBvcHRpb25hbCAobm9uLWZhdGFsKSBpbiBHYXRsaW5nDQogICAgcHJpdmF0ZSBib29sZWFuIG9wdGlvbmFsOw0KICAgIA0KICAgIC8vIC0tLSBEQiBDaGVjayBTcGVjaWZpYyBGaWVsZHMgLS0tDQogICAgcHJpdmF0ZSBTdHJpbmcgZGJBbGlhczsgICAgIC8vIERhdGFiYXNlIGNvbm5lY3Rpb24gYWxpYXMNCiAgICBwcml2YXRlIFN0cmluZyBkYlNxbDsgICAgICAgLy8gU1FMIHF1ZXJ5IG9yIHN0YXRlbWVudA0KICAgIHByaXZhdGUgU3RyaW5nIGRiQ29sdW1uOyAgICAvLyBDb2x1bW4gdG8gZXh0cmFjdCB2YWx1ZSBmcm9tIChmb3IgU0VMRUNUKQ0KDQogICAgcHVibGljIFJlc3BvbnNlQ2hlY2soKSB7DQogICAgICAgIHRoaXMub3B0aW9uYWwgPSBmYWxzZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgUmVzcG9uc2VDaGVjayhDaGVja1R5cGUgdHlwZSwgU3RyaW5nIGV4cHJlc3Npb24sIE9wZXJhdG9yIG9wZXJhdG9yLCBTdHJpbmcgZXhwZWN0LCBTdHJpbmcgc2F2ZUFzKSB7DQogICAgICAgIHRoaXModHlwZSwgZXhwcmVzc2lvbiwgb3BlcmF0b3IsIGV4cGVjdCwgc2F2ZUFzLCBmYWxzZSk7DQogICAgfQ0KDQogICAgcHVibGljIFJlc3BvbnNlQ2hlY2soQ2hlY2tUeXBlIHR5cGUsIFN0cmluZyBleHByZXNzaW9uLCBPcGVyYXRvciBvcGVyYXRvciwgU3RyaW5nIGV4cGVjdCwgU3RyaW5nIHNhdmVBcywgYm9vbGVhbiBvcHRpb25hbCkgew0KICAgICAgICB0aGlzLnR5cGUgPSB0eXBlOw0KICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uOw0KICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7DQogICAgICAgIHRoaXMuZXhwZWN0ID0gZXhwZWN0Ow0KICAgICAgICB0aGlzLnNhdmVBcyA9IHNhdmVBczsNCiAgICAgICAgdGhpcy5vcHRpb25hbCA9IG9wdGlvbmFsOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIENvcHkgY29uc3RydWN0b3IuDQogICAgICovDQogICAgcHVibGljIFJlc3BvbnNlQ2hlY2soUmVzcG9uc2VDaGVjayBvdGhlcikgew0KICAgICAgICBpZiAob3RoZXIgIT0gbnVsbCkgew0KICAgICAgICAgICAgdGhpcy50eXBlID0gb3RoZXIudHlwZTsNCiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IG90aGVyLmV4cHJlc3Npb247DQogICAgICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3RoZXIub3BlcmF0b3I7DQogICAgICAgICAgICB0aGlzLmV4cGVjdCA9IG90aGVyLmV4cGVjdDsNCiAgICAgICAgICAgIHRoaXMuc2F2ZUFzID0gb3RoZXIuc2F2ZUFzOw0KICAgICAgICAgICAgdGhpcy5vcHRpb25hbCA9IG90aGVyLm9wdGlvbmFsOw0KICAgICAgICAgICAgdGhpcy5kYkFsaWFzID0gb3RoZXIuZGJBbGlhczsNCiAgICAgICAgICAgIHRoaXMuZGJTcWwgPSBvdGhlci5kYlNxbDsNCiAgICAgICAgICAgIHRoaXMuZGJDb2x1bW4gPSBvdGhlci5kYkNvbHVtbjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyBDaGVja1R5cGUgZ2V0VHlwZSgpIHsNCiAgICAgICAgcmV0dXJuIHR5cGU7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0VHlwZShDaGVja1R5cGUgdHlwZSkgew0KICAgICAgICB0aGlzLnR5cGUgPSB0eXBlOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RXhwcmVzc2lvbigpIHsNCiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0RXhwcmVzc2lvbihTdHJpbmcgZXhwcmVzc2lvbikgew0KICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uOw0KICAgIH0NCg0KICAgIHB1YmxpYyBPcGVyYXRvciBnZXRPcGVyYXRvcigpIHsNCiAgICAgICAgcmV0dXJuIG9wZXJhdG9yOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldE9wZXJhdG9yKE9wZXJhdG9yIG9wZXJhdG9yKSB7DQogICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldEV4cGVjdCgpIHsNCiAgICAgICAgcmV0dXJuIGV4cGVjdDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRFeHBlY3QoU3RyaW5nIGV4cGVjdCkgew0KICAgICAgICB0aGlzLmV4cGVjdCA9IGV4cGVjdDsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldFNhdmVBcygpIHsNCiAgICAgICAgcmV0dXJuIHNhdmVBczsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRTYXZlQXMoU3RyaW5nIHNhdmVBcykgew0KICAgICAgICB0aGlzLnNhdmVBcyA9IHNhdmVBczsNCiAgICB9DQoNCiAgICBwdWJsaWMgYm9vbGVhbiBpc09wdGlvbmFsKCkgew0KICAgICAgICByZXR1cm4gb3B0aW9uYWw7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0T3B0aW9uYWwoYm9vbGVhbiBvcHRpb25hbCkgew0KICAgICAgICB0aGlzLm9wdGlvbmFsID0gb3B0aW9uYWw7DQogICAgfQ0KICAgIA0KICAgIC8vIC0tLSBHZXR0ZXJzIGFuZCBTZXR0ZXJzIGZvciBuZXcgZmllbGRzIC0tLQ0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGJBbGlhcygpIHsgcmV0dXJuIGRiQWxpYXM7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXREYkFsaWFzKFN0cmluZyBkYkFsaWFzKSB7IHRoaXMuZGJBbGlhcyA9IGRiQWxpYXM7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGJTcWwoKSB7IHJldHVybiBkYlNxbDsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldERiU3FsKFN0cmluZyBkYlNxbCkgeyB0aGlzLmRiU3FsID0gZGJTcWw7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGJDb2x1bW4oKSB7IHJldHVybiBkYkNvbHVtbjsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldERiQ29sdW1uKFN0cmluZyBkYkNvbHVtbikgeyB0aGlzLmRiQ29sdW1uID0gZGJDb2x1bW47IH0NCn0g
END
PATH:src/main/java/com/qa/app/model/Scenario.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5Lio7DQoNCi8qKg0KICog5Zy65pmv5a6e5L2T77yM5YyF5ZCr57q/56iL57uE5LiO6LCD5bqm6K6+572u5bqP5YiX5YyW5ZCO55qEIEpTT04g5a2X56ym5Liy44CCDQogKi8NCnB1YmxpYyBjbGFzcyBTY2VuYXJpbyB7DQoNCiAgICBwcml2YXRlIGZpbmFsIEludGVnZXJQcm9wZXJ0eSBpZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IG5hbWUgPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IGRlc2NyaXB0aW9uID0gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSB0aHJlYWRHcm91cEpzb24gPSBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1Byb3BlcnR5IHNjaGVkdWxlSnNvbiA9IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IHByb2plY3RJZCA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCiAgICBwcml2YXRlIGludCBkaXNwbGF5T3JkZXI7DQoNCiAgICBwdWJsaWMgU2NlbmFyaW8oKSB7fQ0KDQogICAgcHVibGljIFNjZW5hcmlvKFN0cmluZyBuYW1lLCBTdHJpbmcgZGVzY3JpcHRpb24pIHsNCiAgICAgICAgdGhpcy5uYW1lLnNldChuYW1lKTsNCiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbi5zZXQoZGVzY3JpcHRpb24pOw0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0gR2V0dGVycyAvIFNldHRlcnMgLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBwdWJsaWMgaW50IGdldElkKCkgeyByZXR1cm4gaWQuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHsgdGhpcy5pZC5zZXQoaWQpOyB9DQogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSBpZFByb3BlcnR5KCkgeyByZXR1cm4gaWQ7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsgcmV0dXJuIG5hbWUuZ2V0KCk7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7IHRoaXMubmFtZS5zZXQobmFtZSk7IH0NCiAgICBwdWJsaWMgU3RyaW5nUHJvcGVydHkgbmFtZVByb3BlcnR5KCkgeyByZXR1cm4gbmFtZTsgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsgcmV0dXJuIGRlc2NyaXB0aW9uLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0RGVzY3JpcHRpb24oU3RyaW5nIGRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uc2V0KGRlc2NyaXB0aW9uKTsgfQ0KICAgIHB1YmxpYyBTdHJpbmdQcm9wZXJ0eSBkZXNjcmlwdGlvblByb3BlcnR5KCkgeyByZXR1cm4gZGVzY3JpcHRpb247IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGhyZWFkR3JvdXBKc29uKCkgeyByZXR1cm4gdGhyZWFkR3JvdXBKc29uLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0VGhyZWFkR3JvdXBKc29uKFN0cmluZyB0aHJlYWRHcm91cEpzb24pIHsgdGhpcy50aHJlYWRHcm91cEpzb24uc2V0KHRocmVhZEdyb3VwSnNvbik7IH0NCiAgICBwdWJsaWMgU3RyaW5nUHJvcGVydHkgdGhyZWFkR3JvdXBKc29uUHJvcGVydHkoKSB7IHJldHVybiB0aHJlYWRHcm91cEpzb247IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U2NoZWR1bGVKc29uKCkgeyByZXR1cm4gc2NoZWR1bGVKc29uLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0U2NoZWR1bGVKc29uKFN0cmluZyBzY2hlZHVsZUpzb24pIHsgdGhpcy5zY2hlZHVsZUpzb24uc2V0KHNjaGVkdWxlSnNvbik7IH0NCiAgICBwdWJsaWMgU3RyaW5nUHJvcGVydHkgc2NoZWR1bGVKc29uUHJvcGVydHkoKSB7IHJldHVybiBzY2hlZHVsZUpzb247IH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0UHJvamVjdElkKCkgeyByZXR1cm4gcHJvamVjdElkLmdldCgpOyB9DQogICAgcHVibGljIHZvaWQgc2V0UHJvamVjdElkKGludCBwcm9qZWN0SWQpIHsgdGhpcy5wcm9qZWN0SWQuc2V0KHByb2plY3RJZCk7IH0NCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IHByb2plY3RJZFByb3BlcnR5KCkgeyByZXR1cm4gcHJvamVjdElkOyB9DQoNCiAgICBwdWJsaWMgaW50IGdldERpc3BsYXlPcmRlcigpIHsNCiAgICAgICAgcmV0dXJuIGRpc3BsYXlPcmRlcjsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXREaXNwbGF5T3JkZXIoaW50IGRpc3BsYXlPcmRlcikgew0KICAgICAgICB0aGlzLmRpc3BsYXlPcmRlciA9IGRpc3BsYXlPcmRlcjsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgew0KICAgICAgICByZXR1cm4gIlNjZW5hcmlveyIgKw0KICAgICAgICAgICAgICAgICJpZD0iICsgZ2V0SWQoKSArDQogICAgICAgICAgICAgICAgIiwgbmFtZT0nIiArIGdldE5hbWUoKSArICdcJycgKw0KICAgICAgICAgICAgICAgICd9JzsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/model/ScenarioRunItem.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQppbXBvcnQgamF2YS51dGlsLk1hcDsNCg0KcHVibGljIHJlY29yZCBTY2VuYXJpb1J1bkl0ZW0oDQogICAgU2NlbmFyaW8gc2NlbmFyaW8sDQogICAgR2F0bGluZ0xvYWRQYXJhbWV0ZXJzIHBhcmFtcywNCiAgICBMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+IGl0ZW1zDQopIHsNCn0g
END
PATH:src/main/java/com/qa/app/model/ScenarioSchedule.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQovKioNCiAqIOWcuuaZr+iwg+W6pumFjee9ru+8jOWvueW6lCBzY2VuYXJpb19zY2hlZHVsZSDooajjgIINCiAqLw0KcHVibGljIGNsYXNzIFNjZW5hcmlvU2NoZWR1bGUgew0KICAgIHByaXZhdGUgaW50IHNjZW5hcmlvSWQ7DQogICAgcHJpdmF0ZSBTdHJpbmcgY3JvbkV4cHI7ICAgIC8vIENyb24g6KGo6L6+5byPDQogICAgcHJpdmF0ZSBTdHJpbmcgbmV4dFJ1bkF0OyAgIC8vIOS4i+asoeaJp+ihjOaXtumXtO+8iElTTyDlrZfnrKbkuLLvvIzkvr/kuo7lsZXnpLrvvIkNCiAgICBwcml2YXRlIGJvb2xlYW4gZW5hYmxlZDsNCg0KICAgIHB1YmxpYyBTY2VuYXJpb1NjaGVkdWxlKCkge30NCg0KICAgIHB1YmxpYyBTY2VuYXJpb1NjaGVkdWxlKGludCBzY2VuYXJpb0lkLCBTdHJpbmcgY3JvbkV4cHIsIGJvb2xlYW4gZW5hYmxlZCkgew0KICAgICAgICB0aGlzLnNjZW5hcmlvSWQgPSBzY2VuYXJpb0lkOw0KICAgICAgICB0aGlzLmNyb25FeHByID0gY3JvbkV4cHI7DQogICAgICAgIHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQ7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRTY2VuYXJpb0lkKCkgeyByZXR1cm4gc2NlbmFyaW9JZDsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFNjZW5hcmlvSWQoaW50IHNjZW5hcmlvSWQpIHsgdGhpcy5zY2VuYXJpb0lkID0gc2NlbmFyaW9JZDsgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRDcm9uRXhwcigpIHsgcmV0dXJuIGNyb25FeHByOyB9DQogICAgcHVibGljIHZvaWQgc2V0Q3JvbkV4cHIoU3RyaW5nIGNyb25FeHByKSB7IHRoaXMuY3JvbkV4cHIgPSBjcm9uRXhwcjsgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXROZXh0UnVuQXQoKSB7IHJldHVybiBuZXh0UnVuQXQ7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXROZXh0UnVuQXQoU3RyaW5nIG5leHRSdW5BdCkgeyB0aGlzLm5leHRSdW5BdCA9IG5leHRSdW5BdDsgfQ0KDQogICAgcHVibGljIGJvb2xlYW4gaXNFbmFibGVkKCkgeyByZXR1cm4gZW5hYmxlZDsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldEVuYWJsZWQoYm9vbGVhbiBlbmFibGVkKSB7IHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQ7IH0NCn0g
END
PATH:src/main/java/com/qa/app/model/ScenarioStep.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsOw0KDQovKioNCiAqIOWcuuaZr+atpemqpO+8muW6j+WPt+OAgea1i+ivleeUqOS+iyBUQ0lE44CB562J5b6F5pe26Ze044CBVGFnc+OAgg0KICovDQpwdWJsaWMgY2xhc3MgU2NlbmFyaW9TdGVwIHsNCiAgICBwcml2YXRlIGludCBvcmRlcjsgICAgICAgICAgLy8g5q2l6aqk5bqP5Y+377yI5LuOIDEg5byA5aeL77yJDQogICAgcHJpdmF0ZSBTdHJpbmcgdGVzdFRjaWQ7ICAgIC8vIOWvueW6lCBHYXRsaW5nVGVzdC50Y2lkDQogICAgcHJpdmF0ZSBpbnQgd2FpdFRpbWU7ICAgICAgIC8vIOacrOatpemqpOaJp+ihjOWujOWQjueahOetieW+heaXtumXtO+8iOenku+8iQ0KICAgIHByaXZhdGUgU3RyaW5nIHRhZ3M7ICAgICAgICAvLyDlj6/pgInmoIfnrb4NCg0KICAgIHB1YmxpYyBTY2VuYXJpb1N0ZXAoKSB7fQ0KDQogICAgcHVibGljIFNjZW5hcmlvU3RlcChpbnQgb3JkZXIsIFN0cmluZyB0ZXN0VGNpZCwgaW50IHdhaXRUaW1lLCBTdHJpbmcgdGFncykgew0KICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7DQogICAgICAgIHRoaXMudGVzdFRjaWQgPSB0ZXN0VGNpZDsNCiAgICAgICAgdGhpcy53YWl0VGltZSA9IHdhaXRUaW1lOw0KICAgICAgICB0aGlzLnRhZ3MgPSB0YWdzOw0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0T3JkZXIoKSB7IHJldHVybiBvcmRlcjsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldE9yZGVyKGludCBvcmRlcikgeyB0aGlzLm9yZGVyID0gb3JkZXI7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGVzdFRjaWQoKSB7IHJldHVybiB0ZXN0VGNpZDsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFRlc3RUY2lkKFN0cmluZyB0ZXN0VGNpZCkgeyB0aGlzLnRlc3RUY2lkID0gdGVzdFRjaWQ7IH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0V2FpdFRpbWUoKSB7IHJldHVybiB3YWl0VGltZTsgfQ0KICAgIHB1YmxpYyB2b2lkIHNldFdhaXRUaW1lKGludCB3YWl0VGltZSkgeyB0aGlzLndhaXRUaW1lID0gd2FpdFRpbWU7IH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGFncygpIHsgcmV0dXJuIHRhZ3M7IH0NCiAgICBwdWJsaWMgdm9pZCBzZXRUYWdzKFN0cmluZyB0YWdzKSB7IHRoaXMudGFncyA9IHRhZ3M7IH0NCn0g
END
PATH:src/main/java/com/qa/app/model/threadgroups/StandardThreadGroup.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3VwczsNCg0KaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOw0KDQpwdWJsaWMgY2xhc3MgU3RhbmRhcmRUaHJlYWRHcm91cCBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZSB7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMUw7DQoNCiAgICBwcml2YXRlIGludCBudW1UaHJlYWRzID0gMTsNCiAgICBwcml2YXRlIGludCByYW1wVXAgPSAwOw0KICAgIHByaXZhdGUgaW50IGxvb3BzID0gMTsNCiAgICBwcml2YXRlIGJvb2xlYW4gc2NoZWR1bGVyID0gZmFsc2U7DQogICAgcHJpdmF0ZSBpbnQgZHVyYXRpb24gPSAxMDsNCiAgICBwcml2YXRlIGludCBkZWxheSA9IDA7DQoNCiAgICBwdWJsaWMgaW50IGdldE51bVRocmVhZHMoKSB7DQogICAgICAgIHJldHVybiBudW1UaHJlYWRzOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldE51bVRocmVhZHMoaW50IG51bVRocmVhZHMpIHsNCiAgICAgICAgdGhpcy5udW1UaHJlYWRzID0gbnVtVGhyZWFkczsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldFJhbXBVcCgpIHsNCiAgICAgICAgcmV0dXJuIHJhbXBVcDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRSYW1wVXAoaW50IHJhbXBVcCkgew0KICAgICAgICB0aGlzLnJhbXBVcCA9IHJhbXBVcDsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldExvb3BzKCkgew0KICAgICAgICByZXR1cm4gbG9vcHM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0TG9vcHMoaW50IGxvb3BzKSB7DQogICAgICAgIHRoaXMubG9vcHMgPSBsb29wczsNCiAgICB9DQoNCiAgICBwdWJsaWMgYm9vbGVhbiBpc1NjaGVkdWxlcigpIHsNCiAgICAgICAgcmV0dXJuIHNjaGVkdWxlcjsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlZHVsZXIoYm9vbGVhbiBzY2hlZHVsZXIpIHsNCiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXREdXJhdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGR1cmF0aW9uOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldER1cmF0aW9uKGludCBkdXJhdGlvbikgew0KICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXREZWxheSgpIHsNCiAgICAgICAgcmV0dXJuIGRlbGF5Ow0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldERlbGF5KGludCBkZWxheSkgew0KICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/model/threadgroups/SteppingThreadGroup.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3VwczsNCg0KaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOw0KDQpwdWJsaWMgY2xhc3MgU3RlcHBpbmdUaHJlYWRHcm91cCBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZSB7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMUw7DQoNCiAgICBwcml2YXRlIGludCBudW1UaHJlYWRzID0gMTsNCiAgICBwcml2YXRlIGludCBpbml0aWFsRGVsYXkgPSAwOw0KICAgIHByaXZhdGUgaW50IHN0YXJ0VXNlcnMgPSAwOw0KICAgIHByaXZhdGUgaW50IGluY3JlbWVudFVzZXJzID0gMTsNCiAgICBwcml2YXRlIGludCBpbmNyZW1lbnRUaW1lID0gMTA7DQogICAgcHJpdmF0ZSBpbnQgaG9sZExvYWQgPSAxMDsNCg0KICAgIHB1YmxpYyBpbnQgZ2V0TnVtVGhyZWFkcygpIHsNCiAgICAgICAgcmV0dXJuIG51bVRocmVhZHM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0TnVtVGhyZWFkcyhpbnQgbnVtVGhyZWFkcykgew0KICAgICAgICB0aGlzLm51bVRocmVhZHMgPSBudW1UaHJlYWRzOw0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0SW5pdGlhbERlbGF5KCkgew0KICAgICAgICByZXR1cm4gaW5pdGlhbERlbGF5Ow0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldEluaXRpYWxEZWxheShpbnQgaW5pdGlhbERlbGF5KSB7DQogICAgICAgIHRoaXMuaW5pdGlhbERlbGF5ID0gaW5pdGlhbERlbGF5Ow0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0U3RhcnRVc2VycygpIHsNCiAgICAgICAgcmV0dXJuIHN0YXJ0VXNlcnM7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0U3RhcnRVc2VycyhpbnQgc3RhcnRVc2Vycykgew0KICAgICAgICB0aGlzLnN0YXJ0VXNlcnMgPSBzdGFydFVzZXJzOw0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0SW5jcmVtZW50VXNlcnMoKSB7DQogICAgICAgIHJldHVybiBpbmNyZW1lbnRVc2VyczsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRJbmNyZW1lbnRVc2VycyhpbnQgaW5jcmVtZW50VXNlcnMpIHsNCiAgICAgICAgdGhpcy5pbmNyZW1lbnRVc2VycyA9IGluY3JlbWVudFVzZXJzOw0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0SW5jcmVtZW50VGltZSgpIHsNCiAgICAgICAgcmV0dXJuIGluY3JlbWVudFRpbWU7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0SW5jcmVtZW50VGltZShpbnQgaW5jcmVtZW50VGltZSkgew0KICAgICAgICB0aGlzLmluY3JlbWVudFRpbWUgPSBpbmNyZW1lbnRUaW1lOw0KICAgIH0NCg0KICAgIHB1YmxpYyBpbnQgZ2V0SG9sZExvYWQoKSB7DQogICAgICAgIHJldHVybiBob2xkTG9hZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRIb2xkTG9hZChpbnQgaG9sZExvYWQpIHsNCiAgICAgICAgdGhpcy5ob2xkTG9hZCA9IGhvbGRMb2FkOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/model/threadgroups/ThreadGroupType.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3VwczsNCg0KcHVibGljIGVudW0gVGhyZWFkR3JvdXBUeXBlIHsNCiAgICBTVEFOREFSRCwNCiAgICBTVEVQUElORywNCiAgICBVTFRJTUFURQ0KfSA=
END
PATH:src/main/java/com/qa/app/model/threadgroups/UltimateThreadGroup.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3VwczsNCg0KaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOw0KaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCnB1YmxpYyBjbGFzcyBVbHRpbWF0ZVRocmVhZEdyb3VwIGltcGxlbWVudHMgU2VyaWFsaXphYmxlIHsNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAxTDsNCg0KICAgIHByaXZhdGUgTGlzdDxVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcD4gc3RlcHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCg0KICAgIHB1YmxpYyBMaXN0PFVsdGltYXRlVGhyZWFkR3JvdXBTdGVwPiBnZXRTdGVwcygpIHsNCiAgICAgICAgcmV0dXJuIHN0ZXBzOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFN0ZXBzKExpc3Q8VWx0aW1hdGVUaHJlYWRHcm91cFN0ZXA+IHN0ZXBzKSB7DQogICAgICAgIHRoaXMuc3RlcHMgPSBzdGVwczsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/model/threadgroups/UltimateThreadGroupStep.java
cGFja2FnZSBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3VwczsNCg0KaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5JbnRlZ2VyUHJvcGVydHk7DQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZUludGVnZXJQcm9wZXJ0eTsNCg0KaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOw0KDQpwdWJsaWMgY2xhc3MgVWx0aW1hdGVUaHJlYWRHcm91cFN0ZXAgaW1wbGVtZW50cyBTZXJpYWxpemFibGUgew0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFMOw0KDQogICAgcHJpdmF0ZSBmaW5hbCBJbnRlZ2VyUHJvcGVydHkgc3RhcnRUaW1lID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IGluaXRpYWxMb2FkID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IHN0YXJ0dXBUaW1lID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IGhvbGRUaW1lID0gbmV3IFNpbXBsZUludGVnZXJQcm9wZXJ0eSgpOw0KICAgIHByaXZhdGUgZmluYWwgSW50ZWdlclByb3BlcnR5IHNodXRkb3duVGltZSA9IG5ldyBTaW1wbGVJbnRlZ2VyUHJvcGVydHkoKTsNCg0KICAgIHB1YmxpYyBVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcChpbnQgc3RhcnRUaW1lLCBpbnQgaW5pdGlhbExvYWQsIGludCBzdGFydHVwVGltZSwgaW50IGhvbGRUaW1lLCBpbnQgc2h1dGRvd25UaW1lKSB7DQogICAgICAgIHNldFN0YXJ0VGltZShzdGFydFRpbWUpOw0KICAgICAgICBzZXRJbml0aWFsTG9hZChpbml0aWFsTG9hZCk7DQogICAgICAgIHNldFN0YXJ0dXBUaW1lKHN0YXJ0dXBUaW1lKTsNCiAgICAgICAgc2V0SG9sZFRpbWUoaG9sZFRpbWUpOw0KICAgICAgICBzZXRTaHV0ZG93blRpbWUoc2h1dGRvd25UaW1lKTsNCiAgICB9DQoNCiAgICAvLyBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBVSQ0KICAgIHB1YmxpYyBVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcCgpIHsNCiAgICAgICAgdGhpcygwLCAxLCAxLCAxMCwgMSk7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRTdGFydFRpbWUoKSB7DQogICAgICAgIHJldHVybiBzdGFydFRpbWUuZ2V0KCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0U3RhcnRUaW1lKGludCBzdGFydFRpbWUpIHsNCiAgICAgICAgdGhpcy5zdGFydFRpbWUuc2V0KHN0YXJ0VGltZSk7DQogICAgfQ0KDQogICAgcHVibGljIEludGVnZXJQcm9wZXJ0eSBzdGFydFRpbWVQcm9wZXJ0eSgpIHsNCiAgICAgICAgcmV0dXJuIHN0YXJ0VGltZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldEluaXRpYWxMb2FkKCkgew0KICAgICAgICByZXR1cm4gaW5pdGlhbExvYWQuZ2V0KCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0SW5pdGlhbExvYWQoaW50IGluaXRpYWxMb2FkKSB7DQogICAgICAgIHRoaXMuaW5pdGlhbExvYWQuc2V0KGluaXRpYWxMb2FkKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IGluaXRpYWxMb2FkUHJvcGVydHkoKSB7DQogICAgICAgIHJldHVybiBpbml0aWFsTG9hZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldFN0YXJ0dXBUaW1lKCkgew0KICAgICAgICByZXR1cm4gc3RhcnR1cFRpbWUuZ2V0KCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0U3RhcnR1cFRpbWUoaW50IHN0YXJ0dXBUaW1lKSB7DQogICAgICAgIHRoaXMuc3RhcnR1cFRpbWUuc2V0KHN0YXJ0dXBUaW1lKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IHN0YXJ0dXBUaW1lUHJvcGVydHkoKSB7DQogICAgICAgIHJldHVybiBzdGFydHVwVGltZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldEhvbGRUaW1lKCkgew0KICAgICAgICByZXR1cm4gaG9sZFRpbWUuZ2V0KCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0SG9sZFRpbWUoaW50IGhvbGRUaW1lKSB7DQogICAgICAgIHRoaXMuaG9sZFRpbWUuc2V0KGhvbGRUaW1lKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IGhvbGRUaW1lUHJvcGVydHkoKSB7DQogICAgICAgIHJldHVybiBob2xkVGltZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldFNodXRkb3duVGltZSgpIHsNCiAgICAgICAgcmV0dXJuIHNodXRkb3duVGltZS5nZXQoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRTaHV0ZG93blRpbWUoaW50IHNodXRkb3duVGltZSkgew0KICAgICAgICB0aGlzLnNodXRkb3duVGltZS5zZXQoc2h1dGRvd25UaW1lKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgSW50ZWdlclByb3BlcnR5IHNodXRkb3duVGltZVByb3BlcnR5KCkgew0KICAgICAgICByZXR1cm4gc2h1dGRvd25UaW1lOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/service/api/IBodyTemplateService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCg0KcHVibGljIGludGVyZmFjZSBJQm9keVRlbXBsYXRlU2VydmljZSB7DQogICAgdm9pZCBjcmVhdGVCb2R5VGVtcGxhdGUoQm9keVRlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBCb2R5VGVtcGxhdGUgZmluZEJvZHlUZW1wbGF0ZUJ5SWQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBCb2R5VGVtcGxhdGUgZmluZEJvZHlUZW1wbGF0ZUJ5TmFtZShTdHJpbmcgbmFtZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxCb2R5VGVtcGxhdGU+IGZpbmRBbGxCb2R5VGVtcGxhdGVzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVCb2R5VGVtcGxhdGUoQm9keVRlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIGRlbGV0ZUJvZHlUZW1wbGF0ZShpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIExpc3Q8Qm9keVRlbXBsYXRlPiBmaW5kQm9keVRlbXBsYXRlc0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCn0g
END
PATH:src/main/java/com/qa/app/service/api/IDbConnectionService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5EYkNvbm5lY3Rpb247DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGludGVyZmFjZSBJRGJDb25uZWN0aW9uU2VydmljZSB7DQogICAgTGlzdDxEYkNvbm5lY3Rpb24+IGdldEFsbCgpOw0KICAgIExpc3Q8U3RyaW5nPiBnZXRBbGxBbGlhc2VzKCk7DQogICAgRGJDb25uZWN0aW9uIGZpbmRCeUlkKExvbmcgaWQpOw0KICAgIERiQ29ubmVjdGlvbiBmaW5kQnlBbGlhcyhTdHJpbmcgYWxpYXMpOw0KICAgIHZvaWQgc2F2ZShEYkNvbm5lY3Rpb24gZGJDb25uZWN0aW9uKTsNCiAgICB2b2lkIGFkZENvbm5lY3Rpb24oRGJDb25uZWN0aW9uIGNvbm5lY3Rpb24pOw0KICAgIHZvaWQgdXBkYXRlQ29ubmVjdGlvbihEYkNvbm5lY3Rpb24gY29ubmVjdGlvbik7DQogICAgdm9pZCBkZWxldGVDb25uZWN0aW9uKERiQ29ubmVjdGlvbiBjb25uZWN0aW9uKTsNCn0g
END
PATH:src/main/java/com/qa/app/service/api/IEndpointService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVuZHBvaW50Ow0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOw0KDQpwdWJsaWMgaW50ZXJmYWNlIElFbmRwb2ludFNlcnZpY2Ugew0KICAgIHZvaWQgYWRkRW5kcG9pbnQoRW5kcG9pbnQgZW5kcG9pbnQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlRW5kcG9pbnQoRW5kcG9pbnQgZW5kcG9pbnQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgZGVsZXRlRW5kcG9pbnQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBFbmRwb2ludCBnZXRFbmRwb2ludEJ5SWQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBFbmRwb2ludCBnZXRFbmRwb2ludEJ5TmFtZShTdHJpbmcgbmFtZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgRW5kcG9pbnQgZ2V0RW5kcG9pbnRCeU5hbWVBbmRFbnYoU3RyaW5nIG5hbWUsIEludGVnZXIgZW52aXJvbm1lbnRJZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxFbmRwb2ludD4gZ2V0QWxsRW5kcG9pbnRzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxFbmRwb2ludD4gZ2V0RW5kcG9pbnRzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KfSA=
END
PATH:src/main/java/com/qa/app/service/api/IEnvironmentService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5FbnZpcm9ubWVudDsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGludGVyZmFjZSBJRW52aXJvbm1lbnRTZXJ2aWNlIHsNCiAgICB2b2lkIGNyZWF0ZUVudmlyb25tZW50KEVudmlyb25tZW50IGVudmlyb25tZW50KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBFbnZpcm9ubWVudCBmaW5kRW52aXJvbm1lbnRCeUlkKGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgRW52aXJvbm1lbnQgZmluZEVudmlyb25tZW50QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBMaXN0PEVudmlyb25tZW50PiBmaW5kQWxsRW52aXJvbm1lbnRzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxFbnZpcm9ubWVudD4gZmluZEVudmlyb25tZW50c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIHVwZGF0ZUVudmlyb25tZW50KEVudmlyb25tZW50IGVudmlyb25tZW50KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIGRlbGV0ZUVudmlyb25tZW50KGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQp9IA==
END
PATH:src/main/java/com/qa/app/service/api/IGatlingScenarioService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5TY2VuYXJpbzsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlNjZW5hcmlvU3RlcDsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCg0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElHYXRsaW5nU2NlbmFyaW9TZXJ2aWNlIHsNCiAgICB2b2lkIGNyZWF0ZVNjZW5hcmlvKFNjZW5hcmlvIHNjLCBMaXN0PFNjZW5hcmlvU3RlcD4gc3RlcHMpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlU2NlbmFyaW8oU2NlbmFyaW8gc2MsIExpc3Q8U2NlbmFyaW9TdGVwPiBzdGVwcykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCBkZWxldGVTY2VuYXJpbyhpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgU2NlbmFyaW8gZHVwbGljYXRlU2NlbmFyaW8oaW50IHNjZW5hcmlvSWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIExpc3Q8U2NlbmFyaW8+IGZpbmRBbGxTY2VuYXJpb3MoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIExpc3Q8U2NlbmFyaW9TdGVwPiBmaW5kU3RlcHNCeVNjZW5hcmlvSWQoaW50IHNjZW5hcmlvSWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlT3JkZXIoTGlzdDxTY2VuYXJpbz4gc2NlbmFyaW9zKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCg0KICAgIHZvaWQgcnVuU2NlbmFyaW8oaW50IHNjZW5hcmlvSWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KDQogICAgLyoqDQogICAgICogUnVuIG11bHRpcGxlIHNjZW5hcmlvcyBpbiBvbmUgZ28uIFRoZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZW5zdXJlIHRoYXQgZWFjaCBzY2VuYXJpbyBpcyBleGVjdXRlZA0KICAgICAqIHdpdGggaXRzIG93biB0aHJlYWQgZ3JvdXAgY29uZmlndXJhdGlvbiBzbyB0aGF0IHRoZXkgY2FuIHJ1biBjb25jdXJyZW50bHksIHNpbWlsYXIgdG8gbXVsdGlwbGUgdGhyZWFkDQogICAgICogZ3JvdXBzIGluIEpNZXRlci4NCiAgICAgKg0KICAgICAqIEBwYXJhbSBzY2VuYXJpb3MgdGhlIHNjZW5hcmlvIGxpc3QgdG8gcnVuDQogICAgICogQHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIGlmIGFueSB1bmRlcmx5aW5nIGVycm9yIG9jY3Vycw0KICAgICAqLw0KICAgIHZvaWQgcnVuU2NlbmFyaW9zKGphdmEudXRpbC5MaXN0PGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW8+IHNjZW5hcmlvcykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQoNCiAgICB2b2lkIHJ1blNjZW5hcmlvcyhqYXZhLnV0aWwuTGlzdDxjb20ucWEuYXBwLm1vZGVsLlNjZW5hcmlvPiBzY2VuYXJpb3MsDQogICAgICAgICAgICAgICAgICAgICAgamF2YS5sYW5nLlJ1bm5hYmxlIG9uQ29tcGxldGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KDQogICAgdm9pZCB1cHNlcnRTY2hlZHVsZShpbnQgc2NlbmFyaW9JZCwgU3RyaW5nIGNyb25FeHByLCBib29sZWFuIGVuYWJsZWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW9TY2hlZHVsZSBnZXRTY2hlZHVsZShpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQp9IA==
END
PATH:src/main/java/com/qa/app/service/api/IGatlingTestService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdUZXN0Ow0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOw0KDQpwdWJsaWMgaW50ZXJmYWNlIElHYXRsaW5nVGVzdFNlcnZpY2Ugew0KICAgIHZvaWQgY3JlYXRlVGVzdChHYXRsaW5nVGVzdCB0ZXN0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBHYXRsaW5nVGVzdCBmaW5kVGVzdEJ5SWQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBHYXRsaW5nVGVzdCBmaW5kVGVzdEJ5VGNpZChTdHJpbmcgdGNpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxHYXRsaW5nVGVzdD4gZmluZEFsbFRlc3RzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxHYXRsaW5nVGVzdD4gZmluZFRlc3RzQnlTdWl0ZShTdHJpbmcgc3VpdGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgdXBkYXRlVGVzdChHYXRsaW5nVGVzdCB0ZXN0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIHJlbW92ZVRlc3QoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIHRvZ2dsZVRlc3RSdW5TdGF0dXMoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIHJ1blRlc3RzKGphdmEudXRpbC5MaXN0PGNvbS5xYS5hcHAubW9kZWwuR2F0bGluZ1Rlc3Q+IHRlc3RzLA0KICAgICAgICAgICAgICAgICAgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nTG9hZFBhcmFtZXRlcnMgcGFyYW1zLA0KICAgICAgICAgICAgICAgICAgamF2YS5sYW5nLlJ1bm5hYmxlIG9uQ29tcGxldGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIExpc3Q8R2F0bGluZ1Rlc3Q+IGZpbmRUZXN0c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBMaXN0PEdhdGxpbmdUZXN0PiBmaW5kQWxsVGVzdHNCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVPcmRlcihMaXN0PEdhdGxpbmdUZXN0PiB0ZXN0cykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQp9
END
PATH:src/main/java/com/qa/app/service/api/IGroovyVariableService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5Hcm9vdnlWYXJpYWJsZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCg0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElHcm9vdnlWYXJpYWJsZVNlcnZpY2Ugew0KICAgIHZvaWQgYWRkKEdyb292eVZhcmlhYmxlIHZhcmlhYmxlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIHVwZGF0ZShHcm9vdnlWYXJpYWJsZSB2YXJpYWJsZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCBkZWxldGUoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBHcm9vdnlWYXJpYWJsZSBnZXRCeUlkKGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgTGlzdDxHcm9vdnlWYXJpYWJsZT4gZ2V0QnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIExpc3Q8R3Jvb3Z5VmFyaWFibGU+IGdldEFsbCgpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KfSA=
END
PATH:src/main/java/com/qa/app/service/api/IHeadersTemplateService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkhlYWRlcnNUZW1wbGF0ZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCg0KcHVibGljIGludGVyZmFjZSBJSGVhZGVyc1RlbXBsYXRlU2VydmljZSB7DQogICAgdm9pZCBhZGRIZWFkZXJzVGVtcGxhdGUoSGVhZGVyc1RlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIHVwZGF0ZUhlYWRlcnNUZW1wbGF0ZShIZWFkZXJzVGVtcGxhdGUgdGVtcGxhdGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgZGVsZXRlSGVhZGVyc1RlbXBsYXRlKGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgSGVhZGVyc1RlbXBsYXRlIGdldEhlYWRlcnNUZW1wbGF0ZUJ5SWQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBIZWFkZXJzVGVtcGxhdGUgZ2V0SGVhZGVyc1RlbXBsYXRlQnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBMaXN0PEhlYWRlcnNUZW1wbGF0ZT4gZ2V0QWxsSGVhZGVyc1RlbXBsYXRlcygpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIExpc3Q8SGVhZGVyc1RlbXBsYXRlPiBnZXRIZWFkZXJzVGVtcGxhdGVzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KfSA=
END
PATH:src/main/java/com/qa/app/service/api/IProjectService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5Qcm9qZWN0Ow0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KDQpwdWJsaWMgaW50ZXJmYWNlIElQcm9qZWN0U2VydmljZSB7DQogICAgdm9pZCBhZGRQcm9qZWN0KFByb2plY3QgcHJvamVjdCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVQcm9qZWN0KFByb2plY3QgcHJvamVjdCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCBkZWxldGVQcm9qZWN0KEludGVnZXIgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIFByb2plY3QgZ2V0UHJvamVjdEJ5SWQoSW50ZWdlciBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgUHJvamVjdCBnZXRQcm9qZWN0QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICBMaXN0PFByb2plY3Q+IGdldEFsbFByb2plY3RzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQp9IA==
END
PATH:src/main/java/com/qa/app/service/api/IVariableService.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuYXBpOw0KDQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLlNlcnZpY2VFeGNlcHRpb247DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLnNjcmlwdC5Hcm9vdnlTY3JpcHRFbmdpbmU7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KcHVibGljIGludGVyZmFjZSBJVmFyaWFibGVTZXJ2aWNlIHsNCiAgICBMaXN0PEdyb292eVNjcmlwdEVuZ2luZT4gbG9hZFZhcmlhYmxlcygpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgc2F2ZVZhcmlhYmxlcyhMaXN0PEdyb292eVNjcmlwdEVuZ2luZT4gdmFyaWFibGVzKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbjsNCiAgICB2b2lkIGFkZFZhcmlhYmxlKEdyb292eVNjcmlwdEVuZ2luZSB2YXJpYWJsZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQogICAgdm9pZCB1cGRhdGVWYXJpYWJsZShHcm9vdnlTY3JpcHRFbmdpbmUgdmFyaWFibGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uOw0KICAgIHZvaWQgZGVsZXRlVmFyaWFibGUoSW50ZWdlciBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb247DQp9IA==
END
PATH:src/main/java/com/qa/app/service/impl/BodyTemplateServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JQm9keVRlbXBsYXRlRGFvOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmltcGwuQm9keVRlbXBsYXRlRGFvSW1wbDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklCb2R5VGVtcGxhdGVTZXJ2aWNlOw0KDQpwdWJsaWMgY2xhc3MgQm9keVRlbXBsYXRlU2VydmljZUltcGwgaW1wbGVtZW50cyBJQm9keVRlbXBsYXRlU2VydmljZSB7DQoNCiAgICBwcml2YXRlIGZpbmFsIElCb2R5VGVtcGxhdGVEYW8gdGVtcGxhdGVEYW8gPSBuZXcgQm9keVRlbXBsYXRlRGFvSW1wbCgpOw0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgY3JlYXRlQm9keVRlbXBsYXRlKEJvZHlUZW1wbGF0ZSB0ZW1wbGF0ZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgaWYgKHRlbXBsYXRlID09IG51bGwgfHwgdGVtcGxhdGUuZ2V0TmFtZSgpID09IG51bGwgfHwgdGVtcGxhdGUuZ2V0TmFtZSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiVGVtcGxhdGUgbmFtZSBpcyByZXF1aXJlZC4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZURhby5nZXRCb2R5VGVtcGxhdGVCeU5hbWUodGVtcGxhdGUuZ2V0TmFtZSgpKSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlbXBsYXRlIHdpdGggbmFtZSAnIiArIHRlbXBsYXRlLmdldE5hbWUoKSArICInIGFscmVhZHkgZXhpc3RzLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGVtcGxhdGVEYW8uYWRkQm9keVRlbXBsYXRlKHRlbXBsYXRlKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSBjcmVhdGluZyB0ZW1wbGF0ZTogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBCb2R5VGVtcGxhdGUgZmluZEJvZHlUZW1wbGF0ZUJ5SWQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVEYW8uZ2V0Qm9keVRlbXBsYXRlQnlJZChpZCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgZmluZGluZyB0ZW1wbGF0ZSBieSBJRDogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBCb2R5VGVtcGxhdGUgZmluZEJvZHlUZW1wbGF0ZUJ5TmFtZShTdHJpbmcgbmFtZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlRGFvLmdldEJvZHlUZW1wbGF0ZUJ5TmFtZShuYW1lKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSBmaW5kaW5nIHRlbXBsYXRlIGJ5IG5hbWU6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgTGlzdDxCb2R5VGVtcGxhdGU+IGZpbmRBbGxCb2R5VGVtcGxhdGVzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlRGFvLmdldEFsbEJvZHlUZW1wbGF0ZXMoKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSByZXRyaWV2aW5nIGFsbCB0ZW1wbGF0ZXM6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGVCb2R5VGVtcGxhdGUoQm9keVRlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAodGVtcGxhdGUgPT0gbnVsbCB8fCB0ZW1wbGF0ZS5nZXRJZCgpIDw9IDAgfHwgdGVtcGxhdGUuZ2V0TmFtZSgpID09IG51bGwgfHwgdGVtcGxhdGUuZ2V0TmFtZSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiVGVtcGxhdGUgSUQgYW5kIG5hbWUgYXJlIHJlcXVpcmVkIGZvciB1cGRhdGUuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBCb2R5VGVtcGxhdGUgZXhpc3RpbmdUZW1wbGF0ZSA9IHRlbXBsYXRlRGFvLmdldEJvZHlUZW1wbGF0ZUJ5SWQodGVtcGxhdGUuZ2V0SWQoKSk7DQogICAgICAgICAgICBpZiAoZXhpc3RpbmdUZW1wbGF0ZSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlbXBsYXRlIHdpdGggSUQgIiArIHRlbXBsYXRlLmdldElkKCkgKyAiIG5vdCBmb3VuZC4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghZXhpc3RpbmdUZW1wbGF0ZS5nZXROYW1lKCkuZXF1YWxzKHRlbXBsYXRlLmdldE5hbWUoKSkpIHsNCiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVEYW8uZ2V0Qm9keVRlbXBsYXRlQnlOYW1lKHRlbXBsYXRlLmdldE5hbWUoKSkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiVGVtcGxhdGUgd2l0aCBuYW1lICciICsgdGVtcGxhdGUuZ2V0TmFtZSgpICsgIicgYWxyZWFkeSBleGlzdHMuIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGVtcGxhdGVEYW8udXBkYXRlQm9keVRlbXBsYXRlKHRlbXBsYXRlKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSB1cGRhdGluZyB0ZW1wbGF0ZTogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGRlbGV0ZUJvZHlUZW1wbGF0ZShpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZURhby5nZXRCb2R5VGVtcGxhdGVCeUlkKGlkKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlbXBsYXRlIHdpdGggSUQgIiArIGlkICsgIiBub3QgZm91bmQuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0ZW1wbGF0ZURhby5kZWxldGVCb2R5VGVtcGxhdGUoaWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yIHdoaWxlIGRlbGV0aW5nIHRlbXBsYXRlOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8Qm9keVRlbXBsYXRlPiBmaW5kQm9keVRlbXBsYXRlc0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVEYW8uZ2V0Qm9keVRlbXBsYXRlc0J5UHJvamVjdElkKHByb2plY3RJZCk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgcmV0cmlldmluZyB0ZW1wbGF0ZXMgYnkgcHJvamVjdElkOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/service/impl/DbConnectionServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JRGJDb25uZWN0aW9uRGFvOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmltcGwuRGJDb25uZWN0aW9uRGFvSW1wbDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkRiQ29ubmVjdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklEYkNvbm5lY3Rpb25TZXJ2aWNlOw0KDQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQppbXBvcnQgamF2YS51dGlsLnN0cmVhbS5Db2xsZWN0b3JzOw0KDQpwdWJsaWMgY2xhc3MgRGJDb25uZWN0aW9uU2VydmljZUltcGwgaW1wbGVtZW50cyBJRGJDb25uZWN0aW9uU2VydmljZSB7DQoNCiAgICBwcml2YXRlIGZpbmFsIElEYkNvbm5lY3Rpb25EYW8gZGJDb25uZWN0aW9uRGFvID0gbmV3IERiQ29ubmVjdGlvbkRhb0ltcGwoKTsNCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PERiQ29ubmVjdGlvbj4gZ2V0QWxsKCkgew0KICAgICAgICByZXR1cm4gZGJDb25uZWN0aW9uRGFvLmZpbmRBbGwoKTsNCiAgICB9DQogICAgDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8U3RyaW5nPiBnZXRBbGxBbGlhc2VzKCkgew0KICAgICAgICByZXR1cm4gZGJDb25uZWN0aW9uRGFvLmZpbmRBbGwoKS5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgIC5tYXAoRGJDb25uZWN0aW9uOjpnZXRBbGlhcykNCiAgICAgICAgICAgICAgICAuY29sbGVjdChDb2xsZWN0b3JzLnRvTGlzdCgpKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgRGJDb25uZWN0aW9uIGZpbmRCeUlkKExvbmcgaWQpIHsNCiAgICAgICAgcmV0dXJuIGRiQ29ubmVjdGlvbkRhby5nZXQoaWQpOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBEYkNvbm5lY3Rpb24gZmluZEJ5QWxpYXMoU3RyaW5nIGFsaWFzKSB7DQogICAgICAgIHJldHVybiBkYkNvbm5lY3Rpb25EYW8uZ2V0QnlBbGlhcyhhbGlhcyk7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgc2F2ZShEYkNvbm5lY3Rpb24gZGJDb25uZWN0aW9uKSB7DQogICAgICAgIGlmIChkYkNvbm5lY3Rpb24uZ2V0SWQoKSA9PSBudWxsKSB7DQogICAgICAgICAgICBkYkNvbm5lY3Rpb25EYW8uYWRkKGRiQ29ubmVjdGlvbik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBkYkNvbm5lY3Rpb25EYW8udXBkYXRlKGRiQ29ubmVjdGlvbik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRDb25uZWN0aW9uKERiQ29ubmVjdGlvbiBjb25uZWN0aW9uKSB7DQogICAgICAgIGRiQ29ubmVjdGlvbkRhby5hZGQoY29ubmVjdGlvbik7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlQ29ubmVjdGlvbihEYkNvbm5lY3Rpb24gY29ubmVjdGlvbikgew0KICAgICAgICBkYkNvbm5lY3Rpb25EYW8udXBkYXRlKGNvbm5lY3Rpb24pOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGRlbGV0ZUNvbm5lY3Rpb24oRGJDb25uZWN0aW9uIGNvbm5lY3Rpb24pIHsNCiAgICAgICAgZGJDb25uZWN0aW9uRGFvLmRlbGV0ZShjb25uZWN0aW9uKTsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/service/impl/EndpointServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JRW5kcG9pbnREYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5FbmRwb2ludERhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5FbmRwb2ludDsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklFbmRwb2ludFNlcnZpY2U7DQoNCnB1YmxpYyBjbGFzcyBFbmRwb2ludFNlcnZpY2VJbXBsIGltcGxlbWVudHMgSUVuZHBvaW50U2VydmljZSB7DQogICAgcHJpdmF0ZSBmaW5hbCBJRW5kcG9pbnREYW8gZGFvID0gbmV3IEVuZHBvaW50RGFvSW1wbCgpOw0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgYWRkRW5kcG9pbnQoRW5kcG9pbnQgZW5kcG9pbnQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChlbmRwb2ludCA9PSBudWxsIHx8IGVuZHBvaW50LmdldE5hbWUoKSA9PSBudWxsIHx8IGVuZHBvaW50LmdldE5hbWUoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVuZHBvaW50IG5hbWUgaXMgcmVxdWlyZWQuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZGFvLmdldEVuZHBvaW50QnlOYW1lQW5kRW52KGVuZHBvaW50LmdldE5hbWUoKSwgZW5kcG9pbnQuZ2V0RW52aXJvbm1lbnRJZCgpKSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVuZHBvaW50IHdpdGggdGhpcyBuYW1lIGFuZCBlbnZpcm9ubWVudCBhbHJlYWR5IGV4aXN0cy4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRhby5hZGRFbmRwb2ludChlbmRwb2ludCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGVFbmRwb2ludChFbmRwb2ludCBlbmRwb2ludCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgaWYgKGVuZHBvaW50ID09IG51bGwgfHwgZW5kcG9pbnQuZ2V0SWQoKSA8PSAwKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVuZHBvaW50IElEIGlzIHJlcXVpcmVkLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgRW5kcG9pbnQgZXhpc3QgPSBkYW8uZ2V0RW5kcG9pbnRCeU5hbWVBbmRFbnYoZW5kcG9pbnQuZ2V0TmFtZSgpLCBlbmRwb2ludC5nZXRFbnZpcm9ubWVudElkKCkpOw0KICAgICAgICAgICAgaWYgKGV4aXN0ICE9IG51bGwgJiYgZXhpc3QuZ2V0SWQoKSAhPSBlbmRwb2ludC5nZXRJZCgpKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVuZHBvaW50IHdpdGggdGhpcyBuYW1lIGFuZCBlbnZpcm9ubWVudCBhbHJlYWR5IGV4aXN0cy4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRhby51cGRhdGVFbmRwb2ludChlbmRwb2ludCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGVFbmRwb2ludChpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGRhby5kZWxldGVFbmRwb2ludChpZCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgRW5kcG9pbnQgZ2V0RW5kcG9pbnRCeUlkKGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGRhby5nZXRFbmRwb2ludEJ5SWQoaWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEVuZHBvaW50IGdldEVuZHBvaW50QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gZGFvLmdldEVuZHBvaW50QnlOYW1lKG5hbWUpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8RW5kcG9pbnQ+IGdldEFsbEVuZHBvaW50cygpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBkYW8uZ2V0QWxsRW5kcG9pbnRzKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgRW5kcG9pbnQgZ2V0RW5kcG9pbnRCeU5hbWVBbmRFbnYoU3RyaW5nIG5hbWUsIEludGVnZXIgZW52aXJvbm1lbnRJZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGRhby5nZXRFbmRwb2ludEJ5TmFtZUFuZEVudihuYW1lLCBlbnZpcm9ubWVudElkKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvcjogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEVuZHBvaW50PiBnZXRFbmRwb2ludHNCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGRhby5nZXRFbmRwb2ludHNCeVByb2plY3RJZChwcm9qZWN0SWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/service/impl/EnvironmentServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JRW52aXJvbm1lbnREYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5FbnZpcm9ubWVudERhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5FbnZpcm9ubWVudDsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklFbnZpcm9ubWVudFNlcnZpY2U7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCnB1YmxpYyBjbGFzcyBFbnZpcm9ubWVudFNlcnZpY2VJbXBsIGltcGxlbWVudHMgSUVudmlyb25tZW50U2VydmljZSB7DQogICAgcHJpdmF0ZSBmaW5hbCBJRW52aXJvbm1lbnREYW8gZW52aXJvbm1lbnREYW8gPSBuZXcgRW52aXJvbm1lbnREYW9JbXBsKCk7DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBjcmVhdGVFbnZpcm9ubWVudChFbnZpcm9ubWVudCBlbnZpcm9ubWVudCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgaWYgKGVudmlyb25tZW50ID09IG51bGwgfHwgZW52aXJvbm1lbnQuZ2V0TmFtZSgpID09IG51bGwgfHwgZW52aXJvbm1lbnQuZ2V0TmFtZSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRW52aXJvbm1lbnQgbmFtZSBpcyByZXF1aXJlZC4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlbnZpcm9ubWVudERhby5nZXRFbnZpcm9ubWVudEJ5TmFtZShlbnZpcm9ubWVudC5nZXROYW1lKCkpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRW52aXJvbm1lbnQgd2l0aCBuYW1lICciICsgZW52aXJvbm1lbnQuZ2V0TmFtZSgpICsgIicgYWxyZWFkeSBleGlzdHMuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbnZpcm9ubWVudERhby5hZGRFbnZpcm9ubWVudChlbnZpcm9ubWVudCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgY3JlYXRpbmcgZW52aXJvbm1lbnQ6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgRW52aXJvbm1lbnQgZmluZEVudmlyb25tZW50QnlJZChpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBlbnZpcm9ubWVudERhby5nZXRFbnZpcm9ubWVudEJ5SWQoaWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yIHdoaWxlIGZpbmRpbmcgZW52aXJvbm1lbnQgYnkgSUQ6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgRW52aXJvbm1lbnQgZmluZEVudmlyb25tZW50QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gZW52aXJvbm1lbnREYW8uZ2V0RW52aXJvbm1lbnRCeU5hbWUobmFtZSk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgZmluZGluZyBlbnZpcm9ubWVudCBieSBuYW1lOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8RW52aXJvbm1lbnQ+IGZpbmRBbGxFbnZpcm9ubWVudHMoKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gZW52aXJvbm1lbnREYW8uZ2V0QWxsRW52aXJvbm1lbnRzKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgcmV0cmlldmluZyBhbGwgZW52aXJvbm1lbnRzOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlRW52aXJvbm1lbnQoRW52aXJvbm1lbnQgZW52aXJvbm1lbnQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChlbnZpcm9ubWVudCA9PSBudWxsIHx8IGVudmlyb25tZW50LmdldElkKCkgPD0gMCB8fCBlbnZpcm9ubWVudC5nZXROYW1lKCkgPT0gbnVsbCB8fCBlbnZpcm9ubWVudC5nZXROYW1lKCkudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJFbnZpcm9ubWVudCBJRCBhbmQgbmFtZSBhcmUgcmVxdWlyZWQgZm9yIHVwZGF0ZS4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIEVudmlyb25tZW50IGV4aXN0aW5nRW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudERhby5nZXRFbnZpcm9ubWVudEJ5SWQoZW52aXJvbm1lbnQuZ2V0SWQoKSk7DQogICAgICAgICAgICBpZiAoZXhpc3RpbmdFbnZpcm9ubWVudCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVudmlyb25tZW50IHdpdGggSUQgIiArIGVudmlyb25tZW50LmdldElkKCkgKyAiIG5vdCBmb3VuZC4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghZXhpc3RpbmdFbnZpcm9ubWVudC5nZXROYW1lKCkuZXF1YWxzKGVudmlyb25tZW50LmdldE5hbWUoKSkpIHsNCiAgICAgICAgICAgICAgICBpZiAoZW52aXJvbm1lbnREYW8uZ2V0RW52aXJvbm1lbnRCeU5hbWUoZW52aXJvbm1lbnQuZ2V0TmFtZSgpKSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJFbnZpcm9ubWVudCB3aXRoIG5hbWUgJyIgKyBlbnZpcm9ubWVudC5nZXROYW1lKCkgKyAiJyBhbHJlYWR5IGV4aXN0cy4iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbnZpcm9ubWVudERhby51cGRhdGVFbnZpcm9ubWVudChlbnZpcm9ubWVudCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgdXBkYXRpbmcgZW52aXJvbm1lbnQ6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGVFbnZpcm9ubWVudChpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChlbnZpcm9ubWVudERhby5nZXRFbnZpcm9ubWVudEJ5SWQoaWQpID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRW52aXJvbm1lbnQgd2l0aCBJRCAiICsgaWQgKyAiIG5vdCBmb3VuZC4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVudmlyb25tZW50RGFvLmRlbGV0ZUVudmlyb25tZW50KGlkKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSBkZWxldGluZyBlbnZpcm9ubWVudDogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEVudmlyb25tZW50PiBmaW5kRW52aXJvbm1lbnRzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBlbnZpcm9ubWVudERhby5nZXRFbnZpcm9ubWVudHNCeVByb2plY3RJZChwcm9qZWN0SWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yIHdoaWxlIHJldHJpZXZpbmcgZW52aXJvbm1lbnRzIGJ5IHByb2plY3RJZDogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/service/impl/GatlingScenarioServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uYXBpLklHYXRsaW5nU2NlbmFyaW9EYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5HYXRsaW5nU2NlbmFyaW9EYW9JbXBsOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuKjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklHYXRsaW5nU2NlbmFyaW9TZXJ2aWNlOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSUdhdGxpbmdUZXN0U2VydmljZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklFbmRwb2ludFNlcnZpY2U7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQpwdWJsaWMgY2xhc3MgR2F0bGluZ1NjZW5hcmlvU2VydmljZUltcGwgaW1wbGVtZW50cyBJR2F0bGluZ1NjZW5hcmlvU2VydmljZSB7DQoNCiAgICBwcml2YXRlIGZpbmFsIElHYXRsaW5nU2NlbmFyaW9EYW8gc2NlbmFyaW9EYW8gPSBuZXcgR2F0bGluZ1NjZW5hcmlvRGFvSW1wbCgpOw0KICAgIHByaXZhdGUgZmluYWwgSUdhdGxpbmdUZXN0U2VydmljZSB0ZXN0U2VydmljZSA9IG5ldyBHYXRsaW5nVGVzdFNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBPYmplY3RNYXBwZXIgb2JqZWN0TWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpOw0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgY3JlYXRlU2NlbmFyaW8oU2NlbmFyaW8gc2MsIExpc3Q8U2NlbmFyaW9TdGVwPiBzdGVwcykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc2NlbmFyaW9EYW8uYWRkU2NlbmFyaW8oc2MpOw0KICAgICAgICAgICAgZm9yIChTY2VuYXJpb1N0ZXAgc3RlcCA6IHN0ZXBzKSB7DQogICAgICAgICAgICAgICAgc2NlbmFyaW9EYW8uYWRkU3RlcChzYy5nZXRJZCgpLCBzdGVwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gY3JlYXRlIHNjZW5hcmlvOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlU2NlbmFyaW8oU2NlbmFyaW8gc2MsIExpc3Q8U2NlbmFyaW9TdGVwPiBzdGVwcykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHByb2plY3QgaWQgaXMgc2V0DQogICAgICAgICAgICBpZiAoc2MuZ2V0UHJvamVjdElkKCkgPT0gMCAmJiBzYy5nZXRJZCgpID4gMCkgew0KICAgICAgICAgICAgICAgIFNjZW5hcmlvIGV4aXN0aW5nID0gc2NlbmFyaW9EYW8uZ2V0U2NlbmFyaW9CeUlkKHNjLmdldElkKCkpOw0KICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHNjLnNldFByb2plY3RJZChleGlzdGluZy5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2NlbmFyaW9EYW8udXBkYXRlU2NlbmFyaW8oc2MpOw0KICAgICAgICAgICAgc2NlbmFyaW9EYW8uZGVsZXRlU3RlcHNCeVNjZW5hcmlvSWQoc2MuZ2V0SWQoKSk7DQogICAgICAgICAgICBmb3IgKFNjZW5hcmlvU3RlcCBzIDogc3RlcHMpIHsNCiAgICAgICAgICAgICAgICBzY2VuYXJpb0Rhby5hZGRTdGVwKHNjLmdldElkKCksIHMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byB1cGRhdGUgc2NlbmFyaW86ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGVTY2VuYXJpbyhpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc2NlbmFyaW9EYW8uZGVsZXRlU2NlbmFyaW8oc2NlbmFyaW9JZCk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRmFpbGVkIHRvIGRlbGV0ZSBzY2VuYXJpbyIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIFNjZW5hcmlvIGR1cGxpY2F0ZVNjZW5hcmlvKGludCBzY2VuYXJpb0lkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBTY2VuYXJpbyBzcmMgPSBzY2VuYXJpb0Rhby5nZXRTY2VuYXJpb0J5SWQoc2NlbmFyaW9JZCk7DQogICAgICAgICAgICBpZiAoc3JjID09IG51bGwpIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJTY2VuYXJpbyBub3QgZm91bmQiKTsNCiAgICAgICAgICAgIFNjZW5hcmlvIGNvcHkgPSBuZXcgU2NlbmFyaW8oKTsNCiAgICAgICAgICAgIGNvcHkuc2V0TmFtZShzcmMuZ2V0TmFtZSgpICsgIl9jb3B5Iik7DQogICAgICAgICAgICBjb3B5LnNldERlc2NyaXB0aW9uKHNyYy5nZXREZXNjcmlwdGlvbigpKTsNCiAgICAgICAgICAgIGNvcHkuc2V0VGhyZWFkR3JvdXBKc29uKHNyYy5nZXRUaHJlYWRHcm91cEpzb24oKSk7DQogICAgICAgICAgICBjb3B5LnNldFNjaGVkdWxlSnNvbihzcmMuZ2V0U2NoZWR1bGVKc29uKCkpOw0KICAgICAgICAgICAgc2NlbmFyaW9EYW8uYWRkU2NlbmFyaW8oY29weSk7DQogICAgICAgICAgICBMaXN0PFNjZW5hcmlvU3RlcD4gc3RlcHMgPSBzY2VuYXJpb0Rhby5nZXRTdGVwc0J5U2NlbmFyaW9JZChzY2VuYXJpb0lkKTsNCiAgICAgICAgICAgIGZvciAoU2NlbmFyaW9TdGVwIHN0ZXAgOiBzdGVwcykgew0KICAgICAgICAgICAgICAgIHNjZW5hcmlvRGFvLmFkZFN0ZXAoY29weS5nZXRJZCgpLCBzdGVwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBjb3B5Ow0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byBkdXBsaWNhdGUgc2NlbmFyaW8iLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PFNjZW5hcmlvPiBmaW5kQWxsU2NlbmFyaW9zKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gc2NlbmFyaW9EYW8uZ2V0QWxsU2NlbmFyaW9zKHByb2plY3RJZCk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRmFpbGVkIHRvIHF1ZXJ5IHNjZW5hcmlvcyIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8U2NlbmFyaW9TdGVwPiBmaW5kU3RlcHNCeVNjZW5hcmlvSWQoaW50IHNjZW5hcmlvSWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBzY2VuYXJpb0Rhby5nZXRTdGVwc0J5U2NlbmFyaW9JZChzY2VuYXJpb0lkKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gbG9hZCBzdGVwcyIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlT3JkZXIoTGlzdDxTY2VuYXJpbz4gc2NlbmFyaW9zKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoc2NlbmFyaW9zID09IG51bGwgfHwgc2NlbmFyaW9zLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsgLy8gTm90aGluZyB0byB1cGRhdGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNjZW5hcmlvRGFvLnVwZGF0ZU9yZGVyKHNjZW5hcmlvcyk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3Igd2hpbGUgdXBkYXRpbmcgc2NlbmFyaW8gb3JkZXI6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBydW5TY2VuYXJpbyhpbnQgc2NlbmFyaW9JZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgU2NlbmFyaW8gc2MgPSBzY2VuYXJpb0Rhby5nZXRTY2VuYXJpb0J5SWQoc2NlbmFyaW9JZCk7DQogICAgICAgICAgICBpZiAoc2MgPT0gbnVsbCkgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlNjZW5hcmlvIG5vdCBmb3VuZCIpOw0KDQogICAgICAgICAgICAvLyBVc2UgcnVuU2NlbmFyaW9zKExpc3QpIG1ldGhvZCBldmVuIGlmIHRoZXJlIGlzIG9ubHkgb25lIGVsZW1lbnQsIHRvIGZvbGxvdyBTY2VuYXJpb1NpbXVsYXRpb24gbG9naWMNCiAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PFNjZW5hcmlvPiBsaXN0ID0gamF2YS51dGlsLkNvbGxlY3Rpb25zLnNpbmdsZXRvbkxpc3Qoc2MpOw0KICAgICAgICAgICAgcnVuU2NlbmFyaW9zKGxpc3QpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IGU7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRmFpbGVkIHRvIHJ1biBzY2VuYXJpbyIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgcnVuU2NlbmFyaW9zKGphdmEudXRpbC5MaXN0PGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW8+IHNjZW5hcmlvcywgamF2YS5sYW5nLlJ1bm5hYmxlIG9uQ29tcGxldGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgaWYgKHNjZW5hcmlvcyA9PSBudWxsIHx8IHNjZW5hcmlvcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIGlmIChvbkNvbXBsZXRlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBpZiAoamF2YWZ4LmFwcGxpY2F0aW9uLlBsYXRmb3JtLmlzRnhBcHBsaWNhdGlvblRocmVhZCgpKSB7DQogICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUucnVuKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgamF2YWZ4LmFwcGxpY2F0aW9uLlBsYXRmb3JtLnJ1bkxhdGVyKG9uQ29tcGxldGUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAvLyA9PT09PSAxLiDlh4blpIfmlbDmja4gPT09PT0NCiAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PFNjZW5hcmlvUnVuSXRlbT4gcnVuSXRlbXMgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCk7DQoNCiAgICAgICAgICAgIElFbmRwb2ludFNlcnZpY2UgZW5kcG9pbnRTZXJ2aWNlID0gbmV3IEVuZHBvaW50U2VydmljZUltcGwoKTsNCg0KICAgICAgICAgICAgZm9yIChjb20ucWEuYXBwLm1vZGVsLlNjZW5hcmlvIHNjIDogc2NlbmFyaW9zKSB7DQogICAgICAgICAgICAgICAgR2F0bGluZ0xvYWRQYXJhbWV0ZXJzIHBhcmFtcyA9IG9iamVjdE1hcHBlci5yZWFkVmFsdWUoc2MuZ2V0VGhyZWFkR3JvdXBKc29uKCksIEdhdGxpbmdMb2FkUGFyYW1ldGVycy5jbGFzcyk7DQoNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxTY2VuYXJpb1N0ZXA+IHN0ZXBzID0gc2NlbmFyaW9EYW8uZ2V0U3RlcHNCeVNjZW5hcmlvSWQoc2MuZ2V0SWQoKSk7DQogICAgICAgICAgICAgICAgaWYgKHN0ZXBzID09IG51bGwgfHwgc3RlcHMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJTY2VuYXJpbyAnIiArIHNjLmdldE5hbWUoKSArICInIGhhcyBubyBzdGVwcyBkZWZpbmVkIOKAkyBjYW5ub3QgcnVuLiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBUaGlzIGxpc3Qgd2lsbCBjb250YWluIGFsbCB0ZXN0cyBpbiB0aGUgY29ycmVjdCBvcmRlcjogc2V0dXAsIG1haW4sIHRlYXJkb3duDQogICAgICAgICAgICAgICAgTGlzdDxHYXRsaW5nVGVzdD4gYWxsVGVzdHNXaXRoRGVwcyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICBmb3IgKFNjZW5hcmlvU3RlcCBzdGVwIDogc3RlcHMpIHsNCiAgICAgICAgICAgICAgICAgICAgR2F0bGluZ1Rlc3QgbWFpblRlc3QgPSB0ZXN0U2VydmljZS5maW5kVGVzdEJ5VGNpZChzdGVwLmdldFRlc3RUY2lkKCkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAobWFpblRlc3QgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlc3Qgbm90IGZvdW5kIGZvciB0Y2lkOiAiICsgc3RlcC5nZXRUZXN0VGNpZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBtYWluVGVzdC5zZXRXYWl0VGltZShzdGVwLmdldFdhaXRUaW1lKCkpOw0KDQogICAgICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIExpc3Q8U3RyaW5nPj4gY29uZE1hcCA9IHBhcnNlQ29uZGl0aW9uU3RyaW5nKG1haW5UZXN0LmdldENvbmRpdGlvbnMoKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gMSkgQWRkIFNldHVwIHRlc3RzDQogICAgICAgICAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBzZXR1cHMgPSBjb25kTWFwLmdldE9yRGVmYXVsdCgiU2V0dXAiLCBqYXZhLnV0aWwuQ29sbGVjdGlvbnMuZW1wdHlMaXN0KCkpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyB0Y2lkIDogc2V0dXBzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBHYXRsaW5nVGVzdCBzZXR1cFRlc3QgPSB0ZXN0U2VydmljZS5maW5kVGVzdEJ5VGNpZCh0Y2lkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR1cFRlc3QgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJTZXR1cCB0ZXN0IG5vdCBmb3VuZDogIiArIHRjaWQgKyAiIChyZXF1aXJlZCBieSAiICsgbWFpblRlc3QuZ2V0VGNpZCgpICsgIikiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFRlc3RzV2l0aERlcHMuYWRkKHNldHVwVGVzdCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvLyAyKSBBZGQgTWFpbiB0ZXN0DQogICAgICAgICAgICAgICAgICAgIGFsbFRlc3RzV2l0aERlcHMuYWRkKG1haW5UZXN0KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLyAzKSBBZGQgVGVhcmRvd24gdGVzdHMNCiAgICAgICAgICAgICAgICAgICAgTGlzdDxTdHJpbmc+IHRlYXJkb3ducyA9IGNvbmRNYXAuZ2V0T3JEZWZhdWx0KCJUZWFyZG93biIsIGphdmEudXRpbC5Db2xsZWN0aW9ucy5lbXB0eUxpc3QoKSk7DQogICAgICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIHRjaWQgOiB0ZWFyZG93bnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEdhdGxpbmdUZXN0IHRlYXJkb3duVGVzdCA9IHRlc3RTZXJ2aWNlLmZpbmRUZXN0QnlUY2lkKHRjaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duVGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlYXJkb3duIHRlc3Qgbm90IGZvdW5kOiAiICsgdGNpZCArICIgKHJlcXVpcmVkIGJ5ICIgKyBtYWluVGVzdC5nZXRUY2lkKCkgKyAiKSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWxsVGVzdHNXaXRoRGVwcy5hZGQodGVhcmRvd25UZXN0KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PGphdmEudXRpbC5NYXA8U3RyaW5nLCBPYmplY3Q+PiBiYXRjaEl0ZW1zID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PigpOw0KICAgICAgICAgICAgICAgIGZvciAoR2F0bGluZ1Rlc3QgZ3QgOiBhbGxUZXN0c1dpdGhEZXBzKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIGVucmljaCB0ZW1wbGF0ZXMgKHNhbWUgbG9naWMgYXMgR2F0bGluZ1Rlc3RTZXJ2aWNlSW1wbCkNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3QuZ2V0Qm9keSgpID09IG51bGwgfHwgZ3QuZ2V0Qm9keSgpLmlzRW1wdHkoKSkgJiYgZ3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZSBidCA9IG5ldyBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC5Cb2R5VGVtcGxhdGVTZXJ2aWNlSW1wbCgpLmZpbmRCb2R5VGVtcGxhdGVCeUlkKGd0LmdldEJvZHlUZW1wbGF0ZUlkKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidCAhPSBudWxsKSBndC5zZXRCb2R5KGJ0LmdldENvbnRlbnQoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBpZ25vcmVkKSB7IH0NCg0KICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChndC5nZXRIZWFkZXJzKCkgPT0gbnVsbCB8fCBndC5nZXRIZWFkZXJzKCkuaXNFbXB0eSgpKSAmJiBndC5nZXRIZWFkZXJzVGVtcGxhdGVJZCgpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbS5xYS5hcHAubW9kZWwuSGVhZGVyc1RlbXBsYXRlIGh0ID0gbmV3IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLkhlYWRlcnNUZW1wbGF0ZVNlcnZpY2VJbXBsKCkuZ2V0SGVhZGVyc1RlbXBsYXRlQnlJZChndC5nZXRIZWFkZXJzVGVtcGxhdGVJZCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHQgIT0gbnVsbCkgZ3Quc2V0SGVhZGVycyhodC5nZXRDb250ZW50KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gaWdub3JlZCkgeyB9DQoNCiAgICAgICAgICAgICAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIE9iamVjdD4gbWFwID0gbmV3IGphdmEudXRpbC5IYXNoTWFwPD4oKTsNCiAgICAgICAgICAgICAgICAgICAgbWFwLnB1dCgidGVzdCIsIGd0KTsNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSBlbmRwb2ludCDigJMgcHJlZmVyIElEIHdoZW4gYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvIG5hbWUNCiAgICAgICAgICAgICAgICAgICAgY29tLnFhLmFwcC5tb2RlbC5FbmRwb2ludCBlbmRwb2ludCA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3QuZ2V0RW5kcG9pbnRJZCgpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnRTZXJ2aWNlLmdldEVuZHBvaW50QnlJZChndC5nZXRFbmRwb2ludElkKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHBvaW50ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludCA9IGVuZHBvaW50U2VydmljZS5nZXRFbmRwb2ludEJ5TmFtZShndC5nZXRFbmRwb2ludE5hbWUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVycm9yIHJldHJpZXZpbmcgZW5kcG9pbnQgZm9yIHRlc3Q6ICIgKyBndC5nZXRUY2lkKCkgKyAiOiAiICsgZXguZ2V0TWVzc2FnZSgpLCBleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAoZW5kcG9pbnQgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVuZHBvaW50IG5vdCBmb3VuZCBmb3IgdGVzdDogIiArIGd0LmdldFRjaWQoKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBtYXAucHV0KCJlbmRwb2ludCIsIGVuZHBvaW50KTsNCiAgICAgICAgICAgICAgICAgICAgYmF0Y2hJdGVtcy5hZGQobWFwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGJhdGNoSXRlbXMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJTY2VuYXJpbyAnIiArIHNjLmdldE5hbWUoKSArICInIGhhcyBubyBleGVjdXRhYmxlIHN0ZXBzICh0ZXN0cy9lbmRwb2ludHMgbm90IGZvdW5kKS4iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcnVuSXRlbXMuYWRkKG5ldyBTY2VuYXJpb1J1bkl0ZW0oc2MsIHBhcmFtcywgYmF0Y2hJdGVtcykpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyA9PT09PSAyLiDluo/liJfljJbliLDkuLTml7bmlofku7YgPT09PT0NCiAgICAgICAgICAgIGphdmEuaW8uRmlsZSBtdWx0aUZpbGUgPSBqYXZhLmlvLkZpbGUuY3JlYXRlVGVtcEZpbGUoImdhdGxpbmdfbXVsdGlzY2VuYXJpb18iLCAiLmpzb24iKTsNCiAgICAgICAgICAgIG11bHRpRmlsZS5kZWxldGVPbkV4aXQoKTsNCiAgICAgICAgICAgIGlmIChydW5JdGVtcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiTm8gdmFsaWQgc2NlbmFyaW8gc3RlcHMgZm91bmQgdG8gZXhlY3V0ZS4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCkud3JpdGVWYWx1ZShtdWx0aUZpbGUsIHJ1bkl0ZW1zKTsNCg0KICAgICAgICAgICAgLy8gPT09PT0gMy4g5ZCv5YqoIEdhdGxpbmcgPT09PT0NCiAgICAgICAgICAgIFN0cmluZyBqYXZhSG9tZSA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgiamF2YS5ob21lIik7DQogICAgICAgICAgICBTdHJpbmcgamF2YUJpbiA9IGphdmEubmlvLmZpbGUuUGF0aHMuZ2V0KGphdmFIb21lLCAiYmluIiwgImphdmEiKS50b1N0cmluZygpOw0KICAgICAgICAgICAgU3RyaW5nIGNsYXNzcGF0aCA9IGFzc2VtYmxlQ2xhc3NwYXRoKCk7DQogICAgICAgICAgICBTdHJpbmcgZ2F0bGluZ01haW4gPSAiaW8uZ2F0bGluZy5hcHAuR2F0bGluZyI7DQogICAgICAgICAgICBTdHJpbmcgc2ltdWxhdGlvbkNsYXNzID0gY29tLnFhLmFwcC5zZXJ2aWNlLnJ1bm5lci5HYXRsaW5nU2NlbmFyaW9TaW11bGF0aW9uLmNsYXNzLmdldE5hbWUoKTsNCiAgICAgICAgICAgIFN0cmluZyByZXN1bHRzUGF0aCA9IGphdmEubmlvLmZpbGUuUGF0aHMuZ2V0KFN5c3RlbS5nZXRQcm9wZXJ0eSgidXNlci5kaXIiKSwgInRhcmdldCIsICJnYXRsaW5nIikudG9TdHJpbmcoKTsNCg0KICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8U3RyaW5nPiBjb21tYW5kID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PigpOw0KICAgICAgICAgICAgY29tbWFuZC5hZGQoamF2YUJpbik7DQogICAgICAgICAgICBjb21tYW5kLmFkZCgiLS1hZGQtb3BlbnMiKTsNCiAgICAgICAgICAgIGNvbW1hbmQuYWRkKCJqYXZhLmJhc2UvamF2YS5sYW5nPUFMTC1VTk5BTUVEIik7DQogICAgICAgICAgICBjb21tYW5kLmFkZCgiLWNwIik7DQogICAgICAgICAgICBjb21tYW5kLmFkZChjbGFzc3BhdGgpOw0KICAgICAgICAgICAgY29tbWFuZC5hZGQoIi1EZ2F0bGluZy5tdWx0aXNjZW5hcmlvLmZpbGU9IiArIG11bHRpRmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7DQogICAgICAgICAgICBjb21tYW5kLmFkZChnYXRsaW5nTWFpbik7DQogICAgICAgICAgICBjb21tYW5kLmFkZCgiLXMiKTsNCiAgICAgICAgICAgIGNvbW1hbmQuYWRkKHNpbXVsYXRpb25DbGFzcyk7DQogICAgICAgICAgICBjb21tYW5kLmFkZCgiLXJmIik7DQogICAgICAgICAgICBjb21tYW5kLmFkZChyZXN1bHRzUGF0aCk7DQoNCiAgICAgICAgICAgIFByb2Nlc3NCdWlsZGVyIHBiID0gbmV3IFByb2Nlc3NCdWlsZGVyKGNvbW1hbmQpOw0KICAgICAgICAgICAgcGIuaW5oZXJpdElPKCk7DQoNCiAgICAgICAgICAgIC8vIOWcqOeLrOeri+e6v+eoi+S4reWQr+WKqOW5tuetieW+hSBHYXRsaW5nIOi/m+eoi++8jOmBv+WFjemYu+Whnuiwg+eUqOe6v+eoiw0KICAgICAgICAgICAgbmV3IFRocmVhZCgoKSAtPiB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgaW50IGV4aXRDb2RlOw0KICAgICAgICAgICAgICAgICAgICBqYXZhLmxhbmcuUHJvY2VzcyBwID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBwYi5zdGFydCgpOw0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIHN0YXJ0IEdhdGxpbmcgcHJvY2VzczogIiArIGV4LmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjb20ucWEuYXBwLnVpLnZtLk1haW5WaWV3TW9kZWwuc2hvd0dsb2JhbFN0YXR1cygiUnVubmluZyAiICsgc2NlbmFyaW9zLnNpemUoKSArICIgR2F0bGluZyBzY2VuYXJpbyhzKSIsIGNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLklORk8pOw0KDQogICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlID0gcC53YWl0Rm9yKCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChleGl0Q29kZSAhPSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkdhdGxpbmcgc2NlbmFyaW8ocykgRmFpbGVkLCBleGl0IGNvZGU6ICIgKyBleGl0Q29kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb20ucWEuYXBwLnVpLnZtLk1haW5WaWV3TW9kZWwuc2hvd0dsb2JhbFN0YXR1cygiR2F0bGluZyBzY2VuYXJpbyhzKSBGYWlsZWQsIGV4aXQgY29kZTogIiArIGV4aXRDb2RlLCBjb20ucWEuYXBwLnVpLnZtLk1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkdhdGxpbmcgc2NlbmFyaW8ocykgQ29tcGxldGVkLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29tLnFhLmFwcC51aS52bS5NYWluVmlld01vZGVsLnNob3dHbG9iYWxTdGF0dXMoIkdhdGxpbmcgU2NlbmFyaW8ocykgQ29tcGxldGVkIiwgY29tLnFhLmFwcC51aS52bS5NYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gZXhlY3V0ZSBHYXRsaW5nIFNjZW5hcmlvKHMpOiAiICsgZXguZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbC5zaG93R2xvYmFsU3RhdHVzKCJHYXRsaW5nIFNjZW5hcmlvKHMpIEV4Y2VwdGlvbjogIiArIGV4LmdldE1lc3NhZ2UoKSwgY29tLnFhLmFwcC51aS52bS5NYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChvbkNvbXBsZXRlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm0uaXNGeEFwcGxpY2F0aW9uVGhyZWFkKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlLnJ1bigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm0ucnVuTGF0ZXIob25Db21wbGV0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCAic2NlbmFyaW8tcnVubmVyIikuc3RhcnQoKTsNCg0KICAgICAgICB9IGNhdGNoKFNlcnZpY2VFeGNlcHRpb24gc2Upew0KICAgICAgICAgICAgdGhyb3cgc2U7DQogICAgICAgIH0gY2F0Y2goRXhjZXB0aW9uIGUpew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byBydW4gR2F0bGluZyBzY2VuYXJpbyhzKSIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgcnVuU2NlbmFyaW9zKGphdmEudXRpbC5MaXN0PGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW8+IHNjZW5hcmlvcykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICBydW5TY2VuYXJpb3Moc2NlbmFyaW9zLCBudWxsKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cHNlcnRTY2hlZHVsZShpbnQgc2NlbmFyaW9JZCwgU3RyaW5nIGNyb25FeHByLCBib29sZWFuIGVuYWJsZWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHNjZW5hcmlvRGFvLnVwc2VydFNjaGVkdWxlKHNjZW5hcmlvSWQsIGNyb25FeHByLCBlbmFibGVkKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gdXBkYXRlIHNjaGVkdWxlIiwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgY29tLnFhLmFwcC5tb2RlbC5TY2VuYXJpb1NjaGVkdWxlIGdldFNjaGVkdWxlKGludCBzY2VuYXJpb0lkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gc2NlbmFyaW9EYW8uZ2V0U2NoZWR1bGUoc2NlbmFyaW9JZCk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRmFpbGVkIHRvIGxvYWQgc2NoZWR1bGUiLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBhc3NlbWJsZUNsYXNzcGF0aCgpIHsNCiAgICAgICAgU3RyaW5nIGNwID0gU3lzdGVtLmdldFByb3BlcnR5KCJqYXZhLmNsYXNzLnBhdGgiKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIFN0cmluZyBzZWxmUGF0aCA9IG5ldyBqYXZhLmlvLkZpbGUoR2F0bGluZ1NjZW5hcmlvU2VydmljZUltcGwuY2xhc3MuZ2V0UHJvdGVjdGlvbkRvbWFpbigpDQogICAgICAgICAgICAgICAgICAgIC5nZXRDb2RlU291cmNlKCkuZ2V0TG9jYXRpb24oKS50b1VSSSgpKS5nZXRQYXRoKCk7DQogICAgICAgICAgICBpZiAoIWNwLmNvbnRhaW5zKHNlbGZQYXRoKSkgew0KICAgICAgICAgICAgICAgIGNwICs9IGphdmEuaW8uRmlsZS5wYXRoU2VwYXJhdG9yICsgc2VsZlBhdGg7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBpZ25vcmVkKSB7IH0NCiAgICAgICAgcmV0dXJuIGNwOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFBhcnNlIHRoZSBDb25kaXRpb24gc3RyaW5nLCBlLmcuICJbU2V0dXBdVEMwMDEsVEMwMDI7W1RlYXJkb3duXVRDMDAzIiAtPiBNYXANCiAgICAgKiBDb3BpZWQgZnJvbSBHYXRsaW5nVGVzdFNlcnZpY2VJbXBsIGZvciBzdGFuZGFsb25lIHVzZS4NCiAgICAgKi8NCiAgICBwcml2YXRlIE1hcDxTdHJpbmcsIGphdmEudXRpbC5MaXN0PFN0cmluZz4+IHBhcnNlQ29uZGl0aW9uU3RyaW5nKFN0cmluZyBjb25kKSB7DQogICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBqYXZhLnV0aWwuTGlzdDxTdHJpbmc+PiBtYXAgPSBuZXcgamF2YS51dGlsLkhhc2hNYXA8PigpOw0KICAgICAgICBpZiAoY29uZCA9PSBudWxsIHx8IGNvbmQuaXNCbGFuaygpKSByZXR1cm4gbWFwOw0KICAgICAgICBqYXZhLnV0aWwucmVnZXguUGF0dGVybiBwID0gamF2YS51dGlsLnJlZ2V4LlBhdHRlcm4uY29tcGlsZSgiXFxbKFxcdyspXFxdKFteXFxbXSopIik7DQogICAgICAgIGphdmEudXRpbC5yZWdleC5NYXRjaGVyIG0gPSBwLm1hdGNoZXIoY29uZCk7DQogICAgICAgIHdoaWxlIChtLmZpbmQoKSkgew0KICAgICAgICAgICAgU3RyaW5nIHByZWZpeCA9IG0uZ3JvdXAoMSk7DQogICAgICAgICAgICBTdHJpbmcgYm9keSA9IG0uZ3JvdXAoMikudHJpbSgpLnJlcGxhY2UoIjsiLCAiIik7IC8vIHJlbW92ZSBzdHJheSBzZW1pY29sb25zDQogICAgICAgICAgICBpZiAoYm9keS5pc0JsYW5rKCkpIGNvbnRpbnVlOw0KICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8U3RyaW5nPiB0Y2lkcyA9IGphdmEudXRpbC5BcnJheXMuc3RyZWFtKGJvZHkuc3BsaXQoIiwiKSkNCiAgICAgICAgICAgICAgICAgICAgLm1hcChTdHJpbmc6OnRyaW0pDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocyAtPiAhcy5pc0JsYW5rKCkpDQogICAgICAgICAgICAgICAgICAgIC50b0xpc3QoKTsNCiAgICAgICAgICAgIG1hcC5wdXQocHJlZml4LCB0Y2lkcyk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG1hcDsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/service/impl/GatlingTestServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JR2F0bGluZ1Rlc3REYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5HYXRsaW5nVGVzdERhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nVGVzdDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdMb2FkUGFyYW1ldGVyczsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklHYXRsaW5nVGVzdFNlcnZpY2U7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JRW5kcG9pbnRTZXJ2aWNlOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuRW5kcG9pbnQ7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLnJ1bm5lci5HYXRsaW5nVGVzdFJ1bm5lcjsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZTsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkhlYWRlcnNUZW1wbGF0ZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklCb2R5VGVtcGxhdGVTZXJ2aWNlOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSUhlYWRlcnNUZW1wbGF0ZVNlcnZpY2U7DQoNCnB1YmxpYyBjbGFzcyBHYXRsaW5nVGVzdFNlcnZpY2VJbXBsIGltcGxlbWVudHMgSUdhdGxpbmdUZXN0U2VydmljZSB7DQoNCiAgICBwcml2YXRlIGZpbmFsIElHYXRsaW5nVGVzdERhbyB0ZXN0RGFvID0gbmV3IEdhdGxpbmdUZXN0RGFvSW1wbCgpOyAvLyBJbiBhIHJlYWwgYXBwLCB1c2UgZGVwZW5kZW5jeSBpbmplY3Rpb24NCiAgICBwcml2YXRlIGZpbmFsIElFbmRwb2ludFNlcnZpY2UgZW5kcG9pbnRTZXJ2aWNlID0gbmV3IEVuZHBvaW50U2VydmljZUltcGwoKTsNCiAgICBwcml2YXRlIGZpbmFsIElCb2R5VGVtcGxhdGVTZXJ2aWNlIGJvZHlUZW1wbGF0ZVNlcnZpY2UgPSBuZXcgQm9keVRlbXBsYXRlU2VydmljZUltcGwoKTsNCiAgICBwcml2YXRlIGZpbmFsIElIZWFkZXJzVGVtcGxhdGVTZXJ2aWNlIGhlYWRlcnNUZW1wbGF0ZVNlcnZpY2UgPSBuZXcgSGVhZGVyc1RlbXBsYXRlU2VydmljZUltcGwoKTsNCg0KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgKiAgSGVscGVyIGZ1bmN0aW9uYWwgaW50ZXJmYWNlcyAmIHV0aWxpdHkgd3JhcHBlcnMNCiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovDQogICAgQEZ1bmN0aW9uYWxJbnRlcmZhY2UNCiAgICBwcml2YXRlIGludGVyZmFjZSBTcWxDYWxsYWJsZTxUPiB7DQogICAgICAgIFQgY2FsbCgpIHRocm93cyBTUUxFeGNlcHRpb247DQogICAgfQ0KDQogICAgcHJpdmF0ZSA8VD4gVCB3aXRoU3FsKFNxbENhbGxhYmxlPFQ+IGFjdGlvbiwgU3RyaW5nIGVyck1zZykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jYWxsKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbihlcnJNc2cgKyAiOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGlzQmxhbmsoU3RyaW5nIHMpIHsNCiAgICAgICAgcmV0dXJuIHMgPT0gbnVsbCB8fCBzLnRyaW0oKS5pc0VtcHR5KCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHZhbGlkYXRlVGVzdEJhc2ljRmllbGRzKEdhdGxpbmdUZXN0IHRlc3QpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgYm9vbGVhbiBlbmRwb2ludEluZm9NaXNzaW5nID0gKHRlc3QuZ2V0RW5kcG9pbnRJZCgpIDw9IDApICYmIGlzQmxhbmsodGVzdC5nZXRFbmRwb2ludE5hbWUoKSk7DQogICAgICAgIGlmICh0ZXN0ID09IG51bGwgfHwgaXNCbGFuayh0ZXN0LmdldFRjaWQoKSkgfHwgaXNCbGFuayh0ZXN0LmdldFN1aXRlKCkpIHx8IGVuZHBvaW50SW5mb01pc3NpbmcpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJUZXN0IHZhbGlkYXRpb24gZmFpbGVkOiBUQ0lELCBTdWl0ZSwgYW5kIEVuZHBvaW50IChJRCBvciBOYW1lKSBhcmUgcmVxdWlyZWQuIik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBjcmVhdGVUZXN0KEdhdGxpbmdUZXN0IHRlc3QpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdmFsaWRhdGVUZXN0QmFzaWNGaWVsZHModGVzdCk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEdhdGxpbmdUZXN0IGV4aXN0aW5nID0gdGVzdERhby5nZXRUZXN0QnlUY2lkKHRlc3QuZ2V0VGNpZCgpKTsNCiAgICAgICAgICAgIGlmIChleGlzdGluZyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlc3Qgd2l0aCBUQ0lEICciICsgdGVzdC5nZXRUY2lkKCkgKyAiJyBhbHJlYWR5IGV4aXN0cy4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRlc3REYW8uYWRkVGVzdCh0ZXN0KTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSBjcmVhdGluZyB0ZXN0OiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEdhdGxpbmdUZXN0IGZpbmRUZXN0QnlJZChpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgcmV0dXJuIHdpdGhTcWwoKCkgLT4gdGVzdERhby5nZXRUZXN0QnlJZChpZCksICJEYXRhYmFzZSBlcnJvciB3aGlsZSBmaW5kaW5nIHRlc3QgYnkgSUQiKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgR2F0bGluZ1Rlc3QgZmluZFRlc3RCeVRjaWQoU3RyaW5nIHRjaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgcmV0dXJuIHdpdGhTcWwoKCkgLT4gdGVzdERhby5nZXRUZXN0QnlUY2lkKHRjaWQpLCAiRGF0YWJhc2UgZXJyb3Igd2hpbGUgZmluZGluZyB0ZXN0IGJ5IFRDSUQiKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgTGlzdDxHYXRsaW5nVGVzdD4gZmluZEFsbFRlc3RzKCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICByZXR1cm4gd2l0aFNxbCh0ZXN0RGFvOjpnZXRBbGxUZXN0cywgIkRhdGFiYXNlIGVycm9yIHdoaWxlIHJldHJpZXZpbmcgYWxsIHRlc3RzIik7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8R2F0bGluZ1Rlc3Q+IGZpbmRBbGxUZXN0c0J5UHJvamVjdElkKEludGVnZXIgcHJvamVjdElkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHJldHVybiB3aXRoU3FsKCgpIC0+IHRlc3REYW8uZ2V0VGVzdHNCeVByb2plY3RJZChwcm9qZWN0SWQpLCAiRGF0YWJhc2UgZXJyb3Igd2hpbGUgcmV0cmlldmluZyB0ZXN0cyBieSBwcm9qZWN0SWQiKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgTGlzdDxHYXRsaW5nVGVzdD4gZmluZFRlc3RzQnlTdWl0ZShTdHJpbmcgc3VpdGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgcmV0dXJuIHdpdGhTcWwoKCkgLT4gdGVzdERhby5nZXRUZXN0c0J5U3VpdGUoc3VpdGUpLCAiRGF0YWJhc2UgZXJyb3Igd2hpbGUgZmluZGluZyB0ZXN0cyBieSBzdWl0ZSIpOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIHVwZGF0ZVRlc3QoR2F0bGluZ1Rlc3QgdGVzdCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgaWYgKHRlc3QgPT0gbnVsbCB8fCB0ZXN0LmdldElkKCkgPD0gMCB8fA0KICAgICAgICAgICAgICAgIHRlc3QuZ2V0VGNpZCgpID09IG51bGwgfHwgdGVzdC5nZXRUY2lkKCkudHJpbSgpLmlzRW1wdHkoKSB8fA0KICAgICAgICAgICAgICAgIHRlc3QuZ2V0U3VpdGUoKSA9PSBudWxsIHx8IHRlc3QuZ2V0U3VpdGUoKS50cmltKCkuaXNFbXB0eSgpIHx8DQogICAgICAgICAgICAgICAgKHRlc3QuZ2V0RW5kcG9pbnRJZCgpIDw9IDAgJiYgKHRlc3QuZ2V0RW5kcG9pbnROYW1lKCkgPT0gbnVsbCB8fCB0ZXN0LmdldEVuZHBvaW50TmFtZSgpLnRyaW0oKS5pc0VtcHR5KCkpKSkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJUZXN0IHZhbGlkYXRpb24gZmFpbGVkOiBJRCwgVENJRCwgU3VpdGUsIGFuZCBFbmRwb2ludCAoSUQgb3IgTmFtZSkgYXJlIHJlcXVpcmVkLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgR2F0bGluZ1Rlc3QgZXhpc3RpbmdUZXN0ID0gdGVzdERhby5nZXRUZXN0QnlJZCh0ZXN0LmdldElkKCkpOw0KICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlc3Qgd2l0aCBJRCAiICsgdGVzdC5nZXRJZCgpICsgIiBub3QgZm91bmQuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoIWV4aXN0aW5nVGVzdC5nZXRUY2lkKCkuZXF1YWxzKHRlc3QuZ2V0VGNpZCgpKSkgew0KICAgICAgICAgICAgICAgIEdhdGxpbmdUZXN0IHRlc3RXaXRoU2FtZVRjaWQgPSB0ZXN0RGFvLmdldFRlc3RCeVRjaWQodGVzdC5nZXRUY2lkKCkpOw0KICAgICAgICAgICAgICAgIGlmICh0ZXN0V2l0aFNhbWVUY2lkICE9IG51bGwgJiYgdGVzdFdpdGhTYW1lVGNpZC5nZXRJZCgpICE9IHRlc3QuZ2V0SWQoKSkgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiVGVzdCB3aXRoIFRDSUQgJyIgKyB0ZXN0LmdldFRjaWQoKSArICInIGFscmVhZHkgZXhpc3RzLiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRlc3REYW8udXBkYXRlVGVzdCh0ZXN0KTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSB1cGRhdGluZyB0ZXN0OiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgcmVtb3ZlVGVzdChpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEdhdGxpbmdUZXN0IGV4aXN0aW5nID0gdGVzdERhby5nZXRUZXN0QnlJZChpZCk7DQogICAgICAgICAgICBpZiAoZXhpc3RpbmcgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJUZXN0IHdpdGggSUQgIiArIGlkICsgIiBub3QgZm91bmQuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0ZXN0RGFvLmRlbGV0ZVRlc3QoaWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yIHdoaWxlIHJlbW92aW5nIHRlc3Q6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB0b2dnbGVUZXN0UnVuU3RhdHVzKGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgR2F0bGluZ1Rlc3QgdCA9IHRlc3REYW8uZ2V0VGVzdEJ5SWQoaWQpOw0KICAgICAgICAgICAgaWYgKHQgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJUZXN0IHdpdGggSUQgIiArIGlkICsgIiBub3QgZm91bmQuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0ZXN0RGFvLnVwZGF0ZVRlc3RSdW5TdGF0dXMoaWQsICF0LmlzRW5hYmxlZCgpKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvciB3aGlsZSB0b2dnbGluZyB0ZXN0IHJ1biBzdGF0dXM6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBydW5UZXN0cyhqYXZhLnV0aWwuTGlzdDxHYXRsaW5nVGVzdD4gdGVzdHMsIEdhdGxpbmdMb2FkUGFyYW1ldGVycyBwYXJhbXMpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgcnVuVGVzdHModGVzdHMsIHBhcmFtcywgbnVsbCk7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgcnVuVGVzdHMoamF2YS51dGlsLkxpc3Q8R2F0bGluZ1Rlc3Q+IHRlc3RzLCBHYXRsaW5nTG9hZFBhcmFtZXRlcnMgcGFyYW1zLCBSdW5uYWJsZSBvbkNvbXBsZXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIGlmICh0ZXN0cyA9PSBudWxsIHx8IHRlc3RzLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlc3QgbGlzdCBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIOKRoCBFeHBhbmQgZGVwZW5kZW5jaWVzIGFuZCBjYXB0dXJlIGV4dHJhIG1ldGEgKG9yaWdpbiwgbW9kZSkNCiAgICAgICAgRXhwYW5kZWRSZXN1bHQgZXhwYW5kZWQgPSBleHBhbmRUZXN0c1dpdGhEZXBlbmRlbmNpZXNGb3JSdW4odGVzdHMpOw0KICAgICAgICBMaXN0PEdhdGxpbmdUZXN0PiBleGVjdXRpb25MaXN0ID0gZXhwYW5kZWQudGVzdHM7DQoNCiAgICAgICAgamF2YS51dGlsLkxpc3Q8RW5kcG9pbnQ+IGVuZHBvaW50cyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgZm9yIChHYXRsaW5nVGVzdCB0ZXN0IDogZXhlY3V0aW9uTGlzdCkgew0KICAgICAgICAgICAgZW5yaWNoVGVtcGxhdGVzKHRlc3QpOw0KDQogICAgICAgICAgICBFbmRwb2ludCBlbmRwb2ludCA9IG51bGw7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldEVuZHBvaW50SWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQgPSBlbmRwb2ludFNlcnZpY2UuZ2V0RW5kcG9pbnRCeUlkKHRlc3QuZ2V0RW5kcG9pbnRJZCgpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGVuZHBvaW50ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQgPSBlbmRwb2ludFNlcnZpY2UuZ2V0RW5kcG9pbnRCeU5hbWUodGVzdC5nZXRFbmRwb2ludE5hbWUoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVycm9yIHJldHJpZXZpbmcgZW5kcG9pbnQgZm9yIHRlc3Q6ICIgKyB0ZXN0LmdldFRjaWQoKSArICI6ICIgKyBleC5nZXRNZXNzYWdlKCksIGV4KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGVuZHBvaW50ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRW5kcG9pbnQgbm90IGZvdW5kIGZvciB0ZXN0OiAiICsgdGVzdC5nZXRUY2lkKCkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBlbmRwb2ludHMuYWRkKGVuZHBvaW50KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBHYXRsaW5nVGVzdFJ1bm5lci5leGVjdXRlQmF0Y2goZXhlY3V0aW9uTGlzdCwgcGFyYW1zLCBlbmRwb2ludHMsDQogICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkLm9yaWdpbnMsIGV4cGFuZGVkLm1vZGVzLCBvbkNvbXBsZXRlKTsNCg0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byBydW4gR2F0bGluZyBiYXRjaCB0ZXN0czogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEdhdGxpbmdUZXN0PiBmaW5kVGVzdHNCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIHRlc3REYW8uZ2V0VGVzdHNCeVByb2plY3RJZChwcm9qZWN0SWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yIHdoaWxlIHJldHJpZXZpbmcgdGVzdHMgYnkgcHJvamVjdElkOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlT3JkZXIoTGlzdDxHYXRsaW5nVGVzdD4gdGVzdHMpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICh0ZXN0cyA9PSBudWxsIHx8IHRlc3RzLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsgLy8gTm90aGluZyB0byB1cGRhdGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRlc3REYW8udXBkYXRlT3JkZXIodGVzdHMpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yIHdoaWxlIHVwZGF0aW5nIHRlc3Qgb3JkZXI6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgZW5yaWNoVGVtcGxhdGVzKEdhdGxpbmdUZXN0IHRlc3QpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICgodGVzdC5nZXRCb2R5KCkgPT0gbnVsbCB8fCB0ZXN0LmdldEJvZHkoKS5pc0VtcHR5KCkpICYmIHRlc3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBCb2R5VGVtcGxhdGUgYnQgPSBib2R5VGVtcGxhdGVTZXJ2aWNlLmZpbmRCb2R5VGVtcGxhdGVCeUlkKHRlc3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSk7DQogICAgICAgICAgICAgICAgaWYgKGJ0ICE9IG51bGwpIHRlc3Quc2V0Qm9keShidC5nZXRDb250ZW50KCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gaWdub3JlZCkgeyB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICgodGVzdC5nZXRIZWFkZXJzKCkgPT0gbnVsbCB8fCB0ZXN0LmdldEhlYWRlcnMoKS5pc0VtcHR5KCkpICYmIHRlc3QuZ2V0SGVhZGVyc1RlbXBsYXRlSWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBIZWFkZXJzVGVtcGxhdGUgaHQgPSBoZWFkZXJzVGVtcGxhdGVTZXJ2aWNlLmdldEhlYWRlcnNUZW1wbGF0ZUJ5SWQodGVzdC5nZXRIZWFkZXJzVGVtcGxhdGVJZCgpKTsNCiAgICAgICAgICAgICAgICBpZiAoaHQgIT0gbnVsbCkgdGVzdC5zZXRIZWFkZXJzKGh0LmdldENvbnRlbnQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBpZ25vcmVkKSB7IH0NCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIFBhcnNlIHRoZSBDb25kaXRpb24gc3RyaW5nLCBlLmcuICJbU2V0dXBdVEMwMDEsVEMwMDI7W1RlYXJkb3duXVRDMDAzIiAtPiBNYXANCiAgICAgKi8NCiAgICBwcml2YXRlIE1hcDxTdHJpbmcsIGphdmEudXRpbC5MaXN0PFN0cmluZz4+IHBhcnNlQ29uZGl0aW9uU3RyaW5nKFN0cmluZyBjb25kKSB7DQogICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBqYXZhLnV0aWwuTGlzdDxTdHJpbmc+PiBtYXAgPSBuZXcgamF2YS51dGlsLkhhc2hNYXA8PigpOw0KICAgICAgICBpZiAoY29uZCA9PSBudWxsIHx8IGNvbmQuaXNCbGFuaygpKSByZXR1cm4gbWFwOw0KICAgICAgICBqYXZhLnV0aWwucmVnZXguUGF0dGVybiBwID0gamF2YS51dGlsLnJlZ2V4LlBhdHRlcm4uY29tcGlsZSgiXFxbKFxcdyspXShbXjtdKikiKTsNCiAgICAgICAgamF2YS51dGlsLnJlZ2V4Lk1hdGNoZXIgbSA9IHAubWF0Y2hlcihjb25kKTsNCiAgICAgICAgd2hpbGUgKG0uZmluZCgpKSB7DQogICAgICAgICAgICBTdHJpbmcgcHJlZml4ID0gbS5ncm91cCgxKTsNCiAgICAgICAgICAgIFN0cmluZyBib2R5ID0gbS5ncm91cCgyKS50cmltKCk7DQogICAgICAgICAgICBpZiAoYm9keS5pc0JsYW5rKCkpIGNvbnRpbnVlOw0KICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8U3RyaW5nPiB0Y2lkcyA9IGphdmEudXRpbC5BcnJheXMuc3RyZWFtKGJvZHkuc3BsaXQoIiwiKSkNCiAgICAgICAgICAgICAgICAgICAgLm1hcChTdHJpbmc6OnRyaW0pDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocyAtPiAhcy5pc0JsYW5rKCkpDQogICAgICAgICAgICAgICAgICAgIC50b0xpc3QoKTsNCiAgICAgICAgICAgIG1hcC5wdXQocHJlZml4LCB0Y2lkcyk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG1hcDsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBjbGFzcyBFeHBhbmRlZFJlc3VsdCB7DQogICAgICAgIExpc3Q8R2F0bGluZ1Rlc3Q+IHRlc3RzID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PigpOw0KICAgICAgICBMaXN0PFN0cmluZz4gb3JpZ2lucyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgTGlzdDxTdHJpbmc+IG1vZGVzID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PigpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgRXhwYW5kZWRSZXN1bHQgZXhwYW5kVGVzdHNXaXRoRGVwZW5kZW5jaWVzRm9yUnVuKExpc3Q8R2F0bGluZ1Rlc3Q+IHNlbGVjdGVkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIEV4cGFuZGVkUmVzdWx0IHJlcyA9IG5ldyBFeHBhbmRlZFJlc3VsdCgpOw0KDQogICAgICAgIGZvciAoR2F0bGluZ1Rlc3QgbWFpbiA6IHNlbGVjdGVkKSB7DQogICAgICAgICAgICBNYXA8U3RyaW5nLCBMaXN0PFN0cmluZz4+IGNvbmRNYXAgPSBwYXJzZUNvbmRpdGlvblN0cmluZyhtYWluLmdldENvbmRpdGlvbnMoKSk7DQoNCiAgICAgICAgICAgIC8vIDEpIFNldHVwDQogICAgICAgICAgICBMaXN0PFN0cmluZz4gc2V0dXBzID0gY29uZE1hcC5nZXRPckRlZmF1bHQoIlNldHVwIiwgamF2YS51dGlsLkNvbGxlY3Rpb25zLmVtcHR5TGlzdCgpKTsNCiAgICAgICAgICAgIGZvciAoU3RyaW5nIHRjaWQgOiBzZXR1cHMpIHsNCiAgICAgICAgICAgICAgICBHYXRsaW5nVGVzdCBzZXR1cFRlc3QgPSBmaW5kVGVzdEJ5VGNpZCh0Y2lkKTsNCiAgICAgICAgICAgICAgICBpZiAoc2V0dXBUZXN0ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlNldHVwIHRlc3Qgbm90IGZvdW5kOiAiICsgdGNpZCArICIgKHJlcXVpcmVkIGJ5ICIgKyBtYWluLmdldFRjaWQoKSArICIpIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJlcy50ZXN0cy5hZGQoc2V0dXBUZXN0KTsNCiAgICAgICAgICAgICAgICByZXMub3JpZ2lucy5hZGQobWFpbi5nZXRUY2lkKCkpOw0KICAgICAgICAgICAgICAgIHJlcy5tb2Rlcy5hZGQoIlNFVFVQIik7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIDIpIE1haW4gdGVzdA0KICAgICAgICAgICAgcmVzLnRlc3RzLmFkZChtYWluKTsNCiAgICAgICAgICAgIHJlcy5vcmlnaW5zLmFkZChtYWluLmdldFRjaWQoKSk7DQogICAgICAgICAgICByZXMubW9kZXMuYWRkKCJNQUlOIik7DQoNCiAgICAgICAgICAgIC8vIDMpIFRlYXJkb3duDQogICAgICAgICAgICBMaXN0PFN0cmluZz4gdGVhcmRvd25zID0gY29uZE1hcC5nZXRPckRlZmF1bHQoIlRlYXJkb3duIiwgamF2YS51dGlsLkNvbGxlY3Rpb25zLmVtcHR5TGlzdCgpKTsNCiAgICAgICAgICAgIGZvciAoU3RyaW5nIHRjaWQgOiB0ZWFyZG93bnMpIHsNCiAgICAgICAgICAgICAgICBHYXRsaW5nVGVzdCB0ZWFyZG93blRlc3QgPSBmaW5kVGVzdEJ5VGNpZCh0Y2lkKTsNCiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd25UZXN0ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlYXJkb3duIHRlc3Qgbm90IGZvdW5kOiAiICsgdGNpZCArICIgKHJlcXVpcmVkIGJ5ICIgKyBtYWluLmdldFRjaWQoKSArICIpIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJlcy50ZXN0cy5hZGQodGVhcmRvd25UZXN0KTsNCiAgICAgICAgICAgICAgICByZXMub3JpZ2lucy5hZGQobWFpbi5nZXRUY2lkKCkpOw0KICAgICAgICAgICAgICAgIHJlcy5tb2Rlcy5hZGQoIlRFQVJET1dOIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlczsNCiAgICB9DQoNCn0=
END
PATH:src/main/java/com/qa/app/service/impl/GroovyVariableServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JR3Jvb3Z5VmFyaWFibGVEYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5Hcm9vdnlWYXJpYWJsZURhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5Hcm9vdnlWYXJpYWJsZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklHcm9vdnlWYXJpYWJsZVNlcnZpY2U7DQoNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCnB1YmxpYyBjbGFzcyBHcm9vdnlWYXJpYWJsZVNlcnZpY2VJbXBsIGltcGxlbWVudHMgSUdyb292eVZhcmlhYmxlU2VydmljZSB7DQoNCiAgICBwcml2YXRlIGZpbmFsIElHcm9vdnlWYXJpYWJsZURhbyBncm9vdnlWYXJpYWJsZURhbyA9IG5ldyBHcm9vdnlWYXJpYWJsZURhb0ltcGwoKTsNCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGFkZChHcm9vdnlWYXJpYWJsZSB2YXJpYWJsZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZ3Jvb3Z5VmFyaWFibGVEYW8uYWRkKHZhcmlhYmxlKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJFcnJvciBhZGRpbmcgR3Jvb3Z5IHZhcmlhYmxlIiwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGUoR3Jvb3Z5VmFyaWFibGUgdmFyaWFibGUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGdyb292eVZhcmlhYmxlRGFvLnVwZGF0ZSh2YXJpYWJsZSk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRXJyb3IgdXBkYXRpbmcgR3Jvb3Z5IHZhcmlhYmxlIiwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBkZWxldGUoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBncm9vdnlWYXJpYWJsZURhby5kZWxldGUoaWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkVycm9yIGRlbGV0aW5nIEdyb292eSB2YXJpYWJsZSIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEdyb292eVZhcmlhYmxlIGdldEJ5SWQoaW50IGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gZ3Jvb3Z5VmFyaWFibGVEYW8uZ2V0QnlJZChpZCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRXJyb3IgZ2V0dGluZyBHcm9vdnkgdmFyaWFibGUgYnkgaWQiLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEdyb292eVZhcmlhYmxlPiBnZXRCeVByb2plY3RJZChJbnRlZ2VyIHByb2plY3RJZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGdyb292eVZhcmlhYmxlRGFvLmdldEJ5UHJvamVjdElkKHByb2plY3RJZCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRXJyb3IgZ2V0dGluZyBHcm9vdnkgdmFyaWFibGVzIGJ5IHByb2plY3QgaWQiLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEdyb292eVZhcmlhYmxlPiBnZXRBbGwoKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gZ3Jvb3Z5VmFyaWFibGVEYW8uZ2V0QWxsKCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRXJyb3IgZ2V0dGluZyBhbGwgR3Jvb3Z5IHZhcmlhYmxlcyIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/service/impl/HeadersTemplateServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JSGVhZGVyc1RlbXBsYXRlRGFvOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmltcGwuSGVhZGVyc1RlbXBsYXRlRGFvSW1wbDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkhlYWRlcnNUZW1wbGF0ZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklIZWFkZXJzVGVtcGxhdGVTZXJ2aWNlOw0KDQpwdWJsaWMgY2xhc3MgSGVhZGVyc1RlbXBsYXRlU2VydmljZUltcGwgaW1wbGVtZW50cyBJSGVhZGVyc1RlbXBsYXRlU2VydmljZSB7DQogICAgcHJpdmF0ZSBmaW5hbCBJSGVhZGVyc1RlbXBsYXRlRGFvIGRhbyA9IG5ldyBIZWFkZXJzVGVtcGxhdGVEYW9JbXBsKCk7DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRIZWFkZXJzVGVtcGxhdGUoSGVhZGVyc1RlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAodGVtcGxhdGUgPT0gbnVsbCB8fCB0ZW1wbGF0ZS5nZXROYW1lKCkgPT0gbnVsbCB8fCB0ZW1wbGF0ZS5nZXROYW1lKCkudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJUZW1wbGF0ZSBuYW1lIGlzIHJlcXVpcmVkLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGRhby5nZXRIZWFkZXJzVGVtcGxhdGVCeU5hbWUodGVtcGxhdGUuZ2V0TmFtZSgpKSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRlbXBsYXRlIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGFvLmFkZEhlYWRlcnNUZW1wbGF0ZSh0ZW1wbGF0ZSk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGVIZWFkZXJzVGVtcGxhdGUoSGVhZGVyc1RlbXBsYXRlIHRlbXBsYXRlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAodGVtcGxhdGUgPT0gbnVsbCB8fCB0ZW1wbGF0ZS5nZXRJZCgpIDw9IDApIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiVGVtcGxhdGUgSUQgaXMgcmVxdWlyZWQuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkYW8udXBkYXRlSGVhZGVyc1RlbXBsYXRlKHRlbXBsYXRlKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvcjogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGRlbGV0ZUhlYWRlcnNUZW1wbGF0ZShpbnQgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGRhby5kZWxldGVIZWFkZXJzVGVtcGxhdGUoaWQpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIEhlYWRlcnNUZW1wbGF0ZSBnZXRIZWFkZXJzVGVtcGxhdGVCeUlkKGludCBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGRhby5nZXRIZWFkZXJzVGVtcGxhdGVCeUlkKGlkKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvcjogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBIZWFkZXJzVGVtcGxhdGUgZ2V0SGVhZGVyc1RlbXBsYXRlQnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gZGFvLmdldEhlYWRlcnNUZW1wbGF0ZUJ5TmFtZShuYW1lKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRhYmFzZSBlcnJvcjogIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBMaXN0PEhlYWRlcnNUZW1wbGF0ZT4gZ2V0QWxsSGVhZGVyc1RlbXBsYXRlcygpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBkYW8uZ2V0QWxsSGVhZGVyc1RlbXBsYXRlcygpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGFiYXNlIGVycm9yOiAiICsgZS5nZXRNZXNzYWdlKCksIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8SGVhZGVyc1RlbXBsYXRlPiBnZXRIZWFkZXJzVGVtcGxhdGVzQnlQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBkYW8uZ2V0SGVhZGVyc1RlbXBsYXRlc0J5UHJvamVjdElkKHByb2plY3RJZCk7DQogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0YWJhc2UgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSwgZSk7DQogICAgICAgIH0NCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/service/impl/ProjectServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsNCg0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JUHJvamVjdERhbzsNCmltcG9ydCBjb20ucWEuYXBwLmRhby5pbXBsLlByb2plY3REYW9JbXBsOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuUHJvamVjdDsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuYXBpLklQcm9qZWN0U2VydmljZTsNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCnB1YmxpYyBjbGFzcyBQcm9qZWN0U2VydmljZUltcGwgaW1wbGVtZW50cyBJUHJvamVjdFNlcnZpY2Ugew0KDQogICAgcHJpdmF0ZSBJUHJvamVjdERhbyBwcm9qZWN0RGFvOw0KDQogICAgcHVibGljIFByb2plY3RTZXJ2aWNlSW1wbCgpIHsNCiAgICAgICAgdGhpcy5wcm9qZWN0RGFvID0gbmV3IFByb2plY3REYW9JbXBsKCk7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIExpc3Q8UHJvamVjdD4gZ2V0QWxsUHJvamVjdHMoKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gcHJvamVjdERhby5nZXRBbGxQcm9qZWN0cygpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byBnZXQgYWxsIHByb2plY3RzIiwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgUHJvamVjdCBnZXRQcm9qZWN0QnlJZChJbnRlZ2VyIGlkKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gcHJvamVjdERhby5nZXRQcm9qZWN0KGlkKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gZ2V0IHByb2plY3QgYnkgaWQ6ICIgKyBpZCwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgUHJvamVjdCBnZXRQcm9qZWN0QnlOYW1lKFN0cmluZyBuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gcHJvamVjdERhby5nZXRQcm9qZWN0QnlOYW1lKG5hbWUpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byBnZXQgcHJvamVjdCBieSBuYW1lOiAiICsgbmFtZSwgZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZGRQcm9qZWN0KFByb2plY3QgcHJvamVjdCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcHJvamVjdERhby5hZGRQcm9qZWN0KHByb2plY3QpOw0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkZhaWxlZCB0byBhZGQgcHJvamVjdCIsIGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgdXBkYXRlUHJvamVjdChQcm9qZWN0IHByb2plY3QpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHByb2plY3REYW8udXBkYXRlUHJvamVjdChwcm9qZWN0KTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gdXBkYXRlIHByb2plY3QiLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGRlbGV0ZVByb2plY3QoSW50ZWdlciBpZCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcHJvamVjdERhby5kZWxldGVQcm9qZWN0KGlkKTsNCiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gZGVsZXRlIHByb2plY3QiLCBlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0=
END
PATH:src/main/java/com/qa/app/service/impl/VariableServiceImpl.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZmFzdGVyeG1sLmphY2tzb24uY29yZS5Kc29uUHJvY2Vzc2luZ0V4Y2VwdGlvbjsKaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5jb3JlLnR5cGUuVHlwZVJlZmVyZW5jZTsKaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7CmltcG9ydCBjb20ucWEuYXBwLmRhby5hcGkuSUdyb292eVZhcmlhYmxlRGFvOwppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5Hcm9vdnlWYXJpYWJsZURhb0ltcGw7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSVZhcmlhYmxlU2VydmljZTsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5zY3JpcHQuR3Jvb3Z5U2NyaXB0RW5naW5lOwoKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuc3RyZWFtLkNvbGxlY3RvcnM7CgpwdWJsaWMgY2xhc3MgVmFyaWFibGVTZXJ2aWNlSW1wbCBpbXBsZW1lbnRzIElWYXJpYWJsZVNlcnZpY2UgewoKICAgIHByaXZhdGUgZmluYWwgT2JqZWN0TWFwcGVyIG9iamVjdE1hcHBlcjsKICAgIHByaXZhdGUgZmluYWwgSUdyb292eVZhcmlhYmxlRGFvIGdyb292eVZhcmlhYmxlRGFvOwoKICAgIHB1YmxpYyBWYXJpYWJsZVNlcnZpY2VJbXBsKCkgewogICAgICAgIHRoaXMub2JqZWN0TWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpOwogICAgICAgIHRoaXMuZ3Jvb3Z5VmFyaWFibGVEYW8gPSBuZXcgR3Jvb3Z5VmFyaWFibGVEYW9JbXBsKCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgTGlzdDxHcm9vdnlTY3JpcHRFbmdpbmU+IGxvYWRWYXJpYWJsZXMoKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgTGlzdDxjb20ucWEuYXBwLm1vZGVsLkdyb292eVZhcmlhYmxlPiBkYlZhcmlhYmxlcyA9IGdyb292eVZhcmlhYmxlRGFvLmdldEFsbCgpOwogICAgICAgICAgICByZXR1cm4gZGJWYXJpYWJsZXMuc3RyZWFtKCkKICAgICAgICAgICAgICAgICAgICAubWFwKHRoaXM6OmNvbnZlcnRNb2RlbFRvRW5naW5lKQogICAgICAgICAgICAgICAgICAgIC5jb2xsZWN0KENvbGxlY3RvcnMudG9MaXN0KCkpOwogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJFcnJvciBsb2FkaW5nIHZhcmlhYmxlcyBmcm9tIGRhdGFiYXNlIiwgZSk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc2F2ZVZhcmlhYmxlcyhMaXN0PEdyb292eVNjcmlwdEVuZ2luZT4gdmFyaWFibGVzKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZ3Jvb3Z5VmFyaWFibGVEYW8uZGVsZXRlQWxsKCk7CiAgICAgICAgICAgIGZvciAoR3Jvb3Z5U2NyaXB0RW5naW5lIGVuZ2luZVZhciA6IHZhcmlhYmxlcykgewogICAgICAgICAgICAgICAgY29tLnFhLmFwcC5tb2RlbC5Hcm9vdnlWYXJpYWJsZSBtb2RlbFZhciA9IGNvbnZlcnRFbmdpbmVUb01vZGVsKGVuZ2luZVZhcik7CiAgICAgICAgICAgICAgICBncm9vdnlWYXJpYWJsZURhby5hZGQobW9kZWxWYXIpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHwgSnNvblByb2Nlc3NpbmdFeGNlcHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRXJyb3Igc2F2aW5nIHZhcmlhYmxlcyB0byBkYXRhYmFzZSIsIGUpOwogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGFkZFZhcmlhYmxlKEdyb292eVNjcmlwdEVuZ2luZSB2YXJpYWJsZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbS5xYS5hcHAubW9kZWwuR3Jvb3Z5VmFyaWFibGUgbW9kZWxWYXIgPSBjb252ZXJ0RW5naW5lVG9Nb2RlbCh2YXJpYWJsZSk7CiAgICAgICAgICAgIGdyb292eVZhcmlhYmxlRGFvLmFkZChtb2RlbFZhcik7CiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHwgSnNvblByb2Nlc3NpbmdFeGNlcHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRXJyb3IgYWRkaW5nIHZhcmlhYmxlIiwgZSk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgdXBkYXRlVmFyaWFibGUoR3Jvb3Z5U2NyaXB0RW5naW5lIHZhcmlhYmxlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29tLnFhLmFwcC5tb2RlbC5Hcm9vdnlWYXJpYWJsZSBtb2RlbFZhciA9IGNvbnZlcnRFbmdpbmVUb01vZGVsKHZhcmlhYmxlKTsKICAgICAgICAgICAgZ3Jvb3Z5VmFyaWFibGVEYW8udXBkYXRlKG1vZGVsVmFyKTsKICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gfCBKc29uUHJvY2Vzc2luZ0V4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJFcnJvciB1cGRhdGluZyB2YXJpYWJsZSIsIGUpOwogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGRlbGV0ZVZhcmlhYmxlKEludGVnZXIgaWQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBncm9vdnlWYXJpYWJsZURhby5kZWxldGUoaWQpOwogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJFcnJvciBkZWxldGluZyB2YXJpYWJsZSIsIGUpOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIEdyb292eVNjcmlwdEVuZ2luZSBjb252ZXJ0TW9kZWxUb0VuZ2luZShjb20ucWEuYXBwLm1vZGVsLkdyb292eVZhcmlhYmxlIG1vZGVsVmFyKSB7CiAgICAgICAgU3RyaW5nIGZvcm1hdCA9ICIiOwogICAgICAgIFN0cmluZyBzY3JpcHQgPSAiIjsKICAgICAgICBTdHJpbmcgZGVzY3JpcHRpb24gPSBtb2RlbFZhci5nZXREZXNjcmlwdGlvbigpOwoKICAgICAgICBpZiAobW9kZWxWYXIuZ2V0VmFsdWUoKSAhPSBudWxsICYmICFtb2RlbFZhci5nZXRWYWx1ZSgpLmlzRW1wdHkoKSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gdmFsdWVNYXAgPSBvYmplY3RNYXBwZXIucmVhZFZhbHVlKG1vZGVsVmFyLmdldFZhbHVlKCksIG5ldyBUeXBlUmVmZXJlbmNlPD4oKSB7fSk7CiAgICAgICAgICAgICAgICBmb3JtYXQgPSB2YWx1ZU1hcC5nZXRPckRlZmF1bHQoImZvcm1hdCIsICIiKTsKICAgICAgICAgICAgICAgIHNjcmlwdCA9IHZhbHVlTWFwLmdldE9yRGVmYXVsdCgiZ3Jvb3Z5U2NyaXB0IiwgIiIpOwogICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uID09IG51bGwgfHwgZGVzY3JpcHRpb24uaXNFbXB0eSgpKSB7CiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSB2YWx1ZU1hcC5nZXRPckRlZmF1bHQoImRlc2NyaXB0aW9uIiwgIiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiQ291bGQgbm90IHBhcnNlIHZhbHVlIEpTT04gZm9yIHZhcmlhYmxlICIgKyBtb2RlbFZhci5nZXROYW1lKCkgKyAiLCB2YWx1ZTogIiArIG1vZGVsVmFyLmdldFZhbHVlKCkgKyAiIEVycm9yOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgZm9yIGNvcnJ1cHRlZCBkYXRhCiAgICAgICAgICAgIHJldHVybiBuZXcgR3Jvb3Z5U2NyaXB0RW5naW5lKG1vZGVsVmFyLmdldElkKCksIG1vZGVsVmFyLmdldE5hbWUoKSwgIkVSUk9SIiwgIkNvdWxkIG5vdCBwYXJzZSBkYXRhIiwgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIG5ldyBHcm9vdnlTY3JpcHRFbmdpbmUoCiAgICAgICAgICAgICAgICBtb2RlbFZhci5nZXRJZCgpLAogICAgICAgICAgICAgICAgbW9kZWxWYXIuZ2V0TmFtZSgpLAogICAgICAgICAgICAgICAgZm9ybWF0LAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBzY3JpcHQKICAgICAgICApOwogICAgfQoKICAgIHByaXZhdGUgY29tLnFhLmFwcC5tb2RlbC5Hcm9vdnlWYXJpYWJsZSBjb252ZXJ0RW5naW5lVG9Nb2RlbChHcm9vdnlTY3JpcHRFbmdpbmUgZW5naW5lVmFyKSB0aHJvd3MgSnNvblByb2Nlc3NpbmdFeGNlcHRpb24gewogICAgICAgIC8vIERlc2NyaXB0aW9uIGlzIG5vdyBzdG9yZWQgaW4gaXRzIG93biBjb2x1bW4sIHNvIHdlIG9ubHkgbmVlZCB0byBzdG9yZSBmb3JtYXQgYW5kIHNjcmlwdCBpbiB0aGUgSlNPTiB2YWx1ZS4KICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHZhbHVlTWFwID0gTWFwLm9mKAogICAgICAgICAgICAgICAgImZvcm1hdCIsIGVuZ2luZVZhci5nZXRGb3JtYXQoKSAhPSBudWxsID8gZW5naW5lVmFyLmdldEZvcm1hdCgpIDogIiIsCiAgICAgICAgICAgICAgICAiZ3Jvb3Z5U2NyaXB0IiwgZW5naW5lVmFyLmdldEdyb292eVNjcmlwdCgpICE9IG51bGwgPyBlbmdpbmVWYXIuZ2V0R3Jvb3Z5U2NyaXB0KCkgOiAiIgogICAgICAgICk7CiAgICAgICAgU3RyaW5nIHZhbHVlSnNvbiA9IG9iamVjdE1hcHBlci53cml0ZVZhbHVlQXNTdHJpbmcodmFsdWVNYXApOwoKICAgICAgICBjb20ucWEuYXBwLm1vZGVsLkdyb292eVZhcmlhYmxlIG1vZGVsVmFyID0gbmV3IGNvbS5xYS5hcHAubW9kZWwuR3Jvb3Z5VmFyaWFibGUoKTsKICAgICAgICBtb2RlbFZhci5zZXROYW1lKGVuZ2luZVZhci5nZXROYW1lKCkpOwogICAgICAgIG1vZGVsVmFyLnNldFZhbHVlKHZhbHVlSnNvbik7CiAgICAgICAgbW9kZWxWYXIuc2V0RGVzY3JpcHRpb24oZW5naW5lVmFyLmdldERlc2NyaXB0aW9uKCkpOwogICAgICAgIG1vZGVsVmFyLnNldElkKGVuZ2luZVZhci5nZXRJZCgpKTsKICAgICAgICByZXR1cm4gbW9kZWxWYXI7CiAgICB9Cn0=
END
PATH:src/main/java/com/qa/app/service/ProjectContext.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2U7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlByb2plY3Q7DQoNCnB1YmxpYyBjbGFzcyBQcm9qZWN0Q29udGV4dCB7DQogICAgcHJpdmF0ZSBzdGF0aWMgUHJvamVjdCBjdXJyZW50UHJvamVjdDsNCg0KICAgIHB1YmxpYyBzdGF0aWMgUHJvamVjdCBnZXRDdXJyZW50UHJvamVjdCgpIHsNCiAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0Ow0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXRDdXJyZW50UHJvamVjdChQcm9qZWN0IHByb2plY3QpIHsNCiAgICAgICAgY3VycmVudFByb2plY3QgPSBwcm9qZWN0Ow0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBjbGVhckN1cnJlbnRQcm9qZWN0KCkgew0KICAgICAgICBjdXJyZW50UHJvamVjdCA9IG51bGw7DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyBJbnRlZ2VyIGdldEN1cnJlbnRQcm9qZWN0SWQoKSB7DQogICAgICAgIHJldHVybiBjdXJyZW50UHJvamVjdCAhPSBudWxsID8gY3VycmVudFByb2plY3QuZ2V0SWQoKSA6IG51bGw7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/service/reports/HtmlSummaryReportGenerator.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucmVwb3J0czsNCg0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwucmVwb3J0cy5DYXNlUmVwb3J0Ow0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwucmVwb3J0cy5GdW5jdGlvbmFsVGVzdFJlcG9ydDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHMuTW9kZUdyb3VwOw0KDQppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLm5pby5jaGFyc2V0LlN0YW5kYXJkQ2hhcnNldHM7DQppbXBvcnQgamF2YS5uaW8uZmlsZS5GaWxlczsNCmltcG9ydCBqYXZhLm5pby5maWxlLlBhdGg7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQppbXBvcnQgamF2YS51dGlsLk1hcDsNCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsNCmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFtOw0KaW1wb3J0IGphdmEubmlvLmZpbGUuU3RhbmRhcmRDb3B5T3B0aW9uOw0KDQoNCi8qKg0KICogVXRpbGl0eSBjbGFzcyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyBhIGxpZ2h0d2VpZ2h0IEhUTUwgc3VtbWFyeSBwYWdlIGZvciB7QGxpbmsgRnVuY3Rpb25hbFRlc3RSZXBvcnR9IGRhdGEuDQogKiA8cD4NCiAqIFRoZSBnZW5lcmF0ZWQgcGFnZSBjb250YWluczoNCiAqIDx1bD4NCiAqICAgICA8bGk+U3VtbWFyeSB0YWJsZSBmb3Igc3VpdGUgJiB0ZXN0IHRvdGFscyAodG90YWwgLyBwYXNzZWQgLyBmYWlsZWQgLyBwYXNzLXJhdGUpLjwvbGk+DQogKiAgICAgPGxpPlR3byBwaWUgY2hhcnRzIChDaGFydC5qcykgdmlzdWFsaXNpbmcgcGFzcyAvIGZhaWwgc3RhdGlzdGljcyBmb3Igc3VpdGVzICYgdGVzdHMuPC9saT4NCiAqIDwvdWw+DQogKi8NCnB1YmxpYyBmaW5hbCBjbGFzcyBIdG1sU3VtbWFyeVJlcG9ydEdlbmVyYXRvciB7DQoNCiAgICBwcml2YXRlIEh0bWxTdW1tYXJ5UmVwb3J0R2VuZXJhdG9yKCkgew0KICAgICAgICAvLyB1dGlsaXR5IGNsYXNzIOKAkyBoaWRlIGNvbnN0cnVjdG9yDQogICAgfQ0KDQogICAgLyoqDQogICAgICogR2VuZXJhdGVzIGFuIEhUTUwgc3VtbWFyeSBmaWxlIGF0IHRoZSBwcm92aWRlZCB7QGNvZGUgdGFyZ2V0UGF0aH0uDQogICAgICogRGlyZWN0b3JpZXMgYXJlIGNyZWF0ZWQgYXV0b21hdGljYWxseSB3aGVuIG1pc3NpbmcuDQogICAgICoNCiAgICAgKiBAcGFyYW0gcmVwb3J0cyAgICBvbmUgb3IgbW9yZSBmdW5jdGlvbmFsIHRlc3QgcmVwb3J0cyB0byBhZ2dyZWdhdGUNCiAgICAgKiBAcGFyYW0gdGFyZ2V0UGF0aCB0YXJnZXQgZmlsZSBsb2NhdGlvbiAoZS5nLiB7QGNvZGUgUGF0aC5vZigidGFyZ2V0L2dhdGxpbmcvc3VtbWFyeS5odG1sIil9KQ0KICAgICAqIEB0aHJvd3MgSU9FeGNlcHRpb24gaWYgd3JpdGluZyB0aGUgZmlsZSBmYWlscw0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBnZW5lcmF0ZUh0bWwoTGlzdDxGdW5jdGlvbmFsVGVzdFJlcG9ydD4gcmVwb3J0cywgUGF0aCB0YXJnZXRQYXRoKSB0aHJvd3MgSU9FeGNlcHRpb24gew0KICAgICAgICBpZiAocmVwb3J0cyA9PSBudWxsIHx8IHJlcG9ydHMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJSZXBvcnQgbGlzdCBtdXN0IG5vdCBiZSBudWxsL2VtcHR5Iik7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGFyZ2V0UGF0aC5nZXRQYXJlbnQoKSAhPSBudWxsKSB7DQogICAgICAgICAgICBGaWxlcy5jcmVhdGVEaXJlY3Rvcmllcyh0YXJnZXRQYXRoLmdldFBhcmVudCgpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvcHlSZXNvdXJjZVRvKHRhcmdldFBhdGguZ2V0UGFyZW50KCksICJzdGF0aWMvanMvY2hhcnQuanMiKTsNCiAgICAgICAgY29weVJlc291cmNlVG8odGFyZ2V0UGF0aC5nZXRQYXJlbnQoKSwgInN0YXRpYy9qcy9jaGFydGpzLXBsdWdpbi1kYXRhbGFiZWxzLmpzIik7DQoNCiAgICAgICAgLy8gR3JvdXAgYnkgc3VpdGUgbmFtZQ0KICAgICAgICBNYXA8U3RyaW5nLCBqYXZhLnV0aWwuTGlzdDxGdW5jdGlvbmFsVGVzdFJlcG9ydD4+IHN1aXRlTWFwID0gbmV3IEhhc2hNYXA8PigpOw0KICAgICAgICBmb3IgKEZ1bmN0aW9uYWxUZXN0UmVwb3J0IHIgOiByZXBvcnRzKSB7DQogICAgICAgICAgICBTdHJpbmcgc3VpdGVOYW1lID0gci5nZXRTdWl0ZSgpICE9IG51bGwgPyByLmdldFN1aXRlKCkgOiAiREVGQVVMVCI7DQogICAgICAgICAgICBzdWl0ZU1hcC5jb21wdXRlSWZBYnNlbnQoc3VpdGVOYW1lLCBrIC0+IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKSkuYWRkKHIpOw0KICAgICAgICB9DQoNCiAgICAgICAgaW50IHN1aXRlVG90YWwgPSBzdWl0ZU1hcC5zaXplKCk7DQogICAgICAgIGludCBzdWl0ZVBhc3NlZCA9IDA7DQogICAgICAgIGludCB0ZXN0VG90YWwgPSAwOw0KICAgICAgICBpbnQgdGVzdFBhc3NlZCA9IDA7DQoNCiAgICAgICAgZm9yIChqYXZhLnV0aWwuTWFwLkVudHJ5PFN0cmluZywgamF2YS51dGlsLkxpc3Q8RnVuY3Rpb25hbFRlc3RSZXBvcnQ+PiBlbnRyeSA6IHN1aXRlTWFwLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgIGJvb2xlYW4gc3VpdGVBbGxQYXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgZm9yIChGdW5jdGlvbmFsVGVzdFJlcG9ydCByIDogZW50cnkuZ2V0VmFsdWUoKSkgew0KICAgICAgICAgICAgICAgIGZvciAoTW9kZUdyb3VwIGcgOiByLmdldEdyb3VwcygpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChnLmdldE1vZGUoKSA9PSBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHMuVGVzdE1vZGUuTUFJTikgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChDYXNlUmVwb3J0IGMgOiBnLmdldENhc2VzKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0VG90YWwrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYy5pc1Bhc3NlZCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RQYXNzZWQrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWl0ZUFsbFBhc3NlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChzdWl0ZUFsbFBhc3NlZCkgc3VpdGVQYXNzZWQrKzsNCiAgICAgICAgfQ0KICAgICAgICBpbnQgc3VpdGVGYWlsZWQgPSBzdWl0ZVRvdGFsIC0gc3VpdGVQYXNzZWQ7DQogICAgICAgIGludCB0ZXN0RmFpbGVkID0gdGVzdFRvdGFsIC0gdGVzdFBhc3NlZDsNCg0KICAgICAgICBkb3VibGUgc3VpdGVQYXNzUmF0ZSA9IHN1aXRlVG90YWwgPT0gMCA/IDAgOiAoKGRvdWJsZSkgc3VpdGVQYXNzZWQgLyBzdWl0ZVRvdGFsKSAqIDEwMC4wOw0KICAgICAgICBkb3VibGUgdGVzdFBhc3NSYXRlICA9IHRlc3RUb3RhbCAgPT0gMCA/IDAgOiAoKGRvdWJsZSkgdGVzdFBhc3NlZCAgLyB0ZXN0VG90YWwgKSAqIDEwMC4wOw0KDQogICAgICAgIC8vIEJ1aWxkIEhUTUwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIFN0cmluZyBodG1sID0gIiIiDQogICAgICAgICAgICAgICAgPCFET0NUWVBFIGh0bWw+DQogICAgICAgICAgICAgICAgPGh0bWwgbGFuZz0iZW4iPg0KICAgICAgICAgICAgICAgIDxoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCIvPg0KICAgICAgICAgICAgICAgICAgICA8dGl0bGU+R2F0bGluZyBGdW5jdGlvbmFsIFRlc3QgU3VtbWFyeTwvdGl0bGU+DQogICAgICAgICAgICAgICAgICAgIDxzY3JpcHQgc3JjPSJjaGFydC5qcyI+PC9zY3JpcHQ+DQogICAgICAgICAgICAgICAgICAgIDxzY3JpcHQgc3JjPSJjaGFydGpzLXBsdWdpbi1kYXRhbGFiZWxzLmpzIj48L3NjcmlwdD4NCiAgICAgICAgICAgICAgICAgICAgPHN0eWxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgOnJvb3Qgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tcGFzcy1jb2xvcjogIzRjYWY1MDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWZhaWwtY29sb3I6ICNmNDQzMzY7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1iZy1jb2xvcjogI2Y3ZjlmYzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWNhcmQtYmc6ICNmZmZmZmY7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS10ZXh0LWNvbG9yOiAjMmMzZTUwOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwsIGJvZHkgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGZvbnQtZmFtaWx5OiAiU2Vnb2UgVUkiLCBBcmlhbCwgc2Fucy1zZXJpZjsgYmFja2dyb3VuZDogdmFyKC0tYmctY29sb3IpOyBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciB7IGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpOyBwYWRkaW5nOiAxMHB4IDE2cHg7IGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLC4wNSk7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciBoMSB7IG1hcmdpbjogMDsgZm9udC1zaXplOiAxLjRyZW07IH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgbWFpbiB7IHdpZHRoOiAxMDAlJTsgbWF4LXdpZHRoOiAxMjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiA2cHggMTJweDsgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAuY2FyZCB7IGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDEycHggMTZweDsgYm94LXNoYWRvdzogMCAxcHggNHB4IHJnYmEoMCwwLDAsLjA0KTsgbWFyZ2luLWJvdHRvbTogMTJweDsgd2lkdGg6IDEwMCUlOyB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdW1tYXJ5LXRhYmxlIHsgd2lkdGg6IDEwMCUlOyBtYXJnaW4tdG9wOiA2cHg7IGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7IGJvcmRlci1zcGFjaW5nOjA7IGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7IGJvcmRlci1yYWRpdXM6NnB4OyBvdmVyZmxvdzpoaWRkZW47IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdW1tYXJ5LXRhYmxlIHRoLCAuc3VtbWFyeS10YWJsZSB0ZCB7IHBhZGRpbmc6IDEwcHggMTRweDsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXI6MXB4IHNvbGlkICNjMGM0Yzg7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdW1tYXJ5LXRhYmxlIHRoIHsgYmFja2dyb3VuZDogI2Y1ZjdmYTsgZm9udC13ZWlnaHQ6NjAwOyBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdW1tYXJ5LXRhYmxlIHRkIHsgYmFja2dyb3VuZDojZjlmYmZkOyB9DQogICAgICAgICAgICAgICAgICAgICAgICAuc3VtbWFyeS10YWJsZSB0cjpudGgtY2hpbGQob2RkKSB0ZCB7IGJhY2tncm91bmQ6I2Y5ZmJmZDsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnBhc3MgeyBjb2xvcjogdmFyKC0tcGFzcy1jb2xvcik7IGZvbnQtd2VpZ2h0OjYwMDsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmZhaWwgeyBjb2xvcjogdmFyKC0tZmFpbC1jb2xvcik7IGZvbnQtd2VpZ2h0OjYwMDsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnN1bW1hcnktdGFibGUgdHI6bGFzdC1jaGlsZCB0ZCB7IGJvcmRlci1ib3R0b206bm9uZTsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnN1bW1hcnktdGFibGUgdHIgdGQ6bGFzdC1jaGlsZCwgLnN1bW1hcnktdGFibGUgdHIgdGg6bGFzdC1jaGlsZCB7IGJvcmRlci1yaWdodDpub25lOyB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFydHMgeyBkaXNwbGF5OiBmbGV4OyBmbGV4LXdyYXA6IHdyYXA7IGdhcDogMjRweDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFydC1jb250YWluZXIgeyBmbGV4OiAxIDEgNDAwcHg7IG1heC13aWR0aDogNTIwcHg7IGhlaWdodDogMjYwcHg7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyB9DQogICAgICAgICAgICAgICAgICAgICAgICAuY2hhcnQtY29udGFpbmVyIGNhbnZhcyB7IGhlaWdodDogMjYwcHggIWltcG9ydGFudDsgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhcnQtY29udGFpbmVyIHsgZmxleDogMSAxIDEwMCUlOyBoZWlnaHQ6IDE4MHB4OyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJ0LWNvbnRhaW5lciBjYW52YXMgeyBoZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT4NCiAgICAgICAgICAgICAgICA8L2hlYWQ+DQogICAgICAgICAgICAgICAgPGJvZHk+DQogICAgICAgICAgICAgICAgICAgIDxtYWluPg0KICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY2FyZCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9Im1hcmdpbjo0cHggMCA4cHggMDsiPkFnZ3JlZ2F0ZWQgU3RhdGlzdGljczwvaDM+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InN1bW1hcnktdGFibGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0aD5UZXN0IFN1bW1hcnk8L3RoPjx0aD5Ub3RhbDwvdGg+PHRoIGNsYXNzPSJwYXNzIj5QYXNzZWQ8L3RoPjx0aCBjbGFzcz0iZmFpbCI+RmFpbGVkPC90aD48dGg+UGFzcyBSYXRlPC90aD48L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0aD5TdWl0ZXM8L3RoPjx0ZD4lZDwvdGQ+PHRkIGNsYXNzPSJwYXNzIj4lZDwvdGQ+PHRkIGNsYXNzPSJmYWlsIj4lZDwvdGQ+PHRkPiUuMmYlJTwvdGQ+PC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGg+VGVzdHM8L3RoPjx0ZD4lZDwvdGQ+PHRkIGNsYXNzPSJwYXNzIj4lZDwvdGQ+PHRkIGNsYXNzPSJmYWlsIj4lZDwvdGQ+PHRkPiUuMmYlJTwvdGQ+PC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4NCg0KICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY2FyZCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9Im1hcmdpbjo0cHggMCA4cHggMDsiPlZpc3VhbCBCcmVha2Rvd248L2gzPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhcnRzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFydC1jb250YWluZXIiPjxjYW52YXMgaWQ9InN1aXRlQ2hhcnQiPjwvY2FudmFzPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+PGNhbnZhcyBpZD0idGVzdENoYXJ0Ij48L2NhbnZhcz48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+DQoNCiAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNhcmQiIHN0eWxlPSJ0ZXh0LWFsaWduOmp1c3RpZnk7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6MC44MnJlbTsgY29sb3I6IzU1NTsgbWFyZ2luOjRweCAycHg7IGxpbmUtaGVpZ2h0OjEuNDsiPlRoaXMgcmVwb3J0IGNvbnNvbGlkYXRlcyBleGVjdXRpb24gcmVzdWx0cyBnZW5lcmF0ZWQgYnkgdGhlIEdhdGxpbmcgRnVuY3Rpb25hbCBUZXN0IFJ1bm5lci4gSXQgcHJvdmlkZXMgYXQtYS1nbGFuY2Ugc3RhdGlzdGljcyBhbmQgdmlzdWFsIHJlcHJlc2VudGF0aW9ucyBzbyB0aGF0IHRlYW1zIGNhbiBxdWlja2x5IGlkZW50aWZ5IHN1Y2Nlc3MgcmF0ZSBhbmQgZmFpbHVyZSBkaXN0cmlidXRpb24uPC9wPg0KICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+DQoNCiAgICAgICAgICAgICAgICAgICAgPGZvb3RlciBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7IGZvbnQtc2l6ZTowLjc1cmVtOyBjb2xvcjojODg4OyBwYWRkaW5nOjRweCAwOyI+R2VuZXJhdGVkIOKAlCAlczwvZm9vdGVyPg0KICAgICAgICAgICAgICAgICAgICA8L21haW4+DQogICAgICAgICAgICAgICAgICAgIDxzY3JpcHQ+DQogICAgICAgICAgICAgICAgICAgICAgICBDaGFydC5yZWdpc3RlcihDaGFydERhdGFMYWJlbHMpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWl0ZUN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWl0ZUNoYXJ0JykuZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDaGFydChzdWl0ZUN0eCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBbJ1Bhc3NlZCcsICdGYWlsZWQnXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXNldHM6IFt7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbJWQsICVkXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogWycjNGNhZjUwJywgJyNmNDQzMzYnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogeyBwbHVnaW5zOiB7IHRpdGxlOntkaXNwbGF5OnRydWUsIHRleHQ6J1N1aXRlcyd9LCBsZWdlbmQ6IHsgZGlzcGxheTpmYWxzZSB9LCBkYXRhbGFiZWxzOiB7IGNvbG9yOicjZmZmJywgZm9udDp7d2VpZ2h0Oidib2xkJ30sIGZvcm1hdHRlcjoodixjdHgpPT57Y29uc3QgZD1jdHguY2hhcnQuZGF0YS5kYXRhc2V0c1swXS5kYXRhO2NvbnN0IHN1bT1kLnJlZHVjZSgoYSxiKT0+YStiLDApO3JldHVybiAodi9zdW0qMTAwKS50b0ZpeGVkKDEpKyclJSc7fSB9IH0gfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RDdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzdENoYXJ0JykuZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDaGFydCh0ZXN0Q3R4LCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BpZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IFsnUGFzc2VkJywgJ0ZhaWxlZCddLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czogW3sNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFslZCwgJWRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbJyM0Y2FmNTAnLCAnI2Y0NDMzNiddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7IHBsdWdpbnM6IHsgdGl0bGU6e2Rpc3BsYXk6dHJ1ZSwgdGV4dDonVGVzdHMnfSwgbGVnZW5kOiB7IGRpc3BsYXk6ZmFsc2UgfSwgZGF0YWxhYmVsczogeyBjb2xvcjonI2ZmZicsIGZvbnQ6e3dlaWdodDonYm9sZCd9LCBmb3JtYXR0ZXI6KHYsY3R4KT0+e2NvbnN0IGQ9Y3R4LmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YTtjb25zdCBzdW09ZC5yZWR1Y2UoKGEsYik9PmErYiwwKTtyZXR1cm4gKHYvc3VtKjEwMCkudG9GaXhlZCgxKSsnJSUnO30gfSB9IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICA8L3NjcmlwdD4NCiAgICAgICAgICAgICAgICA8L2JvZHk+DQogICAgICAgICAgICAgICAgPC9odG1sPg0KICAgICAgICAgICAgICAgICIiIi5mb3JtYXR0ZWQoDQogICAgICAgICAgICAgICAgc3VpdGVUb3RhbCwgc3VpdGVQYXNzZWQsIHN1aXRlRmFpbGVkLCBzdWl0ZVBhc3NSYXRlLA0KICAgICAgICAgICAgICAgIHRlc3RUb3RhbCwgdGVzdFBhc3NlZCwgdGVzdEZhaWxlZCwgdGVzdFBhc3NSYXRlLA0KICAgICAgICAgICAgICAgIGphdmEudGltZS5Mb2NhbERhdGVUaW1lLm5vdygpLndpdGhOYW5vKDApLA0KICAgICAgICAgICAgICAgIHN1aXRlUGFzc2VkLCBzdWl0ZUZhaWxlZCwNCiAgICAgICAgICAgICAgICB0ZXN0UGFzc2VkLCB0ZXN0RmFpbGVkDQogICAgICAgICk7DQoNCiAgICAgICAgLy8gV3JpdGUgZmlsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgaWYgKHRhcmdldFBhdGguZ2V0UGFyZW50KCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgRmlsZXMuY3JlYXRlRGlyZWN0b3JpZXModGFyZ2V0UGF0aC5nZXRQYXJlbnQoKSk7DQogICAgICAgIH0NCiAgICAgICAgRmlsZXMud3JpdGVTdHJpbmcodGFyZ2V0UGF0aCwgaHRtbCwgU3RhbmRhcmRDaGFyc2V0cy5VVEZfOCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ29udmVuaWVuY2Ugd3JhcHBlciBmb3IgYSBzaW5nbGUge0BsaW5rIEZ1bmN0aW9uYWxUZXN0UmVwb3J0fS4NCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZ2VuZXJhdGVIdG1sKEZ1bmN0aW9uYWxUZXN0UmVwb3J0IHJlcG9ydCwgUGF0aCB0YXJnZXRQYXRoKSB0aHJvd3MgSU9FeGNlcHRpb24gew0KICAgICAgICBnZW5lcmF0ZUh0bWwoamF2YS51dGlsLkxpc3Qub2YocmVwb3J0KSwgdGFyZ2V0UGF0aCk7DQogICAgfQ0KDQoNCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIGNvcHlSZXNvdXJjZVRvKFBhdGggdGFyZ2V0RGlyZWN0b3J5LCBTdHJpbmcgcmVzb3VyY2VOYW1lKSB0aHJvd3MgSU9FeGNlcHRpb24gew0KICAgICAgICB0cnkgKElucHV0U3RyZWFtIHN0cmVhbSA9IEh0bWxTdW1tYXJ5UmVwb3J0R2VuZXJhdG9yLmNsYXNzLmdldENsYXNzTG9hZGVyKCkuZ2V0UmVzb3VyY2VBc1N0cmVhbShyZXNvdXJjZU5hbWUpKSB7DQogICAgICAgICAgICBpZiAoc3RyZWFtID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSU9FeGNlcHRpb24oIlJlc291cmNlIG5vdCBmb3VuZDogIiArIHJlc291cmNlTmFtZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBQYXRoIGRlc3RpbmF0aW9uID0gdGFyZ2V0RGlyZWN0b3J5LnJlc29sdmUoUGF0aC5vZihyZXNvdXJjZU5hbWUpLmdldEZpbGVOYW1lKCkpOw0KICAgICAgICAgICAgRmlsZXMuY29weShzdHJlYW0sIGRlc3RpbmF0aW9uLCBTdGFuZGFyZENvcHlPcHRpb24uUkVQTEFDRV9FWElTVElORyk7DQogICAgICAgIH0NCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/service/runner/DataSourceRegistry.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5EYkNvbm5lY3Rpb247DQppbXBvcnQgY29tLnpheHhlci5oaWthcmkuSGlrYXJpQ29uZmlnOw0KaW1wb3J0IGNvbS56YXh4ZXIuaGlrYXJpLkhpa2FyaURhdGFTb3VyY2U7DQoNCmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsNCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uOw0KaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDsNCmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXRNZXRhRGF0YTsNCmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7DQppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudEhhc2hNYXA7DQppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudE1hcDsNCg0KcHVibGljIGNsYXNzIERhdGFTb3VyY2VSZWdpc3RyeSB7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQ29uY3VycmVudE1hcDxTdHJpbmcsIERhdGFTb3VyY2U+IENBQ0hFID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwPD4oKTsNCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBldmljdChTdHJpbmcgYWxpYXMpIHsNCiAgICAgICAgRGF0YVNvdXJjZSBkcyA9IENBQ0hFLnJlbW92ZShhbGlhcyk7DQogICAgICAgIGlmIChkcyBpbnN0YW5jZW9mIEhpa2FyaURhdGFTb3VyY2UpIHsNCiAgICAgICAgICAgICgoSGlrYXJpRGF0YVNvdXJjZSkgZHMpLmNsb3NlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBqYXZhLnV0aWwuTWFwPFN0cmluZywgU3RyaW5nPiBEUklWRVJfTUFQID0gamF2YS51dGlsLk1hcC5vZkVudHJpZXMoDQogICAgICAgICAgICBqYXZhLnV0aWwuTWFwLmVudHJ5KCJwb3N0Z3JlcyIsICJvcmcucG9zdGdyZXNxbC5Ecml2ZXIiKSwNCiAgICAgICAgICAgIGphdmEudXRpbC5NYXAuZW50cnkoInBvc3RncmVzcWwiLCAib3JnLnBvc3RncmVzcWwuRHJpdmVyIiksDQogICAgICAgICAgICBqYXZhLnV0aWwuTWFwLmVudHJ5KCJteXNxbCIsICJjb20ubXlzcWwuY2ouamRiYy5Ecml2ZXIiKSwNCiAgICAgICAgICAgIGphdmEudXRpbC5NYXAuZW50cnkoIm1hcmlhZGIiLCAib3JnLm1hcmlhZGIuamRiYy5Ecml2ZXIiKSwNCiAgICAgICAgICAgIGphdmEudXRpbC5NYXAuZW50cnkoIm9yYWNsZSIsICJvcmFjbGUuamRiYy5kcml2ZXIuT3JhY2xlRHJpdmVyIiksDQogICAgICAgICAgICBqYXZhLnV0aWwuTWFwLmVudHJ5KCJzcWxzZXJ2ZXIiLCAiY29tLm1pY3Jvc29mdC5zcWxzZXJ2ZXIuamRiYy5TUUxTZXJ2ZXJEcml2ZXIiKQ0KICAgICk7DQoNCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBidWlsZEpkYmNVcmwoRGJDb25uZWN0aW9uIGNmZykgew0KICAgICAgICBpZiAoY2ZnLmdldERiVHlwZSgpID09IG51bGwpIHsNCiAgICAgICAgICAgIHJldHVybiAiIjsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc3dpdGNoIChjZmcuZ2V0RGJUeXBlKCkpIHsNCiAgICAgICAgICAgIGNhc2UgTVlTUUwgLT4gU3RyaW5nLmZvcm1hdCgiamRiYzpteXNxbDovLyVzOiVkLyVzIiwgY2ZnLmdldEhvc3QoKSwgY2ZnLmdldFBvcnQoKSwgY2ZnLmdldERiTmFtZSgpKTsNCiAgICAgICAgICAgIGNhc2UgUE9TVEdSRVNRTCAtPiB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGJhc2UgPSBTdHJpbmcuZm9ybWF0KCJqZGJjOnBvc3RncmVzcWw6Ly8lczolZC8lcyIsIGNmZy5nZXRIb3N0KCksIGNmZy5nZXRQb3J0KCksIGNmZy5nZXREYk5hbWUoKSk7DQogICAgICAgICAgICAgICAgeWllbGQgKGNmZy5nZXRTY2hlbWFOYW1lKCkgPT0gbnVsbCB8fCBjZmcuZ2V0U2NoZW1hTmFtZSgpLmlzQmxhbmsoKSkgPyBiYXNlIDogYmFzZSArICI/Y3VycmVudFNjaGVtYT0iICsgY2ZnLmdldFNjaGVtYU5hbWUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhc2UgU1FMU0VSVkVSIC0+IFN0cmluZy5mb3JtYXQoImpkYmM6c3Fsc2VydmVyOi8vJXM6JWQ7ZGF0YWJhc2VOYW1lPSVzIiwgY2ZnLmdldEhvc3QoKSwgY2ZnLmdldFBvcnQoKSwgY2ZnLmdldERiTmFtZSgpKTsNCiAgICAgICAgICAgIGNhc2UgT1JBQ0xFIC0+IFN0cmluZy5mb3JtYXQoImpkYmM6b3JhY2xlOnRoaW46QC8vJXM6JWQvJXMiLCBjZmcuZ2V0SG9zdCgpLCBjZmcuZ2V0UG9ydCgpLCBjZmcuZ2V0U2VydmljZU5hbWUoKSk7DQogICAgICAgIH07DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyBEYXRhU291cmNlIGdldChEYkNvbm5lY3Rpb24gY2ZnKSB7DQogICAgICAgIGlmIChjZmcgPT0gbnVsbCkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiRGJDb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gY2Fubm90IGJlIG51bGwuIik7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIENBQ0hFLmNvbXB1dGVJZkFic2VudChjZmcuZ2V0QWxpYXMoKSwgYWxpYXMgLT4gew0KICAgICAgICAgICAgaWYgKGNmZy5nZXREYlR5cGUoKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigiRGF0YWJhc2UgVHlwZSBpcyBub3QgY29uZmlndXJlZCBmb3IgY29ubmVjdGlvbjogIiArIGFsaWFzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIFN0cmluZyBkcml2ZXJDbGFzcyA9IERSSVZFUl9NQVAuZ2V0KGNmZy5nZXREYlR5cGUoKS5rZXkoKSk7DQogICAgICAgICAgICBpZiAoZHJpdmVyQ2xhc3MgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oIlVuc3VwcG9ydGVkIERCIHR5cGUgZm9yIGRyaXZlciByZXNvbHV0aW9uOiAiICsgY2ZnLmdldERiVHlwZSgpKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBDbGFzcy5mb3JOYW1lKGRyaXZlckNsYXNzKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJKREJDIERyaXZlciBub3QgZm91bmQ6ICIgKyBkcml2ZXJDbGFzcywgZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBIaWthcmlDb25maWcgaGMgPSBuZXcgSGlrYXJpQ29uZmlnKCk7DQogICAgICAgICAgICBTdHJpbmcgdXJsID0gYnVpbGRKZGJjVXJsKGNmZyk7DQogICAgICAgICAgICBoYy5zZXRKZGJjVXJsKHVybCk7DQogICAgICAgICAgICBoYy5zZXRVc2VybmFtZShjZmcuZ2V0VXNlcm5hbWUoKSk7DQogICAgICAgICAgICBoYy5zZXRQYXNzd29yZChjZmcuZ2V0UGFzc3dvcmQoKSk7DQogICAgICAgICAgICBoYy5zZXRNYXhpbXVtUG9vbFNpemUoY2ZnLmdldFBvb2xTaXplKCkpOw0KICAgICAgICAgICAgaGMuc2V0RHJpdmVyQ2xhc3NOYW1lKGRyaXZlckNsYXNzKTsNCiAgICAgICAgICAgIHJldHVybiBuZXcgSGlrYXJpRGF0YVNvdXJjZShoYyk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBleGVjdXRlUXVlcnkoU3RyaW5nIGNvbm5lY3Rpb25BbGlhcywgU3RyaW5nIHNxbCkgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIGlmICghQ0FDSEUuY29udGFpbnNLZXkoY29ubmVjdGlvbkFsaWFzKSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiRGF0YWJhc2UgY29ubmVjdGlvbiBub3QgZm91bmQ6ICIgKyBjb25uZWN0aW9uQWxpYXMpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBEYXRhU291cmNlIGRzID0gQ0FDSEUuZ2V0KGNvbm5lY3Rpb25BbGlhcyk7DQogICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gZHMuZ2V0Q29ubmVjdGlvbigpOw0KICAgICAgICAgICAgIFN0YXRlbWVudCBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTsNCiAgICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShzcWwpKSB7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEZvciBTRUxFQ1QgcXVlcmllcywgcmV0dXJuIGZvcm1hdHRlZCByZXN1bHRzDQogICAgICAgICAgICBpZiAoc3FsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoInNlbGVjdCIpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFJlc3VsdFNldChycyk7DQogICAgICAgICAgICB9IA0KICAgICAgICAgICAgLy8gRm9yIG5vbi1TRUxFQ1QgcXVlcmllcywgcmV0dXJuIGFmZmVjdGVkIHJvdyBjb3VudA0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgaW50IGNvdW50ID0gc3RtdC5nZXRVcGRhdGVDb3VudCgpOw0KICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcudmFsdWVPZihjb3VudCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIGZvcm1hdFJlc3VsdFNldChSZXN1bHRTZXQgcnMpIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBSZXN1bHRTZXRNZXRhRGF0YSBtZXRhRGF0YSA9IHJzLmdldE1ldGFEYXRhKCk7DQogICAgICAgIGludCBjb2x1bW5Db3VudCA9IG1ldGFEYXRhLmdldENvbHVtbkNvdW50KCk7DQogICAgICAgIA0KICAgICAgICAvLyBGb3Igc2luZ2xlIGNvbHVtbiwgc2luZ2xlIHJvdyByZXN1bHRzLCByZXR1cm4ganVzdCB0aGUgdmFsdWUNCiAgICAgICAgaWYgKGNvbHVtbkNvdW50ID09IDEgJiYgcnMubmV4dCgpKSB7DQogICAgICAgICAgICBTdHJpbmcgdmFsdWUgPSBycy5nZXRTdHJpbmcoMSk7DQogICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogIm51bGwiOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBGb3IgbW9yZSBjb21wbGV4IHJlc3VsdHMsIHJldHVybiBKU09OLWxpa2UgZm9ybWF0DQogICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOw0KICAgICAgICBzYi5hcHBlbmQoIlsiKTsNCiAgICAgICAgDQogICAgICAgIGJvb2xlYW4gaGFzUm93cyA9IGZhbHNlOw0KICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7DQogICAgICAgICAgICBpZiAoaGFzUm93cykgc2IuYXBwZW5kKCIsIik7DQogICAgICAgICAgICBoYXNSb3dzID0gdHJ1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc2IuYXBwZW5kKCJ7Iik7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBjb2x1bW5Db3VudDsgaSsrKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGNvbHVtbk5hbWUgPSBtZXRhRGF0YS5nZXRDb2x1bW5OYW1lKGkpOw0KICAgICAgICAgICAgICAgIFN0cmluZyB2YWx1ZSA9IHJzLmdldFN0cmluZyhpKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoaSA+IDEpIHNiLmFwcGVuZCgiLCIpOw0KICAgICAgICAgICAgICAgIHNiLmFwcGVuZCgiXCIiKS5hcHBlbmQoY29sdW1uTmFtZSkuYXBwZW5kKCJcIjoiKTsNCiAgICAgICAgICAgICAgICBzYi5hcHBlbmQodmFsdWUgPT0gbnVsbCA/ICJudWxsIiA6ICJcIiIgKyB2YWx1ZS5yZXBsYWNlKCJcIiIsICJcXFwiIikgKyAiXCIiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNiLmFwcGVuZCgifSIpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBzYi5hcHBlbmQoIl0iKTsNCiAgICAgICAgcmV0dXJuIGhhc1Jvd3MgPyBzYi50b1N0cmluZygpIDogIltdIjsNCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2h1dGRvd24oKSB7DQogICAgICAgIENBQ0hFLnZhbHVlcygpLmZvckVhY2goZHMgLT4gew0KICAgICAgICAgICAgaWYgKGRzIGluc3RhbmNlb2YgSGlrYXJpRGF0YVNvdXJjZSkgew0KICAgICAgICAgICAgICAgICgoSGlrYXJpRGF0YVNvdXJjZSkgZHMpLmNsb3NlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBDQUNIRS5jbGVhcigpOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/service/runner/GatlingScenarioSimulation.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyOw0KDQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmNvcmUudHlwZS5UeXBlUmVmZXJlbmNlOw0KaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC4qOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLio7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JRGJDb25uZWN0aW9uU2VydmljZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC5EYkNvbm5lY3Rpb25TZXJ2aWNlSW1wbDsNCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuT3BlcmF0b3JVdGlsOw0KaW1wb3J0IGlvLmdhdGxpbmcuamF2YWFwaS5jb3JlLio7DQppbXBvcnQgaW8uZ2F0bGluZy5qYXZhYXBpLmh0dHAuSHR0cFByb3RvY29sQnVpbGRlcjsNCmltcG9ydCBpby5nYXRsaW5nLmphdmFhcGkuaHR0cC5IdHRwUmVxdWVzdEFjdGlvbkJ1aWxkZXI7DQoNCmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsNCmltcG9ydCBqYXZhLmlvLkZpbGU7DQppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uOw0KaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50Ow0KaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDsNCmltcG9ydCBqYXZhLnRpbWUuRHVyYXRpb247DQppbXBvcnQgamF2YS51dGlsLio7DQppbXBvcnQgamF2YS51dGlsLnN0cmVhbS5Db2xsZWN0b3JzOw0KDQppbXBvcnQgc3RhdGljIGlvLmdhdGxpbmcuamF2YWFwaS5jb3JlLkNvcmVEc2wuKjsNCmltcG9ydCBzdGF0aWMgaW8uZ2F0bGluZy5qYXZhYXBpLmh0dHAuSHR0cERzbC4qOw0KaW1wb3J0IHN0YXRpYyBpby5nYXRsaW5nLmphdmFhcGkuaHR0cC5IdHRwRHNsLnN0YXR1czsNCg0KICAgIC8qKg0KICAgICAqIER5bmFtaWNhbGx5IGdlbmVyYXRlIFNpbXVsYXRpb24gZm9yIG11bHRpcGxlIHNjZW5hcmlvcyBhbmQgdGhyZWFkIGdyb3VwcywgZm9yIGNvbmN1cnJlbnQgZXhlY3V0aW9uIG9mIG11bHRpcGxlIFNjZW5hcmlvcyBpbiBvbmUgcHJvY2Vzcy4NCiAgICAgKiBTeXN0ZW0gcHJvcGVydHk6IC1EZ2F0bGluZy5tdWx0aXNjZW5hcmlvLmZpbGU9L3BhdGgvdG8vanNvbg0KICAgICAqLw0KcHVibGljIGNsYXNzIEdhdGxpbmdTY2VuYXJpb1NpbXVsYXRpb24gZXh0ZW5kcyBTaW11bGF0aW9uIHsNCg0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBWQVJJQUJMRVNfUFJFRklYID0gIlRFU1RfVkFSSUFCTEVTOiI7DQoNCiAgICBwcml2YXRlIHN0YXRpYyBjbGFzcyBTY2VuYXJpb1J1bkl0ZW0gew0KICAgICAgICBwdWJsaWMgU2NlbmFyaW8gc2NlbmFyaW87DQogICAgICAgIHB1YmxpYyBHYXRsaW5nTG9hZFBhcmFtZXRlcnMgcGFyYW1zOw0KICAgICAgICBwdWJsaWMgTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBpdGVtczsgLy8gZWFjaCBtYXAgY29udGFpbnMgInRlc3QiIGFuZCAiZW5kcG9pbnQiDQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyBjbGFzcyBEYkNoZWNrSW5mbyB7DQogICAgICAgIHByaXZhdGUgU3RyaW5nIGFsaWFzOw0KICAgICAgICBwcml2YXRlIFN0cmluZyBzcWw7DQogICAgICAgIHByaXZhdGUgU3RyaW5nIGNvbHVtbjsNCg0KICAgICAgICBwdWJsaWMgU3RyaW5nIGdldEFsaWFzKCkgew0KICAgICAgICAgICAgcmV0dXJuIGFsaWFzOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7DQogICAgICAgICAgICByZXR1cm4gc3FsOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRDb2x1bW4oKSB7DQogICAgICAgICAgICByZXR1cm4gY29sdW1uOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBmaW5hbCBMaXN0PFNjZW5hcmlvUnVuSXRlbT4gcnVuSXRlbXM7DQogICAgcHJpdmF0ZSBmaW5hbCBPYmplY3RNYXBwZXIgbWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpOw0KICAgIHByaXZhdGUgZmluYWwgSURiQ29ubmVjdGlvblNlcnZpY2UgZGJDb25uZWN0aW9uU2VydmljZSA9IG5ldyBEYkNvbm5lY3Rpb25TZXJ2aWNlSW1wbCgpOw0KDQogICAgcHVibGljIEdhdGxpbmdTY2VuYXJpb1NpbXVsYXRpb24oKSB7DQogICAgICAgIC8vIENsZWFyIHRlc3QgcnVuIGNvbnRleHQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIHNpbXVsYXRpb24gcnVuDQogICAgICAgIFRlc3RSdW5Db250ZXh0LmNsZWFyKCk7DQogICAgICAgIA0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgU3RyaW5nIGZpbGVQYXRoID0gU3lzdGVtLmdldFByb3BlcnR5KCJnYXRsaW5nLm11bHRpc2NlbmFyaW8uZmlsZSIpOw0KICAgICAgICAgICAgaWYgKGZpbGVQYXRoID09IG51bGwgfHwgZmlsZVBhdGguaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigiZ2F0bGluZy5tdWx0aXNjZW5hcmlvLmZpbGUgc3lzdGVtIHByb3BlcnR5IG5vdCBzZXQiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIE9iamVjdE1hcHBlciBvbSA9IG5ldyBPYmplY3RNYXBwZXIoKTsNCiAgICAgICAgICAgIHRoaXMucnVuSXRlbXMgPSBvbS5yZWFkVmFsdWUobmV3IEZpbGUoZmlsZVBhdGgpLCBuZXcgVHlwZVJlZmVyZW5jZTxMaXN0PFNjZW5hcmlvUnVuSXRlbT4+KCl7fSk7DQogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJGYWlsZWQgdG8gcmVhZCBtdWx0aS1zY2VuYXJpbyBqc29uIiwgZSk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAocnVuSXRlbXMgPT0gbnVsbCB8fCBydW5JdGVtcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJObyBzY2VuYXJpb3MgZm91bmQgaW4gSlNPTiIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gUmVtb3ZlIHNjZW5hcmlvcyB0aGF0IGhhdmUgbm8gc3RlcCBpdGVtcyB0byBwcmV2ZW50IHJ1bnRpbWUgZXJyb3JzDQogICAgICAgIHJ1bkl0ZW1zLnJlbW92ZUlmKGl0ZW0gLT4gaXRlbS5pdGVtcyA9PSBudWxsIHx8IGl0ZW0uaXRlbXMuaXNFbXB0eSgpKTsNCiAgICAgICAgaWYgKHJ1bkl0ZW1zLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oIlNlbGVjdGVkIHNjZW5hcmlvcyBjb250YWluIG5vIHN0ZXBzIHRvIGV4ZWN1dGUiKTsNCiAgICAgICAgfQ0KDQogICAgICAgIExpc3Q8UG9wdWxhdGlvbkJ1aWxkZXI+IHBvcEJ1aWxkZXJzID0gbmV3IEFycmF5TGlzdDw+KCk7DQogICAgICAgIGxvbmcgbWF4RHVyYXRpb25TZWMgPSAwOw0KDQogICAgICAgIGZvciAoU2NlbmFyaW9SdW5JdGVtIGl0ZW0gOiBydW5JdGVtcykgew0KICAgICAgICAgICAgU2NlbmFyaW9CdWlsZGVyIHNjbkJ1aWxkZXIgPSBidWlsZFNjZW5hcmlvKGl0ZW0pOw0KICAgICAgICAgICAgUG9wdWxhdGlvbkJ1aWxkZXIgcGIgPSBidWlsZEluamVjdGlvbihpdGVtLnBhcmFtcywgc2NuQnVpbGRlcik7DQogICAgICAgICAgICBwb3BCdWlsZGVycy5hZGQocGIpOw0KICAgICAgICAgICAgbWF4RHVyYXRpb25TZWMgPSBNYXRoLm1heChtYXhEdXJhdGlvblNlYywgZXN0aW1hdGVNYXhEdXJhdGlvbihpdGVtLnBhcmFtcykpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gLS0tLSBSZXNvbHZlIGZpcnN0IGVuZHBvaW50IGZvciBodHRwIHByb3RvY29sIGluIGEgc2FmZSB3YXkgLS0tLQ0KICAgICAgICBFbmRwb2ludCBmaXJzdEVwID0gbnVsbDsNCiAgICAgICAgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlciBvbUNvbnYgPSBuZXcgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcigpOw0KICAgICAgICBvdXRlcjoNCiAgICAgICAgZm9yIChTY2VuYXJpb1J1bkl0ZW0gcmkgOiBydW5JdGVtcykgew0KICAgICAgICAgICAgaWYgKHJpLml0ZW1zID09IG51bGwpIGNvbnRpbnVlOw0KICAgICAgICAgICAgZm9yIChNYXA8U3RyaW5nLCBPYmplY3Q+IG1hcCA6IHJpLml0ZW1zKSB7DQogICAgICAgICAgICAgICAgT2JqZWN0IGVwT2JqID0gbWFwLmdldCgiZW5kcG9pbnQiKTsNCiAgICAgICAgICAgICAgICBpZiAoZXBPYmogIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBmaXJzdEVwID0gKGVwT2JqIGluc3RhbmNlb2YgRW5kcG9pbnQpID8gKEVuZHBvaW50KSBlcE9iaiA6IG9tQ29udi5jb252ZXJ0VmFsdWUoZXBPYmosIEVuZHBvaW50LmNsYXNzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0RXAgIT0gbnVsbCAmJiBmaXJzdEVwLmdldFVybCgpICE9IG51bGwgJiYgIWZpcnN0RXAuZ2V0VXJsKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhayBvdXRlcjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZmlyc3RFcCA9PSBudWxsKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiVW5hYmxlIHRvIGRldGVybWluZSBiYXNlVXJsIOKAkyBubyBlbmRwb2ludCBmb3VuZCBpbiBzY2VuYXJpbyBzdGVwcyIpOw0KICAgICAgICB9DQogICAgICAgIC8vIFRoZSBiYXNlVXJsIHNob3VsZCBiZSBzdGF0aWMgYW5kIG5vdCBjb250YWluIGR5bmFtaWMgcGxhY2Vob2xkZXJzLg0KICAgICAgICAvLyBXZSB3aWxsIHJlbmRlciB0aGUgZnVsbCBVUkwgZm9yIGVhY2ggcmVxdWVzdCBpbnN0ZWFkLg0KICAgICAgICBIdHRwUHJvdG9jb2xCdWlsZGVyIGh0dHBQcm90b2NvbCA9IGh0dHAuYmFzZVVybCgiLyIpOw0KDQogICAgICAgIFNldFVwIHMgPSBzZXRVcChwb3BCdWlsZGVycy50b0FycmF5KG5ldyBQb3B1bGF0aW9uQnVpbGRlclswXSkpLnByb3RvY29scyhodHRwUHJvdG9jb2wpOw0KICAgICAgICBpZiAobWF4RHVyYXRpb25TZWMgPiAwKSB7DQogICAgICAgICAgICBzLm1heER1cmF0aW9uKER1cmF0aW9uLm9mU2Vjb25kcyhtYXhEdXJhdGlvblNlYykpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBTY2VuYXJpb0J1aWxkZXIgYnVpbGRTY2VuYXJpbyhTY2VuYXJpb1J1bkl0ZW0gc3JpKSB7DQogICAgICAgIENoYWluQnVpbGRlciBjaGFpbiA9IG51bGw7DQogICAgICAgIGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXIgb20gPSBuZXcgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcigpOw0KICAgICAgICANCiAgICAgICAgZm9yIChNYXA8U3RyaW5nLCBPYmplY3Q+IG0gOiBzcmkuaXRlbXMpIHsNCiAgICAgICAgICAgIE9iamVjdCB0byA9IG0uZ2V0KCJ0ZXN0Iik7DQogICAgICAgICAgICBHYXRsaW5nVGVzdCB0ZXN0ID0gKHRvIGluc3RhbmNlb2YgR2F0bGluZ1Rlc3QpID8gKEdhdGxpbmdUZXN0KSB0byA6IG9tLmNvbnZlcnRWYWx1ZSh0bywgR2F0bGluZ1Rlc3QuY2xhc3MpOw0KICAgICAgICAgICAgT2JqZWN0IGVvID0gbS5nZXQoImVuZHBvaW50Iik7DQogICAgICAgICAgICBFbmRwb2ludCBlcCA9IChlbyBpbnN0YW5jZW9mIEVuZHBvaW50KSA/IChFbmRwb2ludCkgZW8gOiBvbS5jb252ZXJ0VmFsdWUoZW8sIEVuZHBvaW50LmNsYXNzKTsNCiAgICAgICAgICAgIEh0dHBSZXF1ZXN0QWN0aW9uQnVpbGRlciByZXEgPSBidWlsZFJlcXVlc3QodGVzdCwgZXApOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDcmVhdGUgYSBjaGFpbiB0aGF0IGV4ZWN1dGVzIHRoZSByZXF1ZXN0IGFuZCB0aGVuIHByb2Nlc3NlcyBhbnkgc2F2ZWQgdmFyaWFibGVzDQogICAgICAgICAgICBmaW5hbCBTdHJpbmcgdGNpZCA9IHRlc3QuZ2V0VGNpZCgpOw0KICAgICAgICAgICAgQ2hhaW5CdWlsZGVyIHJlcXVlc3RDaGFpbiA9IGV4ZWMocmVxKS5leGVjKHNlc3Npb24gLT4gew0KICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB2YXJpYWJsZXMgdGhhdCBuZWVkIHRvIGJlIHNhdmVkIHRvIFRlc3RSdW5Db250ZXh0IGZyb20gSFRUUCByZXNwb25zZQ0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBqc29uID0gdGVzdC5nZXRSZXNwb25zZUNoZWNrcygpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiAhPSBudWxsICYmICFqc29uLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgTGlzdDxSZXNwb25zZUNoZWNrPiBjaGVja3MgPSBtYXBwZXIucmVhZFZhbHVlKGpzb24sIG5ldyBUeXBlUmVmZXJlbmNlPExpc3Q8UmVzcG9uc2VDaGVjaz4+KCkge30pOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChSZXNwb25zZUNoZWNrIHJjIDogY2hlY2tzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJjLmdldFR5cGUoKSAhPSBDaGVja1R5cGUuREIgJiYgcmMuZ2V0U2F2ZUFzKCkgIT0gbnVsbCAmJiAhcmMuZ2V0U2F2ZUFzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBzYXZlQXNLZXkgPSByYy5nZXRTYXZlQXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uY29udGFpbnMoc2F2ZUFzS2V5KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0IHJhd1ZhbHVlID0gc2Vzc2lvbi5nZXQoc2F2ZUFzS2V5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBhY3R1YWxWYWx1ZSA9IGNvbnZlcnRUb1N0cmluZyhyYXdWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXN0UnVuQ29udGV4dC5zYXZlVmFyaWFibGUodGNpZCwgc2F2ZUFzS2V5LCBhY3R1YWxWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcGFyc2luZyBlcnJvcnMNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb247DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8gQXBwZW5kIERCIGNoZWNrcyBleGVjdXRpb24NCiAgICAgICAgICAgIENoYWluQnVpbGRlciBkYkNoZWNrQ2hhaW4gPSBidWlsZERiQ2hlY2tDaGFpbih0ZXN0KTsNCiAgICAgICAgICAgIENoYWluQnVpbGRlciBmdWxsQ2hhaW4gPSByZXF1ZXN0Q2hhaW4uZXhlYyhkYkNoZWNrQ2hhaW4pOw0KDQogICAgICAgICAgICBpZiAoY2hhaW4gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGNoYWluID0gZnVsbENoYWluOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjaGFpbiA9IGNoYWluLmV4ZWMoZnVsbENoYWluKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHRlc3QuZ2V0V2FpdFRpbWUoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBjaGFpbiA9IGNoYWluLnBhdXNlKER1cmF0aW9uLm9mU2Vjb25kcyh0ZXN0LmdldFdhaXRUaW1lKCkpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoY2hhaW4gPT0gbnVsbCkgY2hhaW4gPSBleGVjKHBhdXNlKDEpKTsNCg0KICAgICAgICAvLyBkZXRlcm1pbmUgbG9vcCBzdHJhdGVneSBiYXNlZCBvbiB0aHJlYWQgZ3JvdXAgdHlwZQ0KICAgICAgICBTdGFuZGFyZFRocmVhZEdyb3VwIHN0ZENmZyA9IG51bGw7DQogICAgICAgIGlmIChzcmkucGFyYW1zLmdldFR5cGUoKSA9PSBUaHJlYWRHcm91cFR5cGUuU1RBTkRBUkQpIHsNCiAgICAgICAgICAgIHN0ZENmZyA9IHNyaS5wYXJhbXMuZ2V0U3RhbmRhcmRUaHJlYWRHcm91cCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgU2NlbmFyaW9CdWlsZGVyIGJhc2UgPSBzY2VuYXJpbyhPcHRpb25hbC5vZk51bGxhYmxlKHNyaS5zY2VuYXJpby5nZXROYW1lKCkpLm9yRWxzZSgiU2NlbmFyaW8iICsgc3JpLnNjZW5hcmlvLmdldElkKCkpKTsNCg0KICAgICAgICAvLyBmb3IgdGltZS1iYXNlZCB0aHJlYWQgZ3JvdXBzIChTY2hlZHVsZXIvU3RlcHBpbmcvVWx0aW1hdGUpLCB1c2UgZm9yZXZlcigpIHRvIGNvbnRpbnVvdXNseSBzZW5kIHJlcXVlc3RzIHVudGlsIG1heER1cmF0aW9uDQogICAgICAgIGlmICgoc3RkQ2ZnICE9IG51bGwgJiYgc3RkQ2ZnLmlzU2NoZWR1bGVyKCkpDQogICAgICAgICAgICAgICAgfHwgc3JpLnBhcmFtcy5nZXRUeXBlKCkgPT0gVGhyZWFkR3JvdXBUeXBlLlNURVBQSU5HDQogICAgICAgICAgICAgICAgfHwgc3JpLnBhcmFtcy5nZXRUeXBlKCkgPT0gVGhyZWFkR3JvdXBUeXBlLlVMVElNQVRFKSB7DQogICAgICAgICAgICByZXR1cm4gYmFzZS5mb3JldmVyKCkub24oY2hhaW4pOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gZm9yIFN0YW5kYXJkIHRocmVhZCBncm91cCB3aXRoIHNwZWNpZmllZCBsb29wIGNvdW50DQogICAgICAgIGlmIChzdGRDZmcgIT0gbnVsbCAmJiAhc3RkQ2ZnLmlzU2NoZWR1bGVyKCkgJiYgc3RkQ2ZnLmdldExvb3BzKCkgIT0gLTEpIHsNCiAgICAgICAgICAgIHJldHVybiBiYXNlLmV4ZWMocmVwZWF0KHN0ZENmZy5nZXRMb29wcygpKS5vbihjaGFpbikpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gZGVmYXVsdDogZWFjaCB2aXJ0dWFsIHVzZXIgb25seSBleGVjdXRlcyBvbmNlDQogICAgICAgIHJldHVybiBiYXNlLmV4ZWMoY2hhaW4pOw0KICAgIH0NCg0KICAgIHByaXZhdGUgQ2hhaW5CdWlsZGVyIGJ1aWxkRGJDaGVja0NoYWluKEdhdGxpbmdUZXN0IHRlc3QpIHsNCiAgICAgICAgZmluYWwgU3RyaW5nIHRjaWQgPSB0ZXN0LmdldFRjaWQoKTsNCiAgICAgICAgTGlzdDxSZXNwb25zZUNoZWNrPiBkYkNoZWNrczsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIFN0cmluZyBqc29uID0gdGVzdC5nZXRSZXNwb25zZUNoZWNrcygpOw0KICAgICAgICAgICAgaWYgKGpzb24gPT0gbnVsbCB8fCBqc29uLmlzQmxhbmsoKSkgcmV0dXJuIGV4ZWMoc2Vzc2lvbiAtPiBzZXNzaW9uKTsgLy8gTm8gY2hlY2tzDQoNCiAgICAgICAgICAgIExpc3Q8UmVzcG9uc2VDaGVjaz4gYWxsQ2hlY2tzID0gbWFwcGVyLnJlYWRWYWx1ZShqc29uLCBuZXcgVHlwZVJlZmVyZW5jZTw+KCkge30pOw0KICAgICAgICAgICAgZGJDaGVja3MgPSBhbGxDaGVja3Muc3RyZWFtKCkuZmlsdGVyKGMgLT4gYy5nZXRUeXBlKCkgPT0gQ2hlY2tUeXBlLkRCKS5jb2xsZWN0KENvbGxlY3RvcnMudG9MaXN0KCkpOw0KDQogICAgICAgICAgICBpZiAoZGJDaGVja3MuaXNFbXB0eSgpKSByZXR1cm4gZXhlYyhzZXNzaW9uIC0+IHNlc3Npb24pOyAvLyBObyBEQiBjaGVja3MNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgICAgICByZXR1cm4gZXhlYyhzZXNzaW9uIC0+IHNlc3Npb24pOyAvLyBFcnJvciBwYXJzaW5nIGNoZWNrcw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGV4ZWMoc2Vzc2lvbiAtPiB7DQogICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgY2hlY2sgOiBkYkNoZWNrcykgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBhbGlhcyA9IGNoZWNrLmdldERiQWxpYXMoKTsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHNxbCA9IGNoZWNrLmdldERiU3FsKCk7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBjb2x1bW4gPSBjaGVjay5nZXREYkNvbHVtbigpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBwYXJzZSBmcm9tIGV4cHJlc3Npb24gaWYgbmV3IGZpZWxkcyBhcmUgZW1wdHkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWFzID09IG51bGwgfHwgYWxpYXMuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBEYkNoZWNrSW5mbyBjaGVja0luZm8gPSBtYXBwZXIucmVhZFZhbHVlKGNoZWNrLmdldEV4cHJlc3Npb24oKSwgRGJDaGVja0luZm8uY2xhc3MpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXMgPSBjaGVja0luZm8uZ2V0QWxpYXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNxbCA9IGNoZWNrSW5mby5nZXRTcWwoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGNoZWNrSW5mby5nZXRDb2x1bW4oKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIERiQ29ubmVjdGlvbiBjb25uQ29uZmlnID0gZGJDb25uZWN0aW9uU2VydmljZS5maW5kQnlBbGlhcyhhbGlhcyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb25uQ29uZmlnID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJEQiBDb25uZWN0aW9uIGFsaWFzIG5vdCBmb3VuZDogIiArIGFsaWFzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdmFyaWFibGVzIGluIFNRTA0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgcHJvY2Vzc2VkU3FsID0gVGVzdFJ1bkNvbnRleHQucHJvY2Vzc1ZhcmlhYmxlUmVmZXJlbmNlcyhzcWwpOw0KICAgICAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IGFsbER5bmFtaWNWYXJzID0gbmV3IEhhc2hNYXA8PigpOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGVzdC5nZXRFbmRwb2ludER5bmFtaWNWYXJpYWJsZXMoKSAhPSBudWxsKSBhbGxEeW5hbWljVmFycy5wdXRBbGwodGVzdC5nZXRFbmRwb2ludER5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkgIT0gbnVsbCkgYWxsRHluYW1pY1ZhcnMucHV0QWxsKHRlc3QuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkgIT0gbnVsbCkgYWxsRHluYW1pY1ZhcnMucHV0QWxsKHRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbFNxbCA9IFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIocHJvY2Vzc2VkU3FsLCBhbGxEeW5hbWljVmFycyk7DQoNCiAgICAgICAgICAgICAgICAgICAgRGF0YVNvdXJjZSBkcyA9IERhdGFTb3VyY2VSZWdpc3RyeS5nZXQoY29ubkNvbmZpZyk7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBhY3R1YWxWYWx1ZSA9IG51bGw7DQoNCiAgICAgICAgICAgICAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBkcy5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoZmluYWxTcWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBwcy5leGVjdXRlUXVlcnkoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IHJzLmdldFN0cmluZyhjb2x1bW4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFPcGVyYXRvclV0aWwuY29tcGFyZShhY3R1YWxWYWx1ZSwgY2hlY2suZ2V0T3BlcmF0b3IoKSwgY2hlY2suZ2V0RXhwZWN0KCkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmlzT3B0aW9uYWwoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihTdHJpbmcuZm9ybWF0KCJEQiBjaGVjayBmYWlsZWQgZm9yIFRDSUQgJXMuIFNRTDogJXMuIEV4cGVjdGVkICclcycgYnV0IGdvdCAnJXMnLiIsIHRjaWQsIGZpbmFsU3FsLCBjaGVjay5nZXRFeHBlY3QoKSwgYWN0dWFsVmFsdWUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5nZXRTYXZlQXMoKSAhPSBudWxsICYmICFjaGVjay5nZXRTYXZlQXMoKS5pc0JsYW5rKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3RSdW5Db250ZXh0LnNhdmVWYXJpYWJsZSh0Y2lkLCBjaGVjay5nZXRTYXZlQXMoKSwgYWN0dWFsVmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uc2V0KGNoZWNrLmdldFNhdmVBcygpLCBhY3R1YWxWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaXNPcHRpb25hbCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiREIgQ2hlY2sgZXhlY3V0aW9uIGZhaWxlZCBmb3IgVENJRCAiICsgdGNpZCwgZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gc2Vzc2lvbjsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBTdHJpbmcgY29udmVydFRvU3RyaW5nKE9iamVjdCByYXdWYWx1ZSkgew0KICAgICAgICBTdHJpbmcgYWN0dWFsVmFsdWU7DQogICAgICAgIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIFN0cmluZykgew0KICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSAoU3RyaW5nKSByYXdWYWx1ZTsNCiAgICAgICAgfSBlbHNlIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIGNoYXJbXSkgew0KICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBuZXcgU3RyaW5nKChjaGFyW10pIHJhd1ZhbHVlKTsNCiAgICAgICAgfSBlbHNlIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIFN0cmluZ1tdIGFycikgew0KICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBhcnIubGVuZ3RoID4gMCA/IGFyclswXSA6ICIiOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBTdHJpbmcudmFsdWVPZihyYXdWYWx1ZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGFjdHVhbFZhbHVlOw0KICAgIH0NCg0KICAgIHByaXZhdGUgSHR0cFJlcXVlc3RBY3Rpb25CdWlsZGVyIGJ1aWxkUmVxdWVzdChHYXRsaW5nVGVzdCB0ZXN0LCBFbmRwb2ludCBlcCkgew0KICAgICAgICBTdHJpbmcgcmVxTmFtZSA9IHRlc3QuZ2V0VGNpZCgpOw0KICAgICAgICBTdHJpbmcgbWV0aG9kID0gZXAuZ2V0TWV0aG9kKCkgPT0gbnVsbCA/ICJHRVQiIDogZXAuZ2V0TWV0aG9kKCkudG9VcHBlckNhc2UoKTsNCiAgICAgICAgDQogICAgICAgIC8vIEZpcnN0IHJlcGxhY2UgYW55ICR7VkFSfSBwbGFjZWhvbGRlcnMgZnJvbSBwcmV2aW91cyB0ZXN0IHJlc3VsdHMNCiAgICAgICAgU3RyaW5nIHByb2Nlc3NlZFVybCA9IFRlc3RSdW5Db250ZXh0LnByb2Nlc3NWYXJpYWJsZVJlZmVyZW5jZXMoZXAuZ2V0VXJsKCkpOw0KICAgICAgICAvLyBUaGVuIHJlbmRlciB1c2VyLWRlZmluZWQgQHt2YXJ9IHBsYWNlaG9sZGVycyB1c2luZyB0aGUgdGVzdCdzIGR5bmFtaWMgdmFyaWFibGVzDQogICAgICAgIHByb2Nlc3NlZFVybCA9IFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIocHJvY2Vzc2VkVXJsLCB0ZXN0LmdldEVuZHBvaW50RHluYW1pY1ZhcmlhYmxlcygpKTsNCiAgICAgICAgDQogICAgICAgIEh0dHBSZXF1ZXN0QWN0aW9uQnVpbGRlciByZXE7DQogICAgICAgIHN3aXRjaChtZXRob2Qpew0KICAgICAgICAgICAgY2FzZSAiUE9TVCIgLT4gew0KICAgICAgICAgICAgICAgIHJlcSA9IGh0dHAocmVxTmFtZSkucG9zdChwcm9jZXNzZWRVcmwpOw0KICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldEJvZHkoKSE9bnVsbCAmJiAhdGVzdC5nZXRCb2R5KCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlcSA9IHJlcS5ib2R5KFN0cmluZ0JvZHkoc2Vzc2lvbiAtPiBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHRlc3QuZ2V0Qm9keSgpLCB0ZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkpKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2FzZSAiUFVUIiAtPiB7DQogICAgICAgICAgICAgICAgcmVxID0gaHR0cChyZXFOYW1lKS5wdXQocHJvY2Vzc2VkVXJsKTsNCiAgICAgICAgICAgICAgICBpZiAodGVzdC5nZXRCb2R5KCkhPW51bGwgJiYgIXRlc3QuZ2V0Qm9keSgpLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgICAgICAgICByZXEgPSByZXEuYm9keShTdHJpbmdCb2R5KHNlc3Npb24gLT4gUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcih0ZXN0LmdldEJvZHkoKSwgdGVzdC5nZXRCb2R5RHluYW1pY1ZhcmlhYmxlcygpKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhc2UgIkRFTEVURSIgLT4gcmVxID0gaHR0cChyZXFOYW1lKS5kZWxldGUocHJvY2Vzc2VkVXJsKTsNCiAgICAgICAgICAgIGRlZmF1bHQgLT4gcmVxID0gaHR0cChyZXFOYW1lKS5nZXQocHJvY2Vzc2VkVXJsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIGhlYWRlcnMNCiAgICAgICAgTWFwPFN0cmluZyxTdHJpbmc+IGhlYWRlcnMgPSBwYXJzZUhlYWRlcnModGVzdC5nZXRIZWFkZXJzKCkpOw0KICAgICAgICBmb3IgKE1hcC5FbnRyeTxTdHJpbmcsU3RyaW5nPiBlbnRyeTpoZWFkZXJzLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgIHJlcSA9IHJlcS5oZWFkZXIoZW50cnkuZ2V0S2V5KCksIHNlc3Npb24gLT4gUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihlbnRyeS5nZXRWYWx1ZSgpLCB0ZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFkZCByZXNwb25zZSBjaGVja3MgYW5kIHZhcmlhYmxlIGV4dHJhY3Rpb24NCiAgICAgICAgTGlzdDxDaGVja0J1aWxkZXI+IGNoZWNrQnVpbGRlcnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBTdHJpbmcganNvbiA9IHRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKTsNCiAgICAgICAgICAgIGlmKGpzb24hPW51bGwgJiYgIWpzb24uaXNCbGFuaygpKXsNCiAgICAgICAgICAgICAgICBMaXN0PFJlc3BvbnNlQ2hlY2s+IGxpc3QgPSBuZXcgT2JqZWN0TWFwcGVyKCkucmVhZFZhbHVlKGpzb24sIG5ldyBUeXBlUmVmZXJlbmNlPExpc3Q8UmVzcG9uc2VDaGVjaz4+KCl7fSk7DQogICAgICAgICAgICAgICAgaW50IGV4cGVjdGVkID0gMjAwOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGZvcihSZXNwb25zZUNoZWNrIHJjOiBsaXN0KXsNCiAgICAgICAgICAgICAgICAgICAgaWYocmMuZ2V0VHlwZSgpID09IENoZWNrVHlwZS5TVEFUVVMpew0KICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQgPSBJbnRlZ2VyLnBhcnNlSW50KHJjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGV4dHJhY3RvcnMgZm9yIHZhcmlhYmxlcyB0byBiZSBzYXZlZA0KICAgICAgICAgICAgICAgICAgICBpZiAocmMuZ2V0U2F2ZUFzKCkgIT0gbnVsbCAmJiAhcmMuZ2V0U2F2ZUFzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgc2F2ZUFzS2V5ID0gcmMuZ2V0U2F2ZUFzKCk7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZXh0cmFjdG9yIGJhc2VkIG9uIGNoZWNrIHR5cGUNCiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChyYy5nZXRUeXBlKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEpTT05fUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tCdWlsZGVycy5hZGQoanNvblBhdGgocmMuZ2V0RXhwcmVzc2lvbigpKS5zYXZlQXMoc2F2ZUFzS2V5KSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgWFBBVEg6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQnVpbGRlcnMuYWRkKHhwYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVBc0tleSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJFR0VYOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0J1aWxkZXJzLmFkZChyZWdleChyYy5nZXRFeHByZXNzaW9uKCkpLnNhdmVBcyhzYXZlQXNLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhdHVzIGNoZWNrIGlzIGhhbmRsZWQgc2VwYXJhdGVseQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBBZGQgc3RhdHVzIGNoZWNrDQogICAgICAgICAgICAgICAgY2hlY2tCdWlsZGVycy5hZGQoc3RhdHVzKCkuaXMoZXhwZWN0ZWQpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBzdGF0dXMgY2hlY2sNCiAgICAgICAgICAgICAgICBjaGVja0J1aWxkZXJzLmFkZChzdGF0dXMoKS5pcygyMDApKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgLy8gRGVmYXVsdCBzdGF0dXMgY2hlY2sgb24gZXJyb3INCiAgICAgICAgICAgIGNoZWNrQnVpbGRlcnMuYWRkKHN0YXR1cygpLmlzKDIwMCkpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBBcHBseSBhbGwgY2hlY2tzDQogICAgICAgIGlmICghY2hlY2tCdWlsZGVycy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIHJlcSA9IHJlcS5jaGVjayhjaGVja0J1aWxkZXJzLnRvQXJyYXkobmV3IENoZWNrQnVpbGRlclswXSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHJlcTsNCiAgICB9DQoNCiAgICBwcml2YXRlIE1hcDxTdHJpbmcsU3RyaW5nPiBwYXJzZUhlYWRlcnMoU3RyaW5nIHN0cil7DQogICAgICAgIC8vIFJldHVybiBlbXB0eSBtYXAgd2hlbiBpbnB1dCBpcyBudWxsIG9yIGJsYW5rDQogICAgICAgIGlmIChzdHIgPT0gbnVsbCB8fCBzdHIuaXNCbGFuaygpKSB7DQogICAgICAgICAgICByZXR1cm4gQ29sbGVjdGlvbnMuZW1wdHlNYXAoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFByaW1hcnkgc3RyYXRlZ3k6IGF0dGVtcHQgdG8gcGFyc2UgdGhlIGVudGlyZSBzdHJpbmcgYXMgSlNPTiBmaXJzdA0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBoZWFkZXJzID0gbmV3IE9iamVjdE1hcHBlcigpLnJlYWRWYWx1ZShzdHIsIG5ldyBUeXBlUmVmZXJlbmNlPE1hcDxTdHJpbmcsIFN0cmluZz4+KCkge30pOw0KICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBsZWFkaW5nL3RyYWlsaW5nIHNpbmdsZSBvciBkb3VibGUgcXVvdGVzIGFyb3VuZCBlYWNoIHZhbHVlDQogICAgICAgICAgICBoZWFkZXJzLnJlcGxhY2VBbGwoKGssIHYpIC0+IHYgPT0gbnVsbCA/IG51bGwgOiB2LnJlcGxhY2VBbGwoIl4oW1wiJ10pKC4qKVxcMSQiLCAiJDIiKSk7DQogICAgICAgICAgICByZXR1cm4gaGVhZGVyczsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGlnbm9yZSkgew0KICAgICAgICAgICAgLy8gSWdub3JlIGFuZCBmYWxsIGJhY2sgdG8gbGluZS1ieS1saW5lIHBhcnNpbmcNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEZhbGxiYWNrOiBwYXJzZSAiS2V5OiBWYWx1ZSIgcGFpcnMgbGluZS1ieS1saW5lDQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gbWFwID0gbmV3IEhhc2hNYXA8PigpOw0KICAgICAgICBmb3IgKFN0cmluZyBsaW5lIDogc3RyLnNwbGl0KCJcXHI/XFxuIikpIHsNCiAgICAgICAgICAgIGlmIChsaW5lLmNvbnRhaW5zKCI6IikpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmdbXSBwID0gbGluZS5zcGxpdCgiOiIsIDIpOw0KICAgICAgICAgICAgICAgIGlmIChwLmxlbmd0aCA9PSAyKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBrZXkgPSBwWzBdLnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHZhbHVlID0gcFsxXS50cmltKCk7DQogICAgICAgICAgICAgICAgICAgIC8vIFN0cmlwIHN1cnJvdW5kaW5nIHF1b3RlcyBpZiBwcmVzZW50DQogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZUFsbCgiXihbXCInXSkoLiopXFwxJCIsICIkMiIpOw0KICAgICAgICAgICAgICAgICAgICBtYXAucHV0KGtleSwgdmFsdWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbWFwOw0KICAgIH0NCg0KICAgIHByaXZhdGUgUG9wdWxhdGlvbkJ1aWxkZXIgYnVpbGRJbmplY3Rpb24oR2F0bGluZ0xvYWRQYXJhbWV0ZXJzIHAsIFNjZW5hcmlvQnVpbGRlciBzY24pew0KICAgICAgICBzd2l0Y2gocC5nZXRUeXBlKCkpew0KICAgICAgICAgICAgY2FzZSBTVEVQUElORyAtPiB7DQogICAgICAgICAgICAgICAgU3RlcHBpbmdUaHJlYWRHcm91cCBzdD1wLmdldFN0ZXBwaW5nVGhyZWFkR3JvdXAoKTsNCiAgICAgICAgICAgICAgICBMaXN0PE9wZW5JbmplY3Rpb25TdGVwPiBzdGVwcz1uZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICBpZihzdC5nZXRJbml0aWFsRGVsYXkoKT4wKSBzdGVwcy5hZGQobm90aGluZ0ZvcihEdXJhdGlvbi5vZlNlY29uZHMoc3QuZ2V0SW5pdGlhbERlbGF5KCkpKSk7DQogICAgICAgICAgICAgICAgc3RlcHMuYWRkKHJhbXBVc2VycyhzdC5nZXRTdGFydFVzZXJzKCkpLmR1cmluZyhEdXJhdGlvbi5vZlNlY29uZHMoTWF0aC5tYXgoMSxzdC5nZXRJbmNyZW1lbnRUaW1lKCkpKSkpOw0KICAgICAgICAgICAgICAgIGludCByZW1haW5pbmc9c3QuZ2V0TnVtVGhyZWFkcygpLXN0LmdldFN0YXJ0VXNlcnMoKTsNCiAgICAgICAgICAgICAgICBpZihyZW1haW5pbmc+MCAmJiBzdC5nZXRJbmNyZW1lbnRVc2VycygpPjApew0KICAgICAgICAgICAgICAgICAgICBpbnQgYmF0Y2hlcz0oaW50KU1hdGguY2VpbCgoZG91YmxlKXJlbWFpbmluZy9zdC5nZXRJbmNyZW1lbnRVc2VycygpKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yKGludCBpPTA7aTxiYXRjaGVzO2krKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpbnQgdT1NYXRoLm1pbihzdC5nZXRJbmNyZW1lbnRVc2VycygpLCByZW1haW5pbmcgLSBpKnN0LmdldEluY3JlbWVudFVzZXJzKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHMuYWRkKHJhbXBVc2Vycyh1KS5kdXJpbmcoRHVyYXRpb24ub2ZTZWNvbmRzKE1hdGgubWF4KDEsc3QuZ2V0SW5jcmVtZW50VGltZSgpKSkpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gc2NuLmluamVjdE9wZW4oc3RlcHMudG9BcnJheShuZXcgT3BlbkluamVjdGlvblN0ZXBbMF0pKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhc2UgVUxUSU1BVEUgLT4gew0KICAgICAgICAgICAgICAgIFVsdGltYXRlVGhyZWFkR3JvdXAgdXQ9cC5nZXRVbHRpbWF0ZVRocmVhZEdyb3VwKCk7DQogICAgICAgICAgICAgICAgTGlzdDxVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcD4gc29ydGVkPW5ldyBBcnJheUxpc3Q8Pih1dC5nZXRTdGVwcygpKTsNCiAgICAgICAgICAgICAgICBzb3J0ZWQuc29ydChDb21wYXJhdG9yLmNvbXBhcmluZ0ludChVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcDo6Z2V0U3RhcnRUaW1lKSk7DQogICAgICAgICAgICAgICAgTGlzdDxPcGVuSW5qZWN0aW9uU3RlcD4gaW5qPW5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICAgICAgICAgIGxvbmcgbGFzdEVuZD0wOw0KICAgICAgICAgICAgICAgIGZvcihVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcCBzdGVwOnNvcnRlZCl7DQogICAgICAgICAgICAgICAgICAgIGxvbmcgZGVsYXk9c3RlcC5nZXRTdGFydFRpbWUoKS1sYXN0RW5kOyBpZihkZWxheT4wKSBpbmouYWRkKG5vdGhpbmdGb3IoRHVyYXRpb24ub2ZTZWNvbmRzKGRlbGF5KSkpOw0KICAgICAgICAgICAgICAgICAgICBpbmouYWRkKHJhbXBVc2VycyhzdGVwLmdldEluaXRpYWxMb2FkKCkpLmR1cmluZyhEdXJhdGlvbi5vZlNlY29uZHMoc3RlcC5nZXRTdGFydHVwVGltZSgpKSkpOw0KICAgICAgICAgICAgICAgICAgICBsYXN0RW5kPXN0ZXAuZ2V0U3RhcnRUaW1lKCkrc3RlcC5nZXRTdGFydHVwVGltZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gc2NuLmluamVjdE9wZW4oaW5qLnRvQXJyYXkobmV3IE9wZW5JbmplY3Rpb25TdGVwWzBdKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXNlIFNUQU5EQVJEIC0+IHsNCiAgICAgICAgICAgICAgICBTdGFuZGFyZFRocmVhZEdyb3VwIHN0ZD1wLmdldFN0YW5kYXJkVGhyZWFkR3JvdXAoKTsNCiAgICAgICAgICAgICAgICBpZihzdGQuaXNTY2hlZHVsZXIoKSl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBzY24uaW5qZWN0T3BlbigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RoaW5nRm9yKER1cmF0aW9uLm9mU2Vjb25kcyhzdGQuZ2V0RGVsYXkoKSkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbXBVc2VycyhzdGQuZ2V0TnVtVGhyZWFkcygpKS5kdXJpbmcoRHVyYXRpb24ub2ZTZWNvbmRzKHN0ZC5nZXRSYW1wVXAoKSkpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjbi5pbmplY3RPcGVuKHJhbXBVc2VycyhzdGQuZ2V0TnVtVGhyZWFkcygpKS5kdXJpbmcoRHVyYXRpb24ub2ZTZWNvbmRzKHN0ZC5nZXRSYW1wVXAoKSkpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHNjbi5pbmplY3RPcGVuKGF0T25jZVVzZXJzKDEpKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIGxvbmcgZXN0aW1hdGVNYXhEdXJhdGlvbihHYXRsaW5nTG9hZFBhcmFtZXRlcnMgcCl7DQogICAgICAgIHN3aXRjaChwLmdldFR5cGUoKSl7DQogICAgICAgICAgICBjYXNlIFNUQU5EQVJEIC0+IHsNCiAgICAgICAgICAgICAgICBTdGFuZGFyZFRocmVhZEdyb3VwIHN0ZD1wLmdldFN0YW5kYXJkVGhyZWFkR3JvdXAoKTsNCiAgICAgICAgICAgICAgICBpZihzdGQuaXNTY2hlZHVsZXIoKSkgcmV0dXJuIHN0ZC5nZXREZWxheSgpK3N0ZC5nZXREdXJhdGlvbigpOw0KICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0ZC5nZXRSYW1wVXAoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhc2UgU1RFUFBJTkcgLT4gew0KICAgICAgICAgICAgICAgIFN0ZXBwaW5nVGhyZWFkR3JvdXAgc3Q9cC5nZXRTdGVwcGluZ1RocmVhZEdyb3VwKCk7DQogICAgICAgICAgICAgICAgbG9uZyB0b3RhbD1zdC5nZXRJbml0aWFsRGVsYXkoKStzdC5nZXRIb2xkTG9hZCgpOw0KICAgICAgICAgICAgICAgIGludCByZW1haW5pbmc9c3QuZ2V0TnVtVGhyZWFkcygpLXN0LmdldFN0YXJ0VXNlcnMoKTsNCiAgICAgICAgICAgICAgICBpbnQgYmF0Y2hlcz0gc3QuZ2V0SW5jcmVtZW50VXNlcnMoKT4wPyAoaW50KU1hdGguY2VpbCgoZG91YmxlKXJlbWFpbmluZy9zdC5nZXRJbmNyZW1lbnRVc2VycygpKSA6IDA7DQogICAgICAgICAgICAgICAgdG90YWwrPSAoMUwrYmF0Y2hlcykqc3QuZ2V0SW5jcmVtZW50VGltZSgpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhc2UgVUxUSU1BVEUgLT4gew0KICAgICAgICAgICAgICAgIGxvbmcgbWF4PTA7DQogICAgICAgICAgICAgICAgZm9yKFVsdGltYXRlVGhyZWFkR3JvdXBTdGVwIHN0ZXA6cC5nZXRVbHRpbWF0ZVRocmVhZEdyb3VwKCkuZ2V0U3RlcHMoKSl7DQogICAgICAgICAgICAgICAgICAgIGxvbmcgZW5kPSBzdGVwLmdldFN0YXJ0VGltZSgpK3N0ZXAuZ2V0U3RhcnR1cFRpbWUoKStzdGVwLmdldEhvbGRUaW1lKCkrc3RlcC5nZXRTaHV0ZG93blRpbWUoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoZW5kPm1heCkgbWF4PWVuZDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIG1heDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRlZmF1bHQgLT4ge3JldHVybiAwO30NCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBhZnRlcigpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIC8vIE91dHB1dCB0ZXN0IHZhcmlhYmxlcyBpbmZvcm1hdGlvbg0KICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFZBUklBQkxFU19QUkVGSVggKyBuZXcgT2JqZWN0TWFwcGVyKCkud3JpdGVWYWx1ZUFzU3RyaW5nKFRlc3RSdW5Db250ZXh0LmdldEFsbFZhcmlhYmxlcygpKSk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgew0KICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gb3V0cHV0IHRlc3QgdmFyaWFibGVzOiAiICsgZXguZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICB9DQogICAgICAgIERhdGFTb3VyY2VSZWdpc3RyeS5zaHV0ZG93bigpOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/service/runner/GatlingTestRunner.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyOw0KDQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcjsNCmltcG9ydCBjb20uZmFzdGVyeG1sLmphY2tzb24uY29yZS50eXBlLlR5cGVSZWZlcmVuY2U7DQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLlNlcmlhbGl6YXRpb25GZWF0dXJlOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmFwaS5JR2F0bGluZ1Rlc3REYW87DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5HYXRsaW5nVGVzdERhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5FbmRwb2ludDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdMb2FkUGFyYW1ldGVyczsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdUZXN0Ow0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwucmVwb3J0cy5DYXNlUmVwb3J0Ow0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwucmVwb3J0cy5GdW5jdGlvbmFsVGVzdFJlcG9ydDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHMuTW9kZUdyb3VwOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwucmVwb3J0cy5UZXN0TW9kZTsNCg0KDQppbXBvcnQgamF2YS5pby4qOw0KaW1wb3J0IGphdmEubmV0LlVSTDsNCmltcG9ydCBqYXZhLm5pby5maWxlLkZpbGVzOw0KaW1wb3J0IGphdmEubmlvLmZpbGUuUGF0aDsNCmltcG9ydCBqYXZhLm5pby5maWxlLlBhdGhzOw0KaW1wb3J0IGphdmEudGV4dC5TaW1wbGVEYXRlRm9ybWF0Ow0KaW1wb3J0IGphdmEudGltZS5ab25lZERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuRGF0ZTsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KaW1wb3J0IGphdmEudXRpbC5zdHJlYW0uQ29sbGVjdG9yczsNCmltcG9ydCBqYXZhLnV0aWwuTGlua2VkSGFzaE1hcDsNCg0KcHVibGljIGNsYXNzIEdhdGxpbmdUZXN0UnVubmVyIHsNCiAgICAvKioNCiAgICAgKiBQcmVmaXggdXNlZCBieSBHYXRsaW5nVGVzdFNpbXVsYXRpb24gdG8gb3V0cHV0IHRlc3QgdmFyaWFibGVzLg0KICAgICAqLw0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBWQVJJQUJMRVNfUFJFRklYID0gIlRFU1RfVkFSSUFCTEVTOiI7DQoNCiAgICBwcml2YXRlIHN0YXRpYyBTdHJpbmcgYXNzZW1ibGVDbGFzc3BhdGgoKSB7DQogICAgICAgIC8vIFByZWZlciBjbGFzc3BhdGggcHJvdmlkZWQgYnkgTWF2ZW4gYnVpbGQgcGx1Z2luIChyZWFkIGZyb20gYSBmaWxlIHRvIGF2b2lkIGNvbW1hbmQgbGluZSBsZW5ndGggbGltaXRzKQ0KICAgICAgICBTdHJpbmcgY2xhc3NwYXRoRmlsZSA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgiZ2F0bGluZy5jbGFzc3BhdGguZmlsZSIpOw0KICAgICAgICBpZiAoY2xhc3NwYXRoRmlsZSAhPSBudWxsKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIFN0cmluZyBkZXBlbmRlbmN5Q2xhc3NwYXRoID0gbmV3IFN0cmluZyhGaWxlcy5yZWFkQWxsQnl0ZXMoUGF0aHMuZ2V0KGNsYXNzcGF0aEZpbGUpKSk7DQogICAgICAgICAgICAgICAgU3RyaW5nIHByb2plY3RDbGFzc2VzUGF0aCA9IFBhdGhzLmdldChTeXN0ZW0uZ2V0UHJvcGVydHkoInVzZXIuZGlyIiksICJ0YXJnZXQiLCAiY2xhc3NlcyIpLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgLy8gUHJlcGVuZCB0aGUgcHJvamVjdCdzIG93biBjbGFzc2VzIHRvIHRoZSBjbGFzc3BhdGgNCiAgICAgICAgICAgICAgICByZXR1cm4gcHJvamVjdENsYXNzZXNQYXRoICsgamF2YS5pby5GaWxlLnBhdGhTZXBhcmF0b3IgKyBkZXBlbmRlbmN5Q2xhc3NwYXRoOw0KICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiV0FSTjogRmFpbGVkIHRvIHJlYWQgY2xhc3NwYXRoIGZyb20gIiArIGNsYXNzcGF0aEZpbGUgKyAiLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdC4iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEZhbGxiYWNrIHRvIG9yaWdpbmFsIG1ldGhvZCBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIChlLmcuLCBJREUsIGZhdCBKQVIpDQogICAgICAgIFN0cmluZyBjcCA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgiamF2YS5jbGFzcy5wYXRoIik7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBTdHJpbmcgc2VsZlBhdGggPSBuZXcgamF2YS5pby5GaWxlKEdhdGxpbmdUZXN0UnVubmVyLmNsYXNzLmdldFByb3RlY3Rpb25Eb21haW4oKQ0KICAgICAgICAgICAgICAgICAgICAuZ2V0Q29kZVNvdXJjZSgpLmdldExvY2F0aW9uKCkudG9VUkkoKSkuZ2V0UGF0aCgpOw0KICAgICAgICAgICAgaWYgKCFjcC5jb250YWlucyhzZWxmUGF0aCkpIHsNCiAgICAgICAgICAgICAgICBjcCArPSBqYXZhLmlvLkZpbGUucGF0aFNlcGFyYXRvciArIHNlbGZQYXRoOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gaWdub3JlZCkgeyB9DQogICAgICAgIHJldHVybiBjcDsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBMaXN0PFN0cmluZz4gYnVpbGRHYXRsaW5nQ29tbWFuZChTdHJpbmcgdGVzdHNGaWxlUGF0aCwgU3RyaW5nIHBhcmFtc0ZpbGVQYXRoLCBTdHJpbmcgcmVwb3J0RmlsZVBhdGgpIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBTdHJpbmcgamF2YUhvbWUgPSBTeXN0ZW0uZ2V0UHJvcGVydHkoImphdmEuaG9tZSIpOw0KICAgICAgICBTdHJpbmcgamF2YUJpbiA9IGphdmEubmlvLmZpbGUuUGF0aHMuZ2V0KGphdmFIb21lLCAiYmluIiwgImphdmEiKS50b1N0cmluZygpOw0KICAgICAgICBTdHJpbmcgY2xhc3NwYXRoID0gYXNzZW1ibGVDbGFzc3BhdGgoKTsNCiAgICAgICAgU3RyaW5nIGdhdGxpbmdNYWluID0gImlvLmdhdGxpbmcuYXBwLkdhdGxpbmciOw0KICAgICAgICBTdHJpbmcgc2ltdWxhdGlvbkNsYXNzID0gR2F0bGluZ1Rlc3RTaW11bGF0aW9uLmNsYXNzLmdldE5hbWUoKTsNCiAgICAgICAgU3RyaW5nIHJlc3VsdHNQYXRoID0gamF2YS5uaW8uZmlsZS5QYXRocy5nZXQoU3lzdGVtLmdldFByb3BlcnR5KCJ1c2VyLmRpciIpLCAidGFyZ2V0IiwgImdhdGxpbmciKS50b1N0cmluZygpOw0KDQogICAgICAgIFVSTCBsb2diYWNrVXJsID0gR2F0bGluZ1Rlc3RSdW5uZXIuY2xhc3MuZ2V0Q2xhc3NMb2FkZXIoKS5nZXRSZXNvdXJjZSgibG9nYmFjay54bWwiKTsNCiAgICAgICAgU3RyaW5nIGxvZ2JhY2tQYXRoID0gbnVsbDsNCiAgICAgICAgaWYgKGxvZ2JhY2tVcmwgIT0gbnVsbCkgew0KICAgICAgICAgICAgaWYgKCJqYXIiLmVxdWFscyhsb2diYWNrVXJsLmdldFByb3RvY29sKCkpKSB7DQogICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBsb2diYWNrLnhtbCBmcm9tIEpBUiB0byBhIHRlbXBvcmFyeSBmaWxlDQogICAgICAgICAgICAgICAgdHJ5IChJbnB1dFN0cmVhbSBpbnB1dFN0cmVhbSA9IGxvZ2JhY2tVcmwub3BlblN0cmVhbSgpKSB7DQogICAgICAgICAgICAgICAgICAgIEZpbGUgdGVtcEZpbGUgPSBGaWxlLmNyZWF0ZVRlbXBGaWxlKCJsb2diYWNrLSIsICIueG1sIik7DQogICAgICAgICAgICAgICAgICAgIHRlbXBGaWxlLmRlbGV0ZU9uRXhpdCgpOw0KICAgICAgICAgICAgICAgICAgICBGaWxlcy5jb3B5KGlucHV0U3RyZWFtLCB0ZW1wRmlsZS50b1BhdGgoKSwgamF2YS5uaW8uZmlsZS5TdGFuZGFyZENvcHlPcHRpb24uUkVQTEFDRV9FWElTVElORyk7DQogICAgICAgICAgICAgICAgICAgIGxvZ2JhY2tQYXRoID0gdGVtcEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBSdW5uaW5nIGZyb20gZmlsZSBzeXN0ZW0gKGUuZy4sIGluIElERSkNCiAgICAgICAgICAgICAgICBsb2diYWNrUGF0aCA9IG5ldyBGaWxlKGxvZ2JhY2tVcmwudG9VUkkoKSkuZ2V0QWJzb2x1dGVQYXRoKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBMaXN0PFN0cmluZz4gY29tbWFuZCA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICBjb21tYW5kLmFkZChqYXZhQmluKTsNCiAgICAgICAgY29tbWFuZC5hZGQoIi0tYWRkLW9wZW5zIik7DQogICAgICAgIGNvbW1hbmQuYWRkKCJqYXZhLmJhc2UvamF2YS5sYW5nPUFMTC1VTk5BTUVEIik7DQogICAgICAgIGNvbW1hbmQuYWRkKCItY3AiKTsNCiAgICAgICAgY29tbWFuZC5hZGQoY2xhc3NwYXRoKTsNCiAgICAgICAgaWYgKGxvZ2JhY2tQYXRoICE9IG51bGwpIHsNCiAgICAgICAgICAgIGNvbW1hbmQuYWRkKCItRGxvZ2JhY2suY29uZmlndXJhdGlvbkZpbGU9IiArIGxvZ2JhY2tQYXRoKTsNCiAgICAgICAgfQ0KICAgICAgICBjb21tYW5kLmFkZCgiLURnYXRsaW5nLnRlc3RzLmZpbGU9IiArIHRlc3RzRmlsZVBhdGgpOw0KICAgICAgICBjb21tYW5kLmFkZCgiLURnYXRsaW5nLnBhcmFtcy5maWxlPSIgKyBwYXJhbXNGaWxlUGF0aCk7DQogICAgICAgIGNvbW1hbmQuYWRkKCItRGdhdGxpbmcucmVwb3J0LmZpbGU9IiArIHJlcG9ydEZpbGVQYXRoKTsNCiAgICAgICAgY29tbWFuZC5hZGQoZ2F0bGluZ01haW4pOw0KICAgICAgICBjb21tYW5kLmFkZCgiLXMiKTsNCiAgICAgICAgY29tbWFuZC5hZGQoc2ltdWxhdGlvbkNsYXNzKTsNCiAgICAgICAgY29tbWFuZC5hZGQoIi1yZiIpOw0KICAgICAgICBjb21tYW5kLmFkZChyZXN1bHRzUGF0aCk7DQogICAgICAgIHJldHVybiBjb21tYW5kOw0KICAgIH0NCg0KICAgIC8vIEFzeW5jIGJhdGNoIGV4ZWN1dGlvbiB3aXRoIGNvbXBsZXRpb24gY2FsbGJhY2sNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZXhlY3V0ZUJhdGNoKGphdmEudXRpbC5MaXN0PEdhdGxpbmdUZXN0PiB0ZXN0cywgR2F0bGluZ0xvYWRQYXJhbWV0ZXJzIHBhcmFtcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PEVuZHBvaW50PiBlbmRwb2ludHMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxTdHJpbmc+IG9yaWdpbnMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxTdHJpbmc+IG1vZGVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamF2YS5sYW5nLlJ1bm5hYmxlIG9uQ29tcGxldGUpIHsNCiAgICAgICAgbmV3IFRocmVhZCgoKSAtPiB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICh0ZXN0cyA9PSBudWxsIHx8IGVuZHBvaW50cyA9PSBudWxsIHx8IHRlc3RzLnNpemUoKSAhPSBlbmRwb2ludHMuc2l6ZSgpKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIlRlc3RzIGFuZCBFbmRwb2ludHMgbGlzdCBzaXplIG1pc21hdGNoIG9yIG51bGwiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKG9yaWdpbnMgIT0gbnVsbCAmJiBtb2RlcyAhPSBudWxsICYmIChvcmlnaW5zLnNpemUoKSAhPSB0ZXN0cy5zaXplKCkgfHwgbW9kZXMuc2l6ZSgpICE9IHRlc3RzLnNpemUoKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiT3JpZ2lucy9Nb2RlcyBsaXN0IHNpemUgbWlzbWF0Y2giKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyIG9iamVjdE1hcHBlciA9IG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCk7DQoNCiAgICAgICAgICAgICAgICAvLyBCdWlsZCBCYXRjaEl0ZW0gbGlzdCB3aXRoIGV4dHJhIG1ldGENCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxqYXZhLnV0aWwuTWFwPFN0cmluZywgT2JqZWN0Pj4gYmF0Y2hJdGVtcyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHRlc3RzLnNpemUoKTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBPYmplY3Q+IG1hcCA9IG5ldyBqYXZhLnV0aWwuSGFzaE1hcDw+KCk7DQogICAgICAgICAgICAgICAgICAgIG1hcC5wdXQoInRlc3QiLCB0ZXN0cy5nZXQoaSkpOw0KICAgICAgICAgICAgICAgICAgICBtYXAucHV0KCJlbmRwb2ludCIsIGVuZHBvaW50cy5nZXQoaSkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2lucyAhPSBudWxsICYmIG1vZGVzICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5wdXQoIm9yaWdpbiIsIG9yaWdpbnMuZ2V0KGkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5wdXQoIm1vZGUiLCBtb2Rlcy5nZXQoaSkpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBzZWxmLW9yaWdpbiBhbmQgTUFJTiBtb2RlIGlmIG5vdCBzcGVjaWZpZWQNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5wdXQoIm9yaWdpbiIsIHRlc3RzLmdldChpKS5nZXRUY2lkKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnB1dCgibW9kZSIsICJNQUlOIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYmF0Y2hJdGVtcy5hZGQobWFwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBqYXZhLmlvLkZpbGUgYmF0Y2hGaWxlID0gamF2YS5pby5GaWxlLmNyZWF0ZVRlbXBGaWxlKCJnYXRsaW5nX3Rlc3RzXyIsICIuanNvbiIpOw0KICAgICAgICAgICAgICAgIGJhdGNoRmlsZS5kZWxldGVPbkV4aXQoKTsNCiAgICAgICAgICAgICAgICB0cnkgKGphdmEuaW8uQnVmZmVyZWRXcml0ZXIgd3JpdGVyID0gbmV3IGphdmEuaW8uQnVmZmVyZWRXcml0ZXIobmV3IGphdmEuaW8uRmlsZVdyaXRlcihiYXRjaEZpbGUpKSkgew0KICAgICAgICAgICAgICAgICAgICB3cml0ZXIud3JpdGUob2JqZWN0TWFwcGVyLndyaXRlVmFsdWVBc1N0cmluZyhiYXRjaEl0ZW1zKSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgamF2YS5pby5GaWxlIHBhcmFtc0ZpbGUgPSBqYXZhLmlvLkZpbGUuY3JlYXRlVGVtcEZpbGUoImdhdGxpbmdfcGFyYW1zXyIsICIuanNvbiIpOw0KICAgICAgICAgICAgICAgIHBhcmFtc0ZpbGUuZGVsZXRlT25FeGl0KCk7DQogICAgICAgICAgICAgICAgdHJ5IChqYXZhLmlvLkJ1ZmZlcmVkV3JpdGVyIHdyaXRlciA9IG5ldyBqYXZhLmlvLkJ1ZmZlcmVkV3JpdGVyKG5ldyBqYXZhLmlvLkZpbGVXcml0ZXIocGFyYW1zRmlsZSkpKSB7DQogICAgICAgICAgICAgICAgICAgIHdyaXRlci53cml0ZShvYmplY3RNYXBwZXIud3JpdGVWYWx1ZUFzU3RyaW5nKHBhcmFtcykpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0ZW1wb3JhcnkgTkRKU09OIGZpbGUgZm9yIHJlcG9ydCBzdHJlYW1pbmcNCiAgICAgICAgICAgICAgICBqYXZhLmlvLkZpbGUgcmVwb3J0RmlsZSA9IGphdmEuaW8uRmlsZS5jcmVhdGVUZW1wRmlsZSgiZ2F0bGluZ19yZXBvcnRfIiwgIi5uZGpzb24iKTsNCiAgICAgICAgICAgICAgICByZXBvcnRGaWxlLmRlbGV0ZU9uRXhpdCgpOw0KDQogICAgICAgICAgICAgICAgTGlzdDxTdHJpbmc+IGNvbW1hbmQgPSBidWlsZEdhdGxpbmdDb21tYW5kKGJhdGNoRmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSwgcGFyYW1zRmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSwgcmVwb3J0RmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7DQoNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIj09PT09PT09PT0gR2F0bGluZyBUZXN0KHMpIEV4ZWN1dGlvbiAoQXN5bmMpID09PT09PT09PT0iKTsNCiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHRlc3RzLnNpemUoKTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihTdHJpbmcuZm9ybWF0KCIgICVkKSAlcyBbICVzICVzIF0iLCBpICsgMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0cy5nZXQoaSkuZ2V0VGNpZCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50cy5nZXQoaSkuZ2V0TWV0aG9kKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnRzLmdldChpKS5nZXRVcmwoKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlN0YXJ0aW5nIEdhdGxpbmcgdGVzdChzKSBpbiBiYWNrZ3JvdW5kIChzZXBhcmF0ZSBwcm9jZXNzKS4uLiIpOw0KDQogICAgICAgICAgICAgICAgamF2YS5sYW5nLlByb2Nlc3NCdWlsZGVyIHByb2Nlc3NCdWlsZGVyID0gbmV3IGphdmEubGFuZy5Qcm9jZXNzQnVpbGRlcihjb21tYW5kKTsNCiAgICAgICAgICAgICAgICBwcm9jZXNzQnVpbGRlci5yZWRpcmVjdEVycm9yU3RyZWFtKHRydWUpOw0KDQogICAgICAgICAgICAgICAgamF2YS5sYW5nLlByb2Nlc3MgcHJvY2VzcyA9IHByb2Nlc3NCdWlsZGVyLnN0YXJ0KCk7DQoNCiAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHRlc3RWYXJpYWJsZXMgPSBudWxsOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRyeSAoamF2YS5pby5CdWZmZXJlZFJlYWRlciByZWFkZXIgPSBuZXcgamF2YS5pby5CdWZmZXJlZFJlYWRlcihuZXcgamF2YS5pby5JbnB1dFN0cmVhbVJlYWRlcihwcm9jZXNzLmdldElucHV0U3RyZWFtKCkpKSkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgbGluZTsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChsaW5lID0gcmVhZGVyLnJlYWRMaW5lKCkpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihsaW5lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoVkFSSUFCTEVTX1BSRUZJWCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgdmFyaWFibGVzSnNvbiA9IGxpbmUuc3Vic3RyaW5nKFZBUklBQkxFU19QUkVGSVgubGVuZ3RoKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RWYXJpYWJsZXMgPSBvYmplY3RNYXBwZXIucmVhZFZhbHVlKHZhcmlhYmxlc0pzb24sIG5ldyBUeXBlUmVmZXJlbmNlPE1hcDxTdHJpbmcsIFN0cmluZz4+KCkge30pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlJlY2VpdmVkICIgKyB0ZXN0VmFyaWFibGVzLnNpemUoKSArICIgdGVzdCB2YXJpYWJsZXMgZnJvbSBleGVjdXRpb24iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkZhaWxlZCB0byBwYXJzZSB0ZXN0IHZhcmlhYmxlczogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpbnQgZXhpdENvZGUgPSBwcm9jZXNzLndhaXRGb3IoKTsNCg0KICAgICAgICAgICAgICAgIGlmIChleGl0Q29kZSA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiR2F0bGluZyB0ZXN0KHMpIGV4ZWN1dGlvbiBjb21wbGV0ZWQuIik7DQogICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgTkRKU09OIHJlcG9ydCBmaWxlIGdlbmVyYXRlZCBieSBTaW11bGF0aW9uDQogICAgICAgICAgICAgICAgICAgIHByb2Nlc3NBbmRTYXZlUmVwb3J0c0Zyb21GaWxlKHJlcG9ydEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCksIHRlc3RzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RWYXJpYWJsZXMgIT0gbnVsbCAmJiAhdGVzdFZhcmlhYmxlcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvYWQgdGVzdCB2YXJpYWJsZXMgaW50byBUZXN0UnVuQ29udGV4dCBmb3Igc3Vic2VxdWVudCB1c2UNCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3RSdW5Db250ZXh0LmNsZWFyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKE1hcC5FbnRyeTxTdHJpbmcsIFN0cmluZz4gZW50cnkgOiB0ZXN0VmFyaWFibGVzLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmdbXSBwYXJ0cyA9IGVudHJ5LmdldEtleSgpLnNwbGl0KCJcXC4iLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVzdFJ1bkNvbnRleHQuc2F2ZVZhcmlhYmxlKHBhcnRzWzBdLCBwYXJ0c1sxXSwgZW50cnkuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJHYXRsaW5nIHRlc3QocykgZXhlY3V0aW9uIGZhaWxlZCwgZXhpdCBjb2RlOiAiICsgZXhpdENvZGUpOw0KICAgICAgICAgICAgICAgICAgICBjb20ucWEuYXBwLnVpLnZtLk1haW5WaWV3TW9kZWwuc2hvd0dsb2JhbFN0YXR1cygiVGVzdChzKSBGYWlsZWQsIGV4aXQgY29kZTogIiArIGV4aXRDb2RlLCBjb20ucWEuYXBwLnVpLnZtLk1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIHN0YXJ0IEdhdGxpbmcgdGVzdChzKSBwcm9jZXNzOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgICAgICAgICAgY29tLnFhLmFwcC51aS52bS5NYWluVmlld01vZGVsLnNob3dHbG9iYWxTdGF0dXMoIkdhdGxpbmcgVGVzdChzKSBFeGNlcHRpb246ICIgKyBlLmdldE1lc3NhZ2UoKSwgY29tLnFhLmFwcC51aS52bS5NYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgICAgICBpZiAob25Db21wbGV0ZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm0uaXNGeEFwcGxpY2F0aW9uVGhyZWFkKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUucnVuKCk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm0ucnVuTGF0ZXIob25Db21wbGV0ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sICJ0ZXN0LXJ1bm5lciIpLnN0YXJ0KCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBwcm9jZXNzQW5kU2F2ZVJlcG9ydHMoU3RyaW5nIGpzb25Db250ZW50LCBMaXN0PEdhdGxpbmdUZXN0PiBleGVjdXRlZFRlc3RzKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBPYmplY3RNYXBwZXIgbWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpOw0KICAgICAgICAgICAgbWFwcGVyLmVuYWJsZShTZXJpYWxpemF0aW9uRmVhdHVyZS5JTkRFTlRfT1VUUFVUKTsNCg0KICAgICAgICAgICAgVHlwZVJlZmVyZW5jZTxMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+PiB0eXBlUmVmID0gbmV3IFR5cGVSZWZlcmVuY2U8PigpIHt9Ow0KICAgICAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiByZXBvcnRJdGVtcyA9IG1hcHBlci5yZWFkVmFsdWUoanNvbkNvbnRlbnQsIHR5cGVSZWYpOw0KDQogICAgICAgICAgICAvLyBHcm91cCByZXBvcnRzIGJ5IG9yaWdpbiBUQ0lEDQogICAgICAgICAgICBNYXA8U3RyaW5nLCBMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+PiBncm91cGVkQnlPcmlnaW4gPSByZXBvcnRJdGVtcy5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgICAgICAuY29sbGVjdChDb2xsZWN0b3JzLmdyb3VwaW5nQnkoaXRlbSAtPiAoU3RyaW5nKSBpdGVtLmdldCgib3JpZ2luIikpKTsNCg0KICAgICAgICAgICAgSUdhdGxpbmdUZXN0RGFvIHRlc3REYW8gPSBuZXcgR2F0bGluZ1Rlc3REYW9JbXBsKCk7DQoNCiAgICAgICAgICAgIC8vIFVzZSBMaW5rZWRIYXNoTWFwIHRvIG1haW50YWluIGV4ZWN1dGlvbiBvcmRlcg0KICAgICAgICAgICAgTWFwPFN0cmluZywgRnVuY3Rpb25hbFRlc3RSZXBvcnQ+IHJlcG9ydE1hcCA9IG5ldyBMaW5rZWRIYXNoTWFwPD4oKTsNCg0KICAgICAgICAgICAgLy8gTm93IHByb2Nlc3MgdGhlIGdyb3VwZWQgcmVzdWx0cw0KICAgICAgICAgICAgZm9yIChNYXAuRW50cnk8U3RyaW5nLCBMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+PiBlbnRyeSA6IGdyb3VwZWRCeU9yaWdpbi5lbnRyeVNldCgpKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIG9yaWdpblRjaWQgPSBlbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+IGl0ZW1zRm9yT3JpZ2luID0gZW50cnkuZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIFRDSUQgaXMgbm90IGluIG91ciByZXBvcnQgbWFwcGluZyAocG9zc2libHkgYSBkZXBlbmRlbmN5KSwgYWRkIGl0DQogICAgICAgICAgICAgICAgaWYgKCFyZXBvcnRNYXAuY29udGFpbnNLZXkob3JpZ2luVGNpZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb25hbFRlc3RSZXBvcnQgcmVwb3J0ID0gbmV3IEZ1bmN0aW9uYWxUZXN0UmVwb3J0KCk7DQogICAgICAgICAgICAgICAgICAgIHJlcG9ydC5zZXRPcmlnaW5UY2lkKG9yaWdpblRjaWQpOw0KICAgICAgICAgICAgICAgICAgICByZXBvcnQuc2V0RXhlY3V0ZWRBdChab25lZERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5JU09fT0ZGU0VUX0RBVEVfVElNRSkpOw0KICAgICAgICAgICAgICAgICAgICByZXBvcnRNYXAucHV0KG9yaWdpblRjaWQsIHJlcG9ydCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIEZ1bmN0aW9uYWxUZXN0UmVwb3J0IGZpbmFsUmVwb3J0ID0gcmVwb3J0TWFwLmdldChvcmlnaW5UY2lkKTsNCg0KICAgICAgICAgICAgICAgIC8vIEdyb3VwIGJ5IG1vZGUgZGlyZWN0bHkgYmFzZWQgb24gZWFjaCBlbnRyeSB0byBhY2N1cmF0ZWx5IHNlcGFyYXRlIFNFVFVQIC8gTUFJTiAvIFRFQVJET1dODQogICAgICAgICAgICAgICAgTWFwPFRlc3RNb2RlLCBMaXN0PENhc2VSZXBvcnQ+PiBjYXNlc0J5TW9kZSA9IG5ldyBqYXZhLnV0aWwuRW51bU1hcDw+KFRlc3RNb2RlLmNsYXNzKTsNCiAgICAgICAgICAgICAgICBmb3IgKE1hcDxTdHJpbmcsIE9iamVjdD4gaXRlbU1hcCA6IGl0ZW1zRm9yT3JpZ2luKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBtb2RlU3RyID0gKFN0cmluZykgaXRlbU1hcC5nZXRPckRlZmF1bHQoIm1vZGUiLCAiTUFJTiIpOw0KICAgICAgICAgICAgICAgICAgICBUZXN0TW9kZSBtb2RlOw0KICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IFRlc3RNb2RlLnZhbHVlT2YobW9kZVN0cik7DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJlYXQgdW5rbm93biBtb2RlcyBhcyBNQUlODQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gVGVzdE1vZGUuTUFJTjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBDYXNlUmVwb3J0IGNyID0gbWFwcGVyLmNvbnZlcnRWYWx1ZShpdGVtTWFwLmdldCgicmVwb3J0IiksIENhc2VSZXBvcnQuY2xhc3MpOw0KICAgICAgICAgICAgICAgICAgICBjYXNlc0J5TW9kZS5jb21wdXRlSWZBYnNlbnQobW9kZSwgayAtPiBuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCkpLmFkZChjcik7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgTGlzdDxNb2RlR3JvdXA+IG1vZGVHcm91cHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICAvLyBEZWZpbmUgZGlzcGxheSBvcmRlciBpbmNsdWRpbmcgbmV3IG1vZGVzDQogICAgICAgICAgICAgICAgTGlzdDxUZXN0TW9kZT4gZGlzcGxheU9yZGVyID0gamF2YS51dGlsLkFycmF5cy5hc0xpc3QoDQogICAgICAgICAgICAgICAgICAgICAgICBUZXN0TW9kZS5TRVRVUCwNCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3RNb2RlLkRJRkZfUFJFLA0KICAgICAgICAgICAgICAgICAgICAgICAgVGVzdE1vZGUuUFJFX0NIRUNLLA0KICAgICAgICAgICAgICAgICAgICAgICAgVGVzdE1vZGUuTUFJTiwNCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3RNb2RlLlBTVF9DSEVDSywNCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3RNb2RlLkRJRkZfUFNULA0KICAgICAgICAgICAgICAgICAgICAgICAgVGVzdE1vZGUuVEVBUkRPV04NCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIGRpc3BsYXlPcmRlci5mb3JFYWNoKG1vZGUgLT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoY2FzZXNCeU1vZGUuY29udGFpbnNLZXkobW9kZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVHcm91cCBncm91cCA9IG5ldyBNb2RlR3JvdXAoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLnNldE1vZGUobW9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBncm91cC5zZXRDYXNlcyhjYXNlc0J5TW9kZS5nZXQobW9kZSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZUdyb3Vwcy5hZGQoZ3JvdXApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICBmaW5hbFJlcG9ydC5zZXRHcm91cHMobW9kZUdyb3Vwcyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBwYXNzZWQgc3RhdHVzIG9mIHRoZSByZXBvcnQNCiAgICAgICAgICAgICAgICBib29sZWFuIGFsbFBhc3NlZCA9IG1vZGVHcm91cHMuc3RyZWFtKCkuYWxsTWF0Y2goZyAtPiBnLmdldENhc2VzKCkuc3RyZWFtKCkuYWxsTWF0Y2goQ2FzZVJlcG9ydDo6aXNQYXNzZWQpKTsNCiAgICAgICAgICAgICAgICBmaW5hbFJlcG9ydC5zZXRQYXNzZWQoYWxsUGFzc2VkKTsNCg0KICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0ZXN0IHN0YXR1cw0KICAgICAgICAgICAgICAgIGZvciAoR2F0bGluZ1Rlc3QgdGVzdCA6IGV4ZWN1dGVkVGVzdHMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QuZ2V0VGNpZCgpLmVxdWFscyhvcmlnaW5UY2lkKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0LnNldExhc3RSdW5QYXNzZWQoYWxsUGFzc2VkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0RGFvLnVwZGF0ZVRlc3QodGVzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIHVwZGF0ZSB0ZXN0IHN0YXR1cyBmb3IgIiArIHRlc3QuZ2V0VGNpZCgpICsgIjogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGxpc3QsIG1haW50YWluIG9yZGVyDQogICAgICAgICAgICBMaXN0PEZ1bmN0aW9uYWxUZXN0UmVwb3J0PiBhZ2dyZWdhdGVkUmVwb3J0cyA9IG5ldyBBcnJheUxpc3Q8PihyZXBvcnRNYXAudmFsdWVzKCkpOw0KDQogICAgICAgICAgICAvLyBHZW5lcmF0ZSBhbiBhZ2dyZWdhdGVkIHJlcG9ydA0KICAgICAgICAgICAgaWYgKCFhZ2dyZWdhdGVkUmVwb3J0cy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmcgYmF0Y2hUaW1lc3RhbXAgPSBuZXcgU2ltcGxlRGF0ZUZvcm1hdCgieXl5eU1NZGRISG1tc3MiKS5mb3JtYXQobmV3IERhdGUoKSk7DQogICAgICAgICAgICAgICAgU3RyaW5nIGJhdGNoRmlsZU5hbWUgPSBTdHJpbmcuZm9ybWF0KCJmdW5jdGlvbmFsX3JlcG9ydF8lcy5qc29uIiwgYmF0Y2hUaW1lc3RhbXApOw0KICAgICAgICAgICAgICAgIFBhdGggcmVwb3J0RGlyID0gUGF0aHMuZ2V0KFN5c3RlbS5nZXRQcm9wZXJ0eSgidXNlci5kaXIiKSwgInRhcmdldCIsICJnYXRsaW5nIiwgInJlcG9ydHMiKTsNCiAgICAgICAgICAgICAgICBGaWxlcy5jcmVhdGVEaXJlY3RvcmllcyhyZXBvcnREaXIpOw0KICAgICAgICAgICAgICAgIFBhdGggYmF0Y2hSZXBvcnRQYXRoID0gcmVwb3J0RGlyLnJlc29sdmUoYmF0Y2hGaWxlTmFtZSk7DQoNCiAgICAgICAgICAgICAgICB0cnkgKFdyaXRlciB3cml0ZXIgPSBuZXcgQnVmZmVyZWRXcml0ZXIobmV3IEZpbGVXcml0ZXIoYmF0Y2hSZXBvcnRQYXRoLnRvRmlsZSgpKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgbWFwcGVyLndyaXRlVmFsdWUod3JpdGVyLCBhZ2dyZWdhdGVkUmVwb3J0cyk7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiQWdncmVnYXRlZCByZXBvcnQgc2F2ZWQgdG86ICIgKyBiYXRjaFJlcG9ydFBhdGgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZWFjaCB0ZXN0LCBzZXQgdGhlIHJlcG9ydCBwYXRoIHRvIHRoZSBhZ2dyZWdhdGVkIHJlcG9ydA0KICAgICAgICAgICAgICAgIGZvciAoRnVuY3Rpb25hbFRlc3RSZXBvcnQgcmVwb3J0IDogYWdncmVnYXRlZFJlcG9ydHMpIHsNCiAgICAgICAgICAgICAgICAgICAgZmluYWwgU3RyaW5nIG9yaWdpblRjaWQgPSByZXBvcnQuZ2V0T3JpZ2luVGNpZCgpOw0KICAgICAgICAgICAgICAgICAgICBleGVjdXRlZFRlc3RzLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih0IC0+IHQuZ2V0VGNpZCgpLmVxdWFscyhvcmlnaW5UY2lkKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZEZpcnN0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaWZQcmVzZW50KHRlc3RUb1VwZGF0ZSAtPiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0VG9VcGRhdGUuc2V0UmVwb3J0UGF0aChiYXRjaFJlcG9ydFBhdGgudG9TdHJpbmcoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0RGFvLnVwZGF0ZVRlc3QodGVzdFRvVXBkYXRlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIHVwZGF0ZSByZXBvcnQgcGF0aCBmb3IgdGVzdCAiICsgb3JpZ2luVGNpZCArICI6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIHByb2Nlc3MgcmVwb3J0czogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBOZXcgaGVscGVyOiByZWFkIE5ESlNPTiByZXBvcnQgZmlsZSBhbmQgcmV1c2UgZXhpc3RpbmcgYWdncmVnYXRpb24gbG9naWMNCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHByb2Nlc3NBbmRTYXZlUmVwb3J0c0Zyb21GaWxlKFN0cmluZyByZXBvcnRGaWxlUGF0aCwgTGlzdDxHYXRsaW5nVGVzdD4gZXhlY3V0ZWRUZXN0cykgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8U3RyaW5nPiBsaW5lcyA9IGphdmEubmlvLmZpbGUuRmlsZXMucmVhZEFsbExpbmVzKGphdmEubmlvLmZpbGUuUGF0aHMuZ2V0KHJlcG9ydEZpbGVQYXRoKSk7DQogICAgICAgICAgICBpZiAobGluZXMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJSZXBvcnQgZmlsZSBpcyBlbXB0eTogIiArIHJlcG9ydEZpbGVQYXRoKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBDb25jYXRlbmF0ZSBsaW5lcyBpbnRvIEpTT04gYXJyYXkgZm9yIHJldXNlIG9mIGV4aXN0aW5nIGxvZ2ljDQogICAgICAgICAgICBTdHJpbmcgam9pbmVkID0gIlsiICsgU3RyaW5nLmpvaW4oIiwiLCBsaW5lcykgKyAiXSI7DQogICAgICAgICAgICBwcm9jZXNzQW5kU2F2ZVJlcG9ydHMoam9pbmVkLCBleGVjdXRlZFRlc3RzKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIHJlYWQvcHJvY2VzcyByZXBvcnQgZmlsZTogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgIH0NCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/service/runner/GatlingTestSimulation.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyOw0KDQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmNvcmUudHlwZS5UeXBlUmVmZXJlbmNlOw0KaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5FbmRwb2ludDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdMb2FkUGFyYW1ldGVyczsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdUZXN0Ow0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuUmVzcG9uc2VDaGVjazsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkNoZWNrVHlwZTsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkRiQ29ubmVjdGlvbjsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHMuKjsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy4qOw0KaW1wb3J0IGlvLmdhdGxpbmcuamF2YWFwaS5jb3JlLio7DQppbXBvcnQgaW8uZ2F0bGluZy5qYXZhYXBpLmh0dHAuSHR0cFByb3RvY29sQnVpbGRlcjsNCmltcG9ydCBpby5nYXRsaW5nLmphdmFhcGkuaHR0cC5IdHRwUmVxdWVzdEFjdGlvbkJ1aWxkZXI7DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5HYXRsaW5nVGVzdERhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5kYW8uaW1wbC5FbmRwb2ludERhb0ltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmltcGwuQm9keVRlbXBsYXRlU2VydmljZUltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmltcGwuSGVhZGVyc1RlbXBsYXRlU2VydmljZUltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5Cb2R5VGVtcGxhdGU7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5IZWFkZXJzVGVtcGxhdGU7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JRGJDb25uZWN0aW9uU2VydmljZTsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC5EYkNvbm5lY3Rpb25TZXJ2aWNlSW1wbDsNCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuT3BlcmF0b3JVdGlsOw0KDQppbXBvcnQgamF2YXguc3FsLkRhdGFTb3VyY2U7DQppbXBvcnQgamF2YS5pby5GaWxlOw0KaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247DQppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDsNCmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7DQppbXBvcnQgamF2YS50aW1lLkR1cmF0aW9uOw0KaW1wb3J0IGphdmEudXRpbC4qOw0KaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNoTWFwOw0KaW1wb3J0IGphdmEudXRpbC5zdHJlYW0uQ29sbGVjdG9yczsNCg0KaW1wb3J0IHN0YXRpYyBpby5nYXRsaW5nLmphdmFhcGkuY29yZS5Db3JlRHNsLio7DQppbXBvcnQgc3RhdGljIGlvLmdhdGxpbmcuamF2YWFwaS5odHRwLkh0dHBEc2wuKjsNCg0KDQpwdWJsaWMgY2xhc3MgR2F0bGluZ1Rlc3RTaW11bGF0aW9uIGV4dGVuZHMgU2ltdWxhdGlvbiB7DQoNCiAgICAvLyBTdGF0aWMgaG9sZGVyIGZvciByZXN1bHRzLCBhY2Nlc3NpYmxlIGZyb20gd2l0aGluIHRoZSBzYW1lIEpWTQ0KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgTWFwPFN0cmluZywgTGlzdDxSZXNwb25zZUNoZWNrPj4gbGFzdFJ1blJlc3VsdHMgPSBuZXcgQ29uY3VycmVudEhhc2hNYXA8PigpOw0KDQogICAgcHJpdmF0ZSBmaW5hbCBHYXRsaW5nTG9hZFBhcmFtZXRlcnMgcGFyYW1zOw0KICAgIHByaXZhdGUgZmluYWwgTGlzdDxCYXRjaEl0ZW0+IGJhdGNoSXRlbXM7DQogICAgcHJpdmF0ZSBmaW5hbCBib29sZWFuIGlzQmF0Y2hNb2RlOw0KICAgIHByaXZhdGUgZmluYWwgTWFwPFN0cmluZywgQ2FzZVJlcG9ydD4gY2FzZVJlcG9ydHMgPSBuZXcgQ29uY3VycmVudEhhc2hNYXA8PigpOw0KICAgIHByaXZhdGUgZmluYWwgSURiQ29ubmVjdGlvblNlcnZpY2UgZGJDb25uZWN0aW9uU2VydmljZSA9IG5ldyBEYkNvbm5lY3Rpb25TZXJ2aWNlSW1wbCgpOw0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBWQVJJQUJMRVNfUFJFRklYID0gIlRFU1RfVkFSSUFCTEVTOiI7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIENIRUNLX1JFUE9SVFNfS0VZID0gImNoZWNrUmVwb3J0cyI7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTGlzdDxTdHJpbmc+IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSA9IGphdmEudXRpbC5BcnJheXMuYXNMaXN0KA0KICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSIsDQogICAgICAgICAgICAiU2V0LUNvb2tpZSIsDQogICAgICAgICAgICAiTG9jYXRpb24iLA0KICAgICAgICAgICAgIkNvbnRlbnQtTGVuZ3RoIiwNCiAgICAgICAgICAgICJTZXJ2ZXIiDQogICAgKTsNCg0KDQogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgQmF0Y2hJdGVtIHsNCiAgICAgICAgcHVibGljIEdhdGxpbmdUZXN0IHRlc3Q7DQogICAgICAgIHB1YmxpYyBFbmRwb2ludCBlbmRwb2ludDsNCiAgICAgICAgLy8gT3B0aW9uYWwgZGVwZW5kZW5jeSBtZXRhZGF0YQ0KICAgICAgICBwdWJsaWMgU3RyaW5nIG9yaWdpbjsgLy8gTWFpbiB0ZXN0IFRDSUQNCiAgICAgICAgcHVibGljIFN0cmluZyBtb2RlOyAgIC8vIFNFVFVQIHwgTUFJTiB8IFRFQVJET1dODQoNCiAgICAgICAgcHVibGljIFRlc3RNb2RlIGdldFRlc3RNb2RlKCkgew0KICAgICAgICAgICAgaWYgKG1vZGUgPT0gbnVsbCB8fCBtb2RlLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBUZXN0TW9kZS5NQUlOOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gVGVzdE1vZGUudmFsdWVPZihtb2RlLnRvVXBwZXJDYXNlKCkpOw0KICAgICAgICAgICAgfSBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gVGVzdE1vZGUuTUFJTjsgLy8gRmFsbGJhY2sgdG8gTUFJTiBmb3IgdW5rbm93bg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgew0KICAgICAgICAvLyBDbGVhciByZXN1bHRzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBzaW11bGF0aW9uIHJ1bi4NCiAgICAgICAgbGFzdFJ1blJlc3VsdHMuY2xlYXIoKTsNCiAgICAgICAgDQogICAgICAgIC8vIENsZWFyIHRlc3QgcnVuIGNvbnRleHQNCiAgICAgICAgVGVzdFJ1bkNvbnRleHQuY2xlYXIoKTsNCiAgICAgICAgDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBPYmplY3RNYXBwZXIgb2JqZWN0TWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpOw0KICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSBvYmplY3RNYXBwZXIucmVhZFZhbHVlKG5ldyBGaWxlKFN5c3RlbS5nZXRQcm9wZXJ0eSgiZ2F0bGluZy5wYXJhbXMuZmlsZSIpKSwgR2F0bGluZ0xvYWRQYXJhbWV0ZXJzLmNsYXNzKTsNCg0KICAgICAgICAgICAgU3RyaW5nIGJhdGNoRmlsZVBhdGggPSBTeXN0ZW0uZ2V0UHJvcGVydHkoImdhdGxpbmcudGVzdHMuZmlsZSIpOw0KICAgICAgICAgICAgaWYgKGJhdGNoRmlsZVBhdGggIT0gbnVsbCAmJiAhYmF0Y2hGaWxlUGF0aC5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAvLyBCYXRjaCBtb2RlDQogICAgICAgICAgICAgICAgdGhpcy5iYXRjaEl0ZW1zID0gb2JqZWN0TWFwcGVyLnJlYWRWYWx1ZShuZXcgRmlsZShiYXRjaEZpbGVQYXRoKSwgbmV3IFR5cGVSZWZlcmVuY2U8TGlzdDxCYXRjaEl0ZW0+Pigpe30pOw0KICAgICAgICAgICAgICAgIHRoaXMuaXNCYXRjaE1vZGUgPSB0cnVlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBTaW5nbGUgdGVzdCBtb2RlIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5KQ0KICAgICAgICAgICAgICAgIEJhdGNoSXRlbSBpdGVtID0gbmV3IEJhdGNoSXRlbSgpOw0KICAgICAgICAgICAgICAgIGl0ZW0udGVzdCA9IG9iamVjdE1hcHBlci5yZWFkVmFsdWUobmV3IEZpbGUoU3lzdGVtLmdldFByb3BlcnR5KCJnYXRsaW5nLnRlc3QuZmlsZSIpKSwgR2F0bGluZ1Rlc3QuY2xhc3MpOw0KICAgICAgICAgICAgICAgIGl0ZW0uZW5kcG9pbnQgPSBvYmplY3RNYXBwZXIucmVhZFZhbHVlKG5ldyBGaWxlKFN5c3RlbS5nZXRQcm9wZXJ0eSgiZ2F0bGluZy5lbmRwb2ludC5maWxlIikpLCBFbmRwb2ludC5jbGFzcyk7DQogICAgICAgICAgICAgICAgdGhpcy5iYXRjaEl0ZW1zID0gamF2YS51dGlsLkNvbGxlY3Rpb25zLnNpbmdsZXRvbkxpc3QoaXRlbSk7DQogICAgICAgICAgICAgICAgdGhpcy5pc0JhdGNoTW9kZSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiRmFpbGVkIHRvIGRlc2VyaWFsaXplIHNpbXVsYXRpb24gcGFyYW1ldGVycyBmcm9tIGZpbGUiLCBlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIEh0dHBQcm90b2NvbEJ1aWxkZXIgaHR0cFByb3RvY29sID0gY3JlYXRlSHR0cFByb3RvY29sKGJhdGNoSXRlbXMuZ2V0KDApLmVuZHBvaW50KTsNCiAgICAgICAgU2NlbmFyaW9CdWlsZGVyIHNjbiA9IGNyZWF0ZVNjZW5hcmlvKCk7DQoNCiAgICAgICAgaWYgKCFpc0JhdGNoTW9kZSkgew0KICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEeW5hbWljSmF2YVNpbXVsYXRpb246IFNpbmdsZSB0ZXN0IG1vZGUgZm9yIFRDSUQ6ICIgKyBiYXRjaEl0ZW1zLmdldCgwKS50ZXN0LmdldFRjaWQoKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkR5bmFtaWNKYXZhU2ltdWxhdGlvbjogQmF0Y2ggbW9kZSB3aXRoICIgKyBiYXRjaEl0ZW1zLnNpemUoKSArICIgdGVzdChzKSIpOw0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBiYXRjaEl0ZW1zLnNpemUoKTsgaSsrKSB7DQogICAgICAgICAgICAgICAgQmF0Y2hJdGVtIGJpID0gYmF0Y2hJdGVtcy5nZXQoaSk7DQogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFN0cmluZy5mb3JtYXQoIiAgJWQpICVzIFsgJXMgJXMgXSIsIGkgKyAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgYmkudGVzdC5nZXRUY2lkKCksDQogICAgICAgICAgICAgICAgICAgICAgICBiaS5lbmRwb2ludC5nZXRNZXRob2QoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJpLmVuZHBvaW50LmdldFVybCgpKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBQb3B1bGF0aW9uQnVpbGRlciBwb3B1bGF0aW9uQnVpbGRlciA9IGJ1aWxkSW5qZWN0aW9uUHJvZmlsZShzY24pOw0KICAgICAgICBTZXRVcCBzZXR1cCA9IHNldFVwKHBvcHVsYXRpb25CdWlsZGVyKS5wcm90b2NvbHMoaHR0cFByb3RvY29sKTsNCg0KICAgICAgICBpZiAocGFyYW1zLmdldFR5cGUoKSA9PSBUaHJlYWRHcm91cFR5cGUuU1RBTkRBUkQgJiYgcGFyYW1zLmdldFN0YW5kYXJkVGhyZWFkR3JvdXAoKS5pc1NjaGVkdWxlcigpKSB7DQogICAgICAgICAgICBTdGFuZGFyZFRocmVhZEdyb3VwIHN0YW5kYXJkQ29uZmlnID0gcGFyYW1zLmdldFN0YW5kYXJkVGhyZWFkR3JvdXAoKTsNCiAgICAgICAgICAgIHNldHVwLm1heER1cmF0aW9uKER1cmF0aW9uLm9mU2Vjb25kcyhzdGFuZGFyZENvbmZpZy5nZXREdXJhdGlvbigpICsgc3RhbmRhcmRDb25maWcuZ2V0RGVsYXkoKSkpOw0KICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5nZXRUeXBlKCkgPT0gVGhyZWFkR3JvdXBUeXBlLlNURVBQSU5HKSB7DQogICAgICAgICAgICBTdGVwcGluZ1RocmVhZEdyb3VwIHN0ZXBwaW5nQ29uZmlnID0gcGFyYW1zLmdldFN0ZXBwaW5nVGhyZWFkR3JvdXAoKTsNCg0KICAgICAgICAgICAgLy8gQmFzZWQgb24gSk1ldGVyIFN0ZXBwaW5nIFRHIHNlbWFudGljczogaW5pdGlhbERlbGF5ICsgdG90YWwgcmFtcFVwIGR1cmF0aW9uICsgaG9sZExvYWQNCiAgICAgICAgICAgIGxvbmcgdG90YWxSYW1wVXAgPSAwOw0KDQogICAgICAgICAgICAvLyBJbml0aWFsIHVzZXIgcmFtcCB0aW1lIChvbmx5IGNvdW50ZWQgaWYgc3RhcnRVc2VycyA+IDApDQogICAgICAgICAgICBpZiAoc3RlcHBpbmdDb25maWcuZ2V0U3RhcnRVc2VycygpID4gMCkgew0KICAgICAgICAgICAgICAgIHRvdGFsUmFtcFVwICs9IHN0ZXBwaW5nQ29uZmlnLmdldEluY3JlbWVudFRpbWUoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2Ygc3Vic2VxdWVudCBpbmNyZW1lbnQgYmF0Y2hlcw0KICAgICAgICAgICAgaW50IHJlbWFpbmluZ1VzZXJzID0gc3RlcHBpbmdDb25maWcuZ2V0TnVtVGhyZWFkcygpIC0gc3RlcHBpbmdDb25maWcuZ2V0U3RhcnRVc2VycygpOw0KICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1VzZXJzID4gMCAmJiBzdGVwcGluZ0NvbmZpZy5nZXRJbmNyZW1lbnRVc2VycygpID4gMCkgew0KICAgICAgICAgICAgICAgIGludCBudW1iZXJPZlN0ZXBzID0gKGludCkgTWF0aC5jZWlsKChkb3VibGUpIHJlbWFpbmluZ1VzZXJzIC8gc3RlcHBpbmdDb25maWcuZ2V0SW5jcmVtZW50VXNlcnMoKSk7DQogICAgICAgICAgICAgICAgdG90YWxSYW1wVXAgKz0gKGxvbmcpIG51bWJlck9mU3RlcHMgKiBzdGVwcGluZ0NvbmZpZy5nZXRJbmNyZW1lbnRUaW1lKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxvbmcgdG90YWxEdXJhdGlvbiA9IChsb25nKSBzdGVwcGluZ0NvbmZpZy5nZXRJbml0aWFsRGVsYXkoKSArIHRvdGFsUmFtcFVwICsgc3RlcHBpbmdDb25maWcuZ2V0SG9sZExvYWQoKTsNCg0KICAgICAgICAgICAgc2V0dXAubWF4RHVyYXRpb24oRHVyYXRpb24ub2ZTZWNvbmRzKHRvdGFsRHVyYXRpb24pKTsNCiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZ2V0VHlwZSgpID09IFRocmVhZEdyb3VwVHlwZS5VTFRJTUFURSkgew0KICAgICAgICAgICAgbG9uZyBtYXhEdXJhdGlvbiA9IDA7DQogICAgICAgICAgICBmb3IgKFVsdGltYXRlVGhyZWFkR3JvdXBTdGVwIHN0ZXAgOiBwYXJhbXMuZ2V0VWx0aW1hdGVUaHJlYWRHcm91cCgpLmdldFN0ZXBzKCkpIHsNCiAgICAgICAgICAgICAgICBsb25nIHN0ZXBFbmRUaW1lID0gKGxvbmcpIHN0ZXAuZ2V0U3RhcnRUaW1lKCkgKyBzdGVwLmdldFN0YXJ0dXBUaW1lKCkgKyBzdGVwLmdldEhvbGRUaW1lKCkgKyBzdGVwLmdldFNodXRkb3duVGltZSgpOw0KICAgICAgICAgICAgICAgIGlmIChzdGVwRW5kVGltZSA+IG1heER1cmF0aW9uKSB7DQogICAgICAgICAgICAgICAgICAgIG1heER1cmF0aW9uID0gc3RlcEVuZFRpbWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0dXAubWF4RHVyYXRpb24oRHVyYXRpb24ub2ZTZWNvbmRzKG1heER1cmF0aW9uKSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBObyBpbmxpbmUgYWZ0ZXIgaG9vayBoZXJlOyBzZWUgb3ZlcnJpZGRlbiBhZnRlcigpIG1ldGhvZCBhdCBjbGFzcyBib3R0b20uDQogICAgfQ0KDQogICAgcHJpdmF0ZSBQb3B1bGF0aW9uQnVpbGRlciBidWlsZEluamVjdGlvblByb2ZpbGUoU2NlbmFyaW9CdWlsZGVyIHNjbikgew0KICAgICAgICBzd2l0Y2ggKHBhcmFtcy5nZXRUeXBlKCkpIHsNCiAgICAgICAgICAgIGNhc2UgU1RFUFBJTkc6DQogICAgICAgICAgICAgICAgU3RlcHBpbmdUaHJlYWRHcm91cCBzdGVwcGluZ0NvbmZpZyA9IHBhcmFtcy5nZXRTdGVwcGluZ1RocmVhZEdyb3VwKCk7DQogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCItIExvYWQgUHJvZmlsZTogU1RFUFBJTkciKTsNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiAgLSBUb3RhbCBUaHJlYWRzOiAiICsgc3RlcHBpbmdDb25maWcuZ2V0TnVtVGhyZWFkcygpKTsNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiAgLSBJbml0aWFsIERlbGF5OiAiICsgc3RlcHBpbmdDb25maWcuZ2V0SW5pdGlhbERlbGF5KCkgKyAicyIpOw0KICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiICAtIEluaXRpYWwgVXNlcnM6ICIgKyBzdGVwcGluZ0NvbmZpZy5nZXRTdGFydFVzZXJzKCkpOw0KICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiICAtIEluY3JlbWVudCBVc2VyczogIiArIHN0ZXBwaW5nQ29uZmlnLmdldEluY3JlbWVudFVzZXJzKCkpOw0KICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiICAtIEluY3JlbWVudCBJbnRlcnZhbDogIiArIHN0ZXBwaW5nQ29uZmlnLmdldEluY3JlbWVudFRpbWUoKSArICJzIik7DQogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCIgIC0gSG9sZCBMb2FkIEZvcjogIiArIHN0ZXBwaW5nQ29uZmlnLmdldEhvbGRMb2FkKCkgKyAicyIpOw0KDQogICAgICAgICAgICAgICAgTGlzdDxPcGVuSW5qZWN0aW9uU3RlcD4gc3RlcHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCg0KICAgICAgICAgICAgICAgIC8vIDEuIEluaXRpYWwgZGVsYXkNCiAgICAgICAgICAgICAgICBpZiAoc3RlcHBpbmdDb25maWcuZ2V0SW5pdGlhbERlbGF5KCkgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHN0ZXBzLmFkZChub3RoaW5nRm9yKER1cmF0aW9uLm9mU2Vjb25kcyhzdGVwcGluZ0NvbmZpZy5nZXRJbml0aWFsRGVsYXkoKSkpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyAyLiBSYW1wLXVwIGluaXRpYWwgdXNlcnMNCiAgICAgICAgICAgICAgICBpbnQgcmFtcER1cmF0aW9uU2VjID0gTWF0aC5tYXgoMSwgc3RlcHBpbmdDb25maWcuZ2V0SW5jcmVtZW50VGltZSgpKTsNCiAgICAgICAgICAgICAgICBzdGVwcy5hZGQocmFtcFVzZXJzKHN0ZXBwaW5nQ29uZmlnLmdldFN0YXJ0VXNlcnMoKSkuZHVyaW5nKER1cmF0aW9uLm9mU2Vjb25kcyhyYW1wRHVyYXRpb25TZWMpKSk7DQoNCiAgICAgICAgICAgICAgICAvLyAzLiBTdWJzZXF1ZW50IGluY3JlbWVudHMg4oCTIEVhY2ggYmF0Y2ggb2YgdXNlcnMgaXMgZ3JhZHVhbGx5IHJhbXBlZCB1cCBpbiBhIGxpbmVhciByYW1wLXVwIHByb2Nlc3MNCiAgICAgICAgICAgICAgICBpbnQgcmVtYWluaW5nVXNlcnMgPSBzdGVwcGluZ0NvbmZpZy5nZXROdW1UaHJlYWRzKCkgLSBzdGVwcGluZ0NvbmZpZy5nZXRTdGFydFVzZXJzKCk7DQogICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1VzZXJzID4gMCAmJiBzdGVwcGluZ0NvbmZpZy5nZXRJbmNyZW1lbnRVc2VycygpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpbnQgbnVtYmVyT2ZTdGVwcyA9IChpbnQpIE1hdGguY2VpbCgoZG91YmxlKSByZW1haW5pbmdVc2VycyAvIHN0ZXBwaW5nQ29uZmlnLmdldEluY3JlbWVudFVzZXJzKCkpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bWJlck9mU3RlcHM7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW50IHVzZXJzSW5UaGlzU3RlcCA9IE1hdGgubWluKHN0ZXBwaW5nQ29uZmlnLmdldEluY3JlbWVudFVzZXJzKCksIHJlbWFpbmluZ1VzZXJzIC0gKGkgKiBzdGVwcGluZ0NvbmZpZy5nZXRJbmNyZW1lbnRVc2VycygpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcnNJblRoaXNTdGVwID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHMuYWRkKHJhbXBVc2Vycyh1c2Vyc0luVGhpc1N0ZXApLmR1cmluZyhEdXJhdGlvbi5vZlNlY29uZHMocmFtcER1cmF0aW9uU2VjKSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIDQuIEhvbGQgbG9hZA0KICAgICAgICAgICAgICAgIC8vIFRoZSBob2xkIGlzIG1hbmFnZWQgYnkgdGhlIHNjZW5hcmlvIGxpZmV0aW1lICh0aHJlYWRMaWZldGltZSkNCiAgICAgICAgICAgICAgICAvLyBUaGUgaW5qZWN0aW9uIHByb2ZpbGUgb25seSBkZWZpbmVzIGhvdyB1c2VycyBhcnJpdmUuDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgcmV0dXJuIHNjbi5pbmplY3RPcGVuKHN0ZXBzLnRvQXJyYXkobmV3IE9wZW5JbmplY3Rpb25TdGVwWzBdKSk7DQoNCg0KICAgICAgICAgICAgY2FzZSBVTFRJTUFURToNCiAgICAgICAgICAgICAgICBVbHRpbWF0ZVRocmVhZEdyb3VwIHVsdGltYXRlQ29uZmlnID0gcGFyYW1zLmdldFVsdGltYXRlVGhyZWFkR3JvdXAoKTsNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIi0gTG9hZCBQcm9maWxlOiBVTFRJTUFURSIpOw0KICAgICAgICAgICAgICAgIGlmICh1bHRpbWF0ZUNvbmZpZy5nZXRTdGVwcygpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiAgLSBObyBzdGVwcyBkZWZpbmVkLCBydW5uaW5nIHdpdGggMSB1c2VyIGZvciAxIHNlY29uZC4iKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjbi5pbmplY3RPcGVuKGF0T25jZVVzZXJzKDEpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBTb3J0IHN0ZXBzIGJ5IHN0YXJ0IHRpbWUNCiAgICAgICAgICAgICAgICBMaXN0PFVsdGltYXRlVGhyZWFkR3JvdXBTdGVwPiBzb3J0ZWRTdGVwcyA9IG5ldyBBcnJheUxpc3Q8Pih1bHRpbWF0ZUNvbmZpZy5nZXRTdGVwcygpKTsNCiAgICAgICAgICAgICAgICBzb3J0ZWRTdGVwcy5zb3J0KGphdmEudXRpbC5Db21wYXJhdG9yLmNvbXBhcmluZ0ludChVbHRpbWF0ZVRocmVhZEdyb3VwU3RlcDo6Z2V0U3RhcnRUaW1lKSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgTGlzdDxPcGVuSW5qZWN0aW9uU3RlcD4gaW5qZWN0aW9uU3RlcHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICBsb25nIGxhc3RTdGVwRW5kVGltZSA9IDA7DQoNCiAgICAgICAgICAgICAgICBmb3IgKFVsdGltYXRlVGhyZWFkR3JvdXBTdGVwIHN0ZXAgOiBzb3J0ZWRTdGVwcykgew0KICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiICAtIFN0ZXA6IHN0YXJ0IGF0ICVkcywgaW5pdGlhbCAlZCB1c2Vycywgc3RhcnR1cCAlZHMsIGhvbGQgJWRzLCBzaHV0ZG93biAlZHMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXAuZ2V0U3RhcnRUaW1lKCksIHN0ZXAuZ2V0SW5pdGlhbExvYWQoKSwgc3RlcC5nZXRTdGFydHVwVGltZSgpLCBzdGVwLmdldEhvbGRUaW1lKCksIHN0ZXAuZ2V0U2h1dGRvd25UaW1lKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vIDEuIENhbGN1bGF0ZSBkZWxheSBmcm9tIGxhc3Qgc3RlcCdzIGVuZA0KICAgICAgICAgICAgICAgICAgICBsb25nIGRlbGF5ID0gc3RlcC5nZXRTdGFydFRpbWUoKSAtIGxhc3RTdGVwRW5kVGltZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5ID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5qZWN0aW9uU3RlcHMuYWRkKG5vdGhpbmdGb3IoRHVyYXRpb24ub2ZTZWNvbmRzKGRlbGF5KSkpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gMi4gQWRkIHRoZSByYW1wLXVwIHBoYXNlDQogICAgICAgICAgICAgICAgICAgIGluamVjdGlvblN0ZXBzLmFkZChyYW1wVXNlcnMoc3RlcC5nZXRJbml0aWFsTG9hZCgpKS5kdXJpbmcoRHVyYXRpb24ub2ZTZWNvbmRzKHN0ZXAuZ2V0U3RhcnR1cFRpbWUoKSkpKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vIDMuIEFkZCBob2xkIHRpbWUNCiAgICAgICAgICAgICAgICAgICAgLy8gSW4gR2F0bGluZywgdXNlcnMga2VlcCBydW5uaW5nLiBUaGUgaG9sZCBpcyBpbXBsaWNpdCB1bnRpbCB0aGUgbmV4dCBwaGFzZSBvciB0ZXN0IGVuZC4NCiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIGFkZCBhIHBhdXNlIGlmIHdlIHdhbnQgdG8gbW9kZWwgc2VxdWVudGlhbCBwaGFzZXMgcmF0aGVyIHRoYW4gb3ZlcmxhcHBpbmcgb25lcy4NCiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UgYXNzdW1lIHBoYXNlcyBjYW4gb3ZlcmxhcC4gVGhlIHRvdGFsIGR1cmF0aW9uIHdpbGwgYmUgY29udHJvbGxlZCBieSBtYXhEdXJhdGlvbi4NCg0KICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGVuZCB0aW1lIGZvciB0aGUgbmV4dCBzdGVwJ3MgY2FsY3VsYXRpb24NCiAgICAgICAgICAgICAgICAgICAgbGFzdFN0ZXBFbmRUaW1lID0gc3RlcC5nZXRTdGFydFRpbWUoKSArIHN0ZXAuZ2V0U3RhcnR1cFRpbWUoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHNjbi5pbmplY3RPcGVuKGluamVjdGlvblN0ZXBzLnRvQXJyYXkobmV3IE9wZW5JbmplY3Rpb25TdGVwWzBdKSk7DQoNCg0KICAgICAgICAgICAgY2FzZSBTVEFOREFSRDoNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgU3RhbmRhcmRUaHJlYWRHcm91cCBzdGFuZGFyZENvbmZpZyA9IHBhcmFtcy5nZXRTdGFuZGFyZFRocmVhZEdyb3VwKCk7DQogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCItIExvYWQgUHJvZmlsZTogU1RBTkRBUkQiKTsNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiAgLSBUaHJlYWRzOiAiICsgc3RhbmRhcmRDb25maWcuZ2V0TnVtVGhyZWFkcygpKTsNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiAgLSBSYW1wLXVwOiAiICsgc3RhbmRhcmRDb25maWcuZ2V0UmFtcFVwKCkgKyAicyIpOw0KDQogICAgICAgICAgICAgICAgaWYgKHN0YW5kYXJkQ29uZmlnLmlzU2NoZWR1bGVyKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCIgIC0gU2NoZWR1bGVyIEVuYWJsZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCIgIC0gU3RhcnR1cCBEZWxheTogIiArIHN0YW5kYXJkQ29uZmlnLmdldERlbGF5KCkgKyAicyIpOw0KICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiAgLSBEdXJhdGlvbjogIiArIHN0YW5kYXJkQ29uZmlnLmdldER1cmF0aW9uKCkgKyAicyIpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NuLmluamVjdE9wZW4oDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aGluZ0ZvcihEdXJhdGlvbi5vZlNlY29uZHMoc3RhbmRhcmRDb25maWcuZ2V0RGVsYXkoKSkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbXBVc2VycyhzdGFuZGFyZENvbmZpZy5nZXROdW1UaHJlYWRzKCkpLmR1cmluZyhEdXJhdGlvbi5vZlNlY29uZHMoc3RhbmRhcmRDb25maWcuZ2V0UmFtcFVwKCkpKQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiICAtIExvb3BzOiAiICsgc3RhbmRhcmRDb25maWcuZ2V0TG9vcHMoKSk7DQogICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NuLmluamVjdE9wZW4oDQogICAgICAgICAgICAgICAgICAgICAgICByYW1wVXNlcnMoc3RhbmRhcmRDb25maWcuZ2V0TnVtVGhyZWFkcygpKS5kdXJpbmcoRHVyYXRpb24ub2ZTZWNvbmRzKHN0YW5kYXJkQ29uZmlnLmdldFJhbXBVcCgpKSkNCiAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBIdHRwUHJvdG9jb2xCdWlsZGVyIGNyZWF0ZUh0dHBQcm90b2NvbChFbmRwb2ludCBlbmRwb2ludCkgew0KICAgICAgICByZXR1cm4gaHR0cA0KICAgICAgICAgICAgICAgIC5iYXNlVXJsKGVuZHBvaW50LmdldFVybCgpKQ0KICAgICAgICAgICAgICAgIC5hY2NlcHRIZWFkZXIoImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiIpDQogICAgICAgICAgICAgICAgLmFjY2VwdEVuY29kaW5nSGVhZGVyKCJnemlwLCBkZWZsYXRlLCBiciIpDQogICAgICAgICAgICAgICAgLmFjY2VwdExhbmd1YWdlSGVhZGVyKCJlbi1VUyxlbjtxPTAuOSIpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgU2NlbmFyaW9CdWlsZGVyIGNyZWF0ZVNjZW5hcmlvKCkgew0KICAgICAgICBDaGFpbkJ1aWxkZXIgY2hhaW4gPSBjcmVhdGVIdHRwQ2hhaW4oKTsNCg0KICAgICAgICAvLyBVc2UgZml4ZWQgbmFtZSBmb3IgZGVidWdnaW5nDQogICAgICAgIFN0cmluZyBzY2VuYXJpb05hbWUgPSAiVGVtcFNjZW5hcmlvIjsNCg0KICAgICAgICBTdGFuZGFyZFRocmVhZEdyb3VwIHN0YW5kYXJkQ29uZmlnID0gbnVsbDsNCiAgICAgICAgaWYgKHBhcmFtcy5nZXRUeXBlKCkgPT0gVGhyZWFkR3JvdXBUeXBlLlNUQU5EQVJEKSB7DQogICAgICAgICAgICBzdGFuZGFyZENvbmZpZyA9IHBhcmFtcy5nZXRTdGFuZGFyZFRocmVhZEdyb3VwKCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoc3RhbmRhcmRDb25maWcgIT0gbnVsbCAmJiAhc3RhbmRhcmRDb25maWcuaXNTY2hlZHVsZXIoKSAmJiBzdGFuZGFyZENvbmZpZy5nZXRMb29wcygpID4gMCkgew0KICAgICAgICAgICAgcmV0dXJuIHNjZW5hcmlvKHNjZW5hcmlvTmFtZSkucmVwZWF0KHN0YW5kYXJkQ29uZmlnLmdldExvb3BzKCkpLm9uKA0KICAgICAgICAgICAgICAgIGV4ZWMoY2hhaW4pDQogICAgICAgICAgICApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIHNjZW5hcmlvKHNjZW5hcmlvTmFtZSkuZXhlYyhjaGFpbik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIENoYWluQnVpbGRlciBjcmVhdGVIdHRwQ2hhaW4oKSB7DQogICAgICAgIGlmICghaXNCYXRjaE1vZGUpIHsNCiAgICAgICAgICAgIC8vIFNpbmdsZSB0ZXN0IG1vZGUNCiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZXF1ZXN0QnVpbGRlcihiYXRjaEl0ZW1zLmdldCgwKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBCYXRjaCBtb2RlOiBjaGFpbiBhbGwgcmVxdWVzdCBidWlsZGVycyB0b2dldGhlcg0KICAgICAgICAgICAgQ2hhaW5CdWlsZGVyIHJvb3QgPSBleGVjKHNlc3Npb24gLT4gc2Vzc2lvbik7IC8vIFN0YXJ0IHdpdGggYSBuby1vcA0KICAgICAgICAgICAgZm9yIChCYXRjaEl0ZW0gaXRlbSA6IGJhdGNoSXRlbXMpIHsNCiAgICAgICAgICAgICAgICByb290ID0gcm9vdC5leGVjKGNyZWF0ZVJlcXVlc3RCdWlsZGVyKGl0ZW0pKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByb290Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBDaGFpbkJ1aWxkZXIgY3JlYXRlUmVxdWVzdEJ1aWxkZXIoQmF0Y2hJdGVtIGl0ZW0pIHsNCiAgICAgICAgR2F0bGluZ1Rlc3QgdGVzdCA9IGl0ZW0udGVzdDsNCiAgICAgICAgRW5kcG9pbnQgZW5kcG9pbnQgPSBpdGVtLmVuZHBvaW50Ow0KDQogICAgICAgIC8vIEJ1aWxkIGNvbXBvc2l0ZSBrZXkgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgYWNyb3NzIGRpZmZlcmVudCBvcmlnaW5zLg0KICAgICAgICAvLyBGb3IgU0VUVVAgYW5kIFRFQVJET1dOIHN0ZXBzIHRoYXQgbWF5IGJlIHNoYXJlZCBieSBtdWx0aXBsZSBtYWluIFRDSURzLA0KICAgICAgICAvLyBpbmNsdWRlIHRoZSBvcmlnaW4gVENJRCBpbiB0aGUga2V5OiBvcmlnaW58dGNpZHxtb2RlLiBUaGlzIHByZXZlbnRzIGNvbGxpc2lvbnMNCiAgICAgICAgLy8gd2hlcmUgdGhlIHNhbWUgc2V0dXAvdGVhcmRvd24gdGVzdCBpcyBleGVjdXRlZCBmb3IgbXVsdGlwbGUgcGFyZW50cyBhbmQNCiAgICAgICAgLy8gZ3VhcmFudGVlcyB0aGUgcmVwb3J0cyBhcmUgYXR0cmlidXRlZCB0byB0aGUgY29ycmVjdCBvcmlnaW4uDQogICAgICAgIFN0cmluZyByZXBvcnRLZXk7DQogICAgICAgIGlmIChpdGVtLmdldFRlc3RNb2RlKCkgPT0gY29tLnFhLmFwcC5tb2RlbC5yZXBvcnRzLlRlc3RNb2RlLlNFVFVQIHx8DQogICAgICAgICAgICBpdGVtLmdldFRlc3RNb2RlKCkgPT0gY29tLnFhLmFwcC5tb2RlbC5yZXBvcnRzLlRlc3RNb2RlLlRFQVJET1dOKSB7DQogICAgICAgICAgICBTdHJpbmcgb3JpZ2luID0gKGl0ZW0ub3JpZ2luICE9IG51bGwgJiYgIWl0ZW0ub3JpZ2luLmlzQmxhbmsoKSkgPyBpdGVtLm9yaWdpbiA6IHRlc3QuZ2V0VGNpZCgpOw0KICAgICAgICAgICAgcmVwb3J0S2V5ID0gb3JpZ2luICsgInwiICsgdGVzdC5nZXRUY2lkKCkgKyAifCIgKyBpdGVtLmdldFRlc3RNb2RlKCkubmFtZSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gT3JpZ2luYWwgYmVoYXZpb3VyIGZvciBNQUlOIGFuZCBvdGhlciBtb2Rlcw0KICAgICAgICAgICAgcmVwb3J0S2V5ID0gdGVzdC5nZXRUY2lkKCkgKyAifCIgKyBpdGVtLmdldFRlc3RNb2RlKCkubmFtZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRW5zdXJlIGEgQ2FzZVJlcG9ydCBjb250YWluZXIgZXhpc3RzIGZvciB0aGlzIGtleQ0KICAgICAgICBjYXNlUmVwb3J0cy5jb21wdXRlSWZBYnNlbnQocmVwb3J0S2V5LCBrIC0+IHsNCiAgICAgICAgICAgIENhc2VSZXBvcnQgY3IgPSBuZXcgQ2FzZVJlcG9ydCgpOw0KICAgICAgICAgICAgY3Iuc2V0VGNpZCh0ZXN0LmdldFRjaWQoKSk7DQogICAgICAgICAgICBjci5zZXRJdGVtcyhDb2xsZWN0aW9ucy5zeW5jaHJvbml6ZWRMaXN0KG5ldyBBcnJheUxpc3Q8PigpKSk7DQogICAgICAgICAgICByZXR1cm4gY3I7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIFVzZSBzaW1wbGUgVENJRCBhcyByZXF1ZXN0IG5hbWUgKG5vIHN1ZmZpeCkNCiAgICAgICAgZmluYWwgU3RyaW5nIHJlcXVlc3ROYW1lID0gdGVzdC5nZXRUY2lkKCk7DQoNCiAgICAgICAgSHR0cFJlcXVlc3RBY3Rpb25CdWlsZGVyIHJlcXVlc3Q7DQogICAgICAgIFN0cmluZyBtZXRob2QgPSBlbmRwb2ludC5nZXRNZXRob2QoKSA9PSBudWxsID8gIkdFVCIgOiBlbmRwb2ludC5nZXRNZXRob2QoKS50b1VwcGVyQ2FzZSgpOw0KDQogICAgICAgIC8vIFByb2Nlc3MgVVJMIHdpdGggdGVzdCB2YXJpYWJsZXMNCiAgICAgICAgU3RyaW5nIHByb2Nlc3NlZFVybCA9IFRlc3RSdW5Db250ZXh0LnByb2Nlc3NWYXJpYWJsZVJlZmVyZW5jZXMoZW5kcG9pbnQuZ2V0VXJsKCkpOw0KICAgICAgICAvLyBUaGVuIHJlbmRlciB1c2VyLWRlZmluZWQgQHt2YXJ9IHBsYWNlaG9sZGVycw0KICAgICAgICBwcm9jZXNzZWRVcmwgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHByb2Nlc3NlZFVybCwgdGVzdC5nZXRFbmRwb2ludER5bmFtaWNWYXJpYWJsZXMoKSk7DQoNCiAgICAgICAgc3dpdGNoIChtZXRob2QpIHsNCiAgICAgICAgICAgIGNhc2UgIlBPU1QiOg0KICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBodHRwKHJlcXVlc3ROYW1lKS5wb3N0KHByb2Nlc3NlZFVybCk7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJQVVQiOg0KICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBodHRwKHJlcXVlc3ROYW1lKS5wdXQocHJvY2Vzc2VkVXJsKTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgIkRFTEVURSI6DQogICAgICAgICAgICAgICAgcmVxdWVzdCA9IGh0dHAocmVxdWVzdE5hbWUpLmRlbGV0ZShwcm9jZXNzZWRVcmwpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiR0VUIjoNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgcmVxdWVzdCA9IGh0dHAocmVxdWVzdE5hbWUpLmdldChwcm9jZXNzZWRVcmwpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRHluYW1pY2FsbHkgcHJvY2VzcyBoZWFkZXJzIGZvciBlYWNoIHJlcXVlc3QgdXNpbmcgYSBzZXNzaW9uIGZ1bmN0aW9uDQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVyVGVtcGxhdGVzID0gcGFyc2VIZWFkZXJzKHRlc3QuZ2V0SGVhZGVycygpKTsNCiAgICAgICAgZm9yIChNYXAuRW50cnk8U3RyaW5nLCBTdHJpbmc+IGhlYWRlckVudHJ5IDogaGVhZGVyVGVtcGxhdGVzLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LmhlYWRlcihoZWFkZXJFbnRyeS5nZXRLZXkoKSwgc2Vzc2lvbiAtPg0KICAgICAgICAgICAgICAgICAgICBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKGhlYWRlckVudHJ5LmdldFZhbHVlKCksIHRlc3QuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRHluYW1pY2FsbHkgcHJvY2VzcyBib2R5IGZvciBlYWNoIHJlcXVlc3QgdXNpbmcgYSBzZXNzaW9uIGZ1bmN0aW9uDQogICAgICAgIGlmICh0ZXN0LmdldEJvZHkoKSAhPSBudWxsICYmICF0ZXN0LmdldEJvZHkoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5ib2R5KFN0cmluZ0JvZHkoc2Vzc2lvbiAtPg0KICAgICAgICAgICAgICAgICAgICBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHRlc3QuZ2V0Qm9keSgpLCB0ZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkpKSk7DQogICAgICAgIH0NCg0KICAgICAgICBMaXN0PENoZWNrQnVpbGRlcj4gY2hlY2tCdWlsZGVycyA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICBMaXN0PENoYWluQnVpbGRlcj4gbG9nZ2luZ0FjdGlvbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgYm9vbGVhbiBzdGF0dXNDaGVja0V4aXN0cyA9IGZhbHNlOw0KICAgICAgICAvLyBDb2xsZWN0IERJRkYgY2hlY2tzIGZvciBzcGVjaWFsIHByb2Nlc3NpbmcgKGJlZm9yZS9hZnRlciByZWZlcmVuY2UpDQogICAgICAgIExpc3Q8UmVzcG9uc2VDaGVjaz4gZGlmZkNoZWNrcyA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICAvLyBDb2xsZWN0IFBSRV9DSEVDSyBhbmQgUFNUX0NIRUNLIGNoZWNrcyBmb3Igc3BlY2lhbCBwcm9jZXNzaW5nDQogICAgICAgIExpc3Q8UmVzcG9uc2VDaGVjaz4gcHJlQ2hlY2tzID0gbmV3IEFycmF5TGlzdDw+KCk7DQogICAgICAgIExpc3Q8UmVzcG9uc2VDaGVjaz4gcHN0Q2hlY2tzID0gbmV3IEFycmF5TGlzdDw+KCk7DQoNCiAgICAgICAgU3RyaW5nIGNoZWNrc0pzb24gPSB0ZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCk7DQogICAgICAgIGlmIChjaGVja3NKc29uICE9IG51bGwgJiYgIWNoZWNrc0pzb24uaXNFbXB0eSgpKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIExpc3Q8UmVzcG9uc2VDaGVjaz4gY2hlY2tzID0gbmV3IE9iamVjdE1hcHBlcigpLnJlYWRWYWx1ZShjaGVja3NKc29uLCBuZXcgVHlwZVJlZmVyZW5jZTw+KCkge30pOw0KDQogICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBjaGVjayByZXBvcnRzIGxpc3QgaW4gc2Vzc2lvbiBmb3IgdGhlIGZpcnN0IGNoZWNrDQogICAgICAgICAgICAgICAgbG9nZ2luZ0FjdGlvbnMuYWRkKGV4ZWMoc2Vzc2lvbiAtPiBzZXNzaW9uLnNldChDSEVDS19SRVBPUlRTX0tFWSwgbmV3IEFycmF5TGlzdDxDaGVja1JlcG9ydD4oKSkpKTsNCg0KICAgICAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayByZXNwb25zZUNoZWNrIDogY2hlY2tzKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBkZWVwIGNvcHkuIENyaXRpY2FsIGZvciBjb25jdXJyZW50IHJ1bnMuDQogICAgICAgICAgICAgICAgICAgIGZpbmFsIFJlc3BvbnNlQ2hlY2sgY3VycmVudENoZWNrID0gbmV3IFJlc3BvbnNlQ2hlY2socmVzcG9uc2VDaGVjayk7DQoNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjdXJyZW50Q2hlY2suZ2V0VHlwZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFNUQVRVUzogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NoZWNrRXhpc3RzID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGF0dXMgY2hlY2sgaW4gR2F0bGluZyBpcyBzcGVjaWFsLCBpdCBkb2Vzbid0IHVzZSBhIHJlZ3VsYXIgZXh0cmFjdG9yLg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNhdmUgdGhlIHN0YXR1cyBhbmQgY2hlY2sgaXQgaW4gYSBzdWJzZXF1ZW50IGFjdGlvbi4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgc3RhdHVzU2F2ZUtleSA9ICJyZXNwb25zZV9zdGF0dXNfIiArIGN1cnJlbnRDaGVjay5oYXNoQ29kZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQnVpbGRlcnMuYWRkKHN0YXR1cygpLnNhdmVBcyhzdGF0dXNTYXZlS2V5KSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQWN0aW9ucy5hZGQoZXhlYyhzZXNzaW9uIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tSZXBvcnQgY2hlY2tSZXBvcnQgPSBuZXcgQ2hlY2tSZXBvcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXBvcnQuc2V0VHlwZShjdXJyZW50Q2hlY2suZ2V0VHlwZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXBvcnQuc2V0T3BlcmF0b3IoY3VycmVudENoZWNrLmdldE9wZXJhdG9yKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRFeHBlY3QoY3VycmVudENoZWNrLmdldEV4cGVjdCgpKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGFjdHVhbFN0YXR1czsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLmNvbnRhaW5zKHN0YXR1c1NhdmVLZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2F0bGluZyAzLjcrIHNhdmVzIHN0YXR1cyBhcyBJbnRlZ2VyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0IHN0YXR1c09iaiA9IHNlc3Npb24uZ2V0KHN0YXR1c1NhdmVLZXkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFN0YXR1cyA9IFN0cmluZy52YWx1ZU9mKHN0YXR1c09iaik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFN0YXR1cyA9ICI8U1RBVFVTIE5PVCBGT1VORD4iOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRBY3R1YWwoYWN0dWFsU3RhdHVzKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBjaGVja1Bhc3NlZDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudENoZWNrLmdldE9wZXJhdG9yKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPTlRBSU5TOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1Bhc3NlZCA9IGFjdHVhbFN0YXR1cy5jb250YWlucyhjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFzc2VkID0gYWN0dWFsU3RhdHVzLmVxdWFscyhjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVwb3J0LnNldFBhc3NlZChjaGVja1Bhc3NlZCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tQYXNzZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiQ0hFQ0tfRkFJTHwlc3wlc3wlc3xleHBlY3RlZDolc3xhY3R1YWw6JXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdC5nZXRUY2lkKCksICJTVEFUVVMiLCBjdXJyZW50Q2hlY2suZ2V0T3BlcmF0b3IoKS50b1N0cmluZygpLCBjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCksIGFjdHVhbFN0YXR1cykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFN0cmluZy5mb3JtYXQoIkNIRUNLX1BBU1N8JXN8JXN8JXN8ZXhwZWN0ZWQ6JXN8YWN0dWFsOiVzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QuZ2V0VGNpZCgpLCAiU1RBVFVTIiwgY3VycmVudENoZWNrLmdldE9wZXJhdG9yKCkudG9TdHJpbmcoKSwgY3VycmVudENoZWNrLmdldEV4cGVjdCgpLCBhY3R1YWxTdGF0dXMpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIHNlc3Npb24gZm9yIHJlcG9ydGluZw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5nZXRMaXN0KENIRUNLX1JFUE9SVFNfS0VZKS5hZGQoY2hlY2tSZXBvcnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24ucmVtb3ZlKHN0YXR1c1NhdmVLZXkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJbRVJST1JdIEV4Y2VwdGlvbiBpbiBTVEFUVVMgY2hlY2s6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRBY3R1YWwoIkVSUk9SOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXBvcnQuc2V0UGFzc2VkKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZ2V0TGlzdChDSEVDS19SRVBPUlRTX0tFWSkuYWRkKGNoZWNrUmVwb3J0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBKU09OX1BBVEg6DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFhQQVRIOg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSRUdFWDogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBzYXZlQXNLZXkgPSAoY3VycmVudENoZWNrLmdldFNhdmVBcygpICE9IG51bGwgJiYgIWN1cnJlbnRDaGVjay5nZXRTYXZlQXMoKS5pc0JsYW5rKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY3VycmVudENoZWNrLmdldFNhdmVBcygpIDogInRlbXBfY2hlY2tfdmFyXyIgKyBjdXJyZW50Q2hlY2suaGFzaENvZGUoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrQnVpbGRlciBleHRyYWN0b3IgPSBzd2l0Y2ggKGN1cnJlbnRDaGVjay5nZXRUeXBlKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBKU09OX1BBVEg6IHlpZWxkIGpzb25QYXRoKGN1cnJlbnRDaGVjay5nZXRFeHByZXNzaW9uKCkpLnNhdmVBcyhzYXZlQXNLZXkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFhQQVRIOiB5aWVsZCB4cGF0aChjdXJyZW50Q2hlY2suZ2V0RXhwcmVzc2lvbigpKS5zYXZlQXMoc2F2ZUFzS2V5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSRUdFWDogeWllbGQgcmVnZXgoY3VycmVudENoZWNrLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVBc0tleSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oIlVuZXhwZWN0ZWQgdmFsdWU6ICIgKyBjdXJyZW50Q2hlY2suZ2V0VHlwZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQnVpbGRlcnMuYWRkKGV4dHJhY3Rvcik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQWN0aW9ucy5hZGQoZXhlYyhzZXNzaW9uIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tSZXBvcnQgY2hlY2tSZXBvcnQgPSBuZXcgQ2hlY2tSZXBvcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXBvcnQuc2V0VHlwZShjdXJyZW50Q2hlY2suZ2V0VHlwZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXBvcnQuc2V0RXhwcmVzc2lvbihjdXJyZW50Q2hlY2suZ2V0RXhwcmVzc2lvbigpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXBvcnQuc2V0T3BlcmF0b3IoY3VycmVudENoZWNrLmdldE9wZXJhdG9yKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRFeHBlY3QoY3VycmVudENoZWNrLmdldEV4cGVjdCgpKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgYWN0dWFsVmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLmNvbnRhaW5zKHNhdmVBc0tleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdCByYXdWYWx1ZSA9IHNlc3Npb24uZ2V0KHNhdmVBc0tleSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF3VmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IChTdHJpbmcpIHJhd1ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIGNoYXJbXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gbmV3IFN0cmluZygoY2hhcltdKSByYXdWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhd1ZhbHVlIGluc3RhbmNlb2YgU3RyaW5nW10gYXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBhcnIubGVuZ3RoID4gMCA/IGFyclswXSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IFN0cmluZy52YWx1ZU9mKHJhd1ZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gIlBhdGggbm90IGZvdW5kIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRBY3R1YWwoYWN0dWFsVmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2xlYW4gY2hlY2tQYXNzZWQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudENoZWNrLmdldE9wZXJhdG9yKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09OVEFJTlM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYXNzZWQgPSBhY3R1YWxWYWx1ZS5jb250YWlucyhjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBJUzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYXNzZWQgPSBhY3R1YWxWYWx1ZS5lcXVhbHMoY3VycmVudENoZWNrLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRQYXNzZWQoY2hlY2tQYXNzZWQpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tQYXNzZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihTdHJpbmcuZm9ybWF0KCJDSEVDS19GQUlMfCVzfCVzfCVzfGV4cGVjdGVkOiVzfGFjdHVhbDolcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QuZ2V0VGNpZCgpLCBjdXJyZW50Q2hlY2suZ2V0RXhwcmVzc2lvbigpLCBjdXJyZW50Q2hlY2suZ2V0T3BlcmF0b3IoKS50b1N0cmluZygpLCBjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCksIGFjdHVhbFZhbHVlKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiQ0hFQ0tfUEFTU3wlc3wlc3wlc3xleHBlY3RlZDolc3xhY3R1YWw6JXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0LmdldFRjaWQoKSwgY3VycmVudENoZWNrLmdldEV4cHJlc3Npb24oKSwgY3VycmVudENoZWNrLmdldE9wZXJhdG9yKCkudG9TdHJpbmcoKSwgY3VycmVudENoZWNrLmdldEV4cGVjdCgpLCBhY3R1YWxWYWx1ZSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIHNlc3Npb24gZm9yIHJlcG9ydGluZw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmdldExpc3QoQ0hFQ0tfUkVQT1JUU19LRVkpLmFkZChjaGVja1JlcG9ydCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c6K6+572u5LqGc2F2ZUFz77yM5YiZ5bCG5YC85L+d5a2Y5YiwVGVzdFJ1bkNvbnRleHTkuK0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGVjay5nZXRTYXZlQXMoKSAhPSBudWxsICYmICFjdXJyZW50Q2hlY2suZ2V0U2F2ZUFzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXN0UnVuQ29udGV4dC5zYXZlVmFyaWFibGUodGVzdC5nZXRUY2lkKCksIGN1cnJlbnRDaGVjay5nZXRTYXZlQXMoKSwgYWN0dWFsVmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVBc0tleS5zdGFydHNXaXRoKCJ0ZW1wX2NoZWNrX3Zhcl8iKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24ucmVtb3ZlKHNhdmVBc0tleSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb247DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBESUZGOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmZXIgRElGRiBwcm9jZXNzaW5nIHVudGlsIGFmdGVyIHJlZmVyZW5jZSByZXF1ZXN0cw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZDaGVja3MuYWRkKGN1cnJlbnRDaGVjayk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFBSRV9DSEVDSzogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmVyIFBSRV9DSEVDSyBwcm9jZXNzaW5nIHVudGlsIGFmdGVyIHJlZmVyZW5jZSByZXF1ZXN0cw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZUNoZWNrcy5hZGQoY3VycmVudENoZWNrKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUFNUX0NIRUNLOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmZXIgUFNUX0NIRUNLIHByb2Nlc3NpbmcgdW50aWwgYWZ0ZXIgcmVmZXJlbmNlIHJlcXVlc3RzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHN0Q2hlY2tzLmFkZChjdXJyZW50Q2hlY2spOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEQjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkYXRhYmFzZSBjaGVjaw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdBY3Rpb25zLmFkZChleGVjKHNlc3Npb24gLT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja1JlcG9ydCBjaGVja1JlcG9ydCA9IG5ldyBDaGVja1JlcG9ydCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRUeXBlKGN1cnJlbnRDaGVjay5nZXRUeXBlKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRPcGVyYXRvcihjdXJyZW50Q2hlY2suZ2V0T3BlcmF0b3IoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVwb3J0LnNldEV4cGVjdChjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGFjdHVhbFZhbHVlID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBjaGVja1Bhc3NlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBhbGlhcywgc3FsLCBjb2x1bW47DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByaW9yaXRpemUgbmV3IGRlZGljYXRlZCBmaWVsZHMsIGJ1dCBmYWxsIGJhY2sgdG8gcGFyc2luZyB0aGUgb2xkIGV4cHJlc3Npb24gZmllbGQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hlY2suZ2V0RGJBbGlhcygpICE9IG51bGwgJiYgIWN1cnJlbnRDaGVjay5nZXREYkFsaWFzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXMgPSBjdXJyZW50Q2hlY2suZ2V0RGJBbGlhcygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbCA9IGN1cnJlbnRDaGVjay5nZXREYlNxbCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGN1cnJlbnRDaGVjay5nZXREYkNvbHVtbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBvbGQgZm9ybWF0IHN0b3JlZCBpbiB0aGUgZXhwcmVzc2lvbiBmaWVsZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhdGxpbmdTY2VuYXJpb1NpbXVsYXRpb24uRGJDaGVja0luZm8gY2hlY2tJbmZvID0gbmV3IE9iamVjdE1hcHBlcigpLnJlYWRWYWx1ZShjdXJyZW50Q2hlY2suZ2V0RXhwcmVzc2lvbigpLCBHYXRsaW5nU2NlbmFyaW9TaW11bGF0aW9uLkRiQ2hlY2tJbmZvLmNsYXNzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlhcyA9IGNoZWNrSW5mby5nZXRBbGlhcygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbCA9IGNoZWNrSW5mby5nZXRTcWwoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBjaGVja0luZm8uZ2V0Q29sdW1uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciByZXBvcnRpbmcgcHVycG9zZXMsIGNyZWF0ZSBhIHVuaWZpZWQgSlNPTiBleHByZXNzaW9uIGZyb20gdGhlIERCIGRldGFpbHMuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IGRiSW5mb0ZvclJlcG9ydCA9IG5ldyBIYXNoTWFwPD4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiSW5mb0ZvclJlcG9ydC5wdXQoImFsaWFzIiwgYWxpYXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJJbmZvRm9yUmVwb3J0LnB1dCgic3FsIiwgc3FsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiSW5mb0ZvclJlcG9ydC5wdXQoImNvbHVtbiIsIGNvbHVtbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcG9ydC5zZXRFeHByZXNzaW9uKG5ldyBPYmplY3RNYXBwZXIoKS53cml0ZVZhbHVlQXNTdHJpbmcoZGJJbmZvRm9yUmVwb3J0KSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERiQ29ubmVjdGlvbiBjb25uQ29uZmlnID0gZGJDb25uZWN0aW9uU2VydmljZS5maW5kQnlBbGlhcyhhbGlhcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubkNvbmZpZyA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oIkRCIENvbm5lY3Rpb24gYWxpYXMgbm90IGZvdW5kOiAiICsgYWxpYXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHZhcmlhYmxlcyBpbiBTUUwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBwcm9jZXNzZWRTcWwgPSBUZXN0UnVuQ29udGV4dC5wcm9jZXNzVmFyaWFibGVSZWZlcmVuY2VzKHNxbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IGFsbER5bmFtaWNWYXJzID0gbmV3IEhhc2hNYXA8PigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QuZ2V0RW5kcG9pbnREeW5hbWljVmFyaWFibGVzKCkgIT0gbnVsbCkgYWxsRHluYW1pY1ZhcnMucHV0QWxsKHRlc3QuZ2V0RW5kcG9pbnREeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSAhPSBudWxsKSBhbGxEeW5hbWljVmFycy5wdXRBbGwodGVzdC5nZXRIZWFkZXJzRHluYW1pY1ZhcmlhYmxlcygpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkgIT0gbnVsbCkgYWxsRHluYW1pY1ZhcnMucHV0QWxsKHRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgZmluYWxTcWwgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHByb2Nlc3NlZFNxbCwgYWxsRHluYW1pY1ZhcnMpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhU291cmNlIGRzID0gRGF0YVNvdXJjZVJlZ2lzdHJ5LmdldChjb25uQ29uZmlnKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm4gPSBkcy5nZXRDb25uZWN0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KGZpbmFsU3FsKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHBzLmV4ZWN1dGVRdWVyeSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBycy5nZXRTdHJpbmcoY29sdW1uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFzc2VkID0gT3BlcmF0b3JVdGlsLmNvbXBhcmUoYWN0dWFsVmFsdWUsIGN1cnJlbnRDaGVjay5nZXRPcGVyYXRvcigpLCBjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrUGFzc2VkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q2hlY2suaXNPcHRpb25hbCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiQ0hFQ0tfRkFJTHwlc3xEQnwlc3xleHBlY3RlZDolc3xhY3R1YWw6JXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdC5nZXRUY2lkKCksIGZpbmFsU3FsLCBjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCksIGFjdHVhbFZhbHVlKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiQ0hFQ0tfUEFTU3wlc3xEQnwlc3xleHBlY3RlZDolc3xhY3R1YWw6JXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdC5nZXRUY2lkKCksIGZpbmFsU3FsLCBjdXJyZW50Q2hlY2suZ2V0RXhwZWN0KCksIGFjdHVhbFZhbHVlKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgcmVzdWx0IGlmIHNwZWNpZmllZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGVjay5nZXRTYXZlQXMoKSAhPSBudWxsICYmICFjdXJyZW50Q2hlY2suZ2V0U2F2ZUFzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVzdFJ1bkNvbnRleHQuc2F2ZVZhcmlhYmxlKHRlc3QuZ2V0VGNpZCgpLCBjdXJyZW50Q2hlY2suZ2V0U2F2ZUFzKCksIGFjdHVhbFZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiW0VSUk9SXSBFeGNlcHRpb24gaW4gREIgY2hlY2s6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9ICJFUlJPUjogIiArIGUuZ2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYXNzZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVwb3J0LnNldEFjdHVhbChhY3R1YWxWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVwb3J0LnNldFBhc3NlZChjaGVja1Bhc3NlZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gc2Vzc2lvbiBmb3IgcmVwb3J0aW5nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZ2V0TGlzdChDSEVDS19SRVBPUlRTX0tFWSkuYWRkKGNoZWNrUmVwb3J0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb247DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkZhaWxlZCB0byBwYXJzZSByZXNwb25zZUNoZWNrczogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFwcGx5IGFsbCBjaGVja3MgdG8gdGhlIHJlcXVlc3QgYnVpbGRlciAoZXhjbHVkaW5nIERJRkYpDQogICAgICAgIGlmICghY2hlY2tCdWlsZGVycy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LmNoZWNrKGNoZWNrQnVpbGRlcnMudG9BcnJheShuZXcgQ2hlY2tCdWlsZGVyWzBdKSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBBZGQgYSBkZWZhdWx0IGJsb2NraW5nIGNoZWNrIGlmIG5vIHVzZXItZGVmaW5lZCBzdGF0dXMgY2hlY2sgZXhpc3RzDQogICAgICAgIGlmICghc3RhdHVzQ2hlY2tFeGlzdHMpIHsNCiAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LmNoZWNrKHN0YXR1cygpLmlzKDIwMCkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQWRkIGNoZWNrcyB0byBzYXZlIHJlc3BvbnNlIG1ldGFkYXRhIGZvciByZXBvcnRpbmcNCiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QuY2hlY2soDQogICAgICAgICAgICBib2R5U3RyaW5nKCkuc2F2ZUFzKCJyZXNwb25zZUJvZHkiKSwNCiAgICAgICAgICAgIHJlc3BvbnNlVGltZUluTWlsbGlzKCkuc2F2ZUFzKCJsYXRlbmN5TXMiKSwNCiAgICAgICAgICAgIGJvZHlMZW5ndGgoKS5zYXZlQXMoInNpemVCeXRlcyIpDQogICAgICAgICk7DQoNCiAgICAgICAgLy8gQ2FwdHVyZSBzZWxlY3RlZCByZXNwb25zZSBoZWFkZXJzDQogICAgICAgIGZvciAoU3RyaW5nIGhlYWRlck5hbWUgOiBSRVNQT05TRV9IRUFERVJTX1RPX0NBUFRVUkUpIHsNCiAgICAgICAgICAgIFN0cmluZyBzZXNzaW9uS2V5ID0gInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIik7DQogICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5jaGVjayhoZWFkZXIoaGVhZGVyTmFtZSkub3B0aW9uYWwoKS5zYXZlQXMoc2Vzc2lvbktleSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gKiogUkVQT1JUSU5HIExPR0lDICoqDQogICAgICAgIC8vIFRoaXMgY2hhaW4gaXMgZXhlY3V0ZWQgQUZURVIgdGhlIHJlcXVlc3QgaXMgY29tcGxldGUuDQogICAgICAgIENoYWluQnVpbGRlciByZXBvcnRpbmdDaGFpbiA9IGV4ZWMoc2Vzc2lvbiAtPiB7DQogICAgICAgICAgICBSZXF1ZXN0UmVwb3J0IHJlcG9ydCA9IG5ldyBSZXF1ZXN0UmVwb3J0KCk7DQogICAgICAgICAgICByZXBvcnQuc2V0UmVxdWVzdE5hbWUocmVxdWVzdE5hbWUpOw0KDQogICAgICAgICAgICAvLyAxLiBCdWlsZCBSZXF1ZXN0SW5mbyAod2l0aCByZXNvbHZlZCB2YXJpYWJsZXMpDQogICAgICAgICAgICBSZXF1ZXN0SW5mbyByZXF1ZXN0SW5mbyA9IG5ldyBSZXF1ZXN0SW5mbygpOw0KICAgICAgICAgICAgcmVxdWVzdEluZm8uc2V0TWV0aG9kKG1ldGhvZCk7DQogICAgICAgICAgICByZXF1ZXN0SW5mby5zZXRVcmwoZW5kcG9pbnQuZ2V0VXJsKCkpOw0KDQogICAgICAgICAgICAvLyBSZS1wcm9jZXNzIHRlbXBsYXRlcyB0byBnZXQgdGhlIHJlc29sdmVkIHZhbHVlcyBmb3IgdGhlIHJlcG9ydA0KICAgICAgICAgICAgU3RyaW5nIGZpbmFsSGVhZGVycyA9IFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIodGVzdC5nZXRIZWFkZXJzKCksIHRlc3QuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IGZpbmFsSGVhZGVyc01hcCA9IHBhcnNlSGVhZGVycyhmaW5hbEhlYWRlcnMpOw0KICAgICAgICAgICAgcmVxdWVzdEluZm8uc2V0SGVhZGVycyhmaW5hbEhlYWRlcnNNYXApOw0KDQogICAgICAgICAgICBpZiAodGVzdC5nZXRCb2R5KCkgIT0gbnVsbCAmJiAhdGVzdC5nZXRCb2R5KCkudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbEJvZHkgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHRlc3QuZ2V0Qm9keSgpLCB0ZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICAgICAgICAgIHJlcXVlc3RJbmZvLnNldEJvZHkoZmluYWxCb2R5KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlcG9ydC5zZXRSZXF1ZXN0KHJlcXVlc3RJbmZvKTsNCg0KICAgICAgICAgICAgLy8gMi4gQnVpbGQgUmVzcG9uc2VJbmZvDQogICAgICAgICAgICBSZXNwb25zZUluZm8gcmVzcG9uc2VJbmZvID0gbmV3IFJlc3BvbnNlSW5mbygpOw0KICAgICAgICAgICAgaWYgKHNlc3Npb24uY29udGFpbnMoInJlc3BvbnNlQm9keSIpKSB7DQogICAgICAgICAgICAgICAgcmVzcG9uc2VJbmZvLnNldEJvZHlTYW1wbGUoc2Vzc2lvbi5nZXRTdHJpbmcoInJlc3BvbnNlQm9keSIpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmVzcG9uc2VJbmZvLnNldEJvZHlTYW1wbGUoIlJlc3BvbnNlIGJvZHkgbm90IGNhcHR1cmVkLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gTm90ZTogR2F0bGluZyBSZXNwb25zZSBvYmplY3QgaXMgbm90IGRpcmVjdGx5IGF2YWlsYWJsZSBoZXJlLg0KICAgICAgICAgICAgLy8gV2UgcmVseSBvbiBjaGVja3MgdG8gZ2V0IHN0YXR1cywgYW5kIG90aGVyIG1ldHJpY3MgYXJlIG5vdCBlYXNpbHkgYXZhaWxhYmxlIHBvc3QtcmVxdWVzdC4NCiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBsaW1pdGF0aW9uIG9mIHRoaXMgcmVwb3J0aW5nIGFwcHJvYWNoLg0KICAgICAgICAgICAgLy8gV2UgY2FuIGdldCBzdGF0dXMgZnJvbSBvdXIgY2hlY2sgcmVwb3J0cy4NCiAgICAgICAgICAgIHJlc3BvbnNlSW5mby5zZXRTdGF0dXMoMCk7IC8vIERlZmF1bHQsIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgc3RhdHVzIGNoZWNrDQogICAgICAgICAgICBpZiAoc2Vzc2lvbi5jb250YWlucygibGF0ZW5jeU1zIikpIHsNCiAgICAgICAgICAgICAgICByZXNwb25zZUluZm8uc2V0TGF0ZW5jeU1zKHNlc3Npb24uZ2V0TG9uZygibGF0ZW5jeU1zIikpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHNlc3Npb24uY29udGFpbnMoInNpemVCeXRlcyIpKSB7DQogICAgICAgICAgICAgICAgcmVzcG9uc2VJbmZvLnNldFNpemVCeXRlcygobG9uZykgc2Vzc2lvbi5nZXRJbnQoInNpemVCeXRlcyIpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIOeUseS6juaKgOacr+mZkOWItu+8jOaIkeS7rOaXoOazleebtOaOpeiOt+WPluaJgOacieWTjeW6lOWktA0KICAgICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBjYXB0dXJlZEhlYWRlcnMgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgICAgICAgICBmb3IgKFN0cmluZyBoZWFkZXJOYW1lIDogUkVTUE9OU0VfSEVBREVSU19UT19DQVBUVVJFKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGtleSA9ICJyZXNwSGVhZGVyXyIgKyBoZWFkZXJOYW1lLnJlcGxhY2UoIi0iLCAiXyIpOw0KICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLmNvbnRhaW5zKGtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZWRIZWFkZXJzLnB1dChoZWFkZXJOYW1lLCBzZXNzaW9uLmdldFN0cmluZyhrZXkpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXNwb25zZUluZm8uc2V0SGVhZGVycyhjYXB0dXJlZEhlYWRlcnMpOw0KDQogICAgICAgICAgICAvLyAzLiBDb2xsZWN0IENoZWNrUmVwb3J0cw0KICAgICAgICAgICAgaWYgKHNlc3Npb24uY29udGFpbnMoQ0hFQ0tfUkVQT1JUU19LRVkpKSB7DQogICAgICAgICAgICAgICAgTGlzdDxDaGVja1JlcG9ydD4gcmVwb3J0cyA9IHNlc3Npb24uZ2V0TGlzdChDSEVDS19SRVBPUlRTX0tFWSk7DQogICAgICAgICAgICAgICAgcmVwb3J0LnNldENoZWNrcyhyZXBvcnRzKTsNCg0KICAgICAgICAgICAgICAgIC8vIEZpbmQgc3RhdHVzIGZyb20gY2hlY2tzIHRvIHBvcHVsYXRlIFJlc3BvbnNlSW5mbw0KICAgICAgICAgICAgICAgIHJlcG9ydHMuc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIociAtPiByLmdldFR5cGUoKSA9PSBDaGVja1R5cGUuU1RBVFVTICYmIHIuZ2V0QWN0dWFsKCkgIT0gbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kRmlyc3QoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmlmUHJlc2VudChyIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUluZm8uc2V0U3RhdHVzKEludGVnZXIucGFyc2VJbnQoci5nZXRBY3R1YWwoKSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBpZiBzdGF0dXMgaXMgbm90IGEgbnVtYmVyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlcG9ydC5zZXRDaGVja3MobmV3IEFycmF5TGlzdDw+KCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmVwb3J0LnNldFJlc3BvbnNlKHJlc3BvbnNlSW5mbyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIDQuIFNldCBvdmVyYWxsIHBhc3MvZmFpbCBzdGF0dXMNCiAgICAgICAgICAgIGJvb2xlYW4gYWxsQ2hlY2tzUGFzc2VkID0gcmVwb3J0LmdldENoZWNrcygpLnN0cmVhbSgpLmFsbE1hdGNoKENoZWNrUmVwb3J0Ojppc1Bhc3NlZCk7DQogICAgICAgICAgICByZXBvcnQuc2V0UGFzc2VkKGFsbENoZWNrc1Bhc3NlZCk7DQogICAgICAgICAgICByZXBvcnQuc2V0U3RhdHVzKFN0cmluZy52YWx1ZU9mKHJlc3BvbnNlSW5mby5nZXRTdGF0dXMoKSkpOw0KDQoNCiAgICAgICAgICAgIC8vIDUuIEFkZCB0aGUgY29tcGxldGVkIHJlcG9ydCB0byB0aGUgbWFpbiBjYXNlIHJlcG9ydA0KICAgICAgICAgICAgY2FzZVJlcG9ydHMuZ2V0KHJlcG9ydEtleSkuZ2V0SXRlbXMoKS5hZGQocmVwb3J0KTsNCg0KICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGNoZWNrIHJlcG9ydHMgZm9yIHRoZSBuZXh0IHJlcXVlc3QgaW4gdGhlIGNoYWluDQogICAgICAgICAgICBpby5nYXRsaW5nLmphdmFhcGkuY29yZS5TZXNzaW9uIGNsZWFuZWQgPSBzZXNzaW9uLnJlbW92ZShDSEVDS19SRVBPUlRTX0tFWSkNCiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgicmVzcG9uc2VCb2R5IikNCiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgibGF0ZW5jeU1zIikNCiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgic2l6ZUJ5dGVzIik7DQogICAgICAgICAgICBmb3IgKFN0cmluZyBoZWFkZXJOYW1lIDogUkVTUE9OU0VfSEVBREVSU19UT19DQVBUVVJFKSB7DQogICAgICAgICAgICAgICAgY2xlYW5lZCA9IGNsZWFuZWQucmVtb3ZlKCJyZXNwSGVhZGVyXyIgKyBoZWFkZXJOYW1lLnJlcGxhY2UoIi0iLCAiXyIpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBjbGVhbmVkOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBNYWluIHJlcXVlc3QgY2hhaW4NCiAgICAgICAgQ2hhaW5CdWlsZGVyIG1haW5DaGFpbiA9IGV4ZWMocmVxdWVzdCkuZXhlYyhsb2dnaW5nQWN0aW9ucykuZXhlYyhyZXBvcnRpbmdDaGFpbik7DQoNCiAgICAgICAgLy8gSWYgbm8gRElGRiBjaGVja3MsIHJldHVybiBtYWluIGNoYWluIGRpcmVjdGx5DQogICAgICAgIGlmIChkaWZmQ2hlY2tzLmlzRW1wdHkoKSAmJiBwcmVDaGVja3MuaXNFbXB0eSgpICYmIHBzdENoZWNrcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIHJldHVybiBtYWluQ2hhaW47DQogICAgICAgIH0NCg0KICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgLy8gQnVpbGQgcmVmZXJlbmNlIEJFRk9SRSByZXF1ZXN0KHMpIGZvciBESUZGIGNoZWNrcw0KICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgQ2hhaW5CdWlsZGVyIGJlZm9yZUNoYWluID0gZXhlYyhzZXNzaW9uIC0+IHNlc3Npb24pOyAvLyBuby1vcCBzdGFydGVyDQoNCiAgICAgICAgLy8gR3JvdXAgZGlmZiBjaGVja3MgYnkgcmVmZXJlbmNlIFRDSUQgdG8gYXZvaWQgZHVwbGljYXRlIEJFRk9SRSByZXF1ZXN0cw0KICAgICAgICBqYXZhLnV0aWwuTWFwPFN0cmluZywgamF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4+IGRpZmZHcm91cHNCZWZvcmUgPSBkaWZmQ2hlY2tzLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgLmZpbHRlcihkYyAtPiBkYy5nZXRFeHByZXNzaW9uKCkgIT0gbnVsbCAmJiBkYy5nZXRFeHByZXNzaW9uKCkuY29udGFpbnMoIi4iKSkNCiAgICAgICAgICAgICAgICAuY29sbGVjdChDb2xsZWN0b3JzLmdyb3VwaW5nQnkoDQogICAgICAgICAgICAgICAgICAgICAgICBkYyAtPiBkYy5nZXRFeHByZXNzaW9uKCkuc3Vic3RyaW5nKDAsIGRjLmdldEV4cHJlc3Npb24oKS5pbmRleE9mKCcuJykpLA0KICAgICAgICAgICAgICAgICAgICAgICAgamF2YS51dGlsLkxpbmtlZEhhc2hNYXA6Om5ldywNCiAgICAgICAgICAgICAgICAgICAgICAgIENvbGxlY3RvcnMudG9MaXN0KCkpKTsNCg0KICAgICAgICBmb3IgKGphdmEudXRpbC5NYXAuRW50cnk8U3RyaW5nLCBqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPj4gZW50cnkgOiBkaWZmR3JvdXBzQmVmb3JlLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgIFN0cmluZyByZWZUY2lkID0gZW50cnkuZ2V0S2V5KCk7DQogICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPiBkY0xpc3QgPSBlbnRyeS5nZXRWYWx1ZSgpOw0KDQogICAgICAgICAgICAvLyBMb2NhdGUgcmVmZXJlbmNlIGVuZHBvaW50ICh0cnkgYmF0Y2ggZmlyc3QsIHRoZW4gREIpDQogICAgICAgICAgICBFbmRwb2ludCByZWZFbmRwb2ludCA9IG51bGw7DQogICAgICAgICAgICBmb3IgKEJhdGNoSXRlbSBiaSA6IGJhdGNoSXRlbXMpIHsNCiAgICAgICAgICAgICAgICBpZiAoYmkudGVzdCAhPSBudWxsICYmIHJlZlRjaWQuZXF1YWxzKGJpLnRlc3QuZ2V0VGNpZCgpKSkgew0KICAgICAgICAgICAgICAgICAgICByZWZFbmRwb2ludCA9IGJpLmVuZHBvaW50Ow0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmaW5hbCBHYXRsaW5nVGVzdCByZWZUZXN0ID0gZmluZFJlZlRlc3RCeVRjaWQocmVmVGNpZCk7DQogICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgZW5yaWNoUmVmVGVzdFRlbXBsYXRlcyhyZWZUZXN0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChyZWZUZXN0ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICByZWZFbmRwb2ludCA9IGZpbmRFbmRwb2ludEZvclRlc3QocmVmVGVzdCwgZW5kcG9pbnQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHJlZkVuZHBvaW50ID09IG51bGwpIGNvbnRpbnVlOyAvLyBza2lwIGlmIGVuZHBvaW50IG5vdCBmb3VuZA0KDQogICAgICAgICAgICBTdHJpbmcgcmVmTmFtZSA9IHRlc3QuZ2V0VGNpZCgpICsgIi4iICsgcmVmVGNpZCArICJfUFJFIjsNCiAgICAgICAgICAgIFN0cmluZyByZWZNZXRob2QgPSByZWZFbmRwb2ludC5nZXRNZXRob2QoKSA9PSBudWxsID8gIkdFVCIgOiByZWZFbmRwb2ludC5nZXRNZXRob2QoKS50b1VwcGVyQ2FzZSgpOw0KICAgICAgICAgICAgU3RyaW5nIHJlZlVybCA9IFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIoVGVzdFJ1bkNvbnRleHQucHJvY2Vzc1ZhcmlhYmxlUmVmZXJlbmNlcyhyZWZFbmRwb2ludC5nZXRVcmwoKSksIGphdmEudXRpbC5Db2xsZWN0aW9ucy5lbXB0eU1hcCgpKTsNCg0KICAgICAgICAgICAgSHR0cFJlcXVlc3RBY3Rpb25CdWlsZGVyIHJlZlJlcTsNCiAgICAgICAgICAgIHN3aXRjaCAocmVmTWV0aG9kKSB7DQogICAgICAgICAgICAgICAgY2FzZSAiUE9TVCIgLT4gcmVmUmVxID0gaHR0cChyZWZOYW1lKS5wb3N0KHJlZlVybCk7DQogICAgICAgICAgICAgICAgY2FzZSAiUFVUIiAtPiByZWZSZXEgPSBodHRwKHJlZk5hbWUpLnB1dChyZWZVcmwpOw0KICAgICAgICAgICAgICAgIGNhc2UgIkRFTEVURSIgLT4gcmVmUmVxID0gaHR0cChyZWZOYW1lKS5kZWxldGUocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHJlZlJlcSA9IGh0dHAocmVmTmFtZSkuZ2V0KHJlZlVybCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEFkZCBoZWFkZXJzIGFuZCBib2R5IGZyb20gcmVmVGVzdCAoaWYgYXZhaWxhYmxlKQ0KICAgICAgICAgICAgaWYgKHJlZlRlc3QgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnNNYXBCZWZvcmUgPSBwYXJzZUhlYWRlcnMocmVmVGVzdC5nZXRIZWFkZXJzKCkpOw0KICAgICAgICAgICAgICAgIGZvciAoamF2YS51dGlsLk1hcC5FbnRyeTxTdHJpbmcsIFN0cmluZz4gaGVhZGVyRW50cnkgOiBoZWFkZXJzTWFwQmVmb3JlLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmhlYWRlcihoZWFkZXJFbnRyeS5nZXRLZXkoKSwgc2Vzc2lvbiAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIoaGVhZGVyRW50cnkuZ2V0VmFsdWUoKSwgcmVmVGVzdC5nZXRIZWFkZXJzRHluYW1pY1ZhcmlhYmxlcygpKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChyZWZUZXN0LmdldEJvZHkoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldEJvZHkoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5ib2R5KFN0cmluZ0JvZHkoc2Vzc2lvbiAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIocmVmVGVzdC5nZXRCb2R5KCksIHJlZlRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSkpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEFkZCBqc29uUGF0aCBjaGVja3MgZm9yIGVhY2ggZGlmZiBjaGVjayBpbiB0aGlzIGdyb3VwDQogICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgZGMgOiBkY0xpc3QpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmcgcGF0aCA9IGRjLmdldEV4cHJlc3Npb24oKS5zdWJzdHJpbmcoZGMuZ2V0RXhwcmVzc2lvbigpLmluZGV4T2YoJy4nKSArIDEpOw0KICAgICAgICAgICAgICAgIFN0cmluZyBzYXZlQXNLZXkgPSAiZGlmZl8iICsgZGMuaGFzaENvZGUoKSArICJfUFJFIjsNCiAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soanNvblBhdGgocGF0aCkuc2F2ZUFzKHNhdmVBc0tleSkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBBZGQgb3JpZ2luYWwgY2hlY2tzIGZyb20gcmVmZXJlbmNlIHRlc3QNCiAgICAgICAgICAgIGZpbmFsIGphdmEudXRpbC5MaXN0PENoZWNrUmVwb3J0PiByZWZCZWZvcmVDaGVja3MgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCk7DQogICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsICYmIHJlZlRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4gb3JpZ0NoZWNrcyA9IG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVhZFZhbHVlKHJlZlRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgY29tLmZhc3RlcnhtbC5qYWNrc29uLmNvcmUudHlwZS5UeXBlUmVmZXJlbmNlPGphdmEudXRpbC5MaXN0PFJlc3BvbnNlQ2hlY2s+PigpIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayByYyA6IG9yaWdDaGVja3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIFN0cmluZyBzYXZlS2V5ID0gInJlZl9jaGVja18iICsgcmMuaGFzaENvZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmMuZ2V0VHlwZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTVEFUVVM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhzdGF0dXMoKS5zYXZlQXMoc2F2ZUtleSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEpTT05fUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKGpzb25QYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBYUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKHhwYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSRUdFWDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKHJlZ2V4KHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNoZWNrIHJlcG9ydCB3aXRoIGFsbCBkYXRhIGV4Y2VwdCBhY3R1YWwgdmFsdWUgKGZpbGxlZCBsYXRlcikNCiAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrUmVwb3J0IGNyID0gbmV3IENoZWNrUmVwb3J0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRUeXBlKHJjLmdldFR5cGUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRFeHByZXNzaW9uKHJjLmdldEV4cHJlc3Npb24oKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRPcGVyYXRvcihyYy5nZXRPcGVyYXRvcigpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNyLnNldEV4cGVjdChyYy5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgc2Vzc2lvbiBrZXkgd2l0aCB0aGUgcmVwb3J0IHNvIHdlIGNhbiBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBsYXRlcg0KICAgICAgICAgICAgICAgICAgICAgICAgY3Iuc2V0QWN0dWFsKHNhdmVLZXkpOyAvLyBUZW1wb3JhcmlseSBzdG9yZSB0aGUga2V5IGhlcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZkJlZm9yZUNoZWNrcy5hZGQoY3IpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGlnbm9yZWQpIHt9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEFsd2F5cyBjYXB0dXJlIHN0YXR1cyBhbmQgYmFzaWMgbWV0cmljcyBvbmNlIHBlciByZXF1ZXN0DQogICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soDQogICAgICAgICAgICAgICAgICAgIHN0YXR1cygpLmlzKDIwMCksDQogICAgICAgICAgICAgICAgICAgIGJvZHlTdHJpbmcoKS5zYXZlQXMoInJlc3BvbnNlQm9keSIpLA0KICAgICAgICAgICAgICAgICAgICByZXNwb25zZVRpbWVJbk1pbGxpcygpLnNhdmVBcygibGF0ZW5jeU1zIiksDQogICAgICAgICAgICAgICAgICAgIGJvZHlMZW5ndGgoKS5zYXZlQXMoInNpemVCeXRlcyIpDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgZm9yIChTdHJpbmcgaGVhZGVyTmFtZSA6IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSkgew0KICAgICAgICAgICAgICAgIFN0cmluZyBzZXNzaW9uS2V5ID0gInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIik7DQogICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKGhlYWRlcihoZWFkZXJOYW1lKS5vcHRpb25hbCgpLnNhdmVBcyhzZXNzaW9uS2V5KSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIFJlcG9ydGluZyAmIHZhcmlhYmxlIHNhdmluZw0KICAgICAgICAgICAgQ2hhaW5CdWlsZGVyIHJlZlJlcG9ydGluZyA9IGV4ZWMocyAtPiB7DQogICAgICAgICAgICAgICAgU3RyaW5nIG1haW5UY2lkID0gdGVzdC5nZXRUY2lkKCk7DQogICAgICAgICAgICAgICAgU3RyaW5nIHJlZlJlcXVlc3RSZXBvcnRLZXkgPSBtYWluVGNpZCArICJ8IiArIHJlZlRjaWQgKyAifERJRkZfUFJFIjsNCg0KICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBDYXNlUmVwb3J0IGZvciB0aGlzIHJlZmVyZW5jZSByZXF1ZXN0DQogICAgICAgICAgICAgICAgQ2FzZVJlcG9ydCByZWZDYXNlUmVwb3J0ID0gY2FzZVJlcG9ydHMuY29tcHV0ZUlmQWJzZW50KHJlZlJlcXVlc3RSZXBvcnRLZXksIGsgLT4gew0KICAgICAgICAgICAgICAgICAgICBDYXNlUmVwb3J0IGNyID0gbmV3IENhc2VSZXBvcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0VGNpZChyZWZUY2lkKTsNCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0SXRlbXMoQ29sbGVjdGlvbnMuc3luY2hyb25pemVkTGlzdChuZXcgQXJyYXlMaXN0PD4oKSkpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3I7DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICBSZXF1ZXN0UmVwb3J0IHJwdCA9IG5ldyBSZXF1ZXN0UmVwb3J0KCk7DQogICAgICAgICAgICAgICAgcnB0LnNldFJlcXVlc3ROYW1lKHJlZk5hbWUpOw0KDQogICAgICAgICAgICAgICAgUmVxdWVzdEluZm8gcmVxSW5mbyA9IG5ldyBSZXF1ZXN0SW5mbygpOw0KICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0TWV0aG9kKHJlZk1ldGhvZCk7DQogICAgICAgICAgICAgICAgcmVxSW5mby5zZXRVcmwocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTWFwPFN0cmluZywgU3RyaW5nPiBmaW5hbEhlYWRlcnNNYXAgPSBuZXcgamF2YS51dGlsLkhhc2hNYXA8PigpOw0KICAgICAgICAgICAgICAgIGlmIChyZWZUZXN0ICE9IG51bGwgJiYgcmVmVGVzdC5nZXRIZWFkZXJzKCkgIT0gbnVsbCAmJiAhcmVmVGVzdC5nZXRIZWFkZXJzKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbEhlYWRlcnMgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHJlZlRlc3QuZ2V0SGVhZGVycygpLCByZWZUZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICAgICAgICAgICAgICBmaW5hbEhlYWRlcnNNYXAgPSBwYXJzZUhlYWRlcnMoZmluYWxIZWFkZXJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmVxSW5mby5zZXRIZWFkZXJzKGZpbmFsSGVhZGVyc01hcCk7DQogICAgICAgICAgICAgICAgaWYgKHJlZlRlc3QgIT0gbnVsbCAmJiByZWZUZXN0LmdldEJvZHkoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldEJvZHkoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbEJvZHkgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHJlZlRlc3QuZ2V0Qm9keSgpLCByZWZUZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICAgICAgICAgICAgICByZXFJbmZvLnNldEJvZHkoZmluYWxCb2R5KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXFJbmZvLnNldEJvZHkoInt9Iik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJwdC5zZXRSZXF1ZXN0KHJlcUluZm8pOw0KDQogICAgICAgICAgICAgICAgUmVzcG9uc2VJbmZvIHJlc3BJbmZvID0gbmV3IFJlc3BvbnNlSW5mbygpOw0KICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKCJyZXNwb25zZUJvZHkiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRCb2R5U2FtcGxlKHMuZ2V0U3RyaW5nKCJyZXNwb25zZUJvZHkiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKCJsYXRlbmN5TXMiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRMYXRlbmN5TXMocy5nZXRMb25nKCJsYXRlbmN5TXMiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKCJzaXplQnl0ZXMiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRTaXplQnl0ZXMoKGxvbmcpIHMuZ2V0SW50KCJzaXplQnl0ZXMiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBTdHJpbmc+IGNhcHR1cmVkSGVhZGVycyA9IG5ldyBqYXZhLnV0aWwuSGFzaE1hcDw+KCk7DQogICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgaGVhZGVyTmFtZSA6IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcga2V5ID0gInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIik7DQogICAgICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKGtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVkSGVhZGVycy5wdXQoaGVhZGVyTmFtZSwgcy5nZXRTdHJpbmcoa2V5KSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmVzcEluZm8uc2V0SGVhZGVycyhjYXB0dXJlZEhlYWRlcnMpOw0KICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldFN0YXR1cygyMDApOw0KICAgICAgICAgICAgICAgIHJwdC5zZXRSZXNwb25zZShyZXNwSW5mbyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgY2hlY2sgcmVwb3J0cyBhbmQgZmlsbCBpbiBhY3R1YWwgdmFsdWVzDQogICAgICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8Q2hlY2tSZXBvcnQ+IGZpbmFsQ2hlY2tzID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PigpOw0KICAgICAgICAgICAgICAgIGZvciAoQ2hlY2tSZXBvcnQgY3IgOiByZWZCZWZvcmVDaGVja3MpIHsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHNhdmVLZXkgPSBjci5nZXRBY3R1YWwoKTsgLy8gVGhlIGtleSB3YXMgc3RvcmVkIGluIHRoZSBhY3R1YWwgZmllbGQNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGFjdHVhbFZhbHVlID0gIjxOT1QgRk9VTkQ+IjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoc2F2ZUtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdCByYXdWYWx1ZSA9IHMuZ2V0KHNhdmVLZXkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSAoU3RyaW5nKSByYXdWYWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmF3VmFsdWUgaW5zdGFuY2VvZiBjaGFyW10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IG5ldyBTdHJpbmcoKGNoYXJbXSkgcmF3VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIFN0cmluZ1tdIGFycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gYXJyLmxlbmd0aCA+IDAgPyBhcnJbMF0gOiAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBTdHJpbmcudmFsdWVPZihyYXdWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGtleSBmcm9tIHNlc3Npb24NCiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlbW92ZShzYXZlS2V5KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0QWN0dWFsKGFjdHVhbFZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBwYXNzZWQ7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3IuZ2V0T3BlcmF0b3IoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOUzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBhY3R1YWxWYWx1ZS5jb250YWlucyhjci5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTOg0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBhY3R1YWxWYWx1ZS5lcXVhbHMoY3IuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNyLnNldFBhc3NlZChwYXNzZWQpOw0KICAgICAgICAgICAgICAgICAgICBmaW5hbENoZWNrcy5hZGQoY3IpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBycHQuc2V0Q2hlY2tzKGZpbmFsQ2hlY2tzKTsNCiAgICAgICAgICAgICAgICBycHQuc2V0UGFzc2VkKHRydWUpOw0KICAgICAgICAgICAgICAgIHJwdC5zZXRTdGF0dXMoIjIwMCIpOw0KICAgICAgICAgICAgICAgIHJlZkNhc2VSZXBvcnQuZ2V0SXRlbXMoKS5hZGQocnB0KTsNCg0KICAgICAgICAgICAgICAgIC8vIFNhdmUgZXh0cmFjdGVkIHZhbHVlcyB0byBUZXN0UnVuQ29udGV4dA0KICAgICAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayBkY0lubmVyIDogZGNMaXN0KSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBrZXkgPSAiZGlmZl8iICsgZGNJbm5lci5oYXNoQ29kZSgpICsgIl9QUkUiOw0KICAgICAgICAgICAgICAgICAgICBpZiAocy5jb250YWlucyhrZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QgdmFsID0gcy5nZXQoa2V5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3RSdW5Db250ZXh0LnNhdmVCZWZvcmUoZGNJbm5lci5nZXRFeHByZXNzaW9uKCksIFN0cmluZy52YWx1ZU9mKHZhbCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKGtleSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc2Vzc2lvbg0KICAgICAgICAgICAgICAgIHMgPSBzLnJlbW92ZSgicmVzcG9uc2VCb2R5IikucmVtb3ZlKCJsYXRlbmN5TXMiKS5yZW1vdmUoInNpemVCeXRlcyIpOw0KICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIGhlYWRlck5hbWUgOiBSRVNQT05TRV9IRUFERVJTX1RPX0NBUFRVUkUpIHsNCiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKCJyZXNwSGVhZGVyXyIgKyBoZWFkZXJOYW1lLnJlcGxhY2UoIi0iLCAiXyIpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gczsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBiZWZvcmVDaGFpbiA9IGJlZm9yZUNoYWluLmV4ZWMocmVmUmVxKS5leGVjKHJlZlJlcG9ydGluZyk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgLy8gQnVpbGQgUFJFX0NIRUNLIHJlZmVyZW5jZSByZXF1ZXN0KHMpDQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PQ0KICAgICAgICAvLyBHcm91cCBQUkVfQ0hFQ0sgY2hlY2tzIGJ5IHJlZmVyZW5jZSBUQ0lEIHRvIGF2b2lkIGR1cGxpY2F0ZSByZWZlcmVuY2UgcmVxdWVzdHMNCiAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIGphdmEudXRpbC5MaXN0PFJlc3BvbnNlQ2hlY2s+PiBwcmVDaGVja0dyb3VwcyA9IHByZUNoZWNrcy5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIocGMgLT4gcGMuZ2V0RXhwcmVzc2lvbigpICE9IG51bGwgJiYgcGMuZ2V0RXhwcmVzc2lvbigpLmNvbnRhaW5zKCIuIikpDQogICAgICAgICAgICAgICAgLmNvbGxlY3QoQ29sbGVjdG9ycy5ncm91cGluZ0J5KA0KICAgICAgICAgICAgICAgICAgICAgICAgcGMgLT4gcGMuZ2V0RXhwcmVzc2lvbigpLnN1YnN0cmluZygwLCBwYy5nZXRFeHByZXNzaW9uKCkuaW5kZXhPZignLicpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGphdmEudXRpbC5MaW5rZWRIYXNoTWFwOjpuZXcsDQogICAgICAgICAgICAgICAgICAgICAgICBDb2xsZWN0b3JzLnRvTGlzdCgpKSk7DQoNCiAgICAgICAgZm9yIChqYXZhLnV0aWwuTWFwLkVudHJ5PFN0cmluZywgamF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4+IGVudHJ5IDogcHJlQ2hlY2tHcm91cHMuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgU3RyaW5nIHJlZlRjaWQgPSBlbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PFJlc3BvbnNlQ2hlY2s+IHBjTGlzdCA9IGVudHJ5LmdldFZhbHVlKCk7DQoNCiAgICAgICAgICAgIC8vIExvY2F0ZSByZWZlcmVuY2UgZW5kcG9pbnQgKHRyeSBiYXRjaCBmaXJzdCwgdGhlbiBEQikNCiAgICAgICAgICAgIEVuZHBvaW50IHJlZkVuZHBvaW50ID0gbnVsbDsNCiAgICAgICAgICAgIGZvciAoQmF0Y2hJdGVtIGJpIDogYmF0Y2hJdGVtcykgew0KICAgICAgICAgICAgICAgIGlmIChiaS50ZXN0ICE9IG51bGwgJiYgcmVmVGNpZC5lcXVhbHMoYmkudGVzdC5nZXRUY2lkKCkpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlZkVuZHBvaW50ID0gYmkuZW5kcG9pbnQ7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZpbmFsIEdhdGxpbmdUZXN0IHJlZlRlc3QgPSBmaW5kUmVmVGVzdEJ5VGNpZChyZWZUY2lkKTsNCiAgICAgICAgICAgIGlmIChyZWZUZXN0ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBlbnJpY2hSZWZUZXN0VGVtcGxhdGVzKHJlZlRlc3QpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHJlZlRlc3QgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHJlZkVuZHBvaW50ID0gZmluZEVuZHBvaW50Rm9yVGVzdChyZWZUZXN0LCBlbmRwb2ludCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAocmVmRW5kcG9pbnQgPT0gbnVsbCkgY29udGludWU7IC8vIHNraXAgaWYgZW5kcG9pbnQgbm90IGZvdW5kDQoNCiAgICAgICAgICAgIFN0cmluZyByZWZOYW1lID0gdGVzdC5nZXRUY2lkKCkgKyAiLiIgKyByZWZUY2lkICsgIl9QUkVfQ0hFQ0siOw0KICAgICAgICAgICAgU3RyaW5nIHJlZk1ldGhvZCA9IHJlZkVuZHBvaW50LmdldE1ldGhvZCgpID09IG51bGwgPyAiR0VUIiA6IHJlZkVuZHBvaW50LmdldE1ldGhvZCgpLnRvVXBwZXJDYXNlKCk7DQogICAgICAgICAgICBTdHJpbmcgcmVmVXJsID0gUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihUZXN0UnVuQ29udGV4dC5wcm9jZXNzVmFyaWFibGVSZWZlcmVuY2VzKHJlZkVuZHBvaW50LmdldFVybCgpKSwgamF2YS51dGlsLkNvbGxlY3Rpb25zLmVtcHR5TWFwKCkpOw0KDQogICAgICAgICAgICBIdHRwUmVxdWVzdEFjdGlvbkJ1aWxkZXIgcmVmUmVxOw0KICAgICAgICAgICAgc3dpdGNoIChyZWZNZXRob2QpIHsNCiAgICAgICAgICAgICAgICBjYXNlICJQT1NUIiAtPiByZWZSZXEgPSBodHRwKHJlZk5hbWUpLnBvc3QocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBjYXNlICJQVVQiIC0+IHJlZlJlcSA9IGh0dHAocmVmTmFtZSkucHV0KHJlZlVybCk7DQogICAgICAgICAgICAgICAgY2FzZSAiREVMRVRFIiAtPiByZWZSZXEgPSBodHRwKHJlZk5hbWUpLmRlbGV0ZShyZWZVcmwpOw0KICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gcmVmUmVxID0gaHR0cChyZWZOYW1lKS5nZXQocmVmVXJsKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQWRkIGhlYWRlcnMgYW5kIGJvZHkgZnJvbSByZWZUZXN0IChpZiBhdmFpbGFibGUpDQogICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVyc01hcCA9IHBhcnNlSGVhZGVycyhyZWZUZXN0LmdldEhlYWRlcnMoKSk7DQogICAgICAgICAgICAgICAgZm9yIChqYXZhLnV0aWwuTWFwLkVudHJ5PFN0cmluZywgU3RyaW5nPiBoZWFkZXJFbnRyeSA6IGhlYWRlcnNNYXAuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuaGVhZGVyKGhlYWRlckVudHJ5LmdldEtleSgpLCBzZXNzaW9uIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihoZWFkZXJFbnRyeS5nZXRWYWx1ZSgpLCByZWZUZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHJlZlRlc3QuZ2V0Qm9keSgpICE9IG51bGwgJiYgIXJlZlRlc3QuZ2V0Qm9keSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmJvZHkoU3RyaW5nQm9keShzZXNzaW9uIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihyZWZUZXN0LmdldEJvZHkoKSwgcmVmVGVzdC5nZXRCb2R5RHluYW1pY1ZhcmlhYmxlcygpKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQWRkIGpzb25QYXRoIGNoZWNrcyBmb3IgZWFjaCBQUkVfQ0hFQ0sgaW4gdGhpcyBncm91cA0KICAgICAgICAgICAgZm9yIChSZXNwb25zZUNoZWNrIHBjIDogcGNMaXN0KSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIHBhdGggPSBwYy5nZXRFeHByZXNzaW9uKCkuc3Vic3RyaW5nKHBjLmdldEV4cHJlc3Npb24oKS5pbmRleE9mKCcuJykgKyAxKTsNCiAgICAgICAgICAgICAgICBTdHJpbmcgc2F2ZUFzS2V5ID0gInByZV9jaGVja18iICsgcGMuaGFzaENvZGUoKTsNCiAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soanNvblBhdGgocGF0aCkuc2F2ZUFzKHNhdmVBc0tleSkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBBZGQgb3JpZ2luYWwgY2hlY2tzIGZyb20gcmVmZXJlbmNlIHRlc3QNCiAgICAgICAgICAgIGZpbmFsIGphdmEudXRpbC5MaXN0PENoZWNrUmVwb3J0PiByZWZQcmVDaGVja3MgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCk7DQogICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsICYmIHJlZlRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4gb3JpZ0NoZWNrcyA9IG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVhZFZhbHVlKHJlZlRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uY29yZS50eXBlLlR5cGVSZWZlcmVuY2U8amF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4+KCkge30pOw0KDQogICAgICAgICAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayByYyA6IG9yaWdDaGVja3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIFN0cmluZyBzYXZlS2V5ID0gInJlZl9wcmVfY2hlY2tfb3JpZ18iICsgcmMuaGFzaENvZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmMuZ2V0VHlwZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTVEFUVVM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhzdGF0dXMoKS5zYXZlQXMoc2F2ZUtleSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEpTT05fUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKGpzb25QYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBYUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKHhwYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSRUdFWDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKHJlZ2V4KHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrUmVwb3J0IGNyID0gbmV3IENoZWNrUmVwb3J0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRUeXBlKHJjLmdldFR5cGUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRFeHByZXNzaW9uKHJjLmdldEV4cHJlc3Npb24oKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRPcGVyYXRvcihyYy5nZXRPcGVyYXRvcigpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNyLnNldEV4cGVjdChyYy5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRBY3R1YWwoc2F2ZUtleSk7IC8vIFRlbXBvcmFyaWx5IHN0b3JlIHRoZSBrZXkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZlByZUNoZWNrcy5hZGQoY3IpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGlnbm9yZWQpIHt9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEFsd2F5cyBjYXB0dXJlIHN0YXR1cyBhbmQgYmFzaWMgbWV0cmljcw0KICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKA0KICAgICAgICAgICAgICAgICAgICBzdGF0dXMoKS5pcygyMDApLA0KICAgICAgICAgICAgICAgICAgICBib2R5U3RyaW5nKCkuc2F2ZUFzKCJyZXNwb25zZUJvZHkiKSwNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUaW1lSW5NaWxsaXMoKS5zYXZlQXMoImxhdGVuY3lNcyIpLA0KICAgICAgICAgICAgICAgICAgICBib2R5TGVuZ3RoKCkuc2F2ZUFzKCJzaXplQnl0ZXMiKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIGZvciAoU3RyaW5nIGhlYWRlck5hbWUgOiBSRVNQT05TRV9IRUFERVJTX1RPX0NBUFRVUkUpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmcgc2Vzc2lvbktleSA9ICJyZXNwSGVhZGVyXyIgKyBoZWFkZXJOYW1lLnJlcGxhY2UoIi0iLCAiXyIpOw0KICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhoZWFkZXIoaGVhZGVyTmFtZSkub3B0aW9uYWwoKS5zYXZlQXMoc2Vzc2lvbktleSkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBSZXBvcnRpbmcgJiB2YXJpYWJsZSBzYXZpbmcNCiAgICAgICAgICAgIENoYWluQnVpbGRlciByZWZSZXBvcnRpbmcgPSBleGVjKHMgLT4gew0KICAgICAgICAgICAgICAgIFN0cmluZyBtYWluVGNpZCA9IHRlc3QuZ2V0VGNpZCgpOw0KICAgICAgICAgICAgICAgIFN0cmluZyByZWZSZXF1ZXN0UmVwb3J0S2V5ID0gbWFpblRjaWQgKyAifCIgKyByZWZUY2lkICsgInxQUkVfQ0hFQ0siOw0KDQogICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IENhc2VSZXBvcnQgZm9yIHRoaXMgcmVmZXJlbmNlIHJlcXVlc3QNCiAgICAgICAgICAgICAgICBDYXNlUmVwb3J0IHJlZkNhc2VSZXBvcnQgPSBjYXNlUmVwb3J0cy5jb21wdXRlSWZBYnNlbnQocmVmUmVxdWVzdFJlcG9ydEtleSwgayAtPiB7DQogICAgICAgICAgICAgICAgICAgIENhc2VSZXBvcnQgY3IgPSBuZXcgQ2FzZVJlcG9ydCgpOw0KICAgICAgICAgICAgICAgICAgICBjci5zZXRUY2lkKHJlZlRjaWQpOw0KICAgICAgICAgICAgICAgICAgICBjci5zZXRJdGVtcyhDb2xsZWN0aW9ucy5zeW5jaHJvbml6ZWRMaXN0KG5ldyBBcnJheUxpc3Q8PigpKSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjcjsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBSZXF1ZXN0UmVwb3J0IHJwdCA9IG5ldyBSZXF1ZXN0UmVwb3J0KCk7DQogICAgICAgICAgICAgICAgcnB0LnNldFJlcXVlc3ROYW1lKHJlZk5hbWUpOw0KDQogICAgICAgICAgICAgICAgUmVxdWVzdEluZm8gcmVxSW5mbyA9IG5ldyBSZXF1ZXN0SW5mbygpOw0KICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0TWV0aG9kKHJlZk1ldGhvZCk7DQogICAgICAgICAgICAgICAgcmVxSW5mby5zZXRVcmwocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTWFwPFN0cmluZywgU3RyaW5nPiBmaW5hbEhlYWRlcnNNYXAgPSBuZXcgamF2YS51dGlsLkhhc2hNYXA8PigpOw0KICAgICAgICAgICAgICAgIGlmIChyZWZUZXN0ICE9IG51bGwgJiYgcmVmVGVzdC5nZXRIZWFkZXJzKCkgIT0gbnVsbCAmJiAhcmVmVGVzdC5nZXRIZWFkZXJzKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbEhlYWRlcnMgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHJlZlRlc3QuZ2V0SGVhZGVycygpLCByZWZUZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICAgICAgICAgICAgICBmaW5hbEhlYWRlcnNNYXAgPSBwYXJzZUhlYWRlcnMoZmluYWxIZWFkZXJzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmVxSW5mby5zZXRIZWFkZXJzKGZpbmFsSGVhZGVyc01hcCk7DQogICAgICAgICAgICAgICAgaWYgKHJlZlRlc3QgIT0gbnVsbCAmJiByZWZUZXN0LmdldEJvZHkoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldEJvZHkoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbEJvZHkgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHJlZlRlc3QuZ2V0Qm9keSgpLCByZWZUZXN0LmdldEJvZHlEeW5hbWljVmFyaWFibGVzKCkpOw0KICAgICAgICAgICAgICAgICAgICByZXFJbmZvLnNldEJvZHkoZmluYWxCb2R5KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXFJbmZvLnNldEJvZHkoInt9Iik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJwdC5zZXRSZXF1ZXN0KHJlcUluZm8pOw0KDQogICAgICAgICAgICAgICAgUmVzcG9uc2VJbmZvIHJlc3BJbmZvID0gbmV3IFJlc3BvbnNlSW5mbygpOw0KICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKCJyZXNwb25zZUJvZHkiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRCb2R5U2FtcGxlKHMuZ2V0U3RyaW5nKCJyZXNwb25zZUJvZHkiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKCJsYXRlbmN5TXMiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRMYXRlbmN5TXMocy5nZXRMb25nKCJsYXRlbmN5TXMiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKCJzaXplQnl0ZXMiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRTaXplQnl0ZXMoKGxvbmcpIHMuZ2V0SW50KCJzaXplQnl0ZXMiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBTdHJpbmc+IGNhcHR1cmVkSGVhZGVycyA9IG5ldyBqYXZhLnV0aWwuSGFzaE1hcDw+KCk7DQogICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgaGVhZGVyTmFtZSA6IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcga2V5ID0gInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIik7DQogICAgICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKGtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVkSGVhZGVycy5wdXQoaGVhZGVyTmFtZSwgcy5nZXRTdHJpbmcoa2V5KSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmVzcEluZm8uc2V0SGVhZGVycyhjYXB0dXJlZEhlYWRlcnMpOw0KICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldFN0YXR1cygyMDApOyAvLyBEZWZhdWx0IHN0YXR1cw0KICAgICAgICAgICAgICAgIHJwdC5zZXRSZXNwb25zZShyZXNwSW5mbyk7DQoNCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBjaGVjayByZXBvcnRzIGFuZCBmaWxsIGluIGFjdHVhbCB2YWx1ZXMNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxDaGVja1JlcG9ydD4gZmluYWxDaGVja3MgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCk7DQogICAgICAgICAgICAgICAgZm9yIChDaGVja1JlcG9ydCBjciA6IHJlZlByZUNoZWNrcykgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgc2F2ZUtleSA9IGNyLmdldEFjdHVhbCgpOyAvLyBUaGUga2V5IHdhcyBzdG9yZWQgaW4gdGhlIGFjdHVhbCBmaWVsZA0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgYWN0dWFsVmFsdWUgPSAiPE5PVCBGT1VORD4iOw0KICAgICAgICAgICAgICAgICAgICBpZiAocy5jb250YWlucyhzYXZlS2V5KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0IHJhd1ZhbHVlID0gcy5nZXQoc2F2ZUtleSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF3VmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IChTdHJpbmcpIHJhd1ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIGNoYXJbXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gbmV3IFN0cmluZygoY2hhcltdKSByYXdWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhd1ZhbHVlIGluc3RhbmNlb2YgU3RyaW5nW10gYXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBhcnIubGVuZ3RoID4gMCA/IGFyclswXSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IFN0cmluZy52YWx1ZU9mKHJhd1ZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlbW92ZShzYXZlS2V5KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGNyLnNldEFjdHVhbChhY3R1YWxWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIGJvb2xlYW4gcGFzc2VkOw0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNyLmdldE9wZXJhdG9yKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09OVEFJTlM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkID0gYWN0dWFsVmFsdWUuY29udGFpbnMoY3IuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNQVRDSEVTOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCA9IGFjdHVhbFZhbHVlLm1hdGNoZXMoY3IuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7IHBhc3NlZCA9IGZhbHNlOyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTOg0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBhY3R1YWxWYWx1ZS5lcXVhbHMoY3IuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNyLnNldFBhc3NlZChwYXNzZWQpOw0KICAgICAgICAgICAgICAgICAgICBmaW5hbENoZWNrcy5hZGQoY3IpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBycHQuc2V0Q2hlY2tzKGZpbmFsQ2hlY2tzKTsNCg0KICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBvdmVyYWxsIHBhc3NlZCBzdGF0dXMgYW5kIHJlc3BvbnNlIHN0YXR1cyBmcm9tIGNoZWNrcw0KICAgICAgICAgICAgICAgIGJvb2xlYW4gYWxsUGFzc2VkID0gZmluYWxDaGVja3Muc3RyZWFtKCkuYWxsTWF0Y2goQ2hlY2tSZXBvcnQ6OmlzUGFzc2VkKTsNCiAgICAgICAgICAgICAgICBycHQuc2V0UGFzc2VkKGFsbFBhc3NlZCk7DQogICAgICAgICAgICAgICAgZmluYWxDaGVja3Muc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIociAtPiByLmdldFR5cGUoKSA9PSBDaGVja1R5cGUuU1RBVFVTICYmIHIuZ2V0QWN0dWFsKCkgIT0gbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kRmlyc3QoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmlmUHJlc2VudChyIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRTdGF0dXMoSW50ZWdlci5wYXJzZUludChyLmdldEFjdHVhbCgpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwdC5zZXRTdGF0dXMoci5nZXRBY3R1YWwoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnB0LnNldFN0YXR1cyhTdHJpbmcudmFsdWVPZihyZXNwSW5mby5nZXRTdGF0dXMoKSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChycHQuZ2V0U3RhdHVzKCkgPT0gbnVsbCkgcnB0LnNldFN0YXR1cyhTdHJpbmcudmFsdWVPZihyZXNwSW5mby5nZXRTdGF0dXMoKSkpOw0KDQogICAgICAgICAgICAgICAgcmVmQ2FzZVJlcG9ydC5nZXRJdGVtcygpLmFkZChycHQpOw0KDQogICAgICAgICAgICAgICAgLy8gU2F2ZSBleHRyYWN0ZWQgdmFsdWVzIHRvIFRlc3RSdW5Db250ZXh0IGZvciBQUkVfQ0hFQ0sNCiAgICAgICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgcGNJbm5lciA6IHBjTGlzdCkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcga2V5ID0gInByZV9jaGVja18iICsgcGNJbm5lci5oYXNoQ29kZSgpOw0KICAgICAgICAgICAgICAgICAgICBpZiAocy5jb250YWlucyhrZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QgdmFsID0gcy5nZXQoa2V5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBzdHJpbmdWYWwgPSBTdHJpbmcudmFsdWVPZih2YWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgVGVzdFJ1bkNvbnRleHQuc2F2ZVByZUNoZWNrKHBjSW5uZXIuZ2V0RXhwcmVzc2lvbigpLCBzdHJpbmdWYWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKGtleSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBzZXNzaW9uDQogICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKCJyZXNwb25zZUJvZHkiKS5yZW1vdmUoImxhdGVuY3lNcyIpLnJlbW92ZSgic2l6ZUJ5dGVzIik7DQogICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgaGVhZGVyTmFtZSA6IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSkgew0KICAgICAgICAgICAgICAgICAgICBzID0gcy5yZW1vdmUoInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIikpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBzOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGJlZm9yZUNoYWluID0gYmVmb3JlQ2hhaW4uZXhlYyhyZWZSZXEpLmV4ZWMocmVmUmVwb3J0aW5nKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PQ0KICAgICAgICAvLyBCdWlsZCByZWZlcmVuY2UgQUZURVIgcmVxdWVzdChzKSBmb3IgRElGRiBjaGVja3MNCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgICAgIENoYWluQnVpbGRlciBhZnRlckNoYWluID0gZXhlYyhzZXNzaW9uIC0+IHNlc3Npb24pOw0KDQogICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPj4gZGlmZkdyb3Vwc0FmdGVyID0gZGlmZkdyb3Vwc0JlZm9yZTsgLy8gc2FtZSBncm91cGluZw0KICAgICAgICBmb3IgKGphdmEudXRpbC5NYXAuRW50cnk8U3RyaW5nLCBqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPj4gZW50cnkgOiBkaWZmR3JvdXBzQWZ0ZXIuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgU3RyaW5nIHJlZlRjaWQgPSBlbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PFJlc3BvbnNlQ2hlY2s+IGRjTGlzdCA9IGVudHJ5LmdldFZhbHVlKCk7DQoNCiAgICAgICAgICAgIEVuZHBvaW50IHJlZkVuZHBvaW50ID0gbnVsbDsNCiAgICAgICAgICAgIGZvciAoQmF0Y2hJdGVtIGJpIDogYmF0Y2hJdGVtcykgew0KICAgICAgICAgICAgICAgIGlmIChiaS50ZXN0ICE9IG51bGwgJiYgcmVmVGNpZC5lcXVhbHMoYmkudGVzdC5nZXRUY2lkKCkpKSB7IHJlZkVuZHBvaW50ID0gYmkuZW5kcG9pbnQ7IGJyZWFrOyB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmaW5hbCBHYXRsaW5nVGVzdCByZWZUZXN0QWZ0ZXIgPSBmaW5kUmVmVGVzdEJ5VGNpZChyZWZUY2lkKTsNCiAgICAgICAgICAgIGlmIChyZWZUZXN0QWZ0ZXIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGVucmljaFJlZlRlc3RUZW1wbGF0ZXMocmVmVGVzdEFmdGVyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChyZWZUZXN0QWZ0ZXIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHJlZkVuZHBvaW50ID0gZmluZEVuZHBvaW50Rm9yVGVzdChyZWZUZXN0QWZ0ZXIsIGVuZHBvaW50KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChyZWZFbmRwb2ludCA9PSBudWxsKSBjb250aW51ZTsNCg0KICAgICAgICAgICAgU3RyaW5nIHJlZk5hbWUgPSB0ZXN0LmdldFRjaWQoKSArICIuIiArIHJlZlRjaWQgKyAiX1BTVCI7DQogICAgICAgICAgICBTdHJpbmcgcmVmTWV0aG9kID0gcmVmRW5kcG9pbnQuZ2V0TWV0aG9kKCkgPT0gbnVsbCA/ICJHRVQiIDogcmVmRW5kcG9pbnQuZ2V0TWV0aG9kKCkudG9VcHBlckNhc2UoKTsNCiAgICAgICAgICAgIFN0cmluZyByZWZVcmwgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKFRlc3RSdW5Db250ZXh0LnByb2Nlc3NWYXJpYWJsZVJlZmVyZW5jZXMocmVmRW5kcG9pbnQuZ2V0VXJsKCkpLCBqYXZhLnV0aWwuQ29sbGVjdGlvbnMuZW1wdHlNYXAoKSk7DQoNCiAgICAgICAgICAgIEh0dHBSZXF1ZXN0QWN0aW9uQnVpbGRlciByZWZSZXE7DQogICAgICAgICAgICBzd2l0Y2ggKHJlZk1ldGhvZCkgew0KICAgICAgICAgICAgICAgIGNhc2UgIlBPU1QiIC0+IHJlZlJlcSA9IGh0dHAocmVmTmFtZSkucG9zdChyZWZVcmwpOw0KICAgICAgICAgICAgICAgIGNhc2UgIlBVVCIgLT4gcmVmUmVxID0gaHR0cChyZWZOYW1lKS5wdXQocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBjYXNlICJERUxFVEUiIC0+IHJlZlJlcSA9IGh0dHAocmVmTmFtZSkuZGVsZXRlKHJlZlVybCk7DQogICAgICAgICAgICAgICAgZGVmYXVsdCAtPiByZWZSZXEgPSBodHRwKHJlZk5hbWUpLmdldChyZWZVcmwpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBIZWFkZXJzICYgYm9keQ0KICAgICAgICAgICAgaWYgKHJlZlRlc3RBZnRlciAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVyc01hcEFmdGVyID0gcGFyc2VIZWFkZXJzKHJlZlRlc3RBZnRlci5nZXRIZWFkZXJzKCkpOw0KICAgICAgICAgICAgICAgIGZvciAoamF2YS51dGlsLk1hcC5FbnRyeTxTdHJpbmcsIFN0cmluZz4gaGVhZGVyRW50cnkgOiBoZWFkZXJzTWFwQWZ0ZXIuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuaGVhZGVyKGhlYWRlckVudHJ5LmdldEtleSgpLCBzZXNzaW9uIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihoZWFkZXJFbnRyeS5nZXRWYWx1ZSgpLCByZWZUZXN0QWZ0ZXIuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAocmVmVGVzdEFmdGVyLmdldEJvZHkoKSAhPSBudWxsICYmICFyZWZUZXN0QWZ0ZXIuZ2V0Qm9keSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmJvZHkoU3RyaW5nQm9keShzZXNzaW9uIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihyZWZUZXN0QWZ0ZXIuZ2V0Qm9keSgpLCByZWZUZXN0QWZ0ZXIuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSkpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIGpzb25QYXRoIGNoZWNrcyBmb3IgZWFjaCBkaWZmIGNoZWNrDQogICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgZGMgOiBkY0xpc3QpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmcgcGF0aCA9IGRjLmdldEV4cHJlc3Npb24oKS5zdWJzdHJpbmcoZGMuZ2V0RXhwcmVzc2lvbigpLmluZGV4T2YoJy4nKSArIDEpOw0KICAgICAgICAgICAgICAgIFN0cmluZyBzYXZlQXNLZXkgPSAiZGlmZl8iICsgZGMuaGFzaENvZGUoKSArICJfUFNUIjsNCiAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soanNvblBhdGgocGF0aCkuc2F2ZUFzKHNhdmVBc0tleSkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBBZGQgb3JpZ2luYWwgY2hlY2tzIGZyb20gcmVmZXJlbmNlIHRlc3QNCiAgICAgICAgICAgIGZpbmFsIGphdmEudXRpbC5MaXN0PENoZWNrUmVwb3J0PiByZWZBZnRlckNoZWNrcyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgIGlmIChyZWZUZXN0QWZ0ZXIgIT0gbnVsbCAmJiByZWZUZXN0QWZ0ZXIuZ2V0UmVzcG9uc2VDaGVja3MoKSAhPSBudWxsICYmICFyZWZUZXN0QWZ0ZXIuZ2V0UmVzcG9uc2VDaGVja3MoKS5pc0JsYW5rKCkpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPiBvcmlnQ2hlY2tzID0gbmV3IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXIoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZWFkVmFsdWUocmVmVGVzdEFmdGVyLmdldFJlc3BvbnNlQ2hlY2tzKCksIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5jb3JlLnR5cGUuVHlwZVJlZmVyZW5jZTxqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPj4oKSB7fSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgcmMgOiBvcmlnQ2hlY2tzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmaW5hbCBTdHJpbmcgc2F2ZUtleSA9ICJyZWZfY2hlY2tfIiArIHJjLmhhc2hDb2RlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJjLmdldFR5cGUoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgU1RBVFVTOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soc3RhdHVzKCkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBKU09OX1BBVEg6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhqc29uUGF0aChyYy5nZXRFeHByZXNzaW9uKCkpLnNhdmVBcyhzYXZlS2V5KSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgWFBBVEg6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayh4cGF0aChyYy5nZXRFeHByZXNzaW9uKCkpLnNhdmVBcyhzYXZlS2V5KSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUkVHRVg6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhyZWdleChyYy5nZXRFeHByZXNzaW9uKCkpLnNhdmVBcyhzYXZlS2V5KSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBjaGVjayByZXBvcnQgd2l0aCBhbGwgZGF0YSBleGNlcHQgYWN0dWFsIHZhbHVlIChmaWxsZWQgbGF0ZXIpDQogICAgICAgICAgICAgICAgICAgICAgICBDaGVja1JlcG9ydCBjciA9IG5ldyBDaGVja1JlcG9ydCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3Iuc2V0VHlwZShyYy5nZXRUeXBlKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3Iuc2V0RXhwcmVzc2lvbihyYy5nZXRFeHByZXNzaW9uKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3Iuc2V0T3BlcmF0b3IocmMuZ2V0T3BlcmF0b3IoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRFeHBlY3QocmMuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHNlc3Npb24ga2V5IHdpdGggdGhlIHJlcG9ydCBzbyB3ZSBjYW4gZ2V0IHRoZSBhY3R1YWwgdmFsdWUgbGF0ZXINCiAgICAgICAgICAgICAgICAgICAgICAgIGNyLnNldEFjdHVhbChzYXZlS2V5KTsgLy8gVGVtcG9yYXJpbHkgc3RvcmUgdGhlIGtleSBoZXJlDQogICAgICAgICAgICAgICAgICAgICAgICByZWZBZnRlckNoZWNrcy5hZGQoY3IpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGlnbm9yZWQpIHt9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjaygNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzKCkuaXMoMjAwKSwNCiAgICAgICAgICAgICAgICAgICAgYm9keVN0cmluZygpLnNhdmVBcygicmVzcG9uc2VCb2R5IiksDQogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVGltZUluTWlsbGlzKCkuc2F2ZUFzKCJsYXRlbmN5TXMiKSwNCiAgICAgICAgICAgICAgICAgICAgYm9keUxlbmd0aCgpLnNhdmVBcygic2l6ZUJ5dGVzIikNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBmb3IgKFN0cmluZyBoZWFkZXJOYW1lIDogUkVTUE9OU0VfSEVBREVSU19UT19DQVBUVVJFKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIHNlc3Npb25LZXkgPSAicmVzcEhlYWRlcl8iICsgaGVhZGVyTmFtZS5yZXBsYWNlKCItIiwgIl8iKTsNCiAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soaGVhZGVyKGhlYWRlck5hbWUpLm9wdGlvbmFsKCkuc2F2ZUFzKHNlc3Npb25LZXkpKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQ2hhaW5CdWlsZGVyIHJlZlJlcG9ydGluZyA9IGV4ZWMocyAtPiB7DQogICAgICAgICAgICAgICAgU3RyaW5nIG1haW5UY2lkID0gdGVzdC5nZXRUY2lkKCk7DQogICAgICAgICAgICAgICAgU3RyaW5nIHJlZlJlcXVlc3RSZXBvcnRLZXkgPSBtYWluVGNpZCArICJ8IiArIHJlZlRjaWQgKyAifERJRkZfUFNUIjsNCg0KICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBDYXNlUmVwb3J0IGZvciB0aGlzIHJlZmVyZW5jZSByZXF1ZXN0DQogICAgICAgICAgICAgICAgQ2FzZVJlcG9ydCByZWZDYXNlUmVwb3J0ID0gY2FzZVJlcG9ydHMuY29tcHV0ZUlmQWJzZW50KHJlZlJlcXVlc3RSZXBvcnRLZXksIGsgLT4gew0KICAgICAgICAgICAgICAgICAgICBDYXNlUmVwb3J0IGNyID0gbmV3IENhc2VSZXBvcnQoKTsNCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0VGNpZChyZWZUY2lkKTsNCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0SXRlbXMoQ29sbGVjdGlvbnMuc3luY2hyb25pemVkTGlzdChuZXcgQXJyYXlMaXN0PD4oKSkpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3I7DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICBSZXF1ZXN0UmVwb3J0IHJwdCA9IG5ldyBSZXF1ZXN0UmVwb3J0KCk7DQogICAgICAgICAgICAgICAgcnB0LnNldFJlcXVlc3ROYW1lKHJlZk5hbWUpOw0KDQogICAgICAgICAgICAgICAgUmVxdWVzdEluZm8gcmVxSW5mbyA9IG5ldyBSZXF1ZXN0SW5mbygpOw0KICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0TWV0aG9kKHJlZk1ldGhvZCk7DQogICAgICAgICAgICAgICAgcmVxSW5mby5zZXRVcmwocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTWFwPFN0cmluZywgU3RyaW5nPiBmaW5hbEhlYWRlcnNNYXAgPSBuZXcgamF2YS51dGlsLkhhc2hNYXA8PigpOw0KICAgICAgICAgICAgICAgIGlmIChyZWZUZXN0QWZ0ZXIgIT0gbnVsbCAmJiByZWZUZXN0QWZ0ZXIuZ2V0SGVhZGVycygpICE9IG51bGwgJiYgIXJlZlRlc3RBZnRlci5nZXRIZWFkZXJzKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaW5hbEhlYWRlcnMgPSBSdW50aW1lVGVtcGxhdGVQcm9jZXNzb3IucmVuZGVyKHJlZlRlc3RBZnRlci5nZXRIZWFkZXJzKCksIHJlZlRlc3RBZnRlci5nZXRIZWFkZXJzRHluYW1pY1ZhcmlhYmxlcygpKTsNCiAgICAgICAgICAgICAgICAgICAgZmluYWxIZWFkZXJzTWFwID0gcGFyc2VIZWFkZXJzKGZpbmFsSGVhZGVycyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0SGVhZGVycyhmaW5hbEhlYWRlcnNNYXApOw0KICAgICAgICAgICAgICAgIGlmIChyZWZUZXN0QWZ0ZXIgIT0gbnVsbCAmJiByZWZUZXN0QWZ0ZXIuZ2V0Qm9keSgpICE9IG51bGwgJiYgIXJlZlRlc3RBZnRlci5nZXRCb2R5KCkudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgZmluYWxCb2R5ID0gUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihyZWZUZXN0QWZ0ZXIuZ2V0Qm9keSgpLCByZWZUZXN0QWZ0ZXIuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0Qm9keShmaW5hbEJvZHkpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0Qm9keSgie30iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcnB0LnNldFJlcXVlc3QocmVxSW5mbyk7DQoNCiAgICAgICAgICAgICAgICBSZXNwb25zZUluZm8gcmVzcEluZm8gPSBuZXcgUmVzcG9uc2VJbmZvKCk7DQogICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoInJlc3BvbnNlQm9keSIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldEJvZHlTYW1wbGUocy5nZXRTdHJpbmcoInJlc3BvbnNlQm9keSIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoImxhdGVuY3lNcyIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldExhdGVuY3lNcyhzLmdldExvbmcoImxhdGVuY3lNcyIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoInNpemVCeXRlcyIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldFNpemVCeXRlcygobG9uZykgcy5nZXRJbnQoInNpemVCeXRlcyIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZz4gY2FwdHVyZWRIZWFkZXJzID0gbmV3IGphdmEudXRpbC5IYXNoTWFwPD4oKTsNCiAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyBoZWFkZXJOYW1lIDogUkVTUE9OU0VfSEVBREVSU19UT19DQVBUVVJFKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBrZXkgPSAicmVzcEhlYWRlcl8iICsgaGVhZGVyTmFtZS5yZXBsYWNlKCItIiwgIl8iKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoa2V5KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZWRIZWFkZXJzLnB1dChoZWFkZXJOYW1lLCBzLmdldFN0cmluZyhrZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRIZWFkZXJzKGNhcHR1cmVkSGVhZGVycyk7DQogICAgICAgICAgICAgICAgcmVzcEluZm8uc2V0U3RhdHVzKDIwMCk7DQogICAgICAgICAgICAgICAgcnB0LnNldFJlc3BvbnNlKHJlc3BJbmZvKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBjaGVjayByZXBvcnRzIGFuZCBmaWxsIGluIGFjdHVhbCB2YWx1ZXMNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxDaGVja1JlcG9ydD4gZmluYWxDaGVja3NBZnRlciA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICBmb3IgKENoZWNrUmVwb3J0IGNyIDogcmVmQWZ0ZXJDaGVja3MpIHsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHNhdmVLZXkgPSBjci5nZXRBY3R1YWwoKTsgLy8gVGhlIGtleSB3YXMgc3RvcmVkIGluIHRoZSBhY3R1YWwgZmllbGQNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGFjdHVhbFZhbHVlID0gIjxOT1QgRk9VTkQ+IjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoc2F2ZUtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdCByYXdWYWx1ZSA9IHMuZ2V0KHNhdmVLZXkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSAoU3RyaW5nKSByYXdWYWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmF3VmFsdWUgaW5zdGFuY2VvZiBjaGFyW10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IG5ldyBTdHJpbmcoKGNoYXJbXSkgcmF3VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIFN0cmluZ1tdIGFycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gYXJyLmxlbmd0aCA+IDAgPyBhcnJbMF0gOiAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBTdHJpbmcudmFsdWVPZihyYXdWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGtleSBmcm9tIHNlc3Npb24NCiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlbW92ZShzYXZlS2V5KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0QWN0dWFsKGFjdHVhbFZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBwYXNzZWQ7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3IuZ2V0T3BlcmF0b3IoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOUzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBhY3R1YWxWYWx1ZS5jb250YWlucyhjci5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTOg0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBhY3R1YWxWYWx1ZS5lcXVhbHMoY3IuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNyLnNldFBhc3NlZChwYXNzZWQpOw0KICAgICAgICAgICAgICAgICAgICBmaW5hbENoZWNrc0FmdGVyLmFkZChjcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHJwdC5zZXRDaGVja3MoZmluYWxDaGVja3NBZnRlcik7DQogICAgICAgICAgICAgICAgcnB0LnNldFBhc3NlZCh0cnVlKTsNCiAgICAgICAgICAgICAgICBycHQuc2V0U3RhdHVzKCIyMDAiKTsNCiAgICAgICAgICAgICAgICByZWZDYXNlUmVwb3J0LmdldEl0ZW1zKCkuYWRkKHJwdCk7DQoNCiAgICAgICAgICAgICAgICAvLyBTYXZlIGV4dHJhY3RlZCB2YWx1ZXMNCiAgICAgICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgZGNJbm5lciA6IGRjTGlzdCkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcga2V5ID0gImRpZmZfIiArIGRjSW5uZXIuaGFzaENvZGUoKSArICJfUFNUIjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoa2V5KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0IHZhbCA9IHMuZ2V0KGtleSk7DQogICAgICAgICAgICAgICAgICAgICAgICBUZXN0UnVuQ29udGV4dC5zYXZlQWZ0ZXIoZGNJbm5lci5nZXRFeHByZXNzaW9uKCksIFN0cmluZy52YWx1ZU9mKHZhbCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKGtleSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBzZXNzaW9uDQogICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKCJyZXNwb25zZUJvZHkiKS5yZW1vdmUoImxhdGVuY3lNcyIpLnJlbW92ZSgic2l6ZUJ5dGVzIik7DQogICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgaGVhZGVyTmFtZSA6IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSkgew0KICAgICAgICAgICAgICAgICAgICBzID0gcy5yZW1vdmUoInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIikpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBzOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGFmdGVyQ2hhaW4gPSBhZnRlckNoYWluLmV4ZWMocmVmUmVxKS5leGVjKHJlZlJlcG9ydGluZyk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgLy8gQnVpbGQgUFNUX0NIRUNLIHJlZmVyZW5jZSByZXF1ZXN0KHMpDQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PQ0KICAgICAgICAvLyBHcm91cCBQU1RfQ0hFQ0sgY2hlY2tzIGJ5IHJlZmVyZW5jZSBUQ0lEIHRvIGF2b2lkIGR1cGxpY2F0ZSByZWZlcmVuY2UgcmVxdWVzdHMNCiAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIGphdmEudXRpbC5MaXN0PFJlc3BvbnNlQ2hlY2s+PiBwc3RDaGVja0dyb3VwcyA9IHBzdENoZWNrcy5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIocGMgLT4gcGMuZ2V0RXhwcmVzc2lvbigpICE9IG51bGwgJiYgcGMuZ2V0RXhwcmVzc2lvbigpLmNvbnRhaW5zKCIuIikpDQogICAgICAgICAgICAgICAgLmNvbGxlY3QoQ29sbGVjdG9ycy5ncm91cGluZ0J5KA0KICAgICAgICAgICAgICAgICAgICAgICAgcGMgLT4gcGMuZ2V0RXhwcmVzc2lvbigpLnN1YnN0cmluZygwLCBwYy5nZXRFeHByZXNzaW9uKCkuaW5kZXhPZignLicpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGphdmEudXRpbC5MaW5rZWRIYXNoTWFwOjpuZXcsDQogICAgICAgICAgICAgICAgICAgICAgICBDb2xsZWN0b3JzLnRvTGlzdCgpKSk7DQoNCiAgICAgICAgZm9yIChqYXZhLnV0aWwuTWFwLkVudHJ5PFN0cmluZywgamF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4+IGVudHJ5IDogcHN0Q2hlY2tHcm91cHMuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgU3RyaW5nIHJlZlRjaWQgPSBlbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PFJlc3BvbnNlQ2hlY2s+IHBjTGlzdCA9IGVudHJ5LmdldFZhbHVlKCk7DQoNCiAgICAgICAgICAgIC8vIExvY2F0ZSByZWZlcmVuY2UgZW5kcG9pbnQgKHRyeSBiYXRjaCBmaXJzdCwgdGhlbiBEQikNCiAgICAgICAgICAgIEVuZHBvaW50IHJlZkVuZHBvaW50ID0gbnVsbDsNCiAgICAgICAgICAgIGZvciAoQmF0Y2hJdGVtIGJpIDogYmF0Y2hJdGVtcykgew0KICAgICAgICAgICAgICAgIGlmIChiaS50ZXN0ICE9IG51bGwgJiYgcmVmVGNpZC5lcXVhbHMoYmkudGVzdC5nZXRUY2lkKCkpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlZkVuZHBvaW50ID0gYmkuZW5kcG9pbnQ7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZpbmFsIEdhdGxpbmdUZXN0IHJlZlRlc3QgPSBmaW5kUmVmVGVzdEJ5VGNpZChyZWZUY2lkKTsNCiAgICAgICAgICAgIGlmIChyZWZUZXN0ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBlbnJpY2hSZWZUZXN0VGVtcGxhdGVzKHJlZlRlc3QpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHJlZlRlc3QgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHJlZkVuZHBvaW50ID0gZmluZEVuZHBvaW50Rm9yVGVzdChyZWZUZXN0LCBlbmRwb2ludCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAocmVmRW5kcG9pbnQgPT0gbnVsbCkgY29udGludWU7IC8vIHNraXAgaWYgZW5kcG9pbnQgbm90IGZvdW5kDQoNCiAgICAgICAgICAgIFN0cmluZyByZWZOYW1lID0gdGVzdC5nZXRUY2lkKCkgKyAiLiIgKyByZWZUY2lkICsgIl9QU1RfQ0hFQ0siOw0KICAgICAgICAgICAgU3RyaW5nIHJlZk1ldGhvZCA9IHJlZkVuZHBvaW50LmdldE1ldGhvZCgpID09IG51bGwgPyAiR0VUIiA6IHJlZkVuZHBvaW50LmdldE1ldGhvZCgpLnRvVXBwZXJDYXNlKCk7DQogICAgICAgICAgICBTdHJpbmcgcmVmVXJsID0gUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihUZXN0UnVuQ29udGV4dC5wcm9jZXNzVmFyaWFibGVSZWZlcmVuY2VzKHJlZkVuZHBvaW50LmdldFVybCgpKSwgamF2YS51dGlsLkNvbGxlY3Rpb25zLmVtcHR5TWFwKCkpOw0KDQogICAgICAgICAgICBIdHRwUmVxdWVzdEFjdGlvbkJ1aWxkZXIgcmVmUmVxOw0KICAgICAgICAgICAgc3dpdGNoIChyZWZNZXRob2QpIHsNCiAgICAgICAgICAgICAgICBjYXNlICJQT1NUIiAtPiByZWZSZXEgPSBodHRwKHJlZk5hbWUpLnBvc3QocmVmVXJsKTsNCiAgICAgICAgICAgICAgICBjYXNlICJQVVQiIC0+IHJlZlJlcSA9IGh0dHAocmVmTmFtZSkucHV0KHJlZlVybCk7DQogICAgICAgICAgICAgICAgY2FzZSAiREVMRVRFIiAtPiByZWZSZXEgPSBodHRwKHJlZk5hbWUpLmRlbGV0ZShyZWZVcmwpOw0KICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gcmVmUmVxID0gaHR0cChyZWZOYW1lKS5nZXQocmVmVXJsKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQWRkIGhlYWRlcnMgYW5kIGJvZHkgZnJvbSByZWZUZXN0IChpZiBhdmFpbGFibGUpDQogICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVyc01hcCA9IHBhcnNlSGVhZGVycyhyZWZUZXN0LmdldEhlYWRlcnMoKSk7DQogICAgICAgICAgICAgICAgZm9yIChqYXZhLnV0aWwuTWFwLkVudHJ5PFN0cmluZywgU3RyaW5nPiBoZWFkZXJFbnRyeSA6IGhlYWRlcnNNYXAuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuaGVhZGVyKGhlYWRlckVudHJ5LmdldEtleSgpLCBzZXNzaW9uIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihoZWFkZXJFbnRyeS5nZXRWYWx1ZSgpLCByZWZUZXN0LmdldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKCkpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHJlZlRlc3QuZ2V0Qm9keSgpICE9IG51bGwgJiYgIXJlZlRlc3QuZ2V0Qm9keSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmJvZHkoU3RyaW5nQm9keShzZXNzaW9uIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yLnJlbmRlcihyZWZUZXN0LmdldEJvZHkoKSwgcmVmVGVzdC5nZXRCb2R5RHluYW1pY1ZhcmlhYmxlcygpKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQWRkIGpzb25QYXRoIGNoZWNrcyBmb3IgZWFjaCBQU1RfQ0hFQ0sgaW4gdGhpcyBncm91cA0KICAgICAgICAgICAgZm9yIChSZXNwb25zZUNoZWNrIHBjIDogcGNMaXN0KSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIHBhdGggPSBwYy5nZXRFeHByZXNzaW9uKCkuc3Vic3RyaW5nKHBjLmdldEV4cHJlc3Npb24oKS5pbmRleE9mKCcuJykgKyAxKTsNCiAgICAgICAgICAgICAgICBTdHJpbmcgc2F2ZUFzS2V5ID0gInBzdF9jaGVja18iICsgcGMuaGFzaENvZGUoKTsNCiAgICAgICAgICAgICAgICByZWZSZXEgPSByZWZSZXEuY2hlY2soanNvblBhdGgocGF0aCkuc2F2ZUFzKHNhdmVBc0tleSkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBBZGQgb3JpZ2luYWwgY2hlY2tzIGZyb20gcmVmZXJlbmNlIHRlc3QNCiAgICAgICAgICAgIGZpbmFsIGphdmEudXRpbC5MaXN0PENoZWNrUmVwb3J0PiByZWZQc3RDaGVja3MgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCk7DQogICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsICYmIHJlZlRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCkuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgamF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4gb3JpZ0NoZWNrcyA9IG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVhZFZhbHVlKHJlZlRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uY29yZS50eXBlLlR5cGVSZWZlcmVuY2U8amF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4+KCkge30pOw0KDQogICAgICAgICAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayByYyA6IG9yaWdDaGVja3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIFN0cmluZyBzYXZlS2V5ID0gInJlZl9wc3RfY2hlY2tfb3JpZ18iICsgcmMuaGFzaENvZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmMuZ2V0VHlwZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTVEFUVVM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhzdGF0dXMoKS5zYXZlQXMoc2F2ZUtleSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEpTT05fUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKGpzb25QYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBYUEFUSDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKHhwYXRoKHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSRUdFWDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKHJlZ2V4KHJjLmdldEV4cHJlc3Npb24oKSkuc2F2ZUFzKHNhdmVLZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrUmVwb3J0IGNyID0gbmV3IENoZWNrUmVwb3J0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRUeXBlKHJjLmdldFR5cGUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRFeHByZXNzaW9uKHJjLmdldEV4cHJlc3Npb24oKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRPcGVyYXRvcihyYy5nZXRPcGVyYXRvcigpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNyLnNldEV4cGVjdChyYy5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjci5zZXRBY3R1YWwoc2F2ZUtleSk7IC8vIFRlbXBvcmFyaWx5IHN0b3JlIHRoZSBrZXkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZlBzdENoZWNrcy5hZGQoY3IpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGlnbm9yZWQpIHt9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEFsd2F5cyBjYXB0dXJlIHN0YXR1cyBhbmQgYmFzaWMgbWV0cmljcw0KICAgICAgICAgICAgcmVmUmVxID0gcmVmUmVxLmNoZWNrKA0KICAgICAgICAgICAgICAgICAgICBzdGF0dXMoKS5pcygyMDApLA0KICAgICAgICAgICAgICAgICAgICBib2R5U3RyaW5nKCkuc2F2ZUFzKCJyZXNwb25zZUJvZHkiKSwNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUaW1lSW5NaWxsaXMoKS5zYXZlQXMoImxhdGVuY3lNcyIpLA0KICAgICAgICAgICAgICAgICAgICBib2R5TGVuZ3RoKCkuc2F2ZUFzKCJzaXplQnl0ZXMiKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIGZvciAoU3RyaW5nIGhlYWRlck5hbWUgOiBSRVNQT05TRV9IRUFERVJTX1RPX0NBUFRVUkUpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmcgc2Vzc2lvbktleSA9ICJyZXNwSGVhZGVyXyIgKyBoZWFkZXJOYW1lLnJlcGxhY2UoIi0iLCAiXyIpOw0KICAgICAgICAgICAgICAgIHJlZlJlcSA9IHJlZlJlcS5jaGVjayhoZWFkZXIoaGVhZGVyTmFtZSkub3B0aW9uYWwoKS5zYXZlQXMoc2Vzc2lvbktleSkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBSZXBvcnRpbmcgJiB2YXJpYWJsZSBzYXZpbmcNCiAgICAgICAgICAgIENoYWluQnVpbGRlciByZWZSZXBvcnRpbmcgPSBleGVjKHMgLT4gew0KICAgICAgICAgICAgICAgIFN0cmluZyBtYWluVGNpZCA9IHRlc3QuZ2V0VGNpZCgpOw0KICAgICAgICAgICAgICAgIFN0cmluZyByZWZSZXF1ZXN0UmVwb3J0S2V5ID0gbWFpblRjaWQgKyAifCIgKyByZWZUY2lkICsgInxQU1RfQ0hFQ0siOw0KDQogICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IENhc2VSZXBvcnQgZm9yIHRoaXMgcmVmZXJlbmNlIHJlcXVlc3QNCiAgICAgICAgICAgICAgICBDYXNlUmVwb3J0IHJlZkNhc2VSZXBvcnQgPSBjYXNlUmVwb3J0cy5jb21wdXRlSWZBYnNlbnQocmVmUmVxdWVzdFJlcG9ydEtleSwgayAtPiB7DQogICAgICAgICAgICAgICAgICAgIENhc2VSZXBvcnQgY3IgPSBuZXcgQ2FzZVJlcG9ydCgpOw0KICAgICAgICAgICAgICAgICAgICBjci5zZXRUY2lkKHJlZlRjaWQpOw0KICAgICAgICAgICAgICAgICAgICBjci5zZXRJdGVtcyhDb2xsZWN0aW9ucy5zeW5jaHJvbml6ZWRMaXN0KG5ldyBBcnJheUxpc3Q8PigpKSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjcjsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIFJlcXVlc3RSZXBvcnQgcnB0ID0gbmV3IFJlcXVlc3RSZXBvcnQoKTsNCiAgICAgICAgICAgICAgICBycHQuc2V0UmVxdWVzdE5hbWUocmVmTmFtZSk7DQoNCiAgICAgICAgICAgICAgICBSZXF1ZXN0SW5mbyByZXFJbmZvID0gbmV3IFJlcXVlc3RJbmZvKCk7DQogICAgICAgICAgICAgICAgcmVxSW5mby5zZXRNZXRob2QocmVmTWV0aG9kKTsNCiAgICAgICAgICAgICAgICByZXFJbmZvLnNldFVybChyZWZVcmwpOw0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLCBTdHJpbmc+IGZpbmFsSGVhZGVyc01hcCA9IG5ldyBqYXZhLnV0aWwuSGFzaE1hcDw+KCk7DQogICAgICAgICAgICAgICAgaWYgKHJlZlRlc3QgIT0gbnVsbCAmJiByZWZUZXN0LmdldEhlYWRlcnMoKSAhPSBudWxsICYmICFyZWZUZXN0LmdldEhlYWRlcnMoKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGZpbmFsSGVhZGVycyA9IFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIocmVmVGVzdC5nZXRIZWFkZXJzKCksIHJlZlRlc3QuZ2V0SGVhZGVyc0R5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIGZpbmFsSGVhZGVyc01hcCA9IHBhcnNlSGVhZGVycyhmaW5hbEhlYWRlcnMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXFJbmZvLnNldEhlYWRlcnMoZmluYWxIZWFkZXJzTWFwKTsNCiAgICAgICAgICAgICAgICBpZiAocmVmVGVzdCAhPSBudWxsICYmIHJlZlRlc3QuZ2V0Qm9keSgpICE9IG51bGwgJiYgIXJlZlRlc3QuZ2V0Qm9keSgpLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGZpbmFsQm9keSA9IFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5yZW5kZXIocmVmVGVzdC5nZXRCb2R5KCksIHJlZlRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0Qm9keShmaW5hbEJvZHkpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHJlcUluZm8uc2V0Qm9keSgie30iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcnB0LnNldFJlcXVlc3QocmVxSW5mbyk7DQoNCiAgICAgICAgICAgICAgICBSZXNwb25zZUluZm8gcmVzcEluZm8gPSBuZXcgUmVzcG9uc2VJbmZvKCk7DQogICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoInJlc3BvbnNlQm9keSIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldEJvZHlTYW1wbGUocy5nZXRTdHJpbmcoInJlc3BvbnNlQm9keSIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoImxhdGVuY3lNcyIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldExhdGVuY3lNcyhzLmdldExvbmcoImxhdGVuY3lNcyIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoInNpemVCeXRlcyIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldFNpemVCeXRlcygobG9uZykgcy5nZXRJbnQoInNpemVCeXRlcyIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZz4gY2FwdHVyZWRIZWFkZXJzID0gbmV3IGphdmEudXRpbC5IYXNoTWFwPD4oKTsNCiAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyBoZWFkZXJOYW1lIDogUkVTUE9OU0VfSEVBREVSU19UT19DQVBUVVJFKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBrZXkgPSAicmVzcEhlYWRlcl8iICsgaGVhZGVyTmFtZS5yZXBsYWNlKCItIiwgIl8iKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuY29udGFpbnMoa2V5KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZWRIZWFkZXJzLnB1dChoZWFkZXJOYW1lLCBzLmdldFN0cmluZyhrZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXNwSW5mby5zZXRIZWFkZXJzKGNhcHR1cmVkSGVhZGVycyk7DQogICAgICAgICAgICAgICAgcmVzcEluZm8uc2V0U3RhdHVzKDIwMCk7IC8vIERlZmF1bHQgc3RhdHVzDQogICAgICAgICAgICAgICAgcnB0LnNldFJlc3BvbnNlKHJlc3BJbmZvKTsNCg0KICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIGNoZWNrIHJlcG9ydHMgYW5kIGZpbGwgaW4gYWN0dWFsIHZhbHVlcw0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5MaXN0PENoZWNrUmVwb3J0PiBmaW5hbENoZWNrcyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgICAgICBmb3IgKENoZWNrUmVwb3J0IGNyIDogcmVmUHN0Q2hlY2tzKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBzYXZlS2V5ID0gY3IuZ2V0QWN0dWFsKCk7IC8vIFRoZSBrZXkgd2FzIHN0b3JlZCBpbiB0aGUgYWN0dWFsIGZpZWxkDQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBhY3R1YWxWYWx1ZSA9ICI8Tk9UIEZPVU5EPiI7DQogICAgICAgICAgICAgICAgICAgIGlmIChzLmNvbnRhaW5zKHNhdmVLZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QgcmF3VmFsdWUgPSBzLmdldChzYXZlS2V5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYXdWYWx1ZSBpbnN0YW5jZW9mIFN0cmluZykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gKFN0cmluZykgcmF3VmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhd1ZhbHVlIGluc3RhbmNlb2YgY2hhcltdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgPSBuZXcgU3RyaW5nKChjaGFyW10pIHJhd1ZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmF3VmFsdWUgaW5zdGFuY2VvZiBTdHJpbmdbXSBhcnIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZSA9IGFyci5sZW5ndGggPiAwID8gYXJyWzBdIDogIiI7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gU3RyaW5nLnZhbHVlT2YocmF3VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKHNhdmVLZXkpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0QWN0dWFsKGFjdHVhbFZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBwYXNzZWQ7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3IuZ2V0T3BlcmF0b3IoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOUzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBhY3R1YWxWYWx1ZS5jb250YWlucyhjci5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1BVENIRVM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkID0gYWN0dWFsVmFsdWUubWF0Y2hlcyhjci5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsgcGFzc2VkID0gZmFsc2U7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgSVM6DQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCA9IGFjdHVhbFZhbHVlLmVxdWFscyhjci5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY3Iuc2V0UGFzc2VkKHBhc3NlZCk7DQogICAgICAgICAgICAgICAgICAgIGZpbmFsQ2hlY2tzLmFkZChjcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJwdC5zZXRDaGVja3MoZmluYWxDaGVja3MpOw0KDQogICAgICAgICAgICAgICAgLy8gVXBkYXRlIG92ZXJhbGwgcGFzc2VkIHN0YXR1cyBhbmQgcmVzcG9uc2Ugc3RhdHVzIGZyb20gY2hlY2tzDQogICAgICAgICAgICAgICAgYm9vbGVhbiBhbGxQYXNzZWQgPSBmaW5hbENoZWNrcy5zdHJlYW0oKS5hbGxNYXRjaChDaGVja1JlcG9ydDo6aXNQYXNzZWQpOw0KICAgICAgICAgICAgICAgIHJwdC5zZXRQYXNzZWQoYWxsUGFzc2VkKTsNCiAgICAgICAgICAgICAgICBmaW5hbENoZWNrcy5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihyIC0+IHIuZ2V0VHlwZSgpID09IENoZWNrVHlwZS5TVEFUVVMgJiYgci5nZXRBY3R1YWwoKSAhPSBudWxsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmRGaXJzdCgpDQogICAgICAgICAgICAgICAgICAgICAgICAuaWZQcmVzZW50KHIgLT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BJbmZvLnNldFN0YXR1cyhJbnRlZ2VyLnBhcnNlSW50KHIuZ2V0QWN0dWFsKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnB0LnNldFN0YXR1cyhyLmdldEFjdHVhbCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycHQuc2V0U3RhdHVzKFN0cmluZy52YWx1ZU9mKHJlc3BJbmZvLmdldFN0YXR1cygpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKHJwdC5nZXRTdGF0dXMoKSA9PSBudWxsKSBycHQuc2V0U3RhdHVzKFN0cmluZy52YWx1ZU9mKHJlc3BJbmZvLmdldFN0YXR1cygpKSk7DQoNCiAgICAgICAgICAgICAgICByZWZDYXNlUmVwb3J0LmdldEl0ZW1zKCkuYWRkKHJwdCk7DQoNCiAgICAgICAgICAgICAgICAvLyBTYXZlIGV4dHJhY3RlZCB2YWx1ZXMgdG8gVGVzdFJ1bkNvbnRleHQNCiAgICAgICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgcGNJbm5lciA6IHBjTGlzdCkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcga2V5ID0gInBzdF9jaGVja18iICsgcGNJbm5lci5oYXNoQ29kZSgpOw0KICAgICAgICAgICAgICAgICAgICBpZiAocy5jb250YWlucyhrZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QgdmFsID0gcy5nZXQoa2V5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBzdHJpbmdWYWwgPSBTdHJpbmcudmFsdWVPZih2YWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgVGVzdFJ1bkNvbnRleHQuc2F2ZVBzdENoZWNrKHBjSW5uZXIuZ2V0RXhwcmVzc2lvbigpLCBzdHJpbmdWYWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKGtleSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBzZXNzaW9uDQogICAgICAgICAgICAgICAgcyA9IHMucmVtb3ZlKCJyZXNwb25zZUJvZHkiKS5yZW1vdmUoImxhdGVuY3lNcyIpLnJlbW92ZSgic2l6ZUJ5dGVzIik7DQogICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgaGVhZGVyTmFtZSA6IFJFU1BPTlNFX0hFQURFUlNfVE9fQ0FQVFVSRSkgew0KICAgICAgICAgICAgICAgICAgICBzID0gcy5yZW1vdmUoInJlc3BIZWFkZXJfIiArIGhlYWRlck5hbWUucmVwbGFjZSgiLSIsICJfIikpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBzOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGFmdGVyQ2hhaW4gPSBhZnRlckNoYWluLmV4ZWMocmVmUmVxKS5leGVjKHJlZlJlcG9ydGluZyk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgLy8gRXZhbHVhdGlvbiBjaGFpbiBmb3IgRElGRiwgUFJFX0NIRUNLIGFuZCBQU1RfQ0hFQ0sNCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgICAgIENoYWluQnVpbGRlciBldmFsQ2hhaW4gPSBleGVjKHMgLT4gew0KICAgICAgICAgICAgUmVxdWVzdFJlcG9ydCBtYWluUnB0ID0gbnVsbDsNCiAgICAgICAgICAgIExpc3Q8UmVxdWVzdFJlcG9ydD4gaXRlbXMgPSBjYXNlUmVwb3J0cy5nZXQocmVwb3J0S2V5KS5nZXRJdGVtcygpOw0KICAgICAgICAgICAgZm9yIChSZXF1ZXN0UmVwb3J0IHJyIDogaXRlbXMpIHsNCiAgICAgICAgICAgICAgICBpZiAocnIuZ2V0UmVxdWVzdE5hbWUoKS5lcXVhbHMocmVxdWVzdE5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgIG1haW5ScHQgPSBycjsgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG1haW5ScHQgPT0gbnVsbCkgcmV0dXJuIHM7DQoNCiAgICAgICAgICAgIGlmIChtYWluUnB0LmdldENoZWNrcygpID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBtYWluUnB0LnNldENoZWNrcyhuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KCkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBQcm9jZXNzIERJRkYgY2hlY2tzDQogICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgZGMgOiBkaWZmQ2hlY2tzKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGV4cHIgPSBkYy5nZXRFeHByZXNzaW9uKCk7DQogICAgICAgICAgICAgICAgRG91YmxlIGRpZmZWYWwgPSBUZXN0UnVuQ29udGV4dC5jYWxjRGlmZihleHByKTsNCiAgICAgICAgICAgICAgICBDaGVja1JlcG9ydCBjciA9IG5ldyBDaGVja1JlcG9ydCgpOw0KICAgICAgICAgICAgICAgIGNyLnNldFR5cGUoQ2hlY2tUeXBlLkRJRkYpOw0KICAgICAgICAgICAgICAgIGNyLnNldEV4cHJlc3Npb24oZXhwcik7DQogICAgICAgICAgICAgICAgY3Iuc2V0T3BlcmF0b3IoZGMuZ2V0T3BlcmF0b3IoKSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gRm9ybWF0IGV4cGVjdGVkIHZhbHVlIHdpdGggKy8tIHNpZ24gaWYgaXQncyBudW1lcmljDQogICAgICAgICAgICAgICAgU3RyaW5nIGV4cGVjdFZhbHVlID0gZGMuZ2V0RXhwZWN0KCk7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgYXMgbnVtYmVyIHJlZ2FyZGxlc3Mgb2YgZXhpc3Rpbmcgc2lnbg0KICAgICAgICAgICAgICAgICAgICBkb3VibGUgZXhwZWN0TnVtID0gRG91YmxlLnBhcnNlRG91YmxlKGV4cGVjdFZhbHVlLnJlcGxhY2VGaXJzdCgiXlxcKyIsICIiKSk7DQogICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCB3aXRoIGNvcnJlY3Qgc2lnbg0KICAgICAgICAgICAgICAgICAgICBleHBlY3RWYWx1ZSA9IChleHBlY3ROdW0gPj0gMCA/ICIrIiA6ICItIikgKyBNYXRoLmFicyhleHBlY3ROdW0pOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBpZ25vcmVkKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgb3JpZ2luYWwgaWYgbm90IG51bWVyaWMNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY3Iuc2V0RXhwZWN0KGV4cGVjdFZhbHVlKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgYWN0dWFsIHZhbHVlIHdpdGggKy8tIHNpZ24NCiAgICAgICAgICAgICAgICBTdHJpbmcgYWN0dWFsVmFsdWUgPSBkaWZmVmFsID09IG51bGwgPyAiTi9BIiA6IA0KICAgICAgICAgICAgICAgICAgICAoZGlmZlZhbCA+PSAwID8gIisiIDogIiIpICsgU3RyaW5nLnZhbHVlT2YoZGlmZlZhbCk7DQogICAgICAgICAgICAgICAgY3Iuc2V0QWN0dWFsKGFjdHVhbFZhbHVlKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBib29sZWFuIHBhc3NlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGlmIChkaWZmVmFsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYy5nZXRPcGVyYXRvcigpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21wYXJlIG51bWVyaWMgdmFsdWVzIHdoZW4gcG9zc2libGUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3VibGUgZXhwZWN0TnVtID0gRG91YmxlLnBhcnNlRG91YmxlKGRjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkID0gTWF0aC5hYnMoZGlmZlZhbCAtIGV4cGVjdE51bSkgPCAwLjAwMDE7IC8vIEFsbG93IHNtYWxsIGZsb2F0aW5nIHBvaW50IGRpZmZlcmVuY2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBzdHJpbmcgY29tcGFyaXNvbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBTdHJpbmcudmFsdWVPZihkaWZmVmFsKS5lcXVhbHMoZGMuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09OVEFJTlMgLT4gcGFzc2VkID0gU3RyaW5nLnZhbHVlT2YoZGlmZlZhbCkuY29udGFpbnMoZGMuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNQVRDSEVTIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBTdHJpbmcudmFsdWVPZihkaWZmVmFsKS5tYXRjaGVzKGRjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnZhbGlkIHJlZ2V4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gcGFzc2VkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY3Iuc2V0UGFzc2VkKHBhc3NlZCk7DQoNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiJXN8JXN8JXN8ZXhwZWN0ZWQ6JXN8YWN0dWFsOiVzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QuZ2V0VGNpZCgpLCBleHByLCBkYy5nZXRPcGVyYXRvcigpLnRvU3RyaW5nKCksIGV4cGVjdFZhbHVlLCBhY3R1YWxWYWx1ZSkpOw0KDQogICAgICAgICAgICAgICAgbWFpblJwdC5nZXRDaGVja3MoKS5hZGQoY3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBQcm9jZXNzIFBSRV9DSEVDSyBjaGVja3MNCiAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayBwYyA6IHByZUNoZWNrcykgew0KICAgICAgICAgICAgICAgIFN0cmluZyBleHByID0gcGMuZ2V0RXhwcmVzc2lvbigpOw0KICAgICAgICAgICAgICAgIFN0cmluZyBwcmVWYWx1ZSA9IFRlc3RSdW5Db250ZXh0LmdldFByZUNoZWNrVmFsdWUoZXhwcik7DQogICAgICAgICAgICAgICAgQ2hlY2tSZXBvcnQgY3IgPSBuZXcgQ2hlY2tSZXBvcnQoKTsNCiAgICAgICAgICAgICAgICBjci5zZXRUeXBlKENoZWNrVHlwZS5QUkVfQ0hFQ0spOw0KICAgICAgICAgICAgICAgIGNyLnNldEV4cHJlc3Npb24oZXhwcik7DQogICAgICAgICAgICAgICAgY3Iuc2V0T3BlcmF0b3IocGMuZ2V0T3BlcmF0b3IoKSk7DQogICAgICAgICAgICAgICAgY3Iuc2V0RXhwZWN0KHBjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBTdHJpbmcgYWN0dWFsVmFsdWUgPSBwcmVWYWx1ZSAhPSBudWxsID8gcHJlVmFsdWUgOiAiTi9BIjsNCiAgICAgICAgICAgICAgICBjci5zZXRBY3R1YWwoYWN0dWFsVmFsdWUpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGJvb2xlYW4gcGFzc2VkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgaWYgKHByZVZhbHVlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYy5nZXRPcGVyYXRvcigpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTIC0+IHBhc3NlZCA9IHByZVZhbHVlLmVxdWFscyhwYy5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPTlRBSU5TIC0+IHBhc3NlZCA9IHByZVZhbHVlLmNvbnRhaW5zKHBjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTUFUQ0hFUyAtPiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkID0gcHJlVmFsdWUubWF0Y2hlcyhwYy5nZXRFeHBlY3QoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW52YWxpZCByZWdleA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHBhc3NlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNyLnNldFBhc3NlZChwYXNzZWQpOw0KDQogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFN0cmluZy5mb3JtYXQoIlBSRV9DSEVDS3wlc3wlc3wlc3xleHBlY3RlZDolc3xhY3R1YWw6JXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGVzdC5nZXRUY2lkKCksIGV4cHIsIHBjLmdldE9wZXJhdG9yKCkudG9TdHJpbmcoKSwgcGMuZ2V0RXhwZWN0KCksIGFjdHVhbFZhbHVlKSk7DQoNCiAgICAgICAgICAgICAgICBtYWluUnB0LmdldENoZWNrcygpLmFkZChjcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFByb2Nlc3MgUFNUX0NIRUNLIGNoZWNrcw0KICAgICAgICAgICAgZm9yIChSZXNwb25zZUNoZWNrIHBjIDogcHN0Q2hlY2tzKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGV4cHIgPSBwYy5nZXRFeHByZXNzaW9uKCk7DQogICAgICAgICAgICAgICAgU3RyaW5nIHBzdFZhbHVlID0gVGVzdFJ1bkNvbnRleHQuZ2V0UHN0Q2hlY2tWYWx1ZShleHByKTsNCiAgICAgICAgICAgICAgICBDaGVja1JlcG9ydCBjciA9IG5ldyBDaGVja1JlcG9ydCgpOw0KICAgICAgICAgICAgICAgIGNyLnNldFR5cGUoQ2hlY2tUeXBlLlBTVF9DSEVDSyk7DQogICAgICAgICAgICAgICAgY3Iuc2V0RXhwcmVzc2lvbihleHByKTsNCiAgICAgICAgICAgICAgICBjci5zZXRPcGVyYXRvcihwYy5nZXRPcGVyYXRvcigpKTsNCiAgICAgICAgICAgICAgICBjci5zZXRFeHBlY3QocGMuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIFN0cmluZyBhY3R1YWxWYWx1ZSA9IHBzdFZhbHVlICE9IG51bGwgPyBwc3RWYWx1ZSA6ICJOL0EiOw0KICAgICAgICAgICAgICAgIGNyLnNldEFjdHVhbChhY3R1YWxWYWx1ZSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgYm9vbGVhbiBwYXNzZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZiAocHN0VmFsdWUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBjLmdldE9wZXJhdG9yKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgSVMgLT4gcGFzc2VkID0gcHN0VmFsdWUuZXF1YWxzKHBjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09OVEFJTlMgLT4gcGFzc2VkID0gcHN0VmFsdWUuY29udGFpbnMocGMuZ2V0RXhwZWN0KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNQVRDSEVTIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgPSBwc3RWYWx1ZS5tYXRjaGVzKHBjLmdldEV4cGVjdCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnZhbGlkIHJlZ2V4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gcGFzc2VkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY3Iuc2V0UGFzc2VkKHBhc3NlZCk7DQoNCiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oU3RyaW5nLmZvcm1hdCgiUFNUX0NIRUNLfCVzfCVzfCVzfGV4cGVjdGVkOiVzfGFjdHVhbDolcyIsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXN0LmdldFRjaWQoKSwgZXhwciwgcGMuZ2V0T3BlcmF0b3IoKS50b1N0cmluZygpLCBwYy5nZXRFeHBlY3QoKSwgYWN0dWFsVmFsdWUpKTsNCg0KICAgICAgICAgICAgICAgIG1haW5ScHQuZ2V0Q2hlY2tzKCkuYWRkKGNyKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gUmVjb21wdXRlIHBhc3Mgc3RhdHVzDQogICAgICAgICAgICBib29sZWFuIGFsbE9rID0gbWFpblJwdC5nZXRDaGVja3MoKS5pc0VtcHR5KCkgfHwgbWFpblJwdC5nZXRDaGVja3MoKS5zdHJlYW0oKS5hbGxNYXRjaChDaGVja1JlcG9ydDo6aXNQYXNzZWQpOw0KICAgICAgICAgICAgbWFpblJwdC5zZXRQYXNzZWQoYWxsT2spOw0KICAgICAgICAgICAgcmV0dXJuIHM7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIEZpbmFsIGNvbWJpbmVkIGNoYWluDQogICAgICAgIHJldHVybiBleGVjKGJlZm9yZUNoYWluKS5leGVjKG1haW5DaGFpbikuZXhlYyhhZnRlckNoYWluKS5leGVjKGV2YWxDaGFpbik7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBNYXA8U3RyaW5nLCBTdHJpbmc+IHBhcnNlSGVhZGVycyhTdHJpbmcgaGVhZGVyc1N0cmluZykgew0KICAgICAgICBpZiAoaGVhZGVyc1N0cmluZyA9PSBudWxsIHx8IGhlYWRlcnNTdHJpbmcudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25zLmVtcHR5TWFwKCk7DQogICAgICAgIH0NCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIC8vIFByaW1hcnkgc3RyYXRlZ3k6IGF0dGVtcHQgdG8gcGFyc2UgdGhlIGVudGlyZSBzdHJpbmcgYXMgSlNPTiBmaXJzdA0KICAgICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBoZWFkZXJzID0gbmV3IE9iamVjdE1hcHBlcigpLnJlYWRWYWx1ZShoZWFkZXJzU3RyaW5nLCBuZXcgVHlwZVJlZmVyZW5jZTxNYXA8U3RyaW5nLCBTdHJpbmc+PigpIHt9KTsNCiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgbGVhZGluZy90cmFpbGluZyBzaW5nbGUgb3IgZG91YmxlIHF1b3RlcyBhcm91bmQgZWFjaCB2YWx1ZQ0KICAgICAgICAgICAgaGVhZGVycy5yZXBsYWNlQWxsKChrLCB2KSAtPiB2PT1udWxsID8gbnVsbDogdi5yZXBsYWNlQWxsKCJeKFtcIiddKSguKilcXDEkIiwgIiQyIikpOw0KICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnM7DQogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGtleTogdmFsdWUgbGluZS1ieS1saW5lIHBhcnNpbmcNCiAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVycyA9IG5ldyBqYXZhLnV0aWwuSGFzaE1hcDw+KCk7DQogICAgICAgICAgICBTdHJpbmdbXSBsaW5lcyA9IGhlYWRlcnNTdHJpbmcuc3BsaXQoIlxccj9cXG4iKTsNCiAgICAgICAgICAgIGZvciAoU3RyaW5nIGxpbmUgOiBsaW5lcykgew0KICAgICAgICAgICAgICAgIGlmIChsaW5lLmNvbnRhaW5zKCI6IikpIHsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nW10gcGFydHMgPSBsaW5lLnNwbGl0KCI6IiwgMik7DQogICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGtleSA9IHBhcnRzWzBdLnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyB2YWx1ZSA9IHBhcnRzWzFdLnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmlwIHN1cnJvdW5kaW5nIHF1b3RlcyBpZiBwcmVzZW50DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLnB1dChrZXksIHZhbHVlLnJlcGxhY2VBbGwoIl4oW1wiJ10pKC4qKVxcMSQiLCAiJDIiKSk7ICAgDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gaGVhZGVyczsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGFmdGVyKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8g6L6T5Ye65rWL6K+V5Y+Y6YeP5L+h5oGvDQogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oVkFSSUFCTEVTX1BSRUZJWCArIG5ldyBPYmplY3RNYXBwZXIoKS53cml0ZVZhbHVlQXNTdHJpbmcoVGVzdFJ1bkNvbnRleHQuZ2V0QWxsVmFyaWFibGVzKCkpKTsNCg0KICAgICAgICAgICAgT2JqZWN0TWFwcGVyIG1hcHBlciA9IG5ldyBPYmplY3RNYXBwZXIoKTsNCg0KICAgICAgICAgICAgLy8gUHJlcGFyZSB3cml0ZXIgZm9yIE5ESlNPTiBzdHJlYW1pbmcgaWYgZmlsZSBwYXRoIGlzIHByb3ZpZGVkDQogICAgICAgICAgICBTdHJpbmcgcmVwb3J0RmlsZVBhdGggPSBTeXN0ZW0uZ2V0UHJvcGVydHkoImdhdGxpbmcucmVwb3J0LmZpbGUiKTsNCiAgICAgICAgICAgIGphdmEuaW8uQnVmZmVyZWRXcml0ZXIgbmRqc29uV3JpdGVyID0gbnVsbDsNCiAgICAgICAgICAgIGlmIChyZXBvcnRGaWxlUGF0aCAhPSBudWxsICYmICFyZXBvcnRGaWxlUGF0aC5pc0JsYW5rKCkpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBuZGpzb25Xcml0ZXIgPSBuZXcgamF2YS5pby5CdWZmZXJlZFdyaXRlcihuZXcgamF2YS5pby5GaWxlV3JpdGVyKHJlcG9ydEZpbGVQYXRoLCB0cnVlKSk7DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJbV0FSTl0gVW5hYmxlIHRvIG9wZW4gcmVwb3J0IGZpbGUgZm9yIHdyaXRpbmc6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmb3IgKE1hcC5FbnRyeTxTdHJpbmcsIENhc2VSZXBvcnQ+IGVudHJ5IDogY2FzZVJlcG9ydHMuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgICAgIFN0cmluZyByZXBvcnRLZXkgPSBlbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgICAgICAgICBDYXNlUmVwb3J0IHJlcG9ydCA9IGVudHJ5LmdldFZhbHVlKCk7DQoNCiAgICAgICAgICAgICAgICBTdHJpbmdbXSBrZXlQYXJ0cyA9IHJlcG9ydEtleS5zcGxpdCgiXFx8Iik7DQogICAgICAgICAgICAgICAgU3RyaW5nIG9yaWdpblRjaWQ7DQogICAgICAgICAgICAgICAgU3RyaW5nIHJlcG9ydFRjaWQ7DQogICAgICAgICAgICAgICAgU3RyaW5nIG1vZGU7DQoNCiAgICAgICAgICAgICAgICBpZiAoa2V5UGFydHMubGVuZ3RoID09IDIpIHsgLy8gRm9ybWF0OiB0Y2lkfG1vZGUNCiAgICAgICAgICAgICAgICAgICAgcmVwb3J0VGNpZCA9IGtleVBhcnRzWzBdOw0KICAgICAgICAgICAgICAgICAgICBtb2RlID0ga2V5UGFydHNbMV07DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFNFVFVQIGFuZCBURUFSRE9XTiwgdXNlIEJhdGNoSXRlbS5vcmlnaW4gd2hlbiBhdmFpbGFibGUNCiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUuZXF1YWxzKCJTRVRVUCIpIHx8IG1vZGUuZXF1YWxzKCJURUFSRE9XTiIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgbWFwcGVkT3JpZ2luID0gYmF0Y2hJdGVtcy5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGJpIC0+IGJpLnRlc3QgIT0gbnVsbCAmJiByZXBvcnRUY2lkLmVxdWFscyhiaS50ZXN0LmdldFRjaWQoKSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoYmkgLT4gKGJpLm9yaWdpbiAhPSBudWxsICYmICFiaS5vcmlnaW4uaXNCbGFuaygpKSA/IGJpLm9yaWdpbiA6IGJpLnRlc3QuZ2V0VGNpZCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZEZpcnN0KCkub3JFbHNlKHJlcG9ydFRjaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luVGNpZCA9IG1hcHBlZE9yaWdpbjsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1BSU4ga2VlcHMgaXRzZWxmIGFzIG9yaWdpbg0KICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luVGNpZCA9IHJlcG9ydFRjaWQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleVBhcnRzLmxlbmd0aCA9PSAzKSB7IC8vIG9yaWdpblRjaWR8cmVwb3J0VGNpZHxtb2RlDQogICAgICAgICAgICAgICAgICAgIG9yaWdpblRjaWQgPSBrZXlQYXJ0c1swXTsNCiAgICAgICAgICAgICAgICAgICAgcmVwb3J0VGNpZCA9IGtleVBhcnRzWzFdOw0KICAgICAgICAgICAgICAgICAgICBtb2RlID0ga2V5UGFydHNbMl07DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIG1hbGZvcm1lZCBrZXkNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgY2FzZSByZXBvcnQncyBvdmVyYWxsIHN0YXR1cw0KICAgICAgICAgICAgICAgIGJvb2xlYW4gYWxsUGFzc2VkID0gcmVwb3J0LmdldEl0ZW1zKCkuc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5hbGxNYXRjaChSZXF1ZXN0UmVwb3J0Ojppc1Bhc3NlZCk7DQogICAgICAgICAgICAgICAgcmVwb3J0LnNldFBhc3NlZChhbGxQYXNzZWQpOw0KDQogICAgICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gc3VtbWFyeUVudHJ5ID0gbmV3IEhhc2hNYXA8PigpOw0KICAgICAgICAgICAgICAgIHN1bW1hcnlFbnRyeS5wdXQoIm9yaWdpbiIsIG9yaWdpblRjaWQpOw0KICAgICAgICAgICAgICAgIHN1bW1hcnlFbnRyeS5wdXQoInRjaWQiLCByZXBvcnRUY2lkKTsNCiAgICAgICAgICAgICAgICBzdW1tYXJ5RW50cnkucHV0KCJtb2RlIiwgbW9kZSk7DQogICAgICAgICAgICAgICAgICAgIHN1bW1hcnlFbnRyeS5wdXQoInJlcG9ydCIsIHJlcG9ydCk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gU3RyZWFtIHRoaXMgZW50cnkgaW1tZWRpYXRlbHkgdG8gZmlsZSBpZiBwb3NzaWJsZQ0KICAgICAgICAgICAgICAgICAgICBpZiAobmRqc29uV3JpdGVyICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmRqc29uV3JpdGVyLndyaXRlKG1hcHBlci53cml0ZVZhbHVlQXNTdHJpbmcoc3VtbWFyeUVudHJ5KSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmRqc29uV3JpdGVyLm5ld0xpbmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZGpzb25Xcml0ZXIuZmx1c2goKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiB3ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiW1dBUk5dIEZhaWxlZCB0byB3cml0ZSByZXBvcnQgZW50cnk6ICIgKyB3ZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIENsb3NlIHdyaXRlciBpZiBvcGVuZWQNCiAgICAgICAgICAgIGlmIChuZGpzb25Xcml0ZXIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRyeSB7IG5kanNvbldyaXRlci5jbG9zZSgpOyB9IGNhdGNoIChFeGNlcHRpb24gaWdub3JlZCkge30NCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIG91dHB1dCByZXNwb25zZSBjaGVjayByZXN1bHRzOiAiICsgZXguZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogRmFsbGJhY2sgbG9va3VwOiB1c2UgREFPIHRvIGZldGNoIEdhdGxpbmdUZXN0ICYgaXRzIGVuZHBvaW50IHdoZW4gdGhlIHJlZmVyZW5jZSBUQ0lEIGlzIG5vdCBwcmVzZW50IGluIHRoZSBiYXRjaC4NCiAgICAgKiBMaW1pdHMgc2VhcmNoIHRvIHNhbWUgcHJvamVjdCAvIGVudmlyb25tZW50IGFzIG9yaWdpbkVuZHBvaW50IHdoZW4gcG9zc2libGUuDQogICAgICovDQogICAgcHJpdmF0ZSBHYXRsaW5nVGVzdCBmaW5kUmVmVGVzdEJ5VGNpZChTdHJpbmcgdGNpZCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgR2F0bGluZ1Rlc3REYW9JbXBsIHRlc3REYW8gPSBuZXcgR2F0bGluZ1Rlc3REYW9JbXBsKCk7DQogICAgICAgICAgICByZXR1cm4gdGVzdERhby5nZXRUZXN0QnlUY2lkKHRjaWQpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiW1dBUk5dIEZhaWxlZCB0byBsb29rdXAgdGVzdCBmb3IgVENJRCAiICsgdGNpZCArICI6ICIgKyBleC5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIEVuZHBvaW50IGZpbmRFbmRwb2ludEZvclRlc3QoR2F0bGluZ1Rlc3QgcmVmVGVzdCwgRW5kcG9pbnQgb3JpZ2luRW5kcG9pbnQpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEVuZHBvaW50RGFvSW1wbCBlcERhbyA9IG5ldyBFbmRwb2ludERhb0ltcGwoKTsNCiAgICAgICAgICAgIEVuZHBvaW50IGVwID0gbnVsbDsNCiAgICAgICAgICAgIGlmIChyZWZUZXN0LmdldEVuZHBvaW50SWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBlcCA9IGVwRGFvLmdldEVuZHBvaW50QnlJZChyZWZUZXN0LmdldEVuZHBvaW50SWQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZXAgPT0gbnVsbCAmJiByZWZUZXN0LmdldEVuZHBvaW50TmFtZSgpICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBlcCA9IGVwRGFvLmdldEVuZHBvaW50QnlOYW1lKHJlZlRlc3QuZ2V0RW5kcG9pbnROYW1lKCkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBFbnN1cmUgZW52aXJvbm1lbnQgLyBwcm9qZWN0IG1hdGNoZXMgd2hlbiBib3RoIHNpZGVz5pyJ5YC8DQogICAgICAgICAgICBpZiAoZXAgIT0gbnVsbCAmJiBvcmlnaW5FbmRwb2ludCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgaWYgKG9yaWdpbkVuZHBvaW50LmdldEVudmlyb25tZW50SWQoKSAhPSBudWxsICYmIGVwLmdldEVudmlyb25tZW50SWQoKSAhPSBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICAmJiAhb3JpZ2luRW5kcG9pbnQuZ2V0RW52aXJvbm1lbnRJZCgpLmVxdWFscyhlcC5nZXRFbnZpcm9ubWVudElkKCkpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBlbnYgbWlzbWF0Y2gNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKG9yaWdpbkVuZHBvaW50LmdldFByb2plY3RJZCgpICE9IG51bGwgJiYgZXAuZ2V0UHJvamVjdElkKCkgIT0gbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgJiYgIW9yaWdpbkVuZHBvaW50LmdldFByb2plY3RJZCgpLmVxdWFscyhlcC5nZXRQcm9qZWN0SWQoKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIHByb2plY3QgbWlzbWF0Y2gNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZXA7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgew0KICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJbV0FSTl0gRmFpbGVkIHRvIGxvb2t1cCBlbmRwb2ludCBmb3IgdGVzdDogIiArIGV4LmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vID09PT09PT09PT09PT0gSGVscGVyIHRvIGVucmljaCB0ZW1wbGF0ZXMgZm9yIHJlZmVyZW5jZSB0ZXN0cyA9PT09PT09PT09PT09PT09PT0NCiAgICBwcml2YXRlIHZvaWQgZW5yaWNoUmVmVGVzdFRlbXBsYXRlcyhHYXRsaW5nVGVzdCB0KSB7DQogICAgICAgIGlmICh0ID09IG51bGwpIHJldHVybjsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICgodC5nZXRCb2R5KCkgPT0gbnVsbCB8fCB0LmdldEJvZHkoKS5pc0VtcHR5KCkpICYmIHQuZ2V0Qm9keVRlbXBsYXRlSWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBCb2R5VGVtcGxhdGUgYnQgPSBuZXcgQm9keVRlbXBsYXRlU2VydmljZUltcGwoKS5maW5kQm9keVRlbXBsYXRlQnlJZCh0LmdldEJvZHlUZW1wbGF0ZUlkKCkpOw0KICAgICAgICAgICAgICAgIGlmIChidCAhPSBudWxsKSB0LnNldEJvZHkoYnQuZ2V0Q29udGVudCgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGlnbm9yZWQpIHt9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICgodC5nZXRIZWFkZXJzKCkgPT0gbnVsbCB8fCB0LmdldEhlYWRlcnMoKS5pc0VtcHR5KCkpICYmIHQuZ2V0SGVhZGVyc1RlbXBsYXRlSWQoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBIZWFkZXJzVGVtcGxhdGUgaHQgPSBuZXcgSGVhZGVyc1RlbXBsYXRlU2VydmljZUltcGwoKS5nZXRIZWFkZXJzVGVtcGxhdGVCeUlkKHQuZ2V0SGVhZGVyc1RlbXBsYXRlSWQoKSk7DQogICAgICAgICAgICAgICAgaWYgKGh0ICE9IG51bGwpIHQuc2V0SGVhZGVycyhodC5nZXRDb250ZW50KCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gaWdub3JlZCkge30NCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/service/runner/RuntimeTemplateProcessor.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyOw0KDQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLkpzb25Ob2RlOw0KaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLnNjcmlwdC5WYXJpYWJsZUdlbmVyYXRvcjsNCmltcG9ydCBmcmVlbWFya2VyLmNvcmUuSlNPTk91dHB1dEZvcm1hdDsNCmltcG9ydCBmcmVlbWFya2VyLnRlbXBsYXRlLkNvbmZpZ3VyYXRpb247DQppbXBvcnQgZnJlZW1hcmtlci50ZW1wbGF0ZS5UZW1wbGF0ZTsNCmltcG9ydCBmcmVlbWFya2VyLnRlbXBsYXRlLlZlcnNpb247DQoNCmltcG9ydCBqYXZhLmlvLlN0cmluZ1dyaXRlcjsNCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOw0KaW1wb3J0IGphdmEudXRpbC5MaW5rZWRIYXNoTWFwOw0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5NYXA7DQppbXBvcnQgamF2YS51dGlsLnJlZ2V4LlBhdHRlcm47DQoNCi8qKg0KICogQSB1dGlsaXR5IGNsYXNzIGZvciByZW5kZXJpbmcgcmVxdWVzdCBhbmQgaGVhZGVycyB0ZW1wbGF0ZXMgYXQgcnVudGltZS4NCiAqIFNpbWlsYXIgdG8gdGhlIFVJIGxheWVyJ3Mge0BsaW5rIGNvbS5xYS5hcHAudWkudm0uZ2F0bGluZy5UZW1wbGF0ZUhhbmRsZXJ9LA0KICogYnV0IHRoaXMgY2xhc3MgZm9jdXNlcyBvbiByZWdlbmVyYXRpbmcgZHluYW1pYyB2YXJpYWJsZXMgYmVmb3JlIGVhY2ggR2F0bGluZyByZXF1ZXN0LA0KICogZW5zdXJpbmcgdmFyaWFibGVzIGFyZSBnZW5lcmF0ZWQgaW4gcmVhbC10aW1lIGZvciBtdWx0aXBsZSBsb29wIHJlcXVlc3RzLg0KICovDQpwdWJsaWMgY2xhc3MgUnVudGltZVRlbXBsYXRlUHJvY2Vzc29yIHsNCg0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIENvbmZpZ3VyYXRpb24gRlJFRU1BUktFUl9DRkc7DQoNCiAgICBzdGF0aWMgew0KICAgICAgICBGUkVFTUFSS0VSX0NGRyA9IG5ldyBDb25maWd1cmF0aW9uKG5ldyBWZXJzaW9uKCIyLjMuMzIiKSk7DQogICAgICAgIEZSRUVNQVJLRVJfQ0ZHLnNldERlZmF1bHRFbmNvZGluZygiVVRGLTgiKTsNCiAgICAgICAgRlJFRU1BUktFUl9DRkcuc2V0VGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyKGZyZWVtYXJrZXIudGVtcGxhdGUuVGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyLlJFVEhST1dfSEFORExFUik7DQogICAgICAgIEZSRUVNQVJLRVJfQ0ZHLnNldE91dHB1dEZvcm1hdChKU09OT3V0cHV0Rm9ybWF0LklOU1RBTkNFKTsNCiAgICAgICAgRlJFRU1BUktFUl9DRkcuc2V0VGFnU3ludGF4KENvbmZpZ3VyYXRpb24uU1FVQVJFX0JSQUNLRVRfVEFHX1NZTlRBWCk7DQogICAgICAgIEZSRUVNQVJLRVJfQ0ZHLnNldEludGVycG9sYXRpb25TeW50YXgoQ29uZmlndXJhdGlvbi5TUVVBUkVfQlJBQ0tFVF9JTlRFUlBPTEFUSU9OX1NZTlRBWCk7DQogICAgICAgIEZSRUVNQVJLRVJfQ0ZHLnNldENsYXNzaWNDb21wYXRpYmxlKHRydWUpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFBhdHRlcm4gQVRfUExBQ0VIT0xERVIgPSBQYXR0ZXJuLmNvbXBpbGUoIkBcXHsoW159XSspfSIpOw0KDQogICAgLy8gSmFja3NvbiBtYXBwZXIgZm9yIEpTT04gZGV0ZWN0aW9uDQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgT2JqZWN0TWFwcGVyIEpTT05fTUFQUEVSID0gbmV3IE9iamVjdE1hcHBlcigpOw0KDQogICAgLyoqDQogICAgICogSWYgdGhlIGdpdmVuIHN0cmluZyBsb29rcyBsaWtlIGEgSlNPTiBvYmplY3QvYXJyYXkgYW5kIGNhbiBiZSBwYXJzZWQsIHJldHVybiB0aGUgcGFyc2VkIE1hcC9MaXN0Ow0KICAgICAqIG90aGVyd2lzZSByZXR1cm4gdGhlIG9yaWdpbmFsIHN0cmluZy4NCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIE9iamVjdCBjb252ZXJ0VG9Nb2RlbFZhbHVlKFN0cmluZyByYXcpIHsNCiAgICAgICAgaWYgKHJhdyA9PSBudWxsKSByZXR1cm4gbnVsbDsNCiAgICAgICAgU3RyaW5nIHRyaW1tZWQgPSByYXcudHJpbSgpOw0KDQogICAgICAgIC8vIFF1aWNrIGhldXJpc3RpY3MgdG8gc2tpcCBvYnZpb3VzbHktbm9uLUpTT04gdmFsdWVzDQogICAgICAgIGlmICh0cmltbWVkLmxlbmd0aCgpIDwgMikgcmV0dXJuIHJhdzsNCiAgICAgICAgY2hhciBmaXJzdCA9IHRyaW1tZWQuY2hhckF0KDApOw0KICAgICAgICBjaGFyIGxhc3QgPSB0cmltbWVkLmNoYXJBdCh0cmltbWVkLmxlbmd0aCgpIC0gMSk7DQogICAgICAgIGlmICgoZmlyc3QgPT0gJ3snICYmIGxhc3QgPT0gJ30nKSB8fCAoZmlyc3QgPT0gJ1snICYmIGxhc3QgPT0gJ10nKSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBKc29uTm9kZSBub2RlID0gSlNPTl9NQVBQRVIucmVhZFRyZWUodHJpbW1lZCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NKc29uTm9kZShub2RlKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBpZ25vcmVkKSB7DQogICAgICAgICAgICAgICAgLy8gTm90IHZhbGlkIEpTT04sIGlnbm9yZSBhbmQgdHJlYXQgYXMgcGxhaW4gc3RyaW5nDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJhdzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZWN1cnNpdmVseSB3YWxrIEpzb25Ob2RlIHRyZWUgYW5kIHJlcGxhY2UgdGV4dCBub2RlcyBjb250YWluaW5nICJAeyIgcGF0dGVybnMNCiAgICAgKiBieSB0aGUgcmVzdWx0IG9mIFZhcmlhYmxlR2VuZXJhdG9yLmdlbmVyYXRlKCkuIFRoZSByZXN1bHRpbmcgc3RydWN0dXJlIGlzDQogICAgICogcmV0dXJuZWQgYXMgTWFwL0xpc3QgY29tcGF0aWJsZSB3aXRoIEZyZWVNYXJrZXIuDQogICAgICovDQogICAgcHJpdmF0ZSBzdGF0aWMgT2JqZWN0IHByb2Nlc3NKc29uTm9kZShKc29uTm9kZSBub2RlKSB7DQogICAgICAgIGlmIChub2RlLmlzT2JqZWN0KCkpIHsNCiAgICAgICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gbWFwID0gbmV3IExpbmtlZEhhc2hNYXA8PigpOw0KICAgICAgICAgICAgbm9kZS5maWVsZE5hbWVzKCkuZm9yRWFjaFJlbWFpbmluZyhmaWVsZCAtPiB7DQogICAgICAgICAgICAgICAgSnNvbk5vZGUgY2hpbGQgPSBub2RlLmdldChmaWVsZCk7DQogICAgICAgICAgICAgICAgbWFwLnB1dChmaWVsZCwgcHJvY2Vzc0pzb25Ob2RlKGNoaWxkKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiBtYXA7DQogICAgICAgIH0gZWxzZSBpZiAobm9kZS5pc0FycmF5KCkpIHsNCiAgICAgICAgICAgIExpc3Q8T2JqZWN0PiBsaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7DQogICAgICAgICAgICBmb3IgKEpzb25Ob2RlIGNoaWxkIDogbm9kZSkgew0KICAgICAgICAgICAgICAgIGxpc3QuYWRkKHByb2Nlc3NKc29uTm9kZShjaGlsZCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGxpc3Q7DQogICAgICAgIH0gZWxzZSBpZiAobm9kZS5pc1RleHR1YWwoKSkgew0KICAgICAgICAgICAgcmV0dXJuIFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVzb2x2ZVZhcmlhYmxlcyhub2RlLmFzVGV4dCgpKTsNCiAgICAgICAgfSBlbHNlIGlmIChub2RlLmlzTnVtYmVyKCkpIHsNCiAgICAgICAgICAgIHJldHVybiBub2RlLm51bWJlclZhbHVlKCk7DQogICAgICAgIH0gZWxzZSBpZiAobm9kZS5pc0Jvb2xlYW4oKSkgew0KICAgICAgICAgICAgcmV0dXJuIG5vZGUuYm9vbGVhblZhbHVlKCk7DQogICAgICAgIH0gZWxzZSBpZiAobm9kZS5pc051bGwoKSkgew0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBPdGhlciBub2RlIHR5cGVzIChiaW5hcnkgZXRjLikgcmV0dXJuIGFzIHRleHQNCiAgICAgICAgICAgIHJldHVybiBub2RlLmFzVGV4dCgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogUHJlLXByb2Nlc3MgdGhlIHRlbXBsYXRlLCBjb252ZXJ0aW5nIHVzZXItZGVmaW5lZCBAe3Zhcn0gcGxhY2Vob2xkZXJzIHRvIEZyZWVNYXJrZXItY29tcGF0aWJsZSBbPXZhcl0gZm9ybS4NCiAgICAgKi8NCiAgICBwcml2YXRlIHN0YXRpYyBTdHJpbmcgcHJlcHJvY2Vzc0ZvckZyZWVNYXJrZXIoU3RyaW5nIGNvbnRlbnQpIHsNCiAgICAgICAgaWYgKGNvbnRlbnQgPT0gbnVsbCkgcmV0dXJuIG51bGw7DQogICAgICAgIHJldHVybiBBVF9QTEFDRUhPTERFUi5tYXRjaGVyKGNvbnRlbnQpLnJlcGxhY2VBbGwoIls9JDFdIik7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogUmVuZGVyIHRoZSBjb250ZW50IHRlbXBsYXRlLg0KICAgICAqDQogICAgICogQHBhcmFtIHRlbXBsYXRlU3RyICAgICAgICAgICBUaGUgdGVtcGxhdGUgc3RyaW5nIChtYXkgY29udGFpbiBAe3Zhcn0gcGxhY2Vob2xkZXJzKQ0KICAgICAqIEBwYXJhbSB2YXJpYWJsZUV4cHJlc3Npb25NYXAgTWFwIG9mIHZhcmlhYmxlIGV4cHJlc3Npb25zLCB3aGVyZSB2YWx1ZXMgbWF5IGFsc28gY29udGFpbiBAey4uLn0gc3ludGF4DQogICAgICogQHJldHVybiBUaGUgcmVuZGVyZWQgcmVzdWx0IHN0cmluZw0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIHJlbmRlcihTdHJpbmcgdGVtcGxhdGVTdHIsIE1hcDxTdHJpbmcsIFN0cmluZz4gdmFyaWFibGVFeHByZXNzaW9uTWFwKSB7DQogICAgICAgIGlmICh0ZW1wbGF0ZVN0ciA9PSBudWxsIHx8IHRlbXBsYXRlU3RyLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlU3RyOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBQcm9jZXNzIHRlc3QgdmFyaWFibGUgcmVmZXJlbmNlcyAke1RDSUQudmFyaWFibGVOYW1lfQ0KICAgICAgICBTdHJpbmcgcHJvY2Vzc2VkVGVtcGxhdGUgPSBUZXN0UnVuQ29udGV4dC5wcm9jZXNzVmFyaWFibGVSZWZlcmVuY2VzKHRlbXBsYXRlU3RyKTsNCiAgICAgICAgDQogICAgICAgIFN0cmluZyBmbVRlbXBsYXRlU3RyID0gcHJlcHJvY2Vzc0ZvckZyZWVNYXJrZXIocHJvY2Vzc2VkVGVtcGxhdGUpOw0KDQogICAgICAgIC8vIENvbnN0cnVjdCB0aGUgZGF0YSBtb2RlbA0KICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IGRhdGFNb2RlbCA9IG5ldyBIYXNoTWFwPD4oKTsNCiAgICAgICAgaWYgKHZhcmlhYmxlRXhwcmVzc2lvbk1hcCAhPSBudWxsKSB7DQogICAgICAgICAgICBmb3IgKE1hcC5FbnRyeTxTdHJpbmcsIFN0cmluZz4gZW50cnkgOiB2YXJpYWJsZUV4cHJlc3Npb25NYXAuZW50cnlTZXQoKSkgew0KICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGVzdCB2YXJpYWJsZSByZWZlcmVuY2VzIGluIHZhcmlhYmxlIHZhbHVlcw0KICAgICAgICAgICAgICAgIFN0cmluZyBwcm9jZXNzZWRWYWx1ZSA9IFRlc3RSdW5Db250ZXh0LnByb2Nlc3NWYXJpYWJsZVJlZmVyZW5jZXMoZW50cnkuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICAgICAgLy8gQ2FsbCBWYXJpYWJsZUdlbmVyYXRvci5nZW5lcmF0ZSBvbiB2YXJpYWJsZSBleHByZXNzaW9ucyBhZ2FpbiB0byBhY2hpZXZlIHRydWUgZHluYW1pYyBlZmZlY3RzDQogICAgICAgICAgICAgICAgU3RyaW5nIHZhbHVlID0gVmFyaWFibGVHZW5lcmF0b3IuZ2V0SW5zdGFuY2UoKS5yZXNvbHZlVmFyaWFibGVzKHByb2Nlc3NlZFZhbHVlKTsNCiAgICAgICAgICAgICAgICBkYXRhTW9kZWwucHV0KGVudHJ5LmdldEtleSgpLCBjb252ZXJ0VG9Nb2RlbFZhbHVlKHZhbHVlKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgVGVtcGxhdGUgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoInJ0VGVtcGxhdGUiLCBmbVRlbXBsYXRlU3RyLCBGUkVFTUFSS0VSX0NGRyk7DQogICAgICAgICAgICBTdHJpbmdXcml0ZXIgb3V0ID0gbmV3IFN0cmluZ1dyaXRlcigpOw0KICAgICAgICAgICAgdGVtcGxhdGUucHJvY2VzcyhkYXRhTW9kZWwsIG91dCk7DQogICAgICAgICAgICByZXR1cm4gb3V0LnRvU3RyaW5nKCk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAvLyBSZXR1cm4gYW4gZXJyb3IgbWVzc2FnZSBpZiBydW50aW1lIHJlbmRlcmluZyBmYWlscywgdG8gcHJldmVudCB0aGUgZW50aXJlIHN0cmVzcyB0ZXN0IGZyb20gY3Jhc2hpbmcNCiAgICAgICAgICAgIHJldHVybiAiVEVNUExBVEVfUlVOVElNRV9FUlJPUjogIiArIGUuZ2V0TWVzc2FnZSgpOw0KICAgICAgICB9DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/service/runner/TestRunContext.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyOw0KDQppbXBvcnQgamF2YS51dGlsLk1hcDsNCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5Db25jdXJyZW50SGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwucmVnZXguTWF0Y2hlcjsNCmltcG9ydCBqYXZhLnV0aWwucmVnZXguUGF0dGVybjsNCg0KLyoqDQogKiBUZXN0IHJ1biBjb250ZXh0IGZvciBtYW5hZ2luZyB2YXJpYWJsZXMgZHVyaW5nIHRlc3QgZXhlY3V0aW9uLg0KICogVmFyaWFibGVzIGFyZSBzdG9yZWQgaW4gdGhlIGZvcm1hdCAiVENJRC52YXJpYWJsZU5hbWUiIGFuZCBjYW4gYmUgcmVmZXJlbmNlZCB1c2luZyAke1RDSUQudmFyaWFibGVOYW1lfSBpbiBzdWJzZXF1ZW50IHRlc3RzLg0KICovDQpwdWJsaWMgY2xhc3MgVGVzdFJ1bkNvbnRleHQgew0KICAgIC8vIE1hcCB0byBzdG9yZSBhbGwgdGVzdCB2YXJpYWJsZXMsIGtleSBpcyAiVENJRC52YXJpYWJsZU5hbWUiLCB2YWx1ZSBpcyB0aGUgdmFyaWFibGUgdmFsdWUNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBNYXA8U3RyaW5nLCBTdHJpbmc+IHRlc3RWYXJpYWJsZXMgPSBuZXcgQ29uY3VycmVudEhhc2hNYXA8PigpOw0KICAgIA0KICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCAke1RDSUQudmFyaWFibGVOYW1lfSBmb3JtYXQNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBQYXR0ZXJuIFZBUklBQkxFX1JFRkVSRU5DRV9QQVRURVJOID0gUGF0dGVybi5jb21waWxlKCJcXCRcXHsoW1xcdy4tXSspXFwuKFtcXHcuLV0rKVxcfSIpOw0KICAgIA0KICAgIC8vIFN0b3JlcyByZWZlcmVuY2UgdmFsdWVzIGZvciBESUZGIGNoZWNrcw0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxTdHJpbmcsIERvdWJsZT4gZGlmZkJlZm9yZVZhbHVlcyA9IG5ldyBDb25jdXJyZW50SGFzaE1hcDw+KCk7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTWFwPFN0cmluZywgRG91YmxlPiBkaWZmQWZ0ZXJWYWx1ZXMgID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwPD4oKTsNCiAgICANCiAgICAvLyBTdG9yZXMgcmVmZXJlbmNlIHZhbHVlcyBmb3IgUFJFX0NIRUNLIGFuZCBQU1RfQ0hFQ0sNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBNYXA8U3RyaW5nLCBTdHJpbmc+IHByZUNoZWNrVmFsdWVzID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwPD4oKTsNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBNYXA8U3RyaW5nLCBTdHJpbmc+IHBzdENoZWNrVmFsdWVzID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwPD4oKTsNCiAgICANCiAgICAvKioNCiAgICAgKiBDbGVhciBhbGwgdGVzdCB2YXJpYWJsZXMNCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgY2xlYXIoKSB7DQogICAgICAgIHRlc3RWYXJpYWJsZXMuY2xlYXIoKTsNCiAgICAgICAgZGlmZkJlZm9yZVZhbHVlcy5jbGVhcigpOw0KICAgICAgICBkaWZmQWZ0ZXJWYWx1ZXMuY2xlYXIoKTsNCiAgICAgICAgcHJlQ2hlY2tWYWx1ZXMuY2xlYXIoKTsNCiAgICAgICAgcHN0Q2hlY2tWYWx1ZXMuY2xlYXIoKTsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogU2F2ZSB0ZXN0IHZhcmlhYmxlDQogICAgICogQHBhcmFtIHRjaWQgVGVzdCBjYXNlIElEDQogICAgICogQHBhcmFtIHZhcmlhYmxlTmFtZSBWYXJpYWJsZSBuYW1lDQogICAgICogQHBhcmFtIHZhbHVlIFZhcmlhYmxlIHZhbHVlDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyB2b2lkIHNhdmVWYXJpYWJsZShTdHJpbmcgdGNpZCwgU3RyaW5nIHZhcmlhYmxlTmFtZSwgU3RyaW5nIHZhbHVlKSB7DQogICAgICAgIGlmICh0Y2lkID09IG51bGwgfHwgdGNpZC5pc0JsYW5rKCkgfHwgdmFyaWFibGVOYW1lID09IG51bGwgfHwgdmFyaWFibGVOYW1lLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIFN0cmluZyBrZXkgPSB0Y2lkICsgIi4iICsgdmFyaWFibGVOYW1lOw0KICAgICAgICB0ZXN0VmFyaWFibGVzLnB1dChrZXksIHZhbHVlKTsNCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJWQVJJQUJMRV9TQVZFRHwiICsga2V5ICsgInwiICsgdmFsdWUpOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBHZXQgdGVzdCB2YXJpYWJsZQ0KICAgICAqIEBwYXJhbSBrZXkgRnVsbCB2YXJpYWJsZSBrZXkgaW4gdGhlIGZvcm1hdCAiVENJRC52YXJpYWJsZU5hbWUiDQogICAgICogQHJldHVybiBWYXJpYWJsZSB2YWx1ZSwgb3IgbnVsbCBpZiBub3QgZm91bmQNCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRWYXJpYWJsZShTdHJpbmcga2V5KSB7DQogICAgICAgIHJldHVybiB0ZXN0VmFyaWFibGVzLmdldChrZXkpOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBQcm9jZXNzIHZhcmlhYmxlIHJlZmVyZW5jZXMgaW4gYSBzdHJpbmcsIHJlcGxhY2luZyAke1RDSUQudmFyaWFibGVOYW1lfSB3aXRoIHRoZSBhY3R1YWwgdmFyaWFibGUgdmFsdWUNCiAgICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgc3RyaW5nDQogICAgICogQHJldHVybiBTdHJpbmcgd2l0aCB2YXJpYWJsZSByZWZlcmVuY2VzIHJlcGxhY2VkDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyBTdHJpbmcgcHJvY2Vzc1ZhcmlhYmxlUmVmZXJlbmNlcyhTdHJpbmcgaW5wdXQpIHsNCiAgICAgICAgaWYgKGlucHV0ID09IG51bGwgfHwgaW5wdXQuaXNFbXB0eSgpIHx8ICFpbnB1dC5jb250YWlucygiJHsiKSkgew0KICAgICAgICAgICAgcmV0dXJuIGlucHV0Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBTdHJpbmdCdWZmZXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1ZmZlcigpOw0KICAgICAgICBNYXRjaGVyIG1hdGNoZXIgPSBWQVJJQUJMRV9SRUZFUkVOQ0VfUEFUVEVSTi5tYXRjaGVyKGlucHV0KTsNCiAgICAgICAgDQogICAgICAgIHdoaWxlIChtYXRjaGVyLmZpbmQoKSkgew0KICAgICAgICAgICAgU3RyaW5nIGZ1bGxLZXkgPSBtYXRjaGVyLmdyb3VwKDEpICsgIi4iICsgbWF0Y2hlci5ncm91cCgyKTsNCiAgICAgICAgICAgIFN0cmluZyB2YWx1ZSA9IHRlc3RWYXJpYWJsZXMuZ2V0T3JEZWZhdWx0KGZ1bGxLZXksICIkeyIgKyBmdWxsS2V5ICsgIiAtIE5PVCBGT1VORH0iKTsNCiAgICAgICAgICAgIG1hdGNoZXIuYXBwZW5kUmVwbGFjZW1lbnQocmVzdWx0LCBNYXRjaGVyLnF1b3RlUmVwbGFjZW1lbnQodmFsdWUpKTsNCiAgICAgICAgfQ0KICAgICAgICBtYXRjaGVyLmFwcGVuZFRhaWwocmVzdWx0KTsNCiAgICAgICAgDQogICAgICAgIHJldHVybiByZXN1bHQudG9TdHJpbmcoKTsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogR2V0IGFsbCB0ZXN0IHZhcmlhYmxlcw0KICAgICAqIEByZXR1cm4gQ29weSBvZiB0aGUgdmFyaWFibGUgTWFwDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyBNYXA8U3RyaW5nLCBTdHJpbmc+IGdldEFsbFZhcmlhYmxlcygpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBDb25jdXJyZW50SGFzaE1hcDw+KHRlc3RWYXJpYWJsZXMpOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBTYXZlIHRoZSAiYmVmb3JlIiB2YWx1ZSBmb3IgYSBESUZGIGNoZWNrLg0KICAgICAqIEBwYXJhbSByZWZLZXkgbG9naWNhbCBrZXkgaWRlbnRpZnlpbmcgdGhlIHJlZmVyZW5jZSB2YWx1ZSAodHlwaWNhbGx5IHJlZlRDSUQucGF0aCkNCiAgICAgKiBAcGFyYW0gdmFsdWUgIG51bWVyaWMgdmFsdWUgY2FwdHVyZWQgYmVmb3JlIG9wZXJhdGlvbg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzYXZlQmVmb3JlKFN0cmluZyByZWZLZXksIFN0cmluZyB2YWx1ZSkgew0KICAgICAgICBpZiAocmVmS2V5ID09IG51bGwgfHwgcmVmS2V5LmlzQmxhbmsoKSkgcmV0dXJuOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZGlmZkJlZm9yZVZhbHVlcy5wdXQocmVmS2V5LCBEb3VibGUucGFyc2VEb3VibGUodmFsdWUpKTsNCiAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGlnbm9yZWQpIHsNCiAgICAgICAgICAgIC8vIE5vbi1udW1lcmljIHZhbHVlIOKAkyBza2lwIHN0b3JpbmcgdG8gYXZvaWQgTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGxhdGVyDQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogU2F2ZSB0aGUgImFmdGVyIiB2YWx1ZSBmb3IgYSBESUZGIGNoZWNrLg0KICAgICAqIEBwYXJhbSByZWZLZXkgbG9naWNhbCBrZXkgaWRlbnRpZnlpbmcgdGhlIHJlZmVyZW5jZSB2YWx1ZSAodHlwaWNhbGx5IHJlZlRDSUQucGF0aCkNCiAgICAgKiBAcGFyYW0gdmFsdWUgIG51bWVyaWMgdmFsdWUgY2FwdHVyZWQgYWZ0ZXIgb3BlcmF0aW9uDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyB2b2lkIHNhdmVBZnRlcihTdHJpbmcgcmVmS2V5LCBTdHJpbmcgdmFsdWUpIHsNCiAgICAgICAgaWYgKHJlZktleSA9PSBudWxsIHx8IHJlZktleS5pc0JsYW5rKCkpIHJldHVybjsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGRpZmZBZnRlclZhbHVlcy5wdXQocmVmS2V5LCBEb3VibGUucGFyc2VEb3VibGUodmFsdWUpKTsNCiAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGlnbm9yZWQpIHsNCiAgICAgICAgICAgIC8vIE5vbi1udW1lcmljIHZhbHVlIOKAkyBza2lwIHN0b3JpbmcNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBDYWxjdWxhdGUgZGlmZmVyZW5jZSAoYWZ0ZXIgLSBiZWZvcmUpIGZvciBhIGdpdmVuIHJlZmVyZW5jZSBrZXkuDQogICAgICogQHBhcmFtIHJlZktleSByZWZlcmVuY2Uga2V5DQogICAgICogQHJldHVybiBjYWxjdWxhdGVkIGRpZmZlcmVuY2UsIG9yIG51bGwgaWYgbWlzc2luZyBlaXRoZXIgdmFsdWUNCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIERvdWJsZSBjYWxjRGlmZihTdHJpbmcgcmVmS2V5KSB7DQogICAgICAgIGlmICghZGlmZkJlZm9yZVZhbHVlcy5jb250YWluc0tleShyZWZLZXkpIHx8ICFkaWZmQWZ0ZXJWYWx1ZXMuY29udGFpbnNLZXkocmVmS2V5KSkgew0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGRpZmZBZnRlclZhbHVlcy5nZXQocmVmS2V5KSAtIGRpZmZCZWZvcmVWYWx1ZXMuZ2V0KHJlZktleSk7DQogICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAqIFNhdmUgYSBQUkVfQ0hFQ0sgdmFsdWUgZnJvbSBhIHJlZmVyZW5jZSBBUEkuDQogICAgICogQHBhcmFtIHJlZktleSBsb2dpY2FsIGtleSBpZGVudGlmeWluZyB0aGUgcmVmZXJlbmNlIHZhbHVlICh0eXBpY2FsbHkgcmVmVENJRC5wYXRoKQ0KICAgICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBmcm9tIHJlZmVyZW5jZSBBUEkgKGNhbiBiZSBhbnkgc3RyaW5nIHZhbHVlKQ0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzYXZlUHJlQ2hlY2soU3RyaW5nIHJlZktleSwgU3RyaW5nIHZhbHVlKSB7DQogICAgICAgIGlmIChyZWZLZXkgPT0gbnVsbCB8fCByZWZLZXkuaXNCbGFuaygpIHx8IHZhbHVlID09IG51bGwpIHJldHVybjsNCiAgICAgICAgcHJlQ2hlY2tWYWx1ZXMucHV0KHJlZktleSwgdmFsdWUpOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBTYXZlIGEgUFNUX0NIRUNLIHZhbHVlIGZyb20gYSByZWZlcmVuY2UgQVBJLg0KICAgICAqIEBwYXJhbSByZWZLZXkgbG9naWNhbCBrZXkgaWRlbnRpZnlpbmcgdGhlIHJlZmVyZW5jZSB2YWx1ZSAodHlwaWNhbGx5IHJlZlRDSUQucGF0aCkNCiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgZnJvbSByZWZlcmVuY2UgQVBJIChjYW4gYmUgYW55IHN0cmluZyB2YWx1ZSkNCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2F2ZVBzdENoZWNrKFN0cmluZyByZWZLZXksIFN0cmluZyB2YWx1ZSkgew0KICAgICAgICBpZiAocmVmS2V5ID09IG51bGwgfHwgcmVmS2V5LmlzQmxhbmsoKSB8fCB2YWx1ZSA9PSBudWxsKSByZXR1cm47DQogICAgICAgIHBzdENoZWNrVmFsdWVzLnB1dChyZWZLZXksIHZhbHVlKTsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogR2V0IGEgUFJFX0NIRUNLIHZhbHVlIGZvciBldmFsdWF0aW9uLg0KICAgICAqIEBwYXJhbSByZWZLZXkgcmVmZXJlbmNlIGtleQ0KICAgICAqIEByZXR1cm4gc3RvcmVkIHZhbHVlLCBvciBudWxsIGlmIG5vdCBmb3VuZA0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIGdldFByZUNoZWNrVmFsdWUoU3RyaW5nIHJlZktleSkgew0KICAgICAgICByZXR1cm4gcHJlQ2hlY2tWYWx1ZXMuZ2V0KHJlZktleSk7DQogICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAqIEdldCBhIFBTVF9DSEVDSyB2YWx1ZSBmb3IgZXZhbHVhdGlvbi4NCiAgICAgKiBAcGFyYW0gcmVmS2V5IHJlZmVyZW5jZSBrZXkNCiAgICAgKiBAcmV0dXJuIHN0b3JlZCB2YWx1ZSwgb3IgbnVsbCBpZiBub3QgZm91bmQNCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRQc3RDaGVja1ZhbHVlKFN0cmluZyByZWZLZXkpIHsNCiAgICAgICAgcmV0dXJuIHBzdENoZWNrVmFsdWVzLmdldChyZWZLZXkpOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/service/script/GroovyScriptEngine.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2Uuc2NyaXB0OwoKaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5hbm5vdGF0aW9uLkpzb25DcmVhdG9yOwppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmFubm90YXRpb24uSnNvblByb3BlcnR5OwppbXBvcnQgZ3Jvb3Z5LmxhbmcuQmluZGluZzsKaW1wb3J0IGdyb292eS5sYW5nLkdyb292eUNsYXNzTG9hZGVyOwppbXBvcnQgZ3Jvb3Z5LmxhbmcuU2NyaXB0OwppbXBvcnQgamF2YS51dGlsLkFycmF5czsKaW1wb3J0IGphdmEudXRpbC5yZWdleC5NYXRjaGVyOwppbXBvcnQgamF2YS51dGlsLnJlZ2V4LlBhdHRlcm47CmltcG9ydCBqYXZhLnV0aWwuc3RyZWFtLkNvbGxlY3RvcnM7CmltcG9ydCBqYXZhLnV0aWwuc3RyZWFtLkludFN0cmVhbTsKCnB1YmxpYyBjbGFzcyBHcm9vdnlTY3JpcHRFbmdpbmUgewoKICAgIHByaXZhdGUgSW50ZWdlciBpZDsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBmb3JtYXQ7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBkZXNjcmlwdGlvbjsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIGdyb292eVNjcmlwdDsKICAgIHByaXZhdGUgZmluYWwgUGF0dGVybiBwYXR0ZXJuOwogICAgcHJpdmF0ZSBmaW5hbCBpbnQgZXhwZWN0ZWRBcmdDb3VudDsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBHcm9vdnlDbGFzc0xvYWRlciBHTE9CQUxfR1JPT1ZZX0NMQVNTX0xPQURFUiA9IG5ldyBHcm9vdnlDbGFzc0xvYWRlcigpOwoKICAgIHByaXZhdGUgQ2xhc3M8PyBleHRlbmRzIFNjcmlwdD4gY29tcGlsZWRTY3JpcHRDbGFzczsKCiAgICBASnNvbkNyZWF0b3IKICAgIHB1YmxpYyBHcm9vdnlTY3JpcHRFbmdpbmUoCiAgICAgICAgICAgIEBKc29uUHJvcGVydHkoIm5hbWUiKSBTdHJpbmcgbmFtZSwKICAgICAgICAgICAgQEpzb25Qcm9wZXJ0eSgiZm9ybWF0IikgU3RyaW5nIGZvcm1hdCwKICAgICAgICAgICAgQEpzb25Qcm9wZXJ0eSgiZGVzY3JpcHRpb24iKSBTdHJpbmcgZGVzY3JpcHRpb24sCiAgICAgICAgICAgIEBKc29uUHJvcGVydHkoImdyb292eVNjcmlwdCIpIFN0cmluZyBncm9vdnlTY3JpcHQpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwogICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjsKICAgICAgICB0aGlzLmdyb292eVNjcmlwdCA9IGdyb292eVNjcmlwdDsKCiAgICAgICAgbG9uZyBjb3VudCA9IDA7CiAgICAgICAgaWYgKGZvcm1hdC5jb250YWlucygiKCIpICYmIGZvcm1hdC5jb250YWlucygiKSIpKSB7CiAgICAgICAgICAgIFN0cmluZyBhcmdzUGFydCA9IGZvcm1hdC5zdWJzdHJpbmcoZm9ybWF0LmluZGV4T2YoJygnKSArIDEsIGZvcm1hdC5sYXN0SW5kZXhPZignKScpKTsKICAgICAgICAgICAgaWYgKCFhcmdzUGFydC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgICAgICBjb3VudCA9IEFycmF5cy5zdHJlYW0oYXJnc1BhcnQuc3BsaXQoIiwiKSkuZmlsdGVyKHMgLT4gIXMudHJpbSgpLmlzRW1wdHkoKSkuY291bnQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLmV4cGVjdGVkQXJnQ291bnQgPSAoaW50KSBjb3VudDsKICAgICAgICB0aGlzLnBhdHRlcm4gPSBidWlsZFBhdHRlcm5Gcm9tRm9ybWF0KGZvcm1hdCwgdGhpcy5leHBlY3RlZEFyZ0NvdW50KTsKCiAgICAgICAgLy8g6aKE57yW6K+R6ISa5pys77yM6Iul5aSx6LSl5LuN5Y+v5ZyoIGdlbmVyYXRlIOaXtumAgOWbnuWOn+iEmuacrOWtl+espuS4sgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEBTdXBwcmVzc1dhcm5pbmdzKCJ1bmNoZWNrZWQiKQogICAgICAgICAgICBDbGFzczw/IGV4dGVuZHMgU2NyaXB0PiBjbHMgPSAoQ2xhc3M8PyBleHRlbmRzIFNjcmlwdD4pIEdMT0JBTF9HUk9PVllfQ0xBU1NfTE9BREVSLnBhcnNlQ2xhc3MoZ3Jvb3Z5U2NyaXB0KS5hc1N1YmNsYXNzKFNjcmlwdC5jbGFzcyk7CiAgICAgICAgICAgIHRoaXMuY29tcGlsZWRTY3JpcHRDbGFzcyA9IGNsczsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIltHcm9vdnlTY3JpcHRFbmdpbmVdIOiEmuacrOmihOe8luivkeWksei0pTogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAgdGhpcy5jb21waWxlZFNjcmlwdENsYXNzID0gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIEdyb292eVNjcmlwdEVuZ2luZShJbnRlZ2VyIGlkLCBTdHJpbmcgbmFtZSwgU3RyaW5nIGZvcm1hdCwgU3RyaW5nIGRlc2NyaXB0aW9uLCBTdHJpbmcgZ3Jvb3Z5U2NyaXB0KSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMuZ3Jvb3Z5U2NyaXB0ID0gZ3Jvb3Z5U2NyaXB0OwoKICAgICAgICBsb25nIGNvdW50ID0gMDsKICAgICAgICBpZiAoZm9ybWF0LmNvbnRhaW5zKCIoIikgJiYgZm9ybWF0LmNvbnRhaW5zKCIpIikpIHsKICAgICAgICAgICAgU3RyaW5nIGFyZ3NQYXJ0ID0gZm9ybWF0LnN1YnN0cmluZyhmb3JtYXQuaW5kZXhPZignKCcpICsgMSwgZm9ybWF0Lmxhc3RJbmRleE9mKCcpJykpOwogICAgICAgICAgICBpZiAoIWFyZ3NQYXJ0LnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgICAgIGNvdW50ID0gQXJyYXlzLnN0cmVhbShhcmdzUGFydC5zcGxpdCgiLCIpKS5maWx0ZXIocyAtPiAhcy50cmltKCkuaXNFbXB0eSgpKS5jb3VudCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuZXhwZWN0ZWRBcmdDb3VudCA9IChpbnQpIGNvdW50OwogICAgICAgIHRoaXMucGF0dGVybiA9IGJ1aWxkUGF0dGVybkZyb21Gb3JtYXQoZm9ybWF0LCB0aGlzLmV4cGVjdGVkQXJnQ291bnQpOwoKICAgICAgICAvLyDpooTnvJbor5HohJrmnKzvvIzoi6XlpLHotKXku43lj6/lnKggZ2VuZXJhdGUg5pe26YCA5Zue5Y6f6ISa5pys5a2X56ym5LiyCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICAgICAgICAgIENsYXNzPD8gZXh0ZW5kcyBTY3JpcHQ+IGNscyA9IChDbGFzczw/IGV4dGVuZHMgU2NyaXB0PikgR0xPQkFMX0dST09WWV9DTEFTU19MT0FERVIucGFyc2VDbGFzcyhncm9vdnlTY3JpcHQpLmFzU3ViY2xhc3MoU2NyaXB0LmNsYXNzKTsKICAgICAgICAgICAgdGhpcy5jb21waWxlZFNjcmlwdENsYXNzID0gY2xzOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiW0dyb292eVNjcmlwdEVuZ2luZV0g6ISa5pys6aKE57yW6K+R5aSx6LSlOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICB0aGlzLmNvbXBpbGVkU2NyaXB0Q2xhc3MgPSBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIFBhdHRlcm4gYnVpbGRQYXR0ZXJuRnJvbUZvcm1hdChTdHJpbmcgZm9ybWF0U3RyLCBpbnQgYXJnQ291bnQpIHsKICAgICAgICAvLyBFeHRyYWN0IHRoZSB2YXJpYWJsZSBuYW1lLCBlLmcuLCAidXNlckdyZWV0aW5nIiBmcm9tICJAe3VzZXJHcmVldGluZyhuYW1lKX0iCiAgICAgICAgU3RyaW5nIHZhck5hbWU7CiAgICAgICAgaW50IG9wZW5CcmFjZSA9IGZvcm1hdFN0ci5pbmRleE9mKCd7Jyk7CiAgICAgICAgaW50IG9wZW5QYXJlbiA9IGZvcm1hdFN0ci5pbmRleE9mKCcoJyk7CiAgICAgICAgaW50IGNsb3NlQnJhY2UgPSBmb3JtYXRTdHIubGFzdEluZGV4T2YoJ30nKTsKCiAgICAgICAgaWYgKG9wZW5QYXJlbiAhPSAtMSAmJiBvcGVuUGFyZW4gPCBjbG9zZUJyYWNlKSB7CiAgICAgICAgICAgIHZhck5hbWUgPSBmb3JtYXRTdHIuc3Vic3RyaW5nKG9wZW5CcmFjZSArIDEsIG9wZW5QYXJlbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyTmFtZSA9IGZvcm1hdFN0ci5zdWJzdHJpbmcob3BlbkJyYWNlICsgMSwgY2xvc2VCcmFjZSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFN0YXJ0IGJ1aWxkaW5nIHRoZSByZWdleDogQHt2YXJOYW1lIC4uLiB9CiAgICAgICAgU3RyaW5nIHJlZ2V4ID0gIkBcXHsiICsgUGF0dGVybi5xdW90ZSh2YXJOYW1lKTsKCiAgICAgICAgaWYgKGFyZ0NvdW50ID4gMCkgewogICAgICAgICAgICAvLyBBZGQgcmVnZXggZm9yIGFyZ3VtZW50czogKC4qPyksICguKj8sLio/KSBldGMuCiAgICAgICAgICAgIFN0cmluZyBwYXJhbXNSZWdleCA9IEludFN0cmVhbS5yYW5nZSgwLCBhcmdDb3VudCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcFRvT2JqKGkgLT4gIiguKj8pIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbGxlY3QoQ29sbGVjdG9ycy5qb2luaW5nKCJcXHMqLFxccyoiKSk7CiAgICAgICAgICAgIHJlZ2V4ICs9ICJcXHMqXFwoXFxzKiIgKyBwYXJhbXNSZWdleCArICJcXHMqXFwpIjsKICAgICAgICB9CgogICAgICAgIC8vIENsb3NlIHdpdGggdGhlIGZpbmFsIGJyYWNlCiAgICAgICAgcmVnZXggKz0gIlxcfSI7CgogICAgICAgIHJldHVybiBQYXR0ZXJuLmNvbXBpbGUocmVnZXgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2VuZXJhdGUoT2JqZWN0Li4uIGFyZ3MpIHsKICAgICAgICBpZiAoYXJncy5sZW5ndGggIT0gdGhpcy5leHBlY3RlZEFyZ0NvdW50KSB7CiAgICAgICAgICAgIFN0cmluZyBlcnJvck1lc3NhZ2UgPSBTdHJpbmcuZm9ybWF0KAogICAgICAgICAgICAgICAgIkVycm9yIGZvciB2YXJpYWJsZSAnJXMnOiBFeHBlY3RlZCAlZCBhcmd1bWVudChzKSBidXQgcmVjZWl2ZWQgJWQuIFVzYWdlOiAlcyIsCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUsIHRoaXMuZXhwZWN0ZWRBcmdDb3VudCwgYXJncy5sZW5ndGgsIHRoaXMuZGVzY3JpcHRpb24KICAgICAgICAgICAgKTsKICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKGVycm9yTWVzc2FnZSk7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdDsKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChjb21waWxlZFNjcmlwdENsYXNzID09IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIOWmguaenOmihOe8luivkeWksei0pe+8jOWImeWbnumAgOWIsOWNs+aXtuino+aekAogICAgICAgICAgICAgICAgQmluZGluZyBiaW5kaW5nID0gbmV3IEJpbmRpbmcoKTsKICAgICAgICAgICAgICAgIGJpbmRpbmcuc2V0VmFyaWFibGUoImFyZ3MiLCBhcmdzKTsKICAgICAgICAgICAgICAgIHRyeSAoR3Jvb3Z5Q2xhc3NMb2FkZXIgY2wgPSBuZXcgR3Jvb3Z5Q2xhc3NMb2FkZXIoKSkgewogICAgICAgICAgICAgICAgICAgIENsYXNzPD8+IHRtcCA9IGNsLnBhcnNlQ2xhc3MoZ3Jvb3Z5U2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICBpZiAoU2NyaXB0LmNsYXNzLmlzQXNzaWduYWJsZUZyb20odG1wKSkgewogICAgICAgICAgICAgICAgICAgICAgICBTY3JpcHQgc2NyaXB0ID0gKFNjcmlwdCkgdG1wLmdldERlY2xhcmVkQ29uc3RydWN0b3IoKS5uZXdJbnN0YW5jZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQuc2V0QmluZGluZyhiaW5kaW5nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy52YWx1ZU9mKHNjcmlwdC5ydW4oKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFNjcmlwdCBzY3JpcHRJbnN0YW5jZSA9IGNvbXBpbGVkU2NyaXB0Q2xhc3MuZ2V0RGVjbGFyZWRDb25zdHJ1Y3RvcigpLm5ld0luc3RhbmNlKCk7CiAgICAgICAgICAgICAgICBzY3JpcHRJbnN0YW5jZS5zZXRQcm9wZXJ0eSgiYXJncyIsIGFyZ3MpOwogICAgICAgICAgICAgICAgT2JqZWN0IHJlc3VsdCA9IHNjcmlwdEluc3RhbmNlLnJ1bigpOwogICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy52YWx1ZU9mKHJlc3VsdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkVycm9yIGV4ZWN1dGluZyBHcm9vdnkgc2NyaXB0IGZvciB2YXJpYWJsZSAnIiArIG5hbWUgKyAiJzogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIE1hdGNoZXIgZ2V0TWF0Y2hlcihTdHJpbmcgaW5wdXQpIHsKICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuLm1hdGNoZXIoaW5wdXQpOwogICAgfQogICAgCiAgICBwdWJsaWMgUGF0dGVybiBnZXRQYXR0ZXJuKCkgewogICAgICAgIHJldHVybiBwYXR0ZXJuOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Rm9ybWF0KCkgewogICAgICAgIHJldHVybiBmb3JtYXQ7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsKICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewogICAgICAgIHJldHVybiBuYW1lOwogICAgfQogICAgCiAgICBwdWJsaWMgU3RyaW5nIGdldEdyb292eVNjcmlwdCgpIHsKICAgICAgICByZXR1cm4gZ3Jvb3Z5U2NyaXB0OwogICAgfQoKICAgIHB1YmxpYyBJbnRlZ2VyIGdldElkKCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZChJbnRlZ2VyIGlkKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgfQp9IA==
END
PATH:src/main/java/com/qa/app/service/script/VariableGenerator.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2Uuc2NyaXB0OwoKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JVmFyaWFibGVTZXJ2aWNlOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmltcGwuVmFyaWFibGVTZXJ2aWNlSW1wbDsKaW1wb3J0IGNvbS5xYS5hcHAudXRpbC5IZWxwVG9vbHRpcE1hbmFnZXI7CgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7CmltcG9ydCBqYXZhLnRpbWUuWm9uZUlkOwppbXBvcnQgamF2YS50aW1lLlpvbmVkRGF0ZVRpbWU7CmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOwppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5VVUlEOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuVGhyZWFkTG9jYWxSYW5kb207CmltcG9ydCBqYXZhLnV0aWwucmVnZXguTWF0Y2hlcjsKaW1wb3J0IGphdmEudXRpbC5yZWdleC5QYXR0ZXJuOwoKcHVibGljIGNsYXNzIFZhcmlhYmxlR2VuZXJhdG9yIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBWYXJpYWJsZUdlbmVyYXRvciBJTlNUQU5DRSA9IG5ldyBWYXJpYWJsZUdlbmVyYXRvcigpOwoKICAgIHByaXZhdGUgTGlzdDxHcm9vdnlTY3JpcHRFbmdpbmU+IGN1c3RvbVZhcmlhYmxlczsKICAgIHByaXZhdGUgZmluYWwgSVZhcmlhYmxlU2VydmljZSB2YXJpYWJsZVNlcnZpY2U7CgogICAgcHJpdmF0ZSBWYXJpYWJsZUdlbmVyYXRvcigpIHsKICAgICAgICB0aGlzLnZhcmlhYmxlU2VydmljZSA9IG5ldyBWYXJpYWJsZVNlcnZpY2VJbXBsKCk7CiAgICAgICAgcmVsb2FkQ3VzdG9tVmFyaWFibGVzKCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBTdHJpbmcgZ2V0QnVpbHRJblZhcmlhYmxlc0RvY3VtZW50YXRpb24oKSB7CiAgICAgICAgcmV0dXJuIEhlbHBUb29sdGlwTWFuYWdlci5nZXRCdWlsdEluVmFyaWFibGVEb2MoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIFZhcmlhYmxlR2VuZXJhdG9yIGdldEluc3RhbmNlKCkgewogICAgICAgIHJldHVybiBJTlNUQU5DRTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZWxvYWRDdXN0b21WYXJpYWJsZXMoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY3VzdG9tVmFyaWFibGVzID0gdmFyaWFibGVTZXJ2aWNlLmxvYWRWYXJpYWJsZXMoKTsKICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gbG9hZCBjdXN0b20gdmFyaWFibGVzOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICBjdXN0b21WYXJpYWJsZXMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXRzIGFsbCB2YXJpYWJsZSBkZWZpbml0aW9ucywgaW5jbHVkaW5nIGJ1aWx0LWluIGFuZCBjdXN0b20gdmFyaWFibGVzCiAgICAgKiAKICAgICAqIEJ1aWx0LWluIHZhcmlhYmxlcyB1c2FnZSBleGFtcGxlczoKICAgICAqIAogICAgICogMS4gVVVJRDogX19VVUlECiAgICAgKiAgICBFeGFtcGxlOiAiaWQiOiAiX19VVUlEIiDihpIgImlkIjogImY0N2FjMTBiLTU4Y2MtNDM3Mi1hNTY3LTBlMDJiMmMzZDQ3OSIKICAgICAqIAogICAgICogMi4gVGltZXN0YW1wIChtcyk6IF9fVElNRVNUQU1QCiAgICAgKiAgICBFeGFtcGxlOiAidGltZSI6ICJfX1RJTUVTVEFNUCIg4oaSICJ0aW1lIjogIjE2ODQ5MzIxNTYxMjMiCiAgICAgKiAKICAgICAqIDMuIERhdGUvVGltZTogX19EQVRFVElNRShmb3JtYXRbLCB0aW1lem9uZV0pCiAgICAgKiAgICBFeGFtcGxlczoKICAgICAqICAgIC0gYF9fREFURVRJTUUoeXl5eS1NTS1kZCBISDptbTpzcylgIOKGkiBgMjAyNS0wNy0wNSAxMjozMDo0NWAgKOW4puWIhumalOespueahOWujOaVtOaXtumXtCkKICAgICAqICAgIC0gYF9fREFURVRJTUUoeXl5eU1NZGRISG1tc3MpYCDihpIgYDIwMjUwNzA1MTIzMDQ1YCAo5bm05pyI5pel5pe25YiG56eSKQogICAgICogICAgLSBgX19EQVRFVElNRSh5eXl5LU1NLWRkJ1QnSEg6bW06c3NYWFgsIEFzaWEvU2hhbmdoYWkpYCDihpIgYDIwMjUtMDctMDVUMTI6MzA6NDUrMDg6MDBgIChJU08gODYwMSDmoLzlvI8pCiAgICAgKiAKICAgICAqIDQuIFByZWZpeCArIFRpbWVzdGFtcCAobXMpOiBfX1BSRUZJWF9USU1FU1RBTVAocHJlZml4KQogICAgICogICAgRXhhbXBsZTogIm9yZGVySWQiOiAiX19QUkVGSVhfVElNRVNUQU1QKE9SREVSXykiIOKGkiAib3JkZXJJZCI6ICJPUkRFUl8xNjg0OTMyMTU2MTIzIgogICAgICogCiAgICAgKiA1LiBQcmVmaXggKyBEYXRlVGltZTogX19QUkVGSVhfREFURVRJTUUocHJlZml4LGZvcm1hdFssIHRpbWV6b25lXSkKICAgICAqICAgIEV4YW1wbGU6ICJiYXRjaElkIjogIl9fUFJFRklYX0RBVEVUSU1FKEJBVENIXyx5eXl5TU1kZCxBbWVyaWNhL05ld19Zb3JrKSIg4oaSICJiYXRjaElkIjogIkJBVENIXzIwMjMwNTI0IgogICAgICogCiAgICAgKiA2LiBSYW5kb20gU3RyaW5nOiBfX1JBTkRPTV9TVFJJTkcobGVuZ3RoLG1vZGUpCiAgICAgKiAgICBNb2RlcyBhdmFpbGFibGU6CiAgICAgKiAgICAtIGE6IEFscGhhbnVtZXJpYyAoZGVmYXVsdCkgLSB1cHBlcmNhc2UgKyBsb3dlcmNhc2UgKyBudW1iZXJzCiAgICAgKiAgICAgIEV4YW1wbGU6ICJrZXkiOiAiX19SQU5ET01fU1RSSU5HKDgsYSkiIOKGkiAia2V5IjogIkEzYlg3MXBRIgogICAgICogICAgLSB1OiBVcHBlcmNhc2Ugb25seSAtIG9ubHkgdXBwZXJjYXNlIGxldHRlcnMKICAgICAqICAgICAgRXhhbXBsZTogImNvZGUiOiAiX19SQU5ET01fU1RSSU5HKDUsdSkiIOKGkiAiY29kZSI6ICJBWEZHSCIKICAgICAqICAgIC0gbDogTG93ZXJjYXNlIG9ubHkgLSBvbmx5IGxvd2VyY2FzZSBsZXR0ZXJzCiAgICAgKiAgICAgIEV4YW1wbGU6ICJ1c2VybmFtZSI6ICJfX1JBTkRPTV9TVFJJTkcoNixsKSIg4oaSICJ1c2VybmFtZSI6ICJhYmNkZWYiCiAgICAgKiAgICAtIG06IE1peGVkIGNhc2UgLSB1cHBlcmNhc2UgKyBsb3dlcmNhc2UgKG5vIG51bWJlcnMpCiAgICAgKiAgICAgIEV4YW1wbGU6ICJuYW1lIjogIl9fUkFORE9NX1NUUklORyg3LG0pIiDihpIgIm5hbWUiOiAiQWJDZEVmRyIKICAgICAqICAgIC0gbjogTnVtZXJpYyBvbmx5IC0gb25seSBkaWdpdHMgMC05CiAgICAgKiAgICAgIEV4YW1wbGU6ICJwaW4iOiAiX19SQU5ET01fU1RSSU5HKDQsbikiIOKGkiAicGluIjogIjEyMzQiCiAgICAgKi8KICAgIHB1YmxpYyBMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+IGdldFZhcmlhYmxlRGVmaW5pdGlvbnMoKSB7CiAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBTdHJpbmc+PiBkZWZpbml0aW9ucyA9IG5ldyBBcnJheUxpc3Q8PigpOwogICAgICAgIC8vIEFkZCBidWlsdC1pbiBydWxlcwogICAgICAgIGRlZmluaXRpb25zLmFkZChNYXAub2YoImZvcm1hdCIsICJfX1VVSUQiLCAiZGVzY3JpcHRpb24iLCAiR2VuZXJhdGVzIGEgcmFuZG9tIFVVSUQiKSk7CiAgICAgICAgZGVmaW5pdGlvbnMuYWRkKE1hcC5vZigiZm9ybWF0IiwgIl9fVElNRVNUQU1QIiwgImRlc2NyaXB0aW9uIiwgIkdlbmVyYXRlcyB0aGUgY3VycmVudCBVbml4IHRpbWVzdGFtcCAobWlsbGlzZWNvbmRzKSIpKTsKICAgICAgICBkZWZpbml0aW9ucy5hZGQoTWFwLm9mKCJmb3JtYXQiLCAiX19EQVRFVElNRShmb3JtYXRbLCB0aW1lem9uZV0pIiwgImRlc2NyaXB0aW9uIiwgIkdlbmVyYXRlcyBkYXRlL3RpbWUgd2l0aCBvcHRpb25hbCB0aW1lem9uZSwgZS5nLiwgX19EQVRFVElNRSh5eXl5LU1NLWRkLCBVVEMpIikpOwogICAgICAgIGRlZmluaXRpb25zLmFkZChNYXAub2YoImZvcm1hdCIsICJfX1BSRUZJWF9USU1FU1RBTVAocHJlZml4KSIsICJkZXNjcmlwdGlvbiIsICJHZW5lcmF0ZXMgYSBzdHJpbmcgd2l0aCBwcmVmaXggYW5kIG1pbGxpc2Vjb25kIHRpbWVzdGFtcCwgZS5nLiwgX19QUkVGSVhfVElNRVNUQU1QKHRlc3RfKSIpKTsKICAgICAgICBkZWZpbml0aW9ucy5hZGQoTWFwLm9mKCJmb3JtYXQiLCAiX19QUkVGSVhfREFURVRJTUUocHJlZml4LGZvcm1hdFssIHRpbWV6b25lXSkiLCAiZGVzY3JpcHRpb24iLCAiR2VuZXJhdGVzIHN0cmluZyB3aXRoIHByZWZpeCBhbmQgZm9ybWF0dGVkIGRhdGUgd2l0aCBvcHRpb25hbCB0aW1lem9uZSwgZS5nLiwgX19QUkVGSVhfREFURVRJTUUob3JkZXJfLHl5eXlNTWRkLFVUQykiKSk7CiAgICAgICAgZGVmaW5pdGlvbnMuYWRkKE1hcC5vZigiZm9ybWF0IiwgIl9fUkFORE9NX1NUUklORyhsZW5ndGhbLG1vZGVdKSIsICJkZXNjcmlwdGlvbiIsICJHZW5lcmF0ZXMgYSByYW5kb20gc3RyaW5nLCBlLmcuLCBfX1JBTkRPTV9TVFJJTkcoMTAsYSkgLSBtb2RlczogYT1hbHBoYW51bWVyaWMsIHU9dXBwZXJjYXNlLCBsPWxvd2VyY2FzZSwgbT1taXhlZCBjYXNlLCBuPW51bWVyaWMgb25seSIpKTsKCiAgICAgICAgLy8gQWRkIGN1c3RvbSBydWxlcwogICAgICAgIGlmIChjdXN0b21WYXJpYWJsZXMgIT0gbnVsbCkgewogICAgICAgICAgICBmb3IgKEdyb292eVNjcmlwdEVuZ2luZSB2YXJpYWJsZSA6IGN1c3RvbVZhcmlhYmxlcykgewogICAgICAgICAgICAgICAgZGVmaW5pdGlvbnMuYWRkKE1hcC5vZigiZm9ybWF0IiwgdmFyaWFibGUuZ2V0Rm9ybWF0KCksICJkZXNjcmlwdGlvbiIsIHZhcmlhYmxlLmdldERlc2NyaXB0aW9uKCkpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZGVmaW5pdGlvbnM7CiAgICB9CgogICAgcHVibGljIFN0cmluZyByZXNvbHZlVmFyaWFibGVzKFN0cmluZyB2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBTdHJpbmcgcmVzb2x2ZWRWYWx1ZSA9IHZhbHVlOwoKICAgICAgICAvLyDkvJjlhYjlpITnkIboh6rlrprkuYnlj5jph48KICAgICAgICBpZiAoY3VzdG9tVmFyaWFibGVzICE9IG51bGwpIHsKICAgICAgICAgICAgZm9yIChHcm9vdnlTY3JpcHRFbmdpbmUgdmFyaWFibGUgOiBjdXN0b21WYXJpYWJsZXMpIHsKICAgICAgICAgICAgICAgIE1hdGNoZXIgbWF0Y2hlciA9IHZhcmlhYmxlLmdldE1hdGNoZXIocmVzb2x2ZWRWYWx1ZSk7CiAgICAgICAgICAgICAgICBTdHJpbmdCdWZmZXIgc2IgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgICAgICAgICB3aGlsZSAobWF0Y2hlci5maW5kKCkpIHsKICAgICAgICAgICAgICAgICAgICBpbnQgZ3JvdXBDb3VudCA9IG1hdGNoZXIuZ3JvdXBDb3VudCgpOwogICAgICAgICAgICAgICAgICAgIFN0cmluZ1tdIGFyZ3MgPSBuZXcgU3RyaW5nW2dyb3VwQ291bnRdOwogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBtYXRjaGVyLmdyb3VwKGkgKyAxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHJlcGxhY2VtZW50ID0gdmFyaWFibGUuZ2VuZXJhdGUoKE9iamVjdFtdKSBhcmdzKTsKICAgICAgICAgICAgICAgICAgICBtYXRjaGVyLmFwcGVuZFJlcGxhY2VtZW50KHNiLCBNYXRjaGVyLnF1b3RlUmVwbGFjZW1lbnQocmVwbGFjZW1lbnQpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG1hdGNoZXIuYXBwZW5kVGFpbChzYik7CiAgICAgICAgICAgICAgICByZXNvbHZlZFZhbHVlID0gc2IudG9TdHJpbmcoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g5aSE55CG5YaF572u5Y+Y6YePCiAgICAgICAgcmVzb2x2ZWRWYWx1ZSA9IHJlc29sdmVCdWlsdEluVmFyaWFibGVzKHJlc29sdmVkVmFsdWUpOwoKICAgICAgICByZXR1cm4gcmVzb2x2ZWRWYWx1ZTsKICAgIH0KCiAgICBwcml2YXRlIFN0cmluZyByZXNvbHZlQnVpbHRJblZhcmlhYmxlcyhTdHJpbmcgdmFsdWUpIHsKICAgICAgICBTdHJpbmcgdHJhbnNsYXRlZFZhbHVlID0gdHJhbnNsYXRlTGVnYWN5U3ludGF4KHZhbHVlKTsKICAgICAgICBTdHJpbmcgcmVzb2x2ZWRWYWx1ZSA9IHRyYW5zbGF0ZWRWYWx1ZTsKCiAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUuY29udGFpbnMoIl9fVVVJRCIpKSB7CiAgICAgICAgICAgIHJlc29sdmVkVmFsdWUgPSByZXNvbHZlZFZhbHVlLnJlcGxhY2UoIl9fVVVJRCIsIFVVSUQucmFuZG9tVVVJRCgpLnRvU3RyaW5nKCkpOwogICAgICAgIH0KICAgICAgICBpZiAocmVzb2x2ZWRWYWx1ZS5jb250YWlucygiX19USU1FU1RBTVAiKSkgewogICAgICAgICAgICByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZWRWYWx1ZS5yZXBsYWNlKCJfX1RJTUVTVEFNUCIsIFN0cmluZy52YWx1ZU9mKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKSk7CiAgICAgICAgfQoKICAgICAgICBQYXR0ZXJuIGRhdGV0aW1lUGF0dGVybiA9IFBhdHRlcm4uY29tcGlsZSgiX19EQVRFVElNRVxcKChbXiwpXSspKD86LFxccyooW14pXSspKT9cXCkiKTsKICAgICAgICBNYXRjaGVyIGRhdGV0aW1lTWF0Y2hlciA9IGRhdGV0aW1lUGF0dGVybi5tYXRjaGVyKHJlc29sdmVkVmFsdWUpOwogICAgICAgIFN0cmluZ0J1ZmZlciBzYkRhdGV0aW1lID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAgIHdoaWxlIChkYXRldGltZU1hdGNoZXIuZmluZCgpKSB7CiAgICAgICAgICAgIFN0cmluZyBmb3JtYXQgPSBkYXRldGltZU1hdGNoZXIuZ3JvdXAoMSkudHJpbSgpOwogICAgICAgICAgICBTdHJpbmcgdGltZXpvbmUgPSAoZGF0ZXRpbWVNYXRjaGVyLmdyb3VwQ291bnQoKSA+IDEgJiYgZGF0ZXRpbWVNYXRjaGVyLmdyb3VwKDIpICE9IG51bGwpID8gZGF0ZXRpbWVNYXRjaGVyLmdyb3VwKDIpLnRyaW0oKSA6IG51bGw7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdHRlciBkdGYgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oZm9ybWF0KTsKICAgICAgICAgICAgICAgIFN0cmluZyBmb3JtYXR0ZWREYXRlOwogICAgICAgICAgICAgICAgaWYgKHRpbWV6b25lICE9IG51bGwgJiYgIXRpbWV6b25lLmlzQmxhbmsoKSkgewogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERhdGUgPSBab25lZERhdGVUaW1lLm5vdyhab25lSWQub2YodGltZXpvbmUpKS5mb3JtYXQoZHRmKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkRGF0ZSA9IExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KGR0Zik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkYXRldGltZU1hdGNoZXIuYXBwZW5kUmVwbGFjZW1lbnQoc2JEYXRldGltZSwgTWF0Y2hlci5xdW90ZVJlcGxhY2VtZW50KGZvcm1hdHRlZERhdGUpKTsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRXJyb3IgZm9ybWF0dGluZyBkYXRlOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRhdGV0aW1lTWF0Y2hlci5hcHBlbmRUYWlsKHNiRGF0ZXRpbWUpOwogICAgICAgIHJlc29sdmVkVmFsdWUgPSBzYkRhdGV0aW1lLnRvU3RyaW5nKCk7CgogICAgICAgIFBhdHRlcm4gcHJlZml4VGltZXN0YW1wUGF0dGVybiA9IFBhdHRlcm4uY29tcGlsZSgiX19QUkVGSVhfVElNRVNUQU1QXFwoKC4qPylcXCkiKTsKICAgICAgICBNYXRjaGVyIHByZWZpeFRpbWVzdGFtcE1hdGNoZXIgPSBwcmVmaXhUaW1lc3RhbXBQYXR0ZXJuLm1hdGNoZXIocmVzb2x2ZWRWYWx1ZSk7CiAgICAgICAgU3RyaW5nQnVmZmVyIHNiUHJlZml4VHMgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgd2hpbGUgKHByZWZpeFRpbWVzdGFtcE1hdGNoZXIuZmluZCgpKSB7CiAgICAgICAgICAgIFN0cmluZyBwcmVmaXggPSBwcmVmaXhUaW1lc3RhbXBNYXRjaGVyLmdyb3VwKDEpOwogICAgICAgICAgICBTdHJpbmcgdGltZXN0YW1wID0gU3RyaW5nLnZhbHVlT2YoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOwogICAgICAgICAgICBwcmVmaXhUaW1lc3RhbXBNYXRjaGVyLmFwcGVuZFJlcGxhY2VtZW50KHNiUHJlZml4VHMsIE1hdGNoZXIucXVvdGVSZXBsYWNlbWVudChwcmVmaXggKyB0aW1lc3RhbXApKTsKICAgICAgICB9CiAgICAgICAgcHJlZml4VGltZXN0YW1wTWF0Y2hlci5hcHBlbmRUYWlsKHNiUHJlZml4VHMpOwogICAgICAgIHJlc29sdmVkVmFsdWUgPSBzYlByZWZpeFRzLnRvU3RyaW5nKCk7CgogICAgICAgIFBhdHRlcm4gcHJlZml4RGF0ZXRpbWVQYXR0ZXJuID0gUGF0dGVybi5jb21waWxlKCJfX1BSRUZJWF9EQVRFVElNRVxcKChbXiwpXSspLChbXiwpXSspKD86LFxccyooW14pXSspKT9cXCkiKTsKICAgICAgICBNYXRjaGVyIHByZWZpeERhdGV0aW1lTWF0Y2hlciA9IHByZWZpeERhdGV0aW1lUGF0dGVybi5tYXRjaGVyKHJlc29sdmVkVmFsdWUpOwogICAgICAgIFN0cmluZ0J1ZmZlciBzYlByZWZpeER0ID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAgIHdoaWxlIChwcmVmaXhEYXRldGltZU1hdGNoZXIuZmluZCgpKSB7CiAgICAgICAgICAgIFN0cmluZyBwcmVmaXggPSBwcmVmaXhEYXRldGltZU1hdGNoZXIuZ3JvdXAoMSkudHJpbSgpOwogICAgICAgICAgICBTdHJpbmcgZm9ybWF0ID0gcHJlZml4RGF0ZXRpbWVNYXRjaGVyLmdyb3VwKDIpLnRyaW0oKTsKICAgICAgICAgICAgU3RyaW5nIHRpbWV6b25lID0gKHByZWZpeERhdGV0aW1lTWF0Y2hlci5ncm91cENvdW50KCkgPiAyICYmIHByZWZpeERhdGV0aW1lTWF0Y2hlci5ncm91cCgzKSAhPSBudWxsKSA/IHByZWZpeERhdGV0aW1lTWF0Y2hlci5ncm91cCgzKS50cmltKCkgOiBudWxsOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZHRmID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKGZvcm1hdCk7CiAgICAgICAgICAgICAgICBTdHJpbmcgZm9ybWF0dGVkRGF0ZTsKICAgICAgICAgICAgICAgIGlmICh0aW1lem9uZSAhPSBudWxsICYmICF0aW1lem9uZS5pc0JsYW5rKCkpIHsKICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWREYXRlID0gWm9uZWREYXRlVGltZS5ub3coWm9uZUlkLm9mKHRpbWV6b25lKSkuZm9ybWF0KGR0Zik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERhdGUgPSBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChkdGYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcHJlZml4RGF0ZXRpbWVNYXRjaGVyLmFwcGVuZFJlcGxhY2VtZW50KHNiUHJlZml4RHQsIE1hdGNoZXIucXVvdGVSZXBsYWNlbWVudChwcmVmaXggKyBmb3JtYXR0ZWREYXRlKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkVycm9yIGZvcm1hdHRpbmcgZGF0ZSB3aXRoIHByZWZpeDogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBwcmVmaXhEYXRldGltZU1hdGNoZXIuYXBwZW5kVGFpbChzYlByZWZpeER0KTsKICAgICAgICByZXNvbHZlZFZhbHVlID0gc2JQcmVmaXhEdC50b1N0cmluZygpOwoKICAgICAgICBQYXR0ZXJuIHJhbmRvbVN0cmluZ1BhdHRlcm4gPSBQYXR0ZXJuLmNvbXBpbGUoIl9fUkFORE9NX1NUUklOR1xcKChcXGQrKSg/OiwoW2F1bG5tXSkpP1xcKSIpOwogICAgICAgIE1hdGNoZXIgcmFuZG9tU3RyaW5nTWF0Y2hlciA9IHJhbmRvbVN0cmluZ1BhdHRlcm4ubWF0Y2hlcihyZXNvbHZlZFZhbHVlKTsKICAgICAgICBTdHJpbmdCdWZmZXIgc2JSYW5kb21TdHJpbmcgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgd2hpbGUgKHJhbmRvbVN0cmluZ01hdGNoZXIuZmluZCgpKSB7CiAgICAgICAgICAgIGludCBsZW5ndGggPSBJbnRlZ2VyLnBhcnNlSW50KHJhbmRvbVN0cmluZ01hdGNoZXIuZ3JvdXAoMSkpOwogICAgICAgICAgICBTdHJpbmcgbW9kZSA9IHJhbmRvbVN0cmluZ01hdGNoZXIuZ3JvdXBDb3VudCgpID4gMSAmJiByYW5kb21TdHJpbmdNYXRjaGVyLmdyb3VwKDIpICE9IG51bGwgPyAKICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbVN0cmluZ01hdGNoZXIuZ3JvdXAoMikgOiAiYSI7CiAgICAgICAgICAgIFN0cmluZyByYW5kb21TdHJpbmcgPSBnZW5lcmF0ZVJhbmRvbVN0cmluZyhsZW5ndGgsIG1vZGUpOwogICAgICAgICAgICByYW5kb21TdHJpbmdNYXRjaGVyLmFwcGVuZFJlcGxhY2VtZW50KHNiUmFuZG9tU3RyaW5nLCBNYXRjaGVyLnF1b3RlUmVwbGFjZW1lbnQocmFuZG9tU3RyaW5nKSk7CiAgICAgICAgfQogICAgICAgIHJhbmRvbVN0cmluZ01hdGNoZXIuYXBwZW5kVGFpbChzYlJhbmRvbVN0cmluZyk7CiAgICAgICAgcmVzb2x2ZWRWYWx1ZSA9IHNiUmFuZG9tU3RyaW5nLnRvU3RyaW5nKCk7CgogICAgICAgIHJldHVybiByZXNvbHZlZFZhbHVlOwogICAgfQoKCiAgICBwcml2YXRlIFN0cmluZyBnZW5lcmF0ZVJhbmRvbVN0cmluZyhpbnQgbGVuZ3RoLCBTdHJpbmcgbW9kZSkgewogICAgICAgIFN0cmluZyBjaGFyczsKICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKICAgICAgICAgICAgY2FzZSAidSI6IC8vIHVwcGVyY2FzZSBvbmx5CiAgICAgICAgICAgICAgICBjaGFycyA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibCI6IC8vIGxvd2VyY2FzZSBvbmx5CiAgICAgICAgICAgICAgICBjaGFycyA9ICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibSI6IC8vIG1peGVkIGNhc2UgKG5vIG51bWJlcnMpCiAgICAgICAgICAgICAgICBjaGFycyA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJuIjogLy8gbnVtYmVycyBvbmx5CiAgICAgICAgICAgICAgICBjaGFycyA9ICIwMTIzNDU2Nzg5IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJhIjogLy8gYWxwaGFudW1lcmljIChkZWZhdWx0KQogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaW50IGluZGV4ID0gVGhyZWFkTG9jYWxSYW5kb20uY3VycmVudCgpLm5leHRJbnQoY2hhcnMubGVuZ3RoKCkpOwogICAgICAgICAgICBzYi5hcHBlbmQoY2hhcnMuY2hhckF0KGluZGV4KSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzYi50b1N0cmluZygpOwogICAgfQoKICAgIHByaXZhdGUgU3RyaW5nIHRyYW5zbGF0ZUxlZ2FjeVN5bnRheChTdHJpbmcgdmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgUGF0dGVybiBwYXR0ZXJuID0gUGF0dGVybi5jb21waWxlKCJAXFx7KFthLXpBLVpdKykoPzpcXCgoLio/KVxcKSk/XFx9Iik7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHBhdHRlcm4ubWF0Y2hlcih2YWx1ZSkucmVwbGFjZUFsbChtYXRjaFJlc3VsdCAtPiB7CiAgICAgICAgICAgIFN0cmluZyBmdW5jdGlvbk5hbWUgPSBtYXRjaFJlc3VsdC5ncm91cCgxKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBTdHJpbmcgYXJncyA9IG1hdGNoUmVzdWx0Lmdyb3VwQ291bnQoKSA+IDEgPyBtYXRjaFJlc3VsdC5ncm91cCgyKSA6IG51bGw7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gc3dpdGNoIChmdW5jdGlvbk5hbWUpIHsKICAgICAgICAgICAgICAgIGNhc2UgInJhbmRvbXV1aWQiIC0+ICJfX1VVSUQiOwogICAgICAgICAgICAgICAgY2FzZSAidGltZXN0YW1wIiAtPiAiX19USU1FU1RBTVAiOwogICAgICAgICAgICAgICAgY2FzZSAiZGF0ZXRpbWUiIC0+ICJfX0RBVEVUSU1FKCIgKyAoYXJncyAhPSBudWxsID8gYXJncyA6ICIiKSArICIpIjsKICAgICAgICAgICAgICAgIGNhc2UgInJhbmRvbXN0cmluZyIgLT4gewogICAgICAgICAgICAgICAgICAgIGlmIChhcmdzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nW10gcGFydHMgPSBhcmdzLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCAiX19SQU5ET01fU1RSSU5HKCIgKyBwYXJ0c1swXSArICIsIiArIHBhcnRzWzFdICsgIikiOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgIl9fUkFORE9NX1NUUklORygiICsgYXJncyArICIpIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkICJfX1JBTkRPTV9TVFJJTkcoMTApIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IG1hdGNoUmVzdWx0Lmdyb3VwKDApOyAvLyBObyBjaGFuZ2UgaWYgZnVuY3Rpb24gaXMgbm90IHJlY29nbml6ZWQKICAgICAgICAgICAgfTsKICAgICAgICB9KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDdXN0b21WYXJpYWJsZXMoTGlzdDxHcm9vdnlTY3JpcHRFbmdpbmU+IGN1c3RvbVZhcmlhYmxlcykgewogICAgICAgIHRoaXMuY3VzdG9tVmFyaWFibGVzID0gY3VzdG9tVmFyaWFibGVzOwogICAgfQp9Cg==
END
PATH:src/main/java/com/qa/app/service/ServiceException.java
cGFja2FnZSBjb20ucWEuYXBwLnNlcnZpY2U7CgpwdWJsaWMgY2xhc3MgU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIEV4Y2VwdGlvbiB7CiAgICBwdWJsaWMgU2VydmljZUV4Y2VwdGlvbihTdHJpbmcgbWVzc2FnZSkgewogICAgICAgIHN1cGVyKG1lc3NhZ2UpOwogICAgfQoKICAgIHB1YmxpYyBTZXJ2aWNlRXhjZXB0aW9uKFN0cmluZyBtZXNzYWdlLCBUaHJvd2FibGUgY2F1c2UpIHsKICAgICAgICBzdXBlcihtZXNzYWdlLCBjYXVzZSk7CiAgICB9Cn0=
END
PATH:src/main/java/com/qa/app/ui/vm/ApplicationPropertiesViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOw0KDQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5Ow0KaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TdHJpbmdQcm9wZXJ0eTsNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuRlhDb2xsZWN0aW9uczsNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7DQppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDsNCmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlQ29sdW1uOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlVmlldzsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlByb3BlcnR5VmFsdWVGYWN0b3J5Ow0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkNvbWJvQm94Ow0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlQ2VsbDsNCg0KaW1wb3J0IGphdmEubmV0LlVSTDsNCmltcG9ydCBqYXZhLnV0aWwuKjsNCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOw0KaW1wb3J0IGNvbS5xYS5hcHAuY29tbW9uLmxpc3RlbmVycy5BcHBDb25maWdDaGFuZ2VMaXN0ZW5lcjsNCmltcG9ydCBjb20ucWEuYXBwLmRhby5pbXBsLlByb2plY3REYW9JbXBsOw0KaW1wb3J0IGNvbS5xYS5hcHAuZGFvLmltcGwuRW52aXJvbm1lbnREYW9JbXBsOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuUHJvamVjdDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVudmlyb25tZW50Ow0KDQpwdWJsaWMgY2xhc3MgQXBwbGljYXRpb25Qcm9wZXJ0aWVzVmlld01vZGVsIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSwgQXBwQ29uZmlnQ2hhbmdlTGlzdGVuZXIgew0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZVZpZXc8UHJvcGVydHlJdGVtPiBwcm9wZXJ0aWVzVGFibGU7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFByb3BlcnR5SXRlbSwgU3RyaW5nPiBrZXlDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFByb3BlcnR5SXRlbSwgU3RyaW5nPiB2YWx1ZUNvbHVtbjsNCg0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8UHJvcGVydHlJdGVtPiBwcm9wZXJ0eUxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCg0KICAgIHByaXZhdGUgTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsOw0KICAgIHB1YmxpYyB2b2lkIHNldE1haW5WaWV3TW9kZWwoTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsKSB7DQogICAgICAgIHRoaXMubWFpblZpZXdNb2RlbCA9IG1haW5WaWV3TW9kZWw7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBmaW5hbCBQcm9qZWN0RGFvSW1wbCBwcm9qZWN0RGFvID0gbmV3IFByb2plY3REYW9JbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBFbnZpcm9ubWVudERhb0ltcGwgZW52aXJvbm1lbnREYW8gPSBuZXcgRW52aXJvbm1lbnREYW9JbXBsKCk7DQoNCiAgICAvLyBDYWNoZWQgbGlzdHMgZm9yIGNvbWJvYm94IG9wdGlvbnMNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PFN0cmluZz4gcHJvamVjdE5hbWVPcHRpb25zID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGVudmlyb25tZW50TmFtZU9wdGlvbnMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHsNCiAgICAgICAga2V5Q29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oImtleSIpKTsNCiAgICAgICAgdmFsdWVDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PigidmFsdWUiKSk7DQogICAgICAgIGtleUNvbHVtbi5zZXRFZGl0YWJsZShmYWxzZSk7DQogICAgICAgIHZhbHVlQ29sdW1uLnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgQ29tYm9Cb3hFZGl0aW5nQ2VsbCgpKTsNCiAgICAgICAgcHJvcGVydGllc1RhYmxlLnNldEl0ZW1zKHByb3BlcnR5TGlzdCk7DQogICAgICAgIHByb3BlcnRpZXNUYWJsZS5zZXRFZGl0YWJsZSh0cnVlKTsNCiAgICAgICAgQXBwQ29uZmlnLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMpOw0KICAgICAgICBsb2FkUHJvcGVydGllcygpOw0KICAgICAgICBsb2FkQ29tYm9Cb3hPcHRpb25zKCk7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgb25Db25maWdDaGFuZ2VkKCkgew0KICAgICAgICBsb2FkUHJvcGVydGllcygpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIGxvYWRQcm9wZXJ0aWVzKCkgew0KICAgICAgICBwcm9wZXJ0eUxpc3QuY2xlYXIoKTsNCiAgICAgICAgUHJvcGVydGllcyBwcm9wcyA9IEFwcENvbmZpZy5nZXRQcm9wZXJ0aWVzKCk7DQogICAgICAgIGZvciAoU3RyaW5nIGtleSA6IHByb3BzLnN0cmluZ1Byb3BlcnR5TmFtZXMoKSkgew0KICAgICAgICAgICAgcHJvcGVydHlMaXN0LmFkZChuZXcgUHJvcGVydHlJdGVtKGtleSwgcHJvcHMuZ2V0UHJvcGVydHkoa2V5KSkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgb25TYXZlKCkgew0KICAgICAgICBQcm9wZXJ0aWVzIHByb3BzID0gbmV3IFByb3BlcnRpZXMoKTsNCiAgICAgICAgZm9yIChQcm9wZXJ0eUl0ZW0gaXRlbSA6IHByb3BlcnR5TGlzdCkgew0KICAgICAgICAgICAgcHJvcHMuc2V0UHJvcGVydHkoaXRlbS5nZXRLZXkoKSwgaXRlbS5nZXRWYWx1ZSgpKTsNCiAgICAgICAgfQ0KICAgICAgICBBcHBDb25maWcuc2F2ZVByb3BlcnRpZXMocHJvcHMpOw0KICAgICAgICBsb2FkUHJvcGVydGllcygpOw0KICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiU2F2ZSBTdWNjZXNzOiBQcm9wZXJ0aWVzIHVwZGF0ZWQuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgb25SZWxvYWQoKSB7DQogICAgICAgIGxvYWRQcm9wZXJ0aWVzKCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGxvYWRDb21ib0JveE9wdGlvbnMoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBwcm9qZWN0TmFtZU9wdGlvbnMuc2V0QWxsKA0KICAgICAgICAgICAgICAgIHByb2plY3REYW8uZ2V0QWxsUHJvamVjdHMoKQ0KICAgICAgICAgICAgICAgICAgICAuc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAgICAgLm1hcChQcm9qZWN0OjpnZXROYW1lKQ0KICAgICAgICAgICAgICAgICAgICAudG9MaXN0KCkNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBlbnZpcm9ubWVudE5hbWVPcHRpb25zLnNldEFsbCgNCiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudERhby5nZXRBbGxFbnZpcm9ubWVudHMoKQ0KICAgICAgICAgICAgICAgICAgICAuc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAgICAgLm1hcChFbnZpcm9ubWVudDo6Z2V0TmFtZSkNCiAgICAgICAgICAgICAgICAgICAgLnRvTGlzdCgpDQogICAgICAgICAgICApOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gbG9hZCBjb21ibyBib3ggb3B0aW9uczogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgUHJvcGVydHlJdGVtIHsNCiAgICAgICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdQcm9wZXJ0eSBrZXk7DQogICAgICAgIHByaXZhdGUgZmluYWwgU3RyaW5nUHJvcGVydHkgdmFsdWU7DQogICAgICAgIHB1YmxpYyBQcm9wZXJ0eUl0ZW0oU3RyaW5nIGtleSwgU3RyaW5nIHZhbHVlKSB7DQogICAgICAgICAgICB0aGlzLmtleSA9IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShrZXkpOw0KICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSh2YWx1ZSk7DQogICAgICAgIH0NCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRLZXkoKSB7IHJldHVybiBrZXkuZ2V0KCk7IH0NCiAgICAgICAgcHVibGljIHZvaWQgc2V0S2V5KFN0cmluZyBrKSB7IGtleS5zZXQoayk7IH0NCiAgICAgICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IGtleVByb3BlcnR5KCkgeyByZXR1cm4ga2V5OyB9DQogICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0VmFsdWUoKSB7IHJldHVybiB2YWx1ZS5nZXQoKTsgfQ0KICAgICAgICBwdWJsaWMgdm9pZCBzZXRWYWx1ZShTdHJpbmcgdikgeyB2YWx1ZS5zZXQodik7IH0NCiAgICAgICAgcHVibGljIFN0cmluZ1Byb3BlcnR5IHZhbHVlUHJvcGVydHkoKSB7IHJldHVybiB2YWx1ZTsgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgY2xhc3MgQ29tYm9Cb3hFZGl0aW5nQ2VsbCBleHRlbmRzIFRhYmxlQ2VsbDxQcm9wZXJ0eUl0ZW0sIFN0cmluZz4gew0KICAgICAgICBwcml2YXRlIENvbWJvQm94PFN0cmluZz4gY29tYm9Cb3g7DQoNCiAgICAgICAgcHJpdmF0ZSB2b2lkIGNyZWF0ZUNvbWJvQm94KCkgew0KICAgICAgICAgICAgY29tYm9Cb3ggPSBuZXcgQ29tYm9Cb3g8PigpOw0KICAgICAgICAgICAgY29tYm9Cb3guc2V0RWRpdGFibGUodHJ1ZSk7DQogICAgICAgICAgICBjb21ib0JveC5zZXRNYXhXaWR0aChEb3VibGUuTUFYX1ZBTFVFKTsNCiAgICAgICAgICAgIGNvbWJvQm94LmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGdldEl0ZW0oKSk7DQogICAgICAgICAgICBjb21ib0JveC52YWx1ZVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9icywgb2xkVmFsLCBuZXdWYWwpIC0+IHsNCiAgICAgICAgICAgICAgICBpZiAobmV3VmFsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgY29tbWl0RWRpdChuZXdWYWwpOw0KICAgICAgICAgICAgICAgICAgICBQcm9wZXJ0eUl0ZW0gcm93SXRlbSA9IGdldFRhYmxlVmlldygpLmdldEl0ZW1zKCkuZ2V0KGdldEluZGV4KCkpOw0KICAgICAgICAgICAgICAgICAgICByb3dJdGVtLnNldFZhbHVlKG5ld1ZhbCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgcHVibGljIHZvaWQgc3RhcnRFZGl0KCkgew0KICAgICAgICAgICAgc3VwZXIuc3RhcnRFZGl0KCk7DQogICAgICAgICAgICBpZiAoY29tYm9Cb3ggPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGNyZWF0ZUNvbWJvQm94KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB1cGRhdGVDb21ib0JveEl0ZW1zKCk7DQogICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgc2V0R3JhcGhpYyhjb21ib0JveCk7DQogICAgICAgICAgICBjb21ib0JveC5yZXF1ZXN0Rm9jdXMoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIEBPdmVycmlkZQ0KICAgICAgICBwdWJsaWMgdm9pZCBjYW5jZWxFZGl0KCkgew0KICAgICAgICAgICAgc3VwZXIuY2FuY2VsRWRpdCgpOw0KICAgICAgICAgICAgc2V0VGV4dChnZXRJdGVtKCkpOw0KICAgICAgICAgICAgc2V0R3JhcGhpYyhudWxsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIEBPdmVycmlkZQ0KICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgIGlmIChlbXB0eSkgew0KICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7DQogICAgICAgICAgICAgICAgc2V0R3JhcGhpYyhudWxsKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKGlzRWRpdGluZygpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb21ib0JveCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb21ib0JveC5zZXRWYWx1ZShpdGVtKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgICAgICAgICBzZXRHcmFwaGljKGNvbWJvQm94KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0pOw0KICAgICAgICAgICAgICAgICAgICBzZXRHcmFwaGljKG51bGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHByaXZhdGUgdm9pZCB1cGRhdGVDb21ib0JveEl0ZW1zKCkgew0KICAgICAgICAgICAgUHJvcGVydHlJdGVtIHByb3BlcnR5SXRlbSA9IGdldFRhYmxlVmlldygpLmdldEl0ZW1zKCkuZ2V0KGdldEluZGV4KCkpOw0KICAgICAgICAgICAgaWYgKHByb3BlcnR5SXRlbSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eUl0ZW0uZ2V0S2V5KCkpIHsNCiAgICAgICAgICAgICAgICBjYXNlICJjdXJyZW50LnByb2plY3QubmFtZSIgLT4gY29tYm9Cb3guc2V0SXRlbXMocHJvamVjdE5hbWVPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjYXNlICJjdXJyZW50LmVudiIgLT4gY29tYm9Cb3guc2V0SXRlbXMoZW52aXJvbm1lbnROYW1lT3B0aW9ucyk7DQogICAgICAgICAgICAgICAgZGVmYXVsdCAtPiBjb21ib0JveC5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/ui/vm/BodyTemplateViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zOwppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0OwppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDsKaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qOwppbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlOwppbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlOwoKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTsKCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkJvZHlUZW1wbGF0ZTsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JQm9keVRlbXBsYXRlU2VydmljZTsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLkJvZHlUZW1wbGF0ZVNlcnZpY2VJbXBsOwppbXBvcnQgY29tLnFhLmFwcC51dGlsLkFwcENvbmZpZzsKaW1wb3J0IGNvbS5xYS5hcHAuY29tbW9uLmxpc3RlbmVycy5BcHBDb25maWdDaGFuZ2VMaXN0ZW5lcjsKaW1wb3J0IGNvbS5xYS5hcHAudWkudm0uZ2F0bGluZy5UZW1wbGF0ZVZhbGlkYXRvcjsKaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvblR5cGU7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydC5BbGVydFR5cGU7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuUHJvamVjdENvbnRleHQ7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJsZVZpZXc7CgpwdWJsaWMgY2xhc3MgQm9keVRlbXBsYXRlVmlld01vZGVsIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSwgQXBwQ29uZmlnQ2hhbmdlTGlzdGVuZXIgewogICAgQEZYTUwKICAgIHByaXZhdGUgVGV4dEZpZWxkIGJvZHlUZW1wbGF0ZU5hbWVGaWVsZDsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRleHRBcmVhIGJvZHlUZW1wbGF0ZUNvbnRlbnRBcmVhOwogICAgQEZYTUwKICAgIHByaXZhdGUgVGV4dEFyZWEgYm9keVRlbXBsYXRlRGVzY3JpcHRpb25BcmVhOwogICAgQEZYTUwKICAgIHByaXZhdGUgQnV0dG9uIGFkZEJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBkdXBsaWNhdGVCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gdXBkYXRlQnV0dG9uOwogICAgQEZYTUwKICAgIHByaXZhdGUgQnV0dG9uIGRlbGV0ZUJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBjbGVhckJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRhYmxlVmlldzxCb2R5VGVtcGxhdGVJdGVtPiBib2R5VGVtcGxhdGVUYWJsZTsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEJvZHlUZW1wbGF0ZUl0ZW0sIFN0cmluZz4gYm9keVRlbXBsYXRlTmFtZUNvbHVtbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEJvZHlUZW1wbGF0ZUl0ZW0sIFN0cmluZz4gYm9keVRlbXBsYXRlRGVzY3JpcHRpb25Db2x1bW47CiAgICBARlhNTAogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxCb2R5VGVtcGxhdGVJdGVtLCBTdHJpbmc+IGJvZHlUZW1wbGF0ZUNvbnRlbnRDb2x1bW47CiAgICBARlhNTAogICAgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IGJvZHlGb3JtYXRDb21ib0JveDsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBmb3JtYXRCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gdmFsaWRhdGVCdXR0b247CgogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxCb2R5VGVtcGxhdGVJdGVtPiBib2R5VGVtcGxhdGVMaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7CiAgICBwcml2YXRlIGZpbmFsIElCb2R5VGVtcGxhdGVTZXJ2aWNlIGJvZHlUZW1wbGF0ZVNlcnZpY2UgPSBuZXcgQm9keVRlbXBsYXRlU2VydmljZUltcGwoKTsKICAgIHByaXZhdGUgTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsOwogICAgcHJpdmF0ZSBJbnRlZ2VyIHByb2plY3RJZDsKCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHsKICAgICAgICBib2R5VGVtcGxhdGVOYW1lQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gY2VsbERhdGEuZ2V0VmFsdWUoKS5uYW1lUHJvcGVydHkoKSk7CiAgICAgICAgYm9keVRlbXBsYXRlRGVzY3JpcHRpb25Db2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBjZWxsRGF0YS5nZXRWYWx1ZSgpLmRlc2NyaXB0aW9uUHJvcGVydHkoKSk7CiAgICAgICAgYm9keVRlbXBsYXRlQ29udGVudENvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IGNlbGxEYXRhLmdldFZhbHVlKCkuY29udGVudFByb3BlcnR5KCkpOwogICAgICAgIGJvZHlUZW1wbGF0ZVRhYmxlLnNldEl0ZW1zKGJvZHlUZW1wbGF0ZUxpc3QpOwogICAgICAgIGJvZHlUZW1wbGF0ZVRhYmxlLnNldENvbHVtblJlc2l6ZVBvbGljeShUYWJsZVZpZXcuQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWV9BTExfQ09MVU1OUyk7CiAgICAgICAgYm9keVRlbXBsYXRlVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RlZEl0ZW1Qcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnMsIG9sZFNlbGVjdGlvbiwgbmV3U2VsZWN0aW9uKSAtPiB7CiAgICAgICAgICAgIGlmIChuZXdTZWxlY3Rpb24gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYm9keVRlbXBsYXRlQ29udGVudEFyZWEuc2V0VGV4dChuZXdTZWxlY3Rpb24uZ2V0Q29udGVudCgpKTsKICAgICAgICAgICAgICAgIGJvZHlUZW1wbGF0ZURlc2NyaXB0aW9uQXJlYS5zZXRUZXh0KG5ld1NlbGVjdGlvbi5nZXREZXNjcmlwdGlvbigpKTsKICAgICAgICAgICAgICAgIGJvZHlUZW1wbGF0ZU5hbWVGaWVsZC5zZXRUZXh0KG5ld1NlbGVjdGlvbi5nZXROYW1lKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbG9hZEJvZHlUZW1wbGF0ZXMoKTsKICAgICAgICBBcHBDb25maWcuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcyk7CiAgICAgICAgCiAgICAgICAgLy8gSW5pdGlhbGl6ZSBmb3JtYXQgZHJvcGRvd24sIG5vdyBpbmNsdWRpbmcgRlRMCiAgICAgICAgYm9keUZvcm1hdENvbWJvQm94LmdldEl0ZW1zKCkuYWRkQWxsKCJGVEwiLCAiSlNPTiIsICJYTUwiLCAiVEVYVCIpOwogICAgICAgIGJvZHlGb3JtYXRDb21ib0JveC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdEZpcnN0KCk7CgogICAgICAgIC8vIERvdWJsZS1jbGljayB0byBzaG93IGZ1bGwgY29udGVudAogICAgICAgIGJvZHlUZW1wbGF0ZVRhYmxlLnNldFJvd0ZhY3RvcnkodHYgLT4gewogICAgICAgICAgICBUYWJsZVJvdzxCb2R5VGVtcGxhdGVJdGVtPiByb3cgPSBuZXcgVGFibGVSb3c8PigpOwogICAgICAgICAgICByb3cuc2V0T25Nb3VzZUNsaWNrZWQoZXZlbnQgLT4gewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LmdldENsaWNrQ291bnQoKSA9PSAyICYmICFyb3cuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbnRlbnRJblBvcHVwKHJvdy5nZXRJdGVtKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJvdzsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBUcnVuY2F0ZSBsb25nIGNvbnRlbnQgaW4gdGhlIHRhYmxlIGFuZCBhZGQgYSB0b29sdGlwCiAgICAgICAgc2V0dXBDb250ZW50Q29sdW1uQ2VsbEZhY3RvcnkoKTsKICAgIH0KICAgIAogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBvbkNvbmZpZ0NoYW5nZWQoKSB7CiAgICAgICAgbG9hZEJvZHlUZW1wbGF0ZXMoKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgbG9hZEJvZHlUZW1wbGF0ZXMoKSB7CiAgICAgICAgYm9keVRlbXBsYXRlTGlzdC5jbGVhcigpOwogICAgICAgIEludGVnZXIgcHJvamVjdElkID0gUHJvamVjdENvbnRleHQuZ2V0Q3VycmVudFByb2plY3RJZCgpOwogICAgICAgIGlmIChwcm9qZWN0SWQgIT0gbnVsbCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChCb2R5VGVtcGxhdGUgdCA6IGJvZHlUZW1wbGF0ZVNlcnZpY2UuZmluZEJvZHlUZW1wbGF0ZXNCeVByb2plY3RJZChwcm9qZWN0SWQpKSB7CiAgICAgICAgICAgICAgICAgICAgYm9keVRlbXBsYXRlTGlzdC5hZGQobmV3IEJvZHlUZW1wbGF0ZUl0ZW0odC5nZXRJZCgpLCB0LmdldE5hbWUoKSwgdC5nZXRDb250ZW50KCksIHQuZ2V0RGVzY3JpcHRpb24oKSwgdC5nZXRQcm9qZWN0SWQoKSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIHNob3dFcnJvcigiRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGVzOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghYm9keVRlbXBsYXRlTGlzdC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgYm9keVRlbXBsYXRlVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RGaXJzdCgpOwogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUR1cGxpY2F0ZVRlbXBsYXRlKCkgewogICAgICAgIEJvZHlUZW1wbGF0ZUl0ZW0gc2VsZWN0ZWQgPSBib2R5VGVtcGxhdGVUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOwogICAgICAgIGlmIChzZWxlY3RlZCA9PSBudWxsKSB7CiAgICAgICAgICAgIHNob3dFcnJvcigiUGxlYXNlIHNlbGVjdCBhIHRlbXBsYXRlIHRvIGR1cGxpY2F0ZS4iKTsgLy8gQXNzdW1pbmcgc2hvd0Vycm9yIGhhbmRsZXMgbWFpblZpZXdNb2RlbCBzdGF0dXMKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBTdHJpbmcgbmV3TmFtZSA9IHNlbGVjdGVkLmdldE5hbWUoKSArICIgKGNvcHkpIjsKICAgICAgICAvLyBXZSBzaG91bGQgYWRkIGEgY2hlY2sgZm9yIG5hbWUgdW5pcXVlbmVzcyBpZiByZXF1aXJlZCBieSBidXNpbmVzcyBsb2dpYy4KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQm9keVRlbXBsYXRlIG5ld1RlbXBsYXRlID0gbmV3IEJvZHlUZW1wbGF0ZShuZXdOYW1lLCBzZWxlY3RlZC5nZXRDb250ZW50KCksIHNlbGVjdGVkLmdldERlc2NyaXB0aW9uKCksIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGJvZHlUZW1wbGF0ZVNlcnZpY2UuY3JlYXRlQm9keVRlbXBsYXRlKG5ld1RlbXBsYXRlKTsKICAgICAgICAgICAgbG9hZEJvZHlUZW1wbGF0ZXMoKTsKICAgICAgICAgICAgc2hvd1N1Y2Nlc3MoIlRlbXBsYXRlIGR1cGxpY2F0ZWQgYW5kIGFkZGVkIHN1Y2Nlc3NmdWxseS4iKTsKICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJGYWlsZWQgdG8gZHVwbGljYXRlIHRlbXBsYXRlOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZEJvZHlUZW1wbGF0ZSgpIHsKICAgICAgICBTdHJpbmcgbmFtZSA9IGJvZHlUZW1wbGF0ZU5hbWVGaWVsZC5nZXRUZXh0KCkudHJpbSgpOwogICAgICAgIFN0cmluZyBjb250ZW50ID0gYm9keVRlbXBsYXRlQ29udGVudEFyZWEuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBTdHJpbmcgZGVzY3JpcHRpb24gPSBib2R5VGVtcGxhdGVEZXNjcmlwdGlvbkFyZWEuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBpZiAobmFtZS5pc0VtcHR5KCkgfHwgY29udGVudC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJOYW1lIGFuZCBDb250ZW50IGFyZSByZXF1aXJlZC4iKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBWYWxpZGF0ZSBiZWZvcmUgYWRkaW5nCiAgICAgICAgVGVtcGxhdGVWYWxpZGF0b3IuVmFsaWRhdGlvblJlc3VsdCB2YWxpZGF0aW9uUmVzdWx0ID0gVGVtcGxhdGVWYWxpZGF0b3IudmFsaWRhdGUoY29udGVudCwgYm9keUZvcm1hdENvbWJvQm94LmdldFZhbHVlKCkpOwogICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkKSB7CiAgICAgICAgICAgIHNob3dFcnJvcigiSW52YWxpZCBUZW1wbGF0ZTogIiArIHZhbGlkYXRpb25SZXN1bHQuZXJyb3JNZXNzYWdlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQm9keVRlbXBsYXRlIHQgPSBuZXcgQm9keVRlbXBsYXRlKG5hbWUsIGNvbnRlbnQsIGRlc2NyaXB0aW9uLCBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCkpOwogICAgICAgICAgICBib2R5VGVtcGxhdGVTZXJ2aWNlLmNyZWF0ZUJvZHlUZW1wbGF0ZSh0KTsKICAgICAgICAgICAgbG9hZEJvZHlUZW1wbGF0ZXMoKTsKICAgICAgICAgICAgY2xlYXJGaWVsZHMoKTsKICAgICAgICAgICAgc2hvd1N1Y2Nlc3MoIlRlbXBsYXRlIGFkZGVkIHN1Y2Nlc3NmdWxseS4iKTsKICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJGYWlsZWQgdG8gYWRkIHRlbXBsYXRlOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVVwZGF0ZUJvZHlUZW1wbGF0ZSgpIHsKICAgICAgICBCb2R5VGVtcGxhdGVJdGVtIHNlbGVjdGVkID0gYm9keVRlbXBsYXRlVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsKICAgICAgICBpZiAoc2VsZWN0ZWQgPT0gbnVsbCkgewogICAgICAgICAgICBzaG93RXJyb3IoIlBsZWFzZSBzZWxlY3QgYSB0ZW1wbGF0ZSB0byB1cGRhdGUuIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgU3RyaW5nIGNvbnRlbnQgPSBib2R5VGVtcGxhdGVDb250ZW50QXJlYS5nZXRUZXh0KCkudHJpbSgpOwogICAgICAgIAogICAgICAgIC8vIFZhbGlkYXRlIGJlZm9yZSB1cGRhdGluZwogICAgICAgIFRlbXBsYXRlVmFsaWRhdG9yLlZhbGlkYXRpb25SZXN1bHQgdmFsaWRhdGlvblJlc3VsdCA9IFRlbXBsYXRlVmFsaWRhdG9yLnZhbGlkYXRlKGNvbnRlbnQsIGJvZHlGb3JtYXRDb21ib0JveC5nZXRWYWx1ZSgpKTsKICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCkgewogICAgICAgICAgICBzaG93RXJyb3IoIkludmFsaWQgVGVtcGxhdGU6ICIgKyB2YWxpZGF0aW9uUmVzdWx0LmVycm9yTWVzc2FnZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEJvZHlUZW1wbGF0ZSB0ID0gbmV3IEJvZHlUZW1wbGF0ZShzZWxlY3RlZC5nZXRJZCgpLCBib2R5VGVtcGxhdGVOYW1lRmllbGQuZ2V0VGV4dCgpLnRyaW0oKSwgY29udGVudCwgYm9keVRlbXBsYXRlRGVzY3JpcHRpb25BcmVhLmdldFRleHQoKS50cmltKCksIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGJvZHlUZW1wbGF0ZVNlcnZpY2UudXBkYXRlQm9keVRlbXBsYXRlKHQpOwogICAgICAgICAgICBsb2FkQm9keVRlbXBsYXRlcygpOwogICAgICAgICAgICBjbGVhckZpZWxkcygpOwogICAgICAgICAgICBzaG93U3VjY2VzcygiVGVtcGxhdGUgdXBkYXRlZCBzdWNjZXNzZnVsbHkuIik7CiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHNob3dFcnJvcigiRmFpbGVkIHRvIHVwZGF0ZSB0ZW1wbGF0ZTogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEZWxldGVCb2R5VGVtcGxhdGUoKSB7CiAgICAgICAgQm9keVRlbXBsYXRlSXRlbSBzZWxlY3RlZCA9IGJvZHlUZW1wbGF0ZVRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgaWYgKHNlbGVjdGVkICE9IG51bGwpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGJvZHlUZW1wbGF0ZVNlcnZpY2UuZGVsZXRlQm9keVRlbXBsYXRlKHNlbGVjdGVkLmdldElkKCkpOwogICAgICAgICAgICAgICAgbG9hZEJvZHlUZW1wbGF0ZXMoKTsKICAgICAgICAgICAgICAgIGNsZWFyRmllbGRzKCk7CiAgICAgICAgICAgICAgICBzaG93U3VjY2VzcygiVGVtcGxhdGUgZGVsZXRlZCBzdWNjZXNzZnVsbHkuIik7CiAgICAgICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgc2hvd0Vycm9yKCJGYWlsZWQgdG8gZGVsZXRlIHRlbXBsYXRlOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJQbGVhc2Ugc2VsZWN0IGEgdGVtcGxhdGUgdG8gZGVsZXRlLiIpOwogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNsZWFyQm9keVRlbXBsYXRlRm9ybSgpIHsKICAgICAgICBjbGVhckZpZWxkcygpOwogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRm9ybWF0VGVtcGxhdGUoKSB7CiAgICAgICAgU3RyaW5nIGZvcm1hdCA9IGJvZHlGb3JtYXRDb21ib0JveC5nZXRWYWx1ZSgpOwogICAgICAgIFN0cmluZyBjb250ZW50ID0gYm9keVRlbXBsYXRlQ29udGVudEFyZWEuZ2V0VGV4dCgpOwogICAgICAgIGlmIChmb3JtYXQgPT0gbnVsbCB8fCBjb250ZW50LmlzRW1wdHkoKSkgcmV0dXJuOwoKICAgICAgICAvLyBWYWxpZGF0ZSBiZWZvcmUgZm9ybWF0dGluZwogICAgICAgIFRlbXBsYXRlVmFsaWRhdG9yLlZhbGlkYXRpb25SZXN1bHQgdmFsaWRhdGlvblJlc3VsdCA9IFRlbXBsYXRlVmFsaWRhdG9yLnZhbGlkYXRlKGNvbnRlbnQsIGZvcm1hdCk7CiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQpIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJWYWxpZGF0aW9uIEVycm9yOiAiICsgdmFsaWRhdGlvblJlc3VsdC5lcnJvck1lc3NhZ2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyBVbmlmeSBmb3JtYXR0aW5nIGxvZ2ljOiBhbHdheXMgZm9ybWF0IGluIHBsYWNlIGFuZCBzaG93IHN0YXR1cy4KICAgICAgICAgICAgU3RyaW5nIGZvcm1hdHRlZCA9IFRlbXBsYXRlVmFsaWRhdG9yLmZvcm1hdChjb250ZW50LCBmb3JtYXQpOwogICAgICAgICAgICBib2R5VGVtcGxhdGVDb250ZW50QXJlYS5zZXRUZXh0KGZvcm1hdHRlZCk7CiAgICAgICAgICAgIHNob3dTdWNjZXNzKCJGb3JtYXQgU3VjY2VzczogQ29udGVudCBmb3JtYXR0ZWQgYXMgIiArIGZvcm1hdCArICIuIik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJGb3JtYXQgRXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlVmFsaWRhdGVUZW1wbGF0ZSgpIHsKICAgICAgICBTdHJpbmcgZm9ybWF0ID0gYm9keUZvcm1hdENvbWJvQm94LmdldFZhbHVlKCk7CiAgICAgICAgU3RyaW5nIGNvbnRlbnQgPSBib2R5VGVtcGxhdGVDb250ZW50QXJlYS5nZXRUZXh0KCk7CiAgICAgICAgaWYgKGZvcm1hdCA9PSBudWxsIHx8IGNvbnRlbnQuaXNFbXB0eSgpKSByZXR1cm47CgogICAgICAgIFRlbXBsYXRlVmFsaWRhdG9yLlZhbGlkYXRpb25SZXN1bHQgcmVzdWx0ID0gVGVtcGxhdGVWYWxpZGF0b3IudmFsaWRhdGUoY29udGVudCwgZm9ybWF0KTsKCiAgICAgICAgaWYgKHJlc3VsdC5pc1ZhbGlkKSB7CiAgICAgICAgICAgIHNob3dTdWNjZXNzKCJWYWxpZGF0aW9uIFN1Y2Nlc3M6IENvbnRlbnQgaXMgdmFsaWQgIiArIGZvcm1hdCArICIuIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2hvd0Vycm9yKCJWYWxpZGF0aW9uIEVycm9yOiAiICsgcmVzdWx0LmVycm9yTWVzc2FnZSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLyAtLS0gSGVscGVyICYgVUkgTWV0aG9kcyAtLS0KCiAgICBwcml2YXRlIHZvaWQgY2xlYXJGaWVsZHMoKSB7CiAgICAgICAgYm9keVRlbXBsYXRlTmFtZUZpZWxkLmNsZWFyKCk7CiAgICAgICAgYm9keVRlbXBsYXRlQ29udGVudEFyZWEuY2xlYXIoKTsKICAgICAgICBib2R5VGVtcGxhdGVEZXNjcmlwdGlvbkFyZWEuY2xlYXIoKTsKICAgICAgICBib2R5Rm9ybWF0Q29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RGaXJzdCgpOwogICAgICAgIGJvZHlUZW1wbGF0ZVRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29udGVudENvbHVtbkNlbGxGYWN0b3J5KCkgewogICAgICAgIGJvZHlUZW1wbGF0ZUNvbnRlbnRDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IG5ldyBUYWJsZUNlbGw8Qm9keVRlbXBsYXRlSXRlbSwgU3RyaW5nPigpIHsKICAgICAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IE1BWF9MRU5HVEggPSAyMDA7CiAgICAgICAgICAgIHByaXZhdGUgZmluYWwgVG9vbHRpcCB0b29sdGlwID0gbmV3IFRvb2x0aXAoKTsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHsKICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpOwogICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcChudWxsKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChpdGVtLmxlbmd0aCgpID4gTUFYX0xFTkdUSCA/IGl0ZW0uc3Vic3RyaW5nKDAsIE1BWF9MRU5HVEgpICsgIi4uLiIgOiBpdGVtKTsKICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNldFRleHQoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcCh0b29sdGlwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBzaG93Q29udGVudEluUG9wdXAoQm9keVRlbXBsYXRlSXRlbSBpdGVtKSB7CiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OKTsKICAgICAgICBhbGVydC5zZXRUaXRsZSgiQm9keSBDb250ZW50IERldGFpbCIpOwogICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQoIlRlbXBsYXRlOiAiICsgaXRlbS5nZXROYW1lKCkpOwogICAgICAgIFRleHRBcmVhIGFyZWEgPSBuZXcgVGV4dEFyZWEoaXRlbS5nZXRDb250ZW50KCkpOwogICAgICAgIGFyZWEuc2V0RWRpdGFibGUoZmFsc2UpOwogICAgICAgIGFyZWEuc2V0V3JhcFRleHQodHJ1ZSk7CiAgICAgICAgYXJlYS5zZXRQcmVmU2l6ZSg4MDAsIDYwMCk7CiAgICAgICAgYWxlcnQuZ2V0RGlhbG9nUGFuZSgpLnNldENvbnRlbnQoYXJlYSk7CiAgICAgICAgc2V0RGlhbG9nSWNvbihhbGVydCk7CiAgICAgICAgYWxlcnQuZ2V0QnV0dG9uVHlwZXMoKS5zZXRBbGwobmV3IEJ1dHRvblR5cGUoIkNsb3NlIiwgQnV0dG9uQmFyLkJ1dHRvbkRhdGEuT0tfRE9ORSkpOwogICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7CiAgICB9CgoKICAgIHByaXZhdGUgdm9pZCBzaG93U3VjY2VzcyhTdHJpbmcgbWVzc2FnZSkgewogICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMobWVzc2FnZSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sICJTdWNjZXNzIiwgbWVzc2FnZSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9pZCBzaG93RXJyb3IoU3RyaW5nIG1lc3NhZ2UpIHsKICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKG1lc3NhZ2UsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgIkVycm9yIiwgbWVzc2FnZSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0VHlwZSB0eXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQodHlwZSk7CiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpOwogICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7CiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobWVzc2FnZSk7CiAgICAgICAgc2V0RGlhbG9nSWNvbihhbGVydCk7CiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHNldERpYWxvZ0ljb24oQWxlcnQgYWxlcnQpIHsKICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgYWxlcnQuZ2V0RGlhbG9nUGFuZSgpLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgc3RhZ2UuZ2V0SWNvbnMoKS5hZGQobmV3IEltYWdlKGdldENsYXNzKCkuZ2V0UmVzb3VyY2VBc1N0cmVhbSgiL3N0YXRpYy9pY29uL2Zhdmljb24uaWNvIikpKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvLyBpZ25vcmUKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWFpblZpZXdNb2RlbChNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWwpIHsKICAgICAgICB0aGlzLm1haW5WaWV3TW9kZWwgPSBtYWluVmlld01vZGVsOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlZnJlc2goKSB7CiAgICAgICAgbG9hZEJvZHlUZW1wbGF0ZXMoKTsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRQcm9qZWN0SWQoKSB7CiAgICAgICAgcmV0dXJuIHByb2plY3RJZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQcm9qZWN0SWQoSW50ZWdlciBwcm9qZWN0SWQpIHsKICAgICAgICB0aGlzLnByb2plY3RJZCA9IHByb2plY3RJZDsKICAgIH0KCiAgICAvLyBSZW5hbWVkIGlubmVyIGNsYXNzIGZvciBjbGFyaXR5CiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEJvZHlUZW1wbGF0ZUl0ZW0gewogICAgICAgIHByaXZhdGUgZmluYWwgaW50IGlkOwogICAgICAgIHByaXZhdGUgZmluYWwgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5IG5hbWU7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkgY29udGVudDsKICAgICAgICBwcml2YXRlIGZpbmFsIGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eSBkZXNjcmlwdGlvbjsKICAgICAgICBwcml2YXRlIGZpbmFsIEludGVnZXIgcHJvamVjdElkOwoKICAgICAgICBwdWJsaWMgQm9keVRlbXBsYXRlSXRlbShpbnQgaWQsIFN0cmluZyBuYW1lLCBTdHJpbmcgY29udGVudCwgU3RyaW5nIGRlc2NyaXB0aW9uLCBJbnRlZ2VyIHByb2plY3RJZCkgewogICAgICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkobmFtZSk7CiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkoY29udGVudCk7CiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSBwcm9qZWN0SWQ7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgaW50IGdldElkKCkgeyByZXR1cm4gaWQ7IH0KICAgICAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7IHJldHVybiBuYW1lLmdldCgpOyB9CiAgICAgICAgcHVibGljIGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TdHJpbmdQcm9wZXJ0eSBuYW1lUHJvcGVydHkoKSB7IHJldHVybiBuYW1lOyB9CiAgICAgICAgcHVibGljIFN0cmluZyBnZXRDb250ZW50KCkgeyByZXR1cm4gY29udGVudC5nZXQoKTsgfQogICAgICAgIHB1YmxpYyBqYXZhZnguYmVhbnMucHJvcGVydHkuU3RyaW5nUHJvcGVydHkgY29udGVudFByb3BlcnR5KCkgeyByZXR1cm4gY29udGVudDsgfQogICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7IHJldHVybiBkZXNjcmlwdGlvbi5nZXQoKTsgfQogICAgICAgIHB1YmxpYyBqYXZhZnguYmVhbnMucHJvcGVydHkuU3RyaW5nUHJvcGVydHkgZGVzY3JpcHRpb25Qcm9wZXJ0eSgpIHsgcmV0dXJuIGRlc2NyaXB0aW9uOyB9CiAgICAgICAgcHVibGljIEludGVnZXIgZ2V0UHJvamVjdElkKCkgeyByZXR1cm4gcHJvamVjdElkOyB9CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/ui/vm/DbConnectionViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5EYkNvbm5lY3Rpb247DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLlByb2plY3RDb250ZXh0Ow0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSURiQ29ubmVjdGlvblNlcnZpY2U7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmltcGwuRGJDb25uZWN0aW9uU2VydmljZUltcGw7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLnJ1bm5lci5EYXRhU291cmNlUmVnaXN0cnk7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0Ow0KaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7DQppbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b247DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuUGFzc3dvcmRGaWVsZDsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5TcGlubmVyOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlNwaW5uZXJWYWx1ZUZhY3Rvcnk7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVDb2x1bW47DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVWaWV3Ow0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRleHRGaWVsZDsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0QXJlYTsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlByb3BlcnR5VmFsdWVGYWN0b3J5Ow0KaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybTsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5Db21ib0JveDsNCmltcG9ydCBqYXZhZngudXRpbC5TdHJpbmdDb252ZXJ0ZXI7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5EYlR5cGU7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuTGFiZWw7DQoNCmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsNCmltcG9ydCBqYXZhLm5ldC5VUkw7DQppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7DQoNCnB1YmxpYyBjbGFzcyBEYkNvbm5lY3Rpb25WaWV3TW9kZWwgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHsNCg0KICAgIEBGWE1MIHByaXZhdGUgVGFibGVWaWV3PERiQ29ubmVjdGlvbj4gZGJDb25uZWN0aW9uVGFibGU7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxEYkNvbm5lY3Rpb24sIFN0cmluZz4gYWxpYXNDb2x1bW47DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxEYkNvbm5lY3Rpb24sIFN0cmluZz4gZGVzY3JpcHRpb25Db2x1bW47DQogICAgDQogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgYWxpYXNGaWVsZDsNCiAgICBARlhNTCBwcml2YXRlIFRleHRBcmVhIGRlc2NyaXB0aW9uQXJlYTsNCiAgICBARlhNTCBwcml2YXRlIENvbWJvQm94PERiVHlwZT4gZGJUeXBlQ29tYm87DQogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgaG9zdEZpZWxkOw0KICAgIEBGWE1MIHByaXZhdGUgVGV4dEZpZWxkIHBvcnRGaWVsZDsNCiAgICBARlhNTCBwcml2YXRlIFRleHRGaWVsZCBkYk5hbWVGaWVsZDsNCiAgICBARlhNTCBwcml2YXRlIExhYmVsIGRiTmFtZUxhYmVsOw0KICAgIEBGWE1MIHByaXZhdGUgVGV4dEZpZWxkIHNjaGVtYUZpZWxkOw0KICAgIEBGWE1MIHByaXZhdGUgTGFiZWwgc2NoZW1hTGFiZWw7DQogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgc2VydmljZU5hbWVGaWVsZDsNCiAgICBARlhNTCBwcml2YXRlIExhYmVsIHNlcnZpY2VOYW1lTGFiZWw7DQogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgdXJsRmllbGQ7IC8vIG5vdyByZWFkLW9ubHkgYXV0by1nZW5lcmF0ZWQNCiAgICBARlhNTCBwcml2YXRlIFRleHRGaWVsZCB1c2VybmFtZUZpZWxkOw0KICAgIEBGWE1MIHByaXZhdGUgUGFzc3dvcmRGaWVsZCBwYXNzd29yZEZpZWxkOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBwb29sU2l6ZVNwaW5uZXI7DQogICAgQEZYTUwgcHJpdmF0ZSBDb21ib0JveDxjb20ucWEuYXBwLm1vZGVsLkVudmlyb25tZW50PiBlbnZpcm9ubWVudENvbWJvOw0KDQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gYWRkQnV0dG9uOw0KICAgIEBGWE1MIHByaXZhdGUgQnV0dG9uIHVwZGF0ZUJ1dHRvbjsNCiAgICBARlhNTCBwcml2YXRlIEJ1dHRvbiBkZWxldGVCdXR0b247DQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gY2xlYXJCdXR0b247DQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gdGVzdENvbm5lY3Rpb25CdXR0b247DQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gZHVwbGljYXRlQnV0dG9uOw0KDQogICAgcHJpdmF0ZSBmaW5hbCBJRGJDb25uZWN0aW9uU2VydmljZSBkYkNvbm5lY3Rpb25TZXJ2aWNlID0gbmV3IERiQ29ubmVjdGlvblNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxEYkNvbm5lY3Rpb24+IGRiQ29ubmVjdGlvbnMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PGNvbS5xYS5hcHAubW9kZWwuRW52aXJvbm1lbnQ+IGVudmlyb25tZW50cyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOw0KICAgIHByaXZhdGUgZmluYWwgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JRW52aXJvbm1lbnRTZXJ2aWNlIGVudmlyb25tZW50U2VydmljZSA9IG5ldyBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC5FbnZpcm9ubWVudFNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWw7DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCB1cmwsIFJlc291cmNlQnVuZGxlIHJlc291cmNlQnVuZGxlKSB7DQogICAgICAgIHNldHVwVGFibGUoKTsNCiAgICAgICAgc2V0dXBFdmVudExpc3RlbmVycygpOw0KICAgICAgICBjb25maWd1cmVTcGlubmVyKCk7DQogICAgICAgIGNvbmZpZ3VyZURiVHlwZUNvbWJvKCk7DQogICAgICAgIGFkZEZvcm1MaXN0ZW5lcnMoKTsNCiAgICAgICAgbG9hZEVudmlyb25tZW50cygpOw0KICAgICAgICByZWZyZXNoKCk7IC8vIEluaXRpYWwgbG9hZA0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldE1haW5WaWV3TW9kZWwoTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsKSB7DQogICAgICAgIHRoaXMubWFpblZpZXdNb2RlbCA9IG1haW5WaWV3TW9kZWw7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgcmVmcmVzaCgpIHsNCiAgICAgICAgbG9hZENvbm5lY3Rpb25zKCk7DQogICAgICAgIA0KICAgICAgICAvLyDpu5jorqTpgInmi6nnrKzkuIDooYzmlbDmja4NCiAgICAgICAgUGxhdGZvcm0ucnVuTGF0ZXIoKCkgLT4gew0KICAgICAgICAgICAgaWYgKCFkYkNvbm5lY3Rpb25zLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIGRiQ29ubmVjdGlvblRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KDApOw0KICAgICAgICAgICAgICAgIHBvcHVsYXRlRm9ybShkYkNvbm5lY3Rpb25zLmdldCgwKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRvZ2dsZURiRmllbGRzKG51bGwpOyAvLyBFbnN1cmUgZmllbGRzIGFyZSBoaWRkZW4gaWYgbm8gY29ubmVjdGlvbnMNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFibGUoKSB7DQogICAgICAgIGFsaWFzQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oImFsaWFzIikpOw0KICAgICAgICBkZXNjcmlwdGlvbkNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KCJkZXNjcmlwdGlvbiIpKTsNCiAgICAgICAgZGJDb25uZWN0aW9uVGFibGUuc2V0SXRlbXMoZGJDb25uZWN0aW9ucyk7DQogICAgICAgIGRiQ29ubmVjdGlvblRhYmxlLnNldENvbHVtblJlc2l6ZVBvbGljeShUYWJsZVZpZXcuQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWV9BTExfQ09MVU1OUyk7DQogICAgICAgIA0KICAgICAgICAvLyBBZGQgc2VsZWN0aW9uIGxpc3RlbmVyDQogICAgICAgIGRiQ29ubmVjdGlvblRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRTZWxlY3Rpb24sIG5ld1NlbGVjdGlvbikgLT4gew0KICAgICAgICAgICAgaWYgKG5ld1NlbGVjdGlvbiAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgcG9wdWxhdGVGb3JtKG5ld1NlbGVjdGlvbik7DQogICAgICAgICAgICAgICAgdXBkYXRlQnV0dG9uLnNldERpc2FibGUoZmFsc2UpOw0KICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXREaXNhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICBkdXBsaWNhdGVCdXR0b24uc2V0RGlzYWJsZShmYWxzZSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbi5zZXREaXNhYmxlKHRydWUpOw0KICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXREaXNhYmxlKHRydWUpOw0KICAgICAgICAgICAgICAgIGR1cGxpY2F0ZUJ1dHRvbi5zZXREaXNhYmxlKHRydWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBFdmVudExpc3RlbmVycygpIHsNCiAgICAgICAgYWRkQnV0dG9uLnNldE9uQWN0aW9uKGV2ZW50IC0+IGhhbmRsZUFkZCgpKTsNCiAgICAgICAgdXBkYXRlQnV0dG9uLnNldE9uQWN0aW9uKGV2ZW50IC0+IGhhbmRsZVVwZGF0ZSgpKTsNCiAgICAgICAgZGVsZXRlQnV0dG9uLnNldE9uQWN0aW9uKGV2ZW50IC0+IGhhbmRsZURlbGV0ZSgpKTsNCiAgICAgICAgY2xlYXJCdXR0b24uc2V0T25BY3Rpb24oZXZlbnQgLT4gY2xlYXJGb3JtKCkpOw0KICAgICAgICB0ZXN0Q29ubmVjdGlvbkJ1dHRvbi5zZXRPbkFjdGlvbihldmVudCAtPiBoYW5kbGVUZXN0Q29ubmVjdGlvbigpKTsNCiAgICAgICAgZHVwbGljYXRlQnV0dG9uLnNldE9uQWN0aW9uKGV2ZW50IC0+IGhhbmRsZUR1cGxpY2F0ZSgpKTsNCiAgICAgICAgDQogICAgICAgIC8vIEluaXRpYWxseSBkaXNhYmxlIHVwZGF0ZSwgZGVsZXRlIGFuZCBkdXBsaWNhdGUgYnV0dG9ucw0KICAgICAgICB1cGRhdGVCdXR0b24uc2V0RGlzYWJsZSh0cnVlKTsNCiAgICAgICAgZGVsZXRlQnV0dG9uLnNldERpc2FibGUodHJ1ZSk7DQogICAgICAgIGR1cGxpY2F0ZUJ1dHRvbi5zZXREaXNhYmxlKHRydWUpOw0KICAgIH0NCiAgICANCiAgICBwcml2YXRlIHZvaWQgYWRkRm9ybUxpc3RlbmVycygpIHsNCiAgICAgICAgZGJUeXBlQ29tYm8udmFsdWVQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnMsIG9sZFYsIG5ld1YpIC0+IHsNCiAgICAgICAgICAgIHRvZ2dsZURiRmllbGRzKG5ld1YpOw0KICAgICAgICAgICAgdXBkYXRlVXJsRmllbGQoKTsNCiAgICAgICAgfSk7DQogICAgICAgIGhvc3RGaWVsZC50ZXh0UHJvcGVydHkoKS5hZGRMaXN0ZW5lcihvYnMgLT4gdXBkYXRlVXJsRmllbGQoKSk7DQogICAgICAgIHBvcnRGaWVsZC50ZXh0UHJvcGVydHkoKS5hZGRMaXN0ZW5lcihvYnMgLT4gdXBkYXRlVXJsRmllbGQoKSk7DQogICAgICAgIGRiTmFtZUZpZWxkLnRleHRQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKG9icyAtPiB1cGRhdGVVcmxGaWVsZCgpKTsNCiAgICAgICAgc2NoZW1hRmllbGQudGV4dFByb3BlcnR5KCkuYWRkTGlzdGVuZXIob2JzIC0+IHVwZGF0ZVVybEZpZWxkKCkpOw0KICAgICAgICBzZXJ2aWNlTmFtZUZpZWxkLnRleHRQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKG9icyAtPiB1cGRhdGVVcmxGaWVsZCgpKTsNCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSB2b2lkIGNvbmZpZ3VyZVNwaW5uZXIoKSB7DQogICAgICAgIFNwaW5uZXJWYWx1ZUZhY3Rvcnk8SW50ZWdlcj4gdmFsdWVGYWN0b3J5ID0gbmV3IFNwaW5uZXJWYWx1ZUZhY3RvcnkuSW50ZWdlclNwaW5uZXJWYWx1ZUZhY3RvcnkoMSwgMTAwLCA1KTsNCiAgICAgICAgcG9vbFNpemVTcGlubmVyLnNldFZhbHVlRmFjdG9yeSh2YWx1ZUZhY3RvcnkpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBjb25maWd1cmVEYlR5cGVDb21ibygpIHsNCiAgICAgICAgZGJUeXBlQ29tYm8uZ2V0SXRlbXMoKS5zZXRBbGwoRGJUeXBlLnZhbHVlcygpKTsNCiAgICAgICAgZGJUeXBlQ29tYm8uc2V0Q29udmVydGVyKG5ldyBTdHJpbmdDb252ZXJ0ZXI8PigpIHsNCiAgICAgICAgICAgIEBPdmVycmlkZSBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKERiVHlwZSB0eXBlKSB7IHJldHVybiB0eXBlID09IG51bGwgPyAiIiA6IHR5cGUubmFtZSgpOyB9DQogICAgICAgICAgICBAT3ZlcnJpZGUgcHVibGljIERiVHlwZSBmcm9tU3RyaW5nKFN0cmluZyBzKSB7IHJldHVybiBEYlR5cGUudmFsdWVPZihzKTsgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgbG9hZENvbm5lY3Rpb25zKCkgew0KICAgICAgICBJbnRlZ2VyIHByb2plY3RJZCA9IFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKTsNCiAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7DQogICAgICAgICAgICBkYkNvbm5lY3Rpb25zLnNldEFsbChkYkNvbm5lY3Rpb25TZXJ2aWNlLmdldEFsbCgpLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYyAtPiBwcm9qZWN0SWQuZXF1YWxzKGMuZ2V0UHJvamVjdElkKCkpKQ0KICAgICAgICAgICAgICAgICAgICAuY29sbGVjdChqYXZhLnV0aWwuc3RyZWFtLkNvbGxlY3RvcnMudG9MaXN0KCkpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGRiQ29ubmVjdGlvbnMuY2xlYXIoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBsb2FkRW52aXJvbm1lbnRzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZW52aXJvbm1lbnRzLnNldEFsbChlbnZpcm9ubWVudFNlcnZpY2UuZmluZEFsbEVudmlyb25tZW50cygpKTsNCiAgICAgICAgICAgIGVudmlyb25tZW50Q29tYm8uc2V0SXRlbXMoZW52aXJvbm1lbnRzKTsNCiAgICAgICAgICAgIGVudmlyb25tZW50Q29tYm8uc2V0Q29udmVydGVyKG5ldyBTdHJpbmdDb252ZXJ0ZXI8PigpIHsNCiAgICAgICAgICAgICAgICBAT3ZlcnJpZGUgcHVibGljIFN0cmluZyB0b1N0cmluZyhjb20ucWEuYXBwLm1vZGVsLkVudmlyb25tZW50IGVudikgeyByZXR1cm4gZW52ID09IG51bGwgPyAiIiA6IGVudi5nZXROYW1lKCk7IH0NCiAgICAgICAgICAgICAgICBAT3ZlcnJpZGUgcHVibGljIGNvbS5xYS5hcHAubW9kZWwuRW52aXJvbm1lbnQgZnJvbVN0cmluZyhTdHJpbmcgcykgeyByZXR1cm4gZW52aXJvbm1lbnRzLnN0cmVhbSgpLmZpbHRlcihlIC0+IGUuZ2V0TmFtZSgpLmVxdWFscyhzKSkuZmluZEZpcnN0KCkub3JFbHNlKG51bGwpOyB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHNob3dTdGF0dXMoIkZhaWxlZCB0byBsb2FkIGVudmlyb25tZW50czogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHBvcHVsYXRlRm9ybShEYkNvbm5lY3Rpb24gY29ubmVjdGlvbikgew0KICAgICAgICBhbGlhc0ZpZWxkLnNldFRleHQoY29ubmVjdGlvbi5nZXRBbGlhcygpKTsNCiAgICAgICAgZGVzY3JpcHRpb25BcmVhLnNldFRleHQoY29ubmVjdGlvbi5nZXREZXNjcmlwdGlvbigpKTsNCiAgICAgICAgZGJUeXBlQ29tYm8uZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoY29ubmVjdGlvbi5nZXREYlR5cGUoKSk7DQogICAgICAgIGhvc3RGaWVsZC5zZXRUZXh0KGNvbm5lY3Rpb24uZ2V0SG9zdCgpKTsNCiAgICAgICAgcG9ydEZpZWxkLnNldFRleHQoU3RyaW5nLnZhbHVlT2YoY29ubmVjdGlvbi5nZXRQb3J0KCkpKTsNCiAgICAgICAgZGJOYW1lRmllbGQuc2V0VGV4dChjb25uZWN0aW9uLmdldERiTmFtZSgpKTsNCiAgICAgICAgc2NoZW1hRmllbGQuc2V0VGV4dChjb25uZWN0aW9uLmdldFNjaGVtYU5hbWUoKSk7DQogICAgICAgIHNlcnZpY2VOYW1lRmllbGQuc2V0VGV4dChjb25uZWN0aW9uLmdldFNlcnZpY2VOYW1lKCkpOw0KICAgICAgICB1c2VybmFtZUZpZWxkLnNldFRleHQoY29ubmVjdGlvbi5nZXRVc2VybmFtZSgpKTsNCiAgICAgICAgcGFzc3dvcmRGaWVsZC5zZXRUZXh0KGNvbm5lY3Rpb24uZ2V0UGFzc3dvcmQoKSk7DQogICAgICAgIHBvb2xTaXplU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShjb25uZWN0aW9uLmdldFBvb2xTaXplKCkpOw0KICAgICAgICAvLyBzZWxlY3QgZW52aXJvbm1lbnQNCiAgICAgICAgZW52aXJvbm1lbnRzLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgLmZpbHRlcihlbnYgLT4gZW52LmdldElkKCkgPT0gY29ubmVjdGlvbi5nZXRFbnZpcm9ubWVudElkKCkpDQogICAgICAgICAgICAgICAgLmZpbmRGaXJzdCgpDQogICAgICAgICAgICAgICAgLmlmUHJlc2VudChlbnYgLT4gZW52aXJvbm1lbnRDb21iby5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChlbnYpKTsNCiAgICAgICAgDQogICAgICAgIHRvZ2dsZURiRmllbGRzKGNvbm5lY3Rpb24uZ2V0RGJUeXBlKCkpOw0KICAgICAgICB1cGRhdGVVcmxGaWVsZCgpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBjbGVhckZvcm0oKSB7DQogICAgICAgIGFsaWFzRmllbGQuY2xlYXIoKTsNCiAgICAgICAgZGVzY3JpcHRpb25BcmVhLmNsZWFyKCk7DQogICAgICAgIGRiVHlwZUNvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgaG9zdEZpZWxkLmNsZWFyKCk7DQogICAgICAgIHBvcnRGaWVsZC5jbGVhcigpOw0KICAgICAgICBkYk5hbWVGaWVsZC5jbGVhcigpOw0KICAgICAgICBzY2hlbWFGaWVsZC5jbGVhcigpOw0KICAgICAgICBzZXJ2aWNlTmFtZUZpZWxkLmNsZWFyKCk7DQogICAgICAgIHVybEZpZWxkLmNsZWFyKCk7DQogICAgICAgIHVzZXJuYW1lRmllbGQuY2xlYXIoKTsNCiAgICAgICAgcGFzc3dvcmRGaWVsZC5jbGVhcigpOw0KICAgICAgICBwb29sU2l6ZVNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUoNSk7DQogICAgICAgIGRiQ29ubmVjdGlvblRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgdG9nZ2xlRGJGaWVsZHMobnVsbCk7DQogICAgfQ0KICAgIA0KICAgIHByaXZhdGUgRGJDb25uZWN0aW9uIGdldENvbm5lY3Rpb25Gcm9tRm9ybSgpIHsNCiAgICAgICAgRGJDb25uZWN0aW9uIGNvbm5lY3Rpb247DQogICAgICAgIGlmIChkYkNvbm5lY3Rpb25UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpICE9IG51bGwpIHsNCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBkYkNvbm5lY3Rpb25UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29ubmVjdGlvbiA9IG5ldyBEYkNvbm5lY3Rpb24oKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgc2hvd1N0YXR1cygiRXJyb3I6IE5vIHByb2plY3Qgc2VsZWN0ZWQuIFBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0IGZpcnN0LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbm5lY3Rpb24uc2V0QWxpYXMoYWxpYXNGaWVsZC5nZXRUZXh0KCkpOw0KICAgICAgICBjb25uZWN0aW9uLnNldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uQXJlYS5nZXRUZXh0KCkpOw0KICAgICAgICBjb25uZWN0aW9uLnNldERiVHlwZShkYlR5cGVDb21iby5nZXRWYWx1ZSgpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXRIb3N0KGhvc3RGaWVsZC5nZXRUZXh0KCkpOw0KICAgICAgICB0cnkgeyBjb25uZWN0aW9uLnNldFBvcnQoSW50ZWdlci5wYXJzZUludChwb3J0RmllbGQuZ2V0VGV4dCgpKSk7IH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBpZ25vcmVkKSB7DQogICAgICAgICAgICBjb25uZWN0aW9uLnNldFBvcnQoMCk7DQogICAgICAgIH0NCiAgICAgICAgY29ubmVjdGlvbi5zZXREYk5hbWUoZGJOYW1lRmllbGQuZ2V0VGV4dCgpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXRTY2hlbWFOYW1lKHNjaGVtYUZpZWxkLmdldFRleHQoKSk7DQogICAgICAgIGNvbm5lY3Rpb24uc2V0U2VydmljZU5hbWUoc2VydmljZU5hbWVGaWVsZC5nZXRUZXh0KCkpOw0KICAgICAgICANCiAgICAgICAgY29ubmVjdGlvbi5zZXRVc2VybmFtZSh1c2VybmFtZUZpZWxkLmdldFRleHQoKSk7DQogICAgICAgIGNvbm5lY3Rpb24uc2V0UGFzc3dvcmQocGFzc3dvcmRGaWVsZC5nZXRUZXh0KCkpOw0KICAgICAgICBjb25uZWN0aW9uLnNldFBvb2xTaXplKHBvb2xTaXplU3Bpbm5lci5nZXRWYWx1ZSgpKTsNCiAgICAgICAgY29ubmVjdGlvbi5zZXRQcm9qZWN0SWQoUHJvamVjdENvbnRleHQuZ2V0Q3VycmVudFByb2plY3RJZCgpKTsNCiAgICAgICAgaWYgKGVudmlyb25tZW50Q29tYm8uZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKSAhPSBudWxsKSB7DQogICAgICAgICAgICBjb25uZWN0aW9uLnNldEVudmlyb25tZW50SWQoZW52aXJvbm1lbnRDb21iby5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpLmdldElkKCkpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBjb25uZWN0aW9uOw0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZCgpIHsNCiAgICAgICAgaWYgKCF2YWxpZGF0ZUZvcm0oKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBEYkNvbm5lY3Rpb24gY29ubmVjdGlvbiA9IGdldENvbm5lY3Rpb25Gcm9tRm9ybSgpOw0KICAgICAgICBpZiAoY29ubmVjdGlvbiAhPSBudWxsICYmIGNvbm5lY3Rpb24uZ2V0SWQoKSA9PSAwICYmICFjb25uZWN0aW9uLmdldEFsaWFzKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBkYkNvbm5lY3Rpb25TZXJ2aWNlLmFkZENvbm5lY3Rpb24oY29ubmVjdGlvbik7DQogICAgICAgICAgICBsb2FkQ29ubmVjdGlvbnMoKTsNCiAgICAgICAgICAgIGNsZWFyRm9ybSgpOw0KICAgICAgICAgICAgc2hvd1N0YXR1cygiRGF0YWJhc2UgY29ubmVjdGlvbiBhZGRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlVXBkYXRlKCkgew0KICAgICAgICBpZiAoIXZhbGlkYXRlRm9ybSgpKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIERiQ29ubmVjdGlvbiBjb25uZWN0aW9uID0gZ2V0Q29ubmVjdGlvbkZyb21Gb3JtKCk7DQogICAgICAgIGlmIChjb25uZWN0aW9uICE9IG51bGwgJiYgY29ubmVjdGlvbi5nZXRJZCgpID4gMCkgew0KICAgICAgICAgICAgZGJDb25uZWN0aW9uU2VydmljZS51cGRhdGVDb25uZWN0aW9uKGNvbm5lY3Rpb24pOw0KICAgICAgICAgICAgbG9hZENvbm5lY3Rpb25zKCk7DQogICAgICAgICAgICBjbGVhckZvcm0oKTsNCiAgICAgICAgICAgIHNob3dTdGF0dXMoIkRhdGFiYXNlIGNvbm5lY3Rpb24gdXBkYXRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRGVsZXRlKCkgew0KICAgICAgICBEYkNvbm5lY3Rpb24gc2VsZWN0ZWQgPSBkYkNvbm5lY3Rpb25UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICBpZiAoc2VsZWN0ZWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgZGJDb25uZWN0aW9uU2VydmljZS5kZWxldGVDb25uZWN0aW9uKHNlbGVjdGVkKTsNCiAgICAgICAgICAgIGxvYWRDb25uZWN0aW9ucygpOw0KICAgICAgICAgICAgY2xlYXJGb3JtKCk7DQogICAgICAgICAgICBzaG93U3RhdHVzKCJEYXRhYmFzZSBjb25uZWN0aW9uIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEdXBsaWNhdGUoKSB7DQogICAgICAgIERiQ29ubmVjdGlvbiBzZWxlY3RlZCA9IGRiQ29ubmVjdGlvblRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7DQogICAgICAgIGlmIChzZWxlY3RlZCAhPSBudWxsKSB7DQogICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgY29ubmVjdGlvbiB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMgYnV0IGEgZGlmZmVyZW50IG5hbWUNCiAgICAgICAgICAgIERiQ29ubmVjdGlvbiBkdXBsaWNhdGUgPSBuZXcgRGJDb25uZWN0aW9uKCk7DQogICAgICAgICAgICBkdXBsaWNhdGUuc2V0QWxpYXMoc2VsZWN0ZWQuZ2V0QWxpYXMoKSArICIgKENvcHkpIik7DQogICAgICAgICAgICBkdXBsaWNhdGUuc2V0RGVzY3JpcHRpb24oc2VsZWN0ZWQuZ2V0RGVzY3JpcHRpb24oKSk7DQogICAgICAgICAgICBkdXBsaWNhdGUuc2V0RGJUeXBlKHNlbGVjdGVkLmdldERiVHlwZSgpKTsNCiAgICAgICAgICAgIGR1cGxpY2F0ZS5zZXRIb3N0KHNlbGVjdGVkLmdldEhvc3QoKSk7DQogICAgICAgICAgICBkdXBsaWNhdGUuc2V0UG9ydChzZWxlY3RlZC5nZXRQb3J0KCkpOw0KICAgICAgICAgICAgZHVwbGljYXRlLnNldERiTmFtZShzZWxlY3RlZC5nZXREYk5hbWUoKSk7DQogICAgICAgICAgICBkdXBsaWNhdGUuc2V0U2NoZW1hTmFtZShzZWxlY3RlZC5nZXRTY2hlbWFOYW1lKCkpOw0KICAgICAgICAgICAgZHVwbGljYXRlLnNldFNlcnZpY2VOYW1lKHNlbGVjdGVkLmdldFNlcnZpY2VOYW1lKCkpOw0KICAgICAgICAgICAgZHVwbGljYXRlLnNldFVzZXJuYW1lKHNlbGVjdGVkLmdldFVzZXJuYW1lKCkpOw0KICAgICAgICAgICAgZHVwbGljYXRlLnNldFBhc3N3b3JkKHNlbGVjdGVkLmdldFBhc3N3b3JkKCkpOw0KICAgICAgICAgICAgZHVwbGljYXRlLnNldFBvb2xTaXplKHNlbGVjdGVkLmdldFBvb2xTaXplKCkpOw0KICAgICAgICAgICAgZHVwbGljYXRlLnNldFByb2plY3RJZChzZWxlY3RlZC5nZXRQcm9qZWN0SWQoKSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIERpcmVjdGx5IGFkZCB0aGUgZHVwbGljYXRlIHRvIHRoZSBkYXRhYmFzZQ0KICAgICAgICAgICAgZGJDb25uZWN0aW9uU2VydmljZS5hZGRDb25uZWN0aW9uKGR1cGxpY2F0ZSk7DQogICAgICAgICAgICBsb2FkQ29ubmVjdGlvbnMoKTsNCiAgICAgICAgICAgIHNob3dTdGF0dXMoIkRhdGFiYXNlIGNvbm5lY3Rpb24gZHVwbGljYXRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZVVybEZpZWxkKCkgew0KICAgICAgICBEYkNvbm5lY3Rpb24gdGVtcENvbm4gPSBuZXcgRGJDb25uZWN0aW9uKCk7DQogICAgICAgIHRlbXBDb25uLnNldERiVHlwZShkYlR5cGVDb21iby5nZXRWYWx1ZSgpKTsNCiAgICAgICAgdGVtcENvbm4uc2V0SG9zdChob3N0RmllbGQuZ2V0VGV4dCgpKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHRlbXBDb25uLnNldFBvcnQoSW50ZWdlci5wYXJzZUludChwb3J0RmllbGQuZ2V0VGV4dCgpKSk7DQogICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB1cmxGaWVsZC5zZXRUZXh0KCIiKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB0ZW1wQ29ubi5zZXREYk5hbWUoZGJOYW1lRmllbGQuZ2V0VGV4dCgpKTsNCiAgICAgICAgdGVtcENvbm4uc2V0U2NoZW1hTmFtZShzY2hlbWFGaWVsZC5nZXRUZXh0KCkpOw0KICAgICAgICB0ZW1wQ29ubi5zZXRTZXJ2aWNlTmFtZShzZXJ2aWNlTmFtZUZpZWxkLmdldFRleHQoKSk7DQoNCiAgICAgICAgaWYgKHRlbXBDb25uLmdldERiVHlwZSgpICE9IG51bGwgJiYgdGVtcENvbm4uZ2V0SG9zdCgpICE9IG51bGwgJiYgIXRlbXBDb25uLmdldEhvc3QoKS5pc0JsYW5rKCkgJiYgdGVtcENvbm4uZ2V0UG9ydCgpID4gMCkgew0KICAgICAgICAgICAgU3RyaW5nIGdlbmVyYXRlZFVybCA9IERhdGFTb3VyY2VSZWdpc3RyeS5idWlsZEpkYmNVcmwodGVtcENvbm4pOw0KICAgICAgICAgICAgdXJsRmllbGQuc2V0VGV4dChnZW5lcmF0ZWRVcmwpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdXJsRmllbGQuc2V0VGV4dCgiIik7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSB2b2lkIHRvZ2dsZURiRmllbGRzKERiVHlwZSB0eXBlKSB7DQogICAgICAgIC8vIEhpZGUgYWxsIG9wdGlvbmFsIGZpZWxkcyBhbmQgdGhlaXIgbGFiZWxzIGJ5IGRlZmF1bHQNCiAgICAgICAgZGJOYW1lTGFiZWwuc2V0VmlzaWJsZShmYWxzZSk7IGRiTmFtZUxhYmVsLnNldE1hbmFnZWQoZmFsc2UpOw0KICAgICAgICBkYk5hbWVGaWVsZC5zZXRWaXNpYmxlKGZhbHNlKTsgZGJOYW1lRmllbGQuc2V0TWFuYWdlZChmYWxzZSk7DQogICAgICAgIHNjaGVtYUxhYmVsLnNldFZpc2libGUoZmFsc2UpOyBzY2hlbWFMYWJlbC5zZXRNYW5hZ2VkKGZhbHNlKTsNCiAgICAgICAgc2NoZW1hRmllbGQuc2V0VmlzaWJsZShmYWxzZSk7IHNjaGVtYUZpZWxkLnNldE1hbmFnZWQoZmFsc2UpOw0KICAgICAgICBzZXJ2aWNlTmFtZUxhYmVsLnNldFZpc2libGUoZmFsc2UpOyBzZXJ2aWNlTmFtZUxhYmVsLnNldE1hbmFnZWQoZmFsc2UpOw0KICAgICAgICBzZXJ2aWNlTmFtZUZpZWxkLnNldFZpc2libGUoZmFsc2UpOyBzZXJ2aWNlTmFtZUZpZWxkLnNldE1hbmFnZWQoZmFsc2UpOw0KDQogICAgICAgIGlmICh0eXBlID09IG51bGwpIHJldHVybjsNCg0KICAgICAgICAvLyBTaG93IGZpZWxkcyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgZGF0YWJhc2UgdHlwZQ0KICAgICAgICBzd2l0Y2ggKHR5cGUpIHsNCiAgICAgICAgICAgIGNhc2UgT1JBQ0xFOg0KICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lTGFiZWwuc2V0VmlzaWJsZSh0cnVlKTsgc2VydmljZU5hbWVMYWJlbC5zZXRNYW5hZ2VkKHRydWUpOw0KICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lRmllbGQuc2V0VmlzaWJsZSh0cnVlKTsgc2VydmljZU5hbWVGaWVsZC5zZXRNYW5hZ2VkKHRydWUpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSBQT1NUR1JFU1FMOg0KICAgICAgICAgICAgICAgIGRiTmFtZUxhYmVsLnNldFZpc2libGUodHJ1ZSk7IGRiTmFtZUxhYmVsLnNldE1hbmFnZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgZGJOYW1lRmllbGQuc2V0VmlzaWJsZSh0cnVlKTsgZGJOYW1lRmllbGQuc2V0TWFuYWdlZCh0cnVlKTsNCiAgICAgICAgICAgICAgICBzY2hlbWFMYWJlbC5zZXRWaXNpYmxlKHRydWUpOyBzY2hlbWFMYWJlbC5zZXRNYW5hZ2VkKHRydWUpOw0KICAgICAgICAgICAgICAgIHNjaGVtYUZpZWxkLnNldFZpc2libGUodHJ1ZSk7IHNjaGVtYUZpZWxkLnNldE1hbmFnZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIE1ZU1FMOg0KICAgICAgICAgICAgY2FzZSBTUUxTRVJWRVI6DQogICAgICAgICAgICAgICAgZGJOYW1lTGFiZWwuc2V0VmlzaWJsZSh0cnVlKTsgZGJOYW1lTGFiZWwuc2V0TWFuYWdlZCh0cnVlKTsNCiAgICAgICAgICAgICAgICBkYk5hbWVGaWVsZC5zZXRWaXNpYmxlKHRydWUpOyBkYk5hbWVGaWVsZC5zZXRNYW5hZ2VkKHRydWUpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVRlc3RDb25uZWN0aW9uKCkgew0KICAgICAgICBpZiAoIXZhbGlkYXRlRm9ybSgpKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIERiQ29ubmVjdGlvbiB0ZXN0Q29ubiA9IGdldENvbm5lY3Rpb25Gcm9tRm9ybSgpOw0KICAgICAgICBpZiAodGVzdENvbm4gIT0gbnVsbCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAvLyBFdmljdCBmcm9tIGNhY2hlIHRvIGVuc3VyZSB3ZSB0ZXN0IHdpdGggZnJlc2ggc2V0dGluZ3MgZnJvbSB0aGUgZm9ybQ0KICAgICAgICAgICAgICAgIERhdGFTb3VyY2VSZWdpc3RyeS5ldmljdCh0ZXN0Q29ubi5nZXRBbGlhcygpKTsNCg0KICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBEYXRhU291cmNlIGZvciB0ZXN0aW5nDQogICAgICAgICAgICAgICAgRGF0YVNvdXJjZSBkcyA9IERhdGFTb3VyY2VSZWdpc3RyeS5nZXQodGVzdENvbm4pOw0KICAgICAgICAgICAgICAgIHRyeSAoQ29ubmVjdGlvbiBjb25uID0gZHMuZ2V0Q29ubmVjdGlvbigpKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBkYkluZm8gPSAiRGF0YWJhc2U6ICIgKyAoY29ubi5nZXRDYXRhbG9nKCkgIT0gbnVsbCA/IGNvbm4uZ2V0Q2F0YWxvZygpIDogIlVua25vd24iKSArIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLCBQcm9kdWN0OiAiICsgY29ubi5nZXRNZXRhRGF0YSgpLmdldERhdGFiYXNlUHJvZHVjdE5hbWUoKSArIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICIgKyBjb25uLmdldE1ldGFEYXRhKCkuZ2V0RGF0YWJhc2VQcm9kdWN0VmVyc2lvbigpOw0KICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzKCJDb25uZWN0aW9uIHN1Y2Nlc3NmdWwhICIgKyBkYkluZm8sIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoIkNvbm5lY3Rpb24gdGVzdCBmYWlsZWQ6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgICAgICAvLyBBbHNvIGV2aWN0IG9uIGZhaWx1cmUgc28gYSBiYWQgY29uZmlnIGlzbid0IGNhY2hlZCBmb3IgbmV4dCB0aW1lDQogICAgICAgICAgICAgICAgRGF0YVNvdXJjZVJlZ2lzdHJ5LmV2aWN0KHRlc3RDb25uLmdldEFsaWFzKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIHByaXZhdGUgYm9vbGVhbiB2YWxpZGF0ZUZvcm0oKSB7DQogICAgICAgIFN0cmluZ0J1aWxkZXIgZXJyb3JzID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsNCiAgICAgICAgDQogICAgICAgIGlmIChhbGlhc0ZpZWxkLmdldFRleHQoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBlcnJvcnMuYXBwZW5kKCJBbGlhcyBpcyByZXF1aXJlZC4gIik7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChkYlR5cGVDb21iby5nZXRWYWx1ZSgpID09IG51bGwpIHsNCiAgICAgICAgICAgIGVycm9ycy5hcHBlbmQoIkRhdGFiYXNlIHR5cGUgaXMgcmVxdWlyZWQuICIpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAoaG9zdEZpZWxkLmdldFRleHQoKS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBlcnJvcnMuYXBwZW5kKCJIb3N0IGlzIHJlcXVpcmVkLiAiKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYgKHBvcnRGaWVsZC5nZXRUZXh0KCkudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgZXJyb3JzLmFwcGVuZCgiUG9ydCBpcyByZXF1aXJlZC4gIik7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChkYk5hbWVGaWVsZC5nZXRUZXh0KCkudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgZXJyb3JzLmFwcGVuZCgiRGF0YWJhc2UgbmFtZSBpcyByZXF1aXJlZC4gIik7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChlcnJvcnMubGVuZ3RoKCkgPiAwKSB7DQogICAgICAgICAgICBzaG93U3RhdHVzKCJWYWxpZGF0aW9uIGVycm9yOiAiICsgZXJyb3JzLnRvU3RyaW5nKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzaG93U3RhdHVzKFN0cmluZyBtZXNzYWdlLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUgdHlwZSkgew0KICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cyhtZXNzYWdlLCB0eXBlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/ui/vm/EndpointViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zOwppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0OwppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDsKaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qOwppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVWaWV3OwoKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTsKCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLkVuZHBvaW50OwppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5FbnZpcm9ubWVudDsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JRW5kcG9pbnRTZXJ2aWNlOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JRW52aXJvbm1lbnRTZXJ2aWNlOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmltcGwuRW5kcG9pbnRTZXJ2aWNlSW1wbDsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLkVudmlyb25tZW50U2VydmljZUltcGw7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuUHJvamVjdENvbnRleHQ7CmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOwppbXBvcnQgY29tLnFhLmFwcC5jb21tb24ubGlzdGVuZXJzLkFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyOwoKcHVibGljIGNsYXNzIEVuZHBvaW50Vmlld01vZGVsIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSwgQXBwQ29uZmlnQ2hhbmdlTGlzdGVuZXIgewogICAgQEZYTUwKICAgIHByaXZhdGUgVGV4dEZpZWxkIGVuZHBvaW50TmFtZUZpZWxkOwogICAgQEZYTUwKICAgIHByaXZhdGUgQ29tYm9Cb3g8U3RyaW5nPiBtZXRob2RDb21ib0JveDsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRleHRGaWVsZCB1cmxGaWVsZDsKICAgIEBGWE1MCiAgICBwcml2YXRlIENvbWJvQm94PEVudmlyb25tZW50PiBlbnZpcm9ubWVudENvbWJvQm94OwogICAgQEZYTUwKICAgIHByaXZhdGUgQnV0dG9uIGFkZEJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBkdXBsaWNhdGVCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gdXBkYXRlQnV0dG9uOwogICAgQEZYTUwKICAgIHByaXZhdGUgQnV0dG9uIGRlbGV0ZUJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBjbGVhckJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRhYmxlVmlldzxFbmRwb2ludEl0ZW0+IGVuZHBvaW50VGFibGU7CiAgICBARlhNTAogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxFbmRwb2ludEl0ZW0sIFN0cmluZz4gZW5kcG9pbnROYW1lQ29sdW1uOwogICAgQEZYTUwKICAgIHByaXZhdGUgVGFibGVDb2x1bW48RW5kcG9pbnRJdGVtLCBTdHJpbmc+IG1ldGhvZENvbHVtbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEVuZHBvaW50SXRlbSwgU3RyaW5nPiB1cmxDb2x1bW47CiAgICBARlhNTAogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxFbmRwb2ludEl0ZW0sIFN0cmluZz4gZW52aXJvbm1lbnRDb2x1bW47CgogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxFbmRwb2ludEl0ZW0+IGVuZHBvaW50TGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOwogICAgcHJpdmF0ZSBmaW5hbCBJRW5kcG9pbnRTZXJ2aWNlIGVuZHBvaW50U2VydmljZSA9IG5ldyBFbmRwb2ludFNlcnZpY2VJbXBsKCk7CiAgICBwcml2YXRlIGZpbmFsIElFbnZpcm9ubWVudFNlcnZpY2UgZW52aXJvbm1lbnRTZXJ2aWNlID0gbmV3IEVudmlyb25tZW50U2VydmljZUltcGwoKTsKICAgIHByaXZhdGUgT2JzZXJ2YWJsZUxpc3Q8RW52aXJvbm1lbnQ+IGVudmlyb25tZW50TGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOwogICAgcHJpdmF0ZSBNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWw7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7CiAgICAgICAgZW5kcG9pbnROYW1lQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gY2VsbERhdGEuZ2V0VmFsdWUoKS5uYW1lUHJvcGVydHkoKSk7CiAgICAgICAgbWV0aG9kQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gY2VsbERhdGEuZ2V0VmFsdWUoKS5tZXRob2RQcm9wZXJ0eSgpKTsKICAgICAgICB1cmxDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBjZWxsRGF0YS5nZXRWYWx1ZSgpLnVybFByb3BlcnR5KCkpOwogICAgICAgIGVudmlyb25tZW50Q29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gewogICAgICAgICAgICBJbnRlZ2VyIGVudklkID0gY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXRFbnZpcm9ubWVudElkKCk7CiAgICAgICAgICAgIFN0cmluZyBlbnZOYW1lID0gIiI7CiAgICAgICAgICAgIGlmIChlbnZJZCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBFbnZpcm9ubWVudCBlbnYgPSBlbnZpcm9ubWVudExpc3Quc3RyZWFtKCkuZmlsdGVyKGUgLT4gZS5nZXRJZCgpID09IGVudklkKS5maW5kRmlyc3QoKS5vckVsc2UobnVsbCk7CiAgICAgICAgICAgICAgICBpZiAoZW52ICE9IG51bGwpIGVudk5hbWUgPSBlbnYuZ2V0TmFtZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGVudk5hbWUpOwogICAgICAgIH0pOwogICAgICAgIGVuZHBvaW50VGFibGUuc2V0SXRlbXMoZW5kcG9pbnRMaXN0KTsKICAgICAgICBlbmRwb2ludFRhYmxlLnNldENvbHVtblJlc2l6ZVBvbGljeShUYWJsZVZpZXcuQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWV9BTExfQ09MVU1OUyk7CiAgICAgICAgZW5kcG9pbnRUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdGVkSXRlbVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9icywgb2xkU2VsZWN0aW9uLCBuZXdTZWxlY3Rpb24pIC0+IHsKICAgICAgICAgICAgaWYgKG5ld1NlbGVjdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBwb3B1bGF0ZUZpZWxkcyhuZXdTZWxlY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbWV0aG9kQ29tYm9Cb3guc2V0SXRlbXMoRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCJHRVQiLCAiUE9TVCIsICJQVVQiLCAiREVMRVRFIiwgIlBBVENIIikpOwogICAgICAgIG1ldGhvZENvbWJvQm94LnNldFByb21wdFRleHQoIlNlbGVjdCBNZXRob2QiKTsKICAgICAgICBtZXRob2RDb21ib0JveC5zZXRCdXR0b25DZWxsKG5ldyBMaXN0Q2VsbDw+KCkgewogICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShTdHJpbmcgaXRlbSwgYm9vbGVhbiBlbXB0eSkgewogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7CiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgaXRlbSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChtZXRob2RDb21ib0JveC5nZXRQcm9tcHRUZXh0KCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbG9hZEVudmlyb25tZW50cygpOwogICAgICAgIGxvYWRFbmRwb2ludHMoKTsKCiAgICAgICAgQXBwQ29uZmlnLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgb25Db25maWdDaGFuZ2VkKCkgewogICAgICAgIGxvYWRFbnZpcm9ubWVudHMoKTsKICAgICAgICBsb2FkRW5kcG9pbnRzKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVmcmVzaCgpIHsKICAgICAgICBsb2FkRW52aXJvbm1lbnRzKCk7CiAgICAgICAgbG9hZEVuZHBvaW50cygpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBsb2FkRW5kcG9pbnRzKCkgewogICAgICAgIGVuZHBvaW50TGlzdC5jbGVhcigpOwogICAgICAgIEludGVnZXIgcHJvamVjdElkID0gUHJvamVjdENvbnRleHQuZ2V0Q3VycmVudFByb2plY3RJZCgpOwogICAgICAgIGlmIChwcm9qZWN0SWQgIT0gbnVsbCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChFbmRwb2ludCBlIDogZW5kcG9pbnRTZXJ2aWNlLmdldEVuZHBvaW50c0J5UHJvamVjdElkKHByb2plY3RJZCkpIHsKICAgICAgICAgICAgICAgICAgICBlbmRwb2ludExpc3QuYWRkKG5ldyBFbmRwb2ludEl0ZW0oZS5nZXRJZCgpLCBlLmdldE5hbWUoKSwgZS5nZXRNZXRob2QoKSwgZS5nZXRVcmwoKSwgZS5nZXRFbnZpcm9ubWVudElkKCkpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICAvLyDlj6/liqDplJnor6/mj5DnpLoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVuZHBvaW50TGlzdC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgZW5kcG9pbnRUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdEZpcnN0KCk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9pZCBsb2FkRW52aXJvbm1lbnRzKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVudmlyb25tZW50TGlzdC5zZXRBbGwoZW52aXJvbm1lbnRTZXJ2aWNlLmZpbmRBbGxFbnZpcm9ubWVudHMoKSk7CiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGVudmlyb25tZW50TGlzdC5jbGVhcigpOwogICAgICAgIH0KICAgICAgICBlbnZpcm9ubWVudENvbWJvQm94LnNldEl0ZW1zKGVudmlyb25tZW50TGlzdCk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHBvcHVsYXRlRmllbGRzKEVuZHBvaW50SXRlbSBpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gIT0gbnVsbCkgewogICAgICAgICAgICBlbmRwb2ludE5hbWVGaWVsZC5zZXRUZXh0KGl0ZW0uZ2V0TmFtZSgpKTsKICAgICAgICAgICAgbWV0aG9kQ29tYm9Cb3guc2V0VmFsdWUoaXRlbS5nZXRNZXRob2QoKSk7CiAgICAgICAgICAgIHVybEZpZWxkLnNldFRleHQoaXRlbS5nZXRVcmwoKSk7CiAgICAgICAgICAgIEludGVnZXIgZW52SWQgPSBpdGVtLmdldEVudmlyb25tZW50SWQoKTsKICAgICAgICAgICAgRW52aXJvbm1lbnQgZW52ID0gbnVsbDsKICAgICAgICAgICAgaWYgKGVudklkICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGVudiA9IGVudmlyb25tZW50TGlzdC5zdHJlYW0oKS5maWx0ZXIoZSAtPiBlLmdldElkKCkgPT0gZW52SWQpLmZpbmRGaXJzdCgpLm9yRWxzZShudWxsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbnZpcm9ubWVudENvbWJvQm94LnNldFZhbHVlKGVudik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xlYXJGaWVsZHMoKTsKICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEdXBsaWNhdGVFbmRwb2ludCgpIHsKICAgICAgICBFbmRwb2ludEl0ZW0gc2VsZWN0ZWQgPSBlbmRwb2ludFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgaWYgKHNlbGVjdGVkID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlBsZWFzZSBzZWxlY3QgYW4gZW5kcG9pbnQgdG8gZHVwbGljYXRlLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgU3RyaW5nIG5ld05hbWUgPSBzZWxlY3RlZC5nZXROYW1lKCkgKyAiIChjb3B5KSI7CiAgICAgICAgd2hpbGUgKGlzTmFtZUVudkR1cGxpY2F0ZShuZXdOYW1lLCBzZWxlY3RlZC5nZXRFbnZpcm9ubWVudElkKCksIG51bGwpKSB7CiAgICAgICAgICAgIG5ld05hbWUgKz0gIiAoY29weSkiOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgRW5kcG9pbnQgbmV3RW5kcG9pbnQgPSBuZXcgRW5kcG9pbnQobmV3TmFtZSwgc2VsZWN0ZWQuZ2V0TWV0aG9kKCksIHNlbGVjdGVkLmdldFVybCgpLCBzZWxlY3RlZC5nZXRFbnZpcm9ubWVudElkKCksIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGVuZHBvaW50U2VydmljZS5hZGRFbmRwb2ludChuZXdFbmRwb2ludCk7CiAgICAgICAgICAgIGxvYWRFbmRwb2ludHMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVuZHBvaW50IGR1cGxpY2F0ZWQgYW5kIGFkZGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gZHVwbGljYXRlIGVuZHBvaW50OiAiICsgZXguZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgYm9vbGVhbiBpc05hbWVFbnZEdXBsaWNhdGUoU3RyaW5nIG5hbWUsIEludGVnZXIgZW52SWQsIEludGVnZXIgZXhjbHVkZUlkKSB7CiAgICAgICAgZm9yIChFbmRwb2ludEl0ZW0gaXRlbSA6IGVuZHBvaW50TGlzdCkgewogICAgICAgICAgICBpZiAoaXRlbS5nZXROYW1lKCkuZXF1YWxzKG5hbWUpCiAgICAgICAgICAgICAgICAmJiAoKGl0ZW0uZ2V0RW52aXJvbm1lbnRJZCgpID09IG51bGwgJiYgZW52SWQgPT0gbnVsbCkgfHwgKGl0ZW0uZ2V0RW52aXJvbm1lbnRJZCgpICE9IG51bGwgJiYgaXRlbS5nZXRFbnZpcm9ubWVudElkKCkuZXF1YWxzKGVudklkKSkpCiAgICAgICAgICAgICAgICAmJiAoZXhjbHVkZUlkID09IG51bGwgfHwgaXRlbS5nZXRJZCgpICE9IGV4Y2x1ZGVJZCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZEVuZHBvaW50KCkgewogICAgICAgIFN0cmluZyBuYW1lID0gZW5kcG9pbnROYW1lRmllbGQuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBTdHJpbmcgbWV0aG9kID0gbWV0aG9kQ29tYm9Cb3guZ2V0VmFsdWUoKTsKICAgICAgICBTdHJpbmcgdXJsID0gdXJsRmllbGQuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBFbnZpcm9ubWVudCBlbnYgPSBlbnZpcm9ubWVudENvbWJvQm94LmdldFZhbHVlKCk7CiAgICAgICAgSW50ZWdlciBlbnZJZCA9IGVudiAhPSBudWxsID8gZW52LmdldElkKCkgOiBudWxsOwogICAgICAgIGlmIChuYW1lLmlzRW1wdHkoKSB8fCBtZXRob2QgPT0gbnVsbCB8fCB1cmwuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJJbnB1dCBFcnJvcjogTmFtZSwgTWV0aG9kLCBhbmQgVVJMIGFyZSByZXF1aXJlZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGlzTmFtZUVudkR1cGxpY2F0ZShuYW1lLCBlbnZJZCwgbnVsbCkpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVuZHBvaW50IG5hbWUgKyBlbnZpcm9ubWVudCBhbHJlYWR5IGV4aXN0cyEiLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgRW5kcG9pbnQgZSA9IG5ldyBFbmRwb2ludChuYW1lLCBtZXRob2QsIHVybCwgZW52SWQsIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGVuZHBvaW50U2VydmljZS5hZGRFbmRwb2ludChlKTsKICAgICAgICAgICAgbG9hZEVuZHBvaW50cygpOwogICAgICAgICAgICBjbGVhckZpZWxkcygpOwogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRW5kcG9pbnQgYWRkZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZXgpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBhZGQgZW5kcG9pbnQ6ICIgKyBleC5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVVcGRhdGVFbmRwb2ludCgpIHsKICAgICAgICBFbmRwb2ludEl0ZW0gc2VsZWN0ZWQgPSBlbmRwb2ludFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgaWYgKHNlbGVjdGVkID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlNlbGVjdGlvbiBFcnJvcjogUGxlYXNlIHNlbGVjdCBhbiBlbmRwb2ludCB0byB1cGRhdGUuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIFN0cmluZyBuYW1lID0gZW5kcG9pbnROYW1lRmllbGQuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBTdHJpbmcgbWV0aG9kID0gbWV0aG9kQ29tYm9Cb3guZ2V0VmFsdWUoKTsKICAgICAgICBTdHJpbmcgdXJsID0gdXJsRmllbGQuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBFbnZpcm9ubWVudCBlbnYgPSBlbnZpcm9ubWVudENvbWJvQm94LmdldFZhbHVlKCk7CiAgICAgICAgSW50ZWdlciBlbnZJZCA9IGVudiAhPSBudWxsID8gZW52LmdldElkKCkgOiBudWxsOwogICAgICAgIGlmIChuYW1lLmlzRW1wdHkoKSB8fCBtZXRob2QgPT0gbnVsbCB8fCB1cmwuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJJbnB1dCBFcnJvcjogTmFtZSwgTWV0aG9kLCBhbmQgVVJMIGFyZSByZXF1aXJlZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGlzTmFtZUVudkR1cGxpY2F0ZShuYW1lLCBlbnZJZCwgc2VsZWN0ZWQuZ2V0SWQoKSkpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVuZHBvaW50IG5hbWUgKyBlbnZpcm9ubWVudCBhbHJlYWR5IGV4aXN0cyEiLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgRW5kcG9pbnQgZSA9IG5ldyBFbmRwb2ludChzZWxlY3RlZC5nZXRJZCgpLCBuYW1lLCBtZXRob2QsIHVybCwgZW52SWQsIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGVuZHBvaW50U2VydmljZS51cGRhdGVFbmRwb2ludChlKTsKICAgICAgICAgICAgbG9hZEVuZHBvaW50cygpOwogICAgICAgICAgICBmb3IgKEVuZHBvaW50SXRlbSBpdGVtIDogZW5kcG9pbnRMaXN0KSB7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5nZXRJZCgpID09IGUuZ2V0SWQoKSkgewogICAgICAgICAgICAgICAgICAgIGVuZHBvaW50VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2xlYXJGaWVsZHMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVuZHBvaW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZXgpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byB1cGRhdGUgZW5kcG9pbnQ6ICIgKyBleC5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEZWxldGVFbmRwb2ludCgpIHsKICAgICAgICBFbmRwb2ludEl0ZW0gc2VsZWN0ZWQgPSBlbmRwb2ludFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgaWYgKHNlbGVjdGVkICE9IG51bGwpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGVuZHBvaW50U2VydmljZS5kZWxldGVFbmRwb2ludChzZWxlY3RlZC5nZXRJZCgpKTsKICAgICAgICAgICAgICAgIGxvYWRFbmRwb2ludHMoKTsKICAgICAgICAgICAgICAgIGNsZWFyRmllbGRzKCk7CiAgICAgICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVuZHBvaW50IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gZGVsZXRlIGVuZHBvaW50OiAiICsgZXguZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlNlbGVjdGlvbiBFcnJvcjogUGxlYXNlIHNlbGVjdCBhbiBlbmRwb2ludCB0byBkZWxldGUuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNsZWFyRW5kcG9pbnRGb3JtKCkgewogICAgICAgIGNsZWFyRmllbGRzKCk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGNsZWFyRmllbGRzKCkgewogICAgICAgIGVuZHBvaW50TmFtZUZpZWxkLmNsZWFyKCk7CiAgICAgICAgbWV0aG9kQ29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgIG1ldGhvZENvbWJvQm94LnNldFZhbHVlKG51bGwpOwogICAgICAgIHVybEZpZWxkLmNsZWFyKCk7CiAgICAgICAgZW52aXJvbm1lbnRDb21ib0JveC5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgZW52aXJvbm1lbnRDb21ib0JveC5zZXRWYWx1ZShudWxsKTsKICAgICAgICBlbmRwb2ludFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYWluVmlld01vZGVsKE1haW5WaWV3TW9kZWwgbWFpblZpZXdNb2RlbCkgewogICAgICAgIHRoaXMubWFpblZpZXdNb2RlbCA9IG1haW5WaWV3TW9kZWw7CiAgICB9CgogICAgLy8g5YaF6YOo57G755So5LqO6KGo5qC86aG5CiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEVuZHBvaW50SXRlbSB7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBpbnQgaWQ7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkgbmFtZTsKICAgICAgICBwcml2YXRlIGZpbmFsIGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eSBtZXRob2Q7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkgdXJsOwogICAgICAgIHByaXZhdGUgZmluYWwgSW50ZWdlciBlbnZpcm9ubWVudElkOwogICAgICAgIHB1YmxpYyBFbmRwb2ludEl0ZW0oaW50IGlkLCBTdHJpbmcgbmFtZSwgU3RyaW5nIG1ldGhvZCwgU3RyaW5nIHVybCwgSW50ZWdlciBlbnZpcm9ubWVudElkKSB7CiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgICAgICAgdGhpcy5uYW1lID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShuYW1lKTsKICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KG1ldGhvZCk7CiAgICAgICAgICAgIHRoaXMudXJsID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eSh1cmwpOwogICAgICAgICAgICB0aGlzLmVudmlyb25tZW50SWQgPSBlbnZpcm9ubWVudElkOwogICAgICAgIH0KICAgICAgICBwdWJsaWMgaW50IGdldElkKCkgeyByZXR1cm4gaWQ7IH0KICAgICAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7IHJldHVybiBuYW1lLmdldCgpOyB9CiAgICAgICAgcHVibGljIHZvaWQgc2V0TmFtZShTdHJpbmcgbikgeyBuYW1lLnNldChuKTsgfQogICAgICAgIHB1YmxpYyBqYXZhZnguYmVhbnMucHJvcGVydHkuU3RyaW5nUHJvcGVydHkgbmFtZVByb3BlcnR5KCkgeyByZXR1cm4gbmFtZTsgfQogICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0TWV0aG9kKCkgeyByZXR1cm4gbWV0aG9kLmdldCgpOyB9CiAgICAgICAgcHVibGljIHZvaWQgc2V0TWV0aG9kKFN0cmluZyBtKSB7IG1ldGhvZC5zZXQobSk7IH0KICAgICAgICBwdWJsaWMgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlN0cmluZ1Byb3BlcnR5IG1ldGhvZFByb3BlcnR5KCkgeyByZXR1cm4gbWV0aG9kOyB9CiAgICAgICAgcHVibGljIFN0cmluZyBnZXRVcmwoKSB7IHJldHVybiB1cmwuZ2V0KCk7IH0KICAgICAgICBwdWJsaWMgdm9pZCBzZXRVcmwoU3RyaW5nIHUpIHsgdXJsLnNldCh1KTsgfQogICAgICAgIHB1YmxpYyBqYXZhZnguYmVhbnMucHJvcGVydHkuU3RyaW5nUHJvcGVydHkgdXJsUHJvcGVydHkoKSB7IHJldHVybiB1cmw7IH0KICAgICAgICBwdWJsaWMgSW50ZWdlciBnZXRFbnZpcm9ubWVudElkKCkgeyByZXR1cm4gZW52aXJvbm1lbnRJZDsgfQogICAgfQp9IA==
END
PATH:src/main/java/com/qa/app/ui/vm/EnvironmentViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuRW52aXJvbm1lbnQ7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLkVudmlyb25tZW50U2VydmljZUltcGw7CmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOwppbXBvcnQgY29tLnFhLmFwcC5jb21tb24ubGlzdGVuZXJzLkFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyOwppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7CmltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7CmltcG9ydCBqYXZhZnguZnhtbC5GWE1MOwppbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTsKaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJsZVZpZXc7CmltcG9ydCBqYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuUHJvamVjdENvbnRleHQ7CgpwdWJsaWMgY2xhc3MgRW52aXJvbm1lbnRWaWV3TW9kZWwgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlLCBBcHBDb25maWdDaGFuZ2VMaXN0ZW5lciB7CiAgICBARlhNTCBwcml2YXRlIFRleHRGaWVsZCBlbnZpcm9ubWVudE5hbWVGaWVsZDsKICAgIEBGWE1MIHByaXZhdGUgVGV4dEFyZWEgZW52aXJvbm1lbnREZXNjcmlwdGlvbkFyZWE7CiAgICBARlhNTCBwcml2YXRlIEJ1dHRvbiBhZGRCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gZHVwbGljYXRlQnV0dG9uOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gdXBkYXRlQnV0dG9uOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gZGVsZXRlQnV0dG9uOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gY2xlYXJCdXR0b247CiAgICBARlhNTCBwcml2YXRlIFRhYmxlVmlldzxFbnZpcm9ubWVudD4gZW52aXJvbm1lbnRUYWJsZTsKICAgIEBGWE1MIHByaXZhdGUgVGFibGVDb2x1bW48RW52aXJvbm1lbnQsIFN0cmluZz4gZW52aXJvbm1lbnROYW1lQ29sdW1uOwogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxFbnZpcm9ubWVudCwgU3RyaW5nPiBlbnZpcm9ubWVudERlc2NyaXB0aW9uQ29sdW1uOwoKICAgIHByaXZhdGUgZmluYWwgRW52aXJvbm1lbnRTZXJ2aWNlSW1wbCBlbnZpcm9ubWVudFNlcnZpY2UgPSBuZXcgRW52aXJvbm1lbnRTZXJ2aWNlSW1wbCgpOwogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxFbnZpcm9ubWVudD4gZW52aXJvbm1lbnRMaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7CiAgICBwcml2YXRlIEVudmlyb25tZW50IHNlbGVjdGVkRW52aXJvbm1lbnQgPSBudWxsOwogICAgcHJpdmF0ZSBNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWw7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7CiAgICAgICAgaW5pdGlhbGl6ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoKSB7CiAgICAgICAgZW52aXJvbm1lbnROYW1lQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gY2VsbERhdGEuZ2V0VmFsdWUoKS5uYW1lUHJvcGVydHkoKSk7CiAgICAgICAgZW52aXJvbm1lbnREZXNjcmlwdGlvbkNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IGNlbGxEYXRhLmdldFZhbHVlKCkuZGVzY3JpcHRpb25Qcm9wZXJ0eSgpKTsKICAgICAgICBlbnZpcm9ubWVudFRhYmxlLnNldEl0ZW1zKGVudmlyb25tZW50TGlzdCk7CiAgICAgICAgZW52aXJvbm1lbnRUYWJsZS5zZXRDb2x1bW5SZXNpemVQb2xpY3koVGFibGVWaWV3LkNPTlNUUkFJTkVEX1JFU0laRV9QT0xJQ1lfQUxMX0NPTFVNTlMpOwogICAgICAgIGxvYWRFbnZpcm9ubWVudHMoKTsKICAgICAgICBlbnZpcm9ubWVudFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRTZWwsIG5ld1NlbCkgLT4gb25UYWJsZVNlbGVjdGlvbkNoYW5nZWQobmV3U2VsKSk7CiAgICAgICAgQXBwQ29uZmlnLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgb25Db25maWdDaGFuZ2VkKCkgewogICAgICAgIGxvYWRFbnZpcm9ubWVudHMoKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgbG9hZEVudmlyb25tZW50cygpIHsKICAgICAgICBlbnZpcm9ubWVudExpc3QuY2xlYXIoKTsKICAgICAgICBJbnRlZ2VyIHByb2plY3RJZCA9IFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKTsKICAgICAgICBpZiAocHJvamVjdElkID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0IGZpcnN0LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5JTkZPKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVudmlyb25tZW50TGlzdC5hZGRBbGwoZW52aXJvbm1lbnRTZXJ2aWNlLmZpbmRFbnZpcm9ubWVudHNCeVByb2plY3RJZChwcm9qZWN0SWQpKTsKICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBsb2FkIGVudmlyb25tZW50czogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZW52aXJvbm1lbnRMaXN0LmlzRW1wdHkoKSkgewogICAgICAgICAgICBlbnZpcm9ubWVudFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0Rmlyc3QoKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIG9uVGFibGVTZWxlY3Rpb25DaGFuZ2VkKEVudmlyb25tZW50IGVudmlyb25tZW50KSB7CiAgICAgICAgc2VsZWN0ZWRFbnZpcm9ubWVudCA9IGVudmlyb25tZW50OwogICAgICAgIGlmIChlbnZpcm9ubWVudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGVudmlyb25tZW50TmFtZUZpZWxkLnNldFRleHQoZW52aXJvbm1lbnQuZ2V0TmFtZSgpKTsKICAgICAgICAgICAgZW52aXJvbm1lbnREZXNjcmlwdGlvbkFyZWEuc2V0VGV4dChlbnZpcm9ubWVudC5nZXREZXNjcmlwdGlvbigpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbGVhckZvcm0oKTsKICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEdXBsaWNhdGVFbnZpcm9ubWVudChBY3Rpb25FdmVudCBldmVudCkgewogICAgICAgIGlmIChzZWxlY3RlZEVudmlyb25tZW50ID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlBsZWFzZSBzZWxlY3QgYW4gZW52aXJvbm1lbnQgdG8gZHVwbGljYXRlLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBTdHJpbmcgbmV3TmFtZSA9IHNlbGVjdGVkRW52aXJvbm1lbnQuZ2V0TmFtZSgpICsgIiAoY29weSkiOwogICAgICAgIC8vIFdlIHNob3VsZCBhZGQgYSBjaGVjayBmb3IgbmFtZSB1bmlxdWVuZXNzIGlmIHJlcXVpcmVkLgoKICAgICAgICB0cnkgewogICAgICAgICAgICBFbnZpcm9ubWVudCBuZXdFbnZpcm9ubWVudCA9IG5ldyBFbnZpcm9ubWVudChuZXdOYW1lLCBzZWxlY3RlZEVudmlyb25tZW50LmdldERlc2NyaXB0aW9uKCksIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGVudmlyb25tZW50U2VydmljZS5jcmVhdGVFbnZpcm9ubWVudChuZXdFbnZpcm9ubWVudCk7CiAgICAgICAgICAgIGxvYWRFbnZpcm9ubWVudHMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVudmlyb25tZW50IGR1cGxpY2F0ZWQgYW5kIGFkZGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBkdXBsaWNhdGUgZW52aXJvbm1lbnQ6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZEVudmlyb25tZW50KEFjdGlvbkV2ZW50IGV2ZW50KSB7CiAgICAgICAgU3RyaW5nIG5hbWUgPSBlbnZpcm9ubWVudE5hbWVGaWVsZC5nZXRUZXh0KCkudHJpbSgpOwogICAgICAgIFN0cmluZyBkZXNjcmlwdGlvbiA9IGVudmlyb25tZW50RGVzY3JpcHRpb25BcmVhLmdldFRleHQoKS50cmltKCk7CiAgICAgICAgaWYgKG5hbWUuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJJbnB1dCBFcnJvcjogTmFtZSBpcyByZXF1aXJlZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgRW52aXJvbm1lbnQgZW52aXJvbm1lbnQgPSBuZXcgRW52aXJvbm1lbnQobmFtZSwgZGVzY3JpcHRpb24sIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZW52aXJvbm1lbnRTZXJ2aWNlLmNyZWF0ZUVudmlyb25tZW50KGVudmlyb25tZW50KTsKICAgICAgICAgICAgbG9hZEVudmlyb25tZW50cygpOwogICAgICAgICAgICBjbGVhckZvcm0oKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVudmlyb25tZW50IGFkZGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBhZGQgZW52aXJvbm1lbnQ6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVVwZGF0ZUVudmlyb25tZW50KEFjdGlvbkV2ZW50IGV2ZW50KSB7CiAgICAgICAgaWYgKHNlbGVjdGVkRW52aXJvbm1lbnQgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiU2VsZWN0aW9uIEVycm9yOiBQbGVhc2Ugc2VsZWN0IGFuIGVudmlyb25tZW50IHRvIHVwZGF0ZS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgc2VsZWN0ZWRFbnZpcm9ubWVudC5zZXROYW1lKGVudmlyb25tZW50TmFtZUZpZWxkLmdldFRleHQoKS50cmltKCkpOwogICAgICAgIHNlbGVjdGVkRW52aXJvbm1lbnQuc2V0RGVzY3JpcHRpb24oZW52aXJvbm1lbnREZXNjcmlwdGlvbkFyZWEuZ2V0VGV4dCgpLnRyaW0oKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZW52aXJvbm1lbnRTZXJ2aWNlLnVwZGF0ZUVudmlyb25tZW50KHNlbGVjdGVkRW52aXJvbm1lbnQpOwogICAgICAgICAgICBsb2FkRW52aXJvbm1lbnRzKCk7CiAgICAgICAgICAgIGNsZWFyRm9ybSgpOwogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRW52aXJvbm1lbnQgdXBkYXRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gdXBkYXRlIGVudmlyb25tZW50OiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEZWxldGVFbnZpcm9ubWVudChBY3Rpb25FdmVudCBldmVudCkgewogICAgICAgIGlmIChzZWxlY3RlZEVudmlyb25tZW50ID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlNlbGVjdGlvbiBFcnJvcjogUGxlYXNlIHNlbGVjdCBhbiBlbnZpcm9ubWVudCB0byBkZWxldGUuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVudmlyb25tZW50U2VydmljZS5kZWxldGVFbnZpcm9ubWVudChzZWxlY3RlZEVudmlyb25tZW50LmdldElkKCkpOwogICAgICAgICAgICBsb2FkRW52aXJvbm1lbnRzKCk7CiAgICAgICAgICAgIGNsZWFyRm9ybSgpOwogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRW52aXJvbm1lbnQgZGVsZXRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gZGVsZXRlIGVudmlyb25tZW50OiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDbGVhckVudmlyb25tZW50Rm9ybShBY3Rpb25FdmVudCBldmVudCkgewogICAgICAgIGNsZWFyRm9ybSgpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjbGVhckZvcm0oKSB7CiAgICAgICAgZW52aXJvbm1lbnROYW1lRmllbGQuY2xlYXIoKTsKICAgICAgICBlbnZpcm9ubWVudERlc2NyaXB0aW9uQXJlYS5jbGVhcigpOwogICAgICAgIGVudmlyb25tZW50VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgIHNlbGVjdGVkRW52aXJvbm1lbnQgPSBudWxsOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1haW5WaWV3TW9kZWwoTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsKSB7CiAgICAgICAgdGhpcy5tYWluVmlld01vZGVsID0gbWFpblZpZXdNb2RlbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZWZyZXNoKCkgewogICAgICAgIGxvYWRFbnZpcm9ubWVudHMoKTsKICAgIH0KfSA=
END
PATH:src/main/java/com/qa/app/ui/vm/gatling/TagHandler.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtLmdhdGxpbmc7DQoNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuRlhDb2xsZWN0aW9uczsNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGV4dEZpZWxkOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuRmxvd1BhbmU7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5IQm94Ow0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkxhYmVsOw0KDQpwdWJsaWMgY2xhc3MgVGFnSGFuZGxlciB7DQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IHRhZ3MgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCiAgICBwcml2YXRlIGZpbmFsIEZsb3dQYW5lIHRhZ3NGbG93UGFuZTsNCiAgICBwcml2YXRlIGZpbmFsIFRleHRGaWVsZCB0YWdzSW5wdXRGaWVsZDsNCg0KICAgIHB1YmxpYyBUYWdIYW5kbGVyKEZsb3dQYW5lIHRhZ3NGbG93UGFuZSwgVGV4dEZpZWxkIHRhZ3NJbnB1dEZpZWxkKSB7DQogICAgICAgIHRoaXMudGFnc0Zsb3dQYW5lID0gdGFnc0Zsb3dQYW5lOw0KICAgICAgICB0aGlzLnRhZ3NJbnB1dEZpZWxkID0gdGFnc0lucHV0RmllbGQ7DQogICAgICAgIHVwZGF0ZVRhZ3NGbG93UGFuZSgpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGdldFRhZ3MoKSB7DQogICAgICAgIHJldHVybiB0YWdzOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIGFkZFRhZyhTdHJpbmcgdGFnKSB7DQogICAgICAgIGlmICh0YWcgIT0gbnVsbCAmJiAhdGFnLnRyaW0oKS5pc0VtcHR5KCkgJiYgIXRhZ3MuY29udGFpbnModGFnLnRyaW0oKSkpIHsNCiAgICAgICAgICAgIHRhZ3MuYWRkKHRhZy50cmltKCkpOw0KICAgICAgICAgICAgdXBkYXRlVGFnc0Zsb3dQYW5lKCk7DQogICAgICAgICAgICB0YWdzSW5wdXRGaWVsZC5jbGVhcigpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgcmVtb3ZlVGFnKFN0cmluZyB0YWcpIHsNCiAgICAgICAgdGFncy5yZW1vdmUodGFnKTsNCiAgICAgICAgdXBkYXRlVGFnc0Zsb3dQYW5lKCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGFkZFRhZ0NoaXAoU3RyaW5nIHRhZykgew0KICAgICAgICBIQm94IGNoaXAgPSBuZXcgSEJveCgpOw0KICAgICAgICBjaGlwLnNldFN0eWxlKCItZngtYmFja2dyb3VuZC1jb2xvcjogI2UwZTBlMDsgLWZ4LXBhZGRpbmc6IDQgODsgLWZ4LWJvcmRlci1yYWRpdXM6IDQ7IC1meC1iYWNrZ3JvdW5kLXJhZGl1czogNDsgLWZ4LWFsaWdubWVudDogY2VudGVyOyIpOw0KICAgICAgICBMYWJlbCBsYWJlbCA9IG5ldyBMYWJlbCh0YWcpOw0KICAgICAgICBsYWJlbC5zZXRTdHlsZSgiLWZ4LWZvbnQtc2l6ZTogMTJweDsiKTsNCiAgICAgICAgTGFiZWwgY2xvc2UgPSBuZXcgTGFiZWwoIiAgw5ciKTsNCiAgICAgICAgY2xvc2Uuc2V0U3R5bGUoIi1meC10ZXh0LWZpbGw6ICM4ODg7IC1meC1jdXJzb3I6IGhhbmQ7IC1meC1mb250LXNpemU6IDE0cHg7Iik7DQogICAgICAgIGNsb3NlLnNldE9uTW91c2VDbGlja2VkKGUgLT4gcmVtb3ZlVGFnKHRhZykpOw0KICAgICAgICBjaGlwLmdldENoaWxkcmVuKCkuYWRkQWxsKGxhYmVsLCBjbG9zZSk7DQogICAgICAgIHRhZ3NGbG93UGFuZS5nZXRDaGlsZHJlbigpLmFkZChjaGlwKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB1cGRhdGVUYWdzRmxvd1BhbmUoKSB7DQogICAgICAgIHRhZ3NGbG93UGFuZS5nZXRDaGlsZHJlbigpLmNsZWFyKCk7DQogICAgICAgIGZvciAoU3RyaW5nIHRhZyA6IHRhZ3MpIHsNCiAgICAgICAgICAgIGFkZFRhZ0NoaXAodGFnKTsNCiAgICAgICAgfQ0KICAgICAgICB0YWdzRmxvd1BhbmUuZ2V0Q2hpbGRyZW4oKS5hZGQodGFnc0lucHV0RmllbGQpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGFnc1N0cmluZygpIHsNCiAgICAgICAgcmV0dXJuIFN0cmluZy5qb2luKCIsIiwgdGFncyk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0VGFnc0Zyb21TdHJpbmcoU3RyaW5nIHRhZ3NTdHJpbmcpIHsNCiAgICAgICAgdGFncy5jbGVhcigpOw0KICAgICAgICBpZiAodGFnc1N0cmluZyAhPSBudWxsICYmICF0YWdzU3RyaW5nLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgZm9yIChTdHJpbmcgdGFnIDogdGFnc1N0cmluZy5zcGxpdCgiLCIpKSB7DQogICAgICAgICAgICAgICAgaWYgKCF0YWcudHJpbSgpLmlzRW1wdHkoKSkgdGFncy5hZGQodGFnLnRyaW0oKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdXBkYXRlVGFnc0Zsb3dQYW5lKCk7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/ui/vm/gatling/TemplateHandler.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtLmdhdGxpbmc7DQoNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlByb3BlcnR5VmFsdWVGYWN0b3J5Ow0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuRHluYW1pY1ZhcmlhYmxlOw0KaW1wb3J0IGphdmEudXRpbC5NYXA7DQppbXBvcnQgamF2YS51dGlsLnJlZ2V4Lk1hdGNoZXI7DQppbXBvcnQgamF2YS51dGlsLnJlZ2V4LlBhdHRlcm47DQppbXBvcnQgZnJlZW1hcmtlci50ZW1wbGF0ZS5Db25maWd1cmF0aW9uOw0KaW1wb3J0IGZyZWVtYXJrZXIudGVtcGxhdGUuVGVtcGxhdGU7DQppbXBvcnQgZnJlZW1hcmtlci50ZW1wbGF0ZS5UZW1wbGF0ZUV4Y2VwdGlvbjsNCmltcG9ydCBmcmVlbWFya2VyLnRlbXBsYXRlLlZlcnNpb247DQppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLmlvLlN0cmluZ1dyaXRlcjsNCmltcG9ydCBmcmVlbWFya2VyLmNvcmUuSlNPTk91dHB1dEZvcm1hdDsNCmltcG9ydCBqYXZhLnV0aWwuU2V0Ow0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5zY3JpcHQuVmFyaWFibGVHZW5lcmF0b3I7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5Db21ib0JveFRhYmxlQ2VsbDsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UucnVubmVyLlJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3NvcjsNCmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlOw0KaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7DQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmNvcmUuSnNvblByb2Nlc3NpbmdFeGNlcHRpb247DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uQmFyOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydDsNCmltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCg0KcHVibGljIGNsYXNzIFRlbXBsYXRlSGFuZGxlciB7DQogICAgcHJpdmF0ZSBmaW5hbCBDb21ib0JveDxTdHJpbmc+IHRlbXBsYXRlQ29tYm9Cb3g7DQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxEeW5hbWljVmFyaWFibGU+IHZhcmlhYmxlczsNCiAgICBwcml2YXRlIGZpbmFsIE1hcDxTdHJpbmcsIFN0cmluZz4gdGVtcGxhdGVzOw0KICAgIHByaXZhdGUgZmluYWwgTWFwPEludGVnZXIsIFN0cmluZz4gdGVtcGxhdGVJZE5hbWVNYXA7DQogICAgcHJpdmF0ZSBmaW5hbCBUYWJsZVZpZXc8RHluYW1pY1ZhcmlhYmxlPiB2YXJzVGFibGU7DQogICAgcHJpdmF0ZSBmaW5hbCBUYWJsZUNvbHVtbjxEeW5hbWljVmFyaWFibGUsIFN0cmluZz4ga2V5Q29sdW1uOw0KICAgIHByaXZhdGUgZmluYWwgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBTdHJpbmc+IHZhbHVlQ29sdW1uOw0KICAgIHByaXZhdGUgZmluYWwgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBWb2lkPiBhY3Rpb25Db2x1bW47DQogICAgcHJpdmF0ZSBmaW5hbCBUZXh0QXJlYSBnZW5lcmF0ZWRBcmVhOw0KICAgIHByaXZhdGUgZmluYWwgQ29uZmlndXJhdGlvbiBmcmVlbWFya2VyQ2ZnID0gbmV3IENvbmZpZ3VyYXRpb24obmV3IFZlcnNpb24oIjIuMy4zMiIpKTsNCiAgICBwcml2YXRlIGZpbmFsIE9iamVjdE1hcHBlciBtYXBwZXIgPSBuZXcgT2JqZWN0TWFwcGVyKCk7DQoNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBDb25maWd1cmF0aW9uIHN0YXRpY0ZyZWVtYXJrZXJDZmc7DQoNCiAgICBzdGF0aWMgew0KICAgICAgICBzdGF0aWNGcmVlbWFya2VyQ2ZnID0gbmV3IENvbmZpZ3VyYXRpb24obmV3IFZlcnNpb24oIjIuMy4zMiIpKTsNCiAgICAgICAgc3RhdGljRnJlZW1hcmtlckNmZy5zZXREZWZhdWx0RW5jb2RpbmcoIlVURi04Iik7DQogICAgICAgIHN0YXRpY0ZyZWVtYXJrZXJDZmcuc2V0VGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyKGZyZWVtYXJrZXIudGVtcGxhdGUuVGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyLlJFVEhST1dfSEFORExFUik7DQogICAgICAgIHN0YXRpY0ZyZWVtYXJrZXJDZmcuc2V0VGFnU3ludGF4KENvbmZpZ3VyYXRpb24uU1FVQVJFX0JSQUNLRVRfVEFHX1NZTlRBWCk7DQogICAgICAgIHN0YXRpY0ZyZWVtYXJrZXJDZmcuc2V0SW50ZXJwb2xhdGlvblN5bnRheChDb25maWd1cmF0aW9uLlNRVUFSRV9CUkFDS0VUX0lOVEVSUE9MQVRJT05fU1lOVEFYKTsNCiAgICAgICAgc3RhdGljRnJlZW1hcmtlckNmZy5zZXRDbGFzc2ljQ29tcGF0aWJsZSh0cnVlKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgVGVtcGxhdGVIYW5kbGVyKA0KICAgICAgICBDb21ib0JveDxTdHJpbmc+IHRlbXBsYXRlQ29tYm9Cb3gsDQogICAgICAgIE9ic2VydmFibGVMaXN0PER5bmFtaWNWYXJpYWJsZT4gdmFyaWFibGVzLA0KICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHRlbXBsYXRlcywNCiAgICAgICAgTWFwPEludGVnZXIsIFN0cmluZz4gdGVtcGxhdGVJZE5hbWVNYXAsDQogICAgICAgIFRhYmxlVmlldzxEeW5hbWljVmFyaWFibGU+IHZhcnNUYWJsZSwNCiAgICAgICAgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBTdHJpbmc+IGtleUNvbHVtbiwNCiAgICAgICAgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBTdHJpbmc+IHZhbHVlQ29sdW1uLA0KICAgICAgICBUYWJsZUNvbHVtbjxEeW5hbWljVmFyaWFibGUsIFZvaWQ+IGFjdGlvbkNvbHVtbiwNCiAgICAgICAgVGV4dEFyZWEgZ2VuZXJhdGVkQXJlYQ0KICAgICkgew0KICAgICAgICB0aGlzLnRlbXBsYXRlQ29tYm9Cb3ggPSB0ZW1wbGF0ZUNvbWJvQm94Ow0KICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHZhcmlhYmxlczsNCiAgICAgICAgdGhpcy50ZW1wbGF0ZXMgPSB0ZW1wbGF0ZXM7DQogICAgICAgIHRoaXMudGVtcGxhdGVJZE5hbWVNYXAgPSB0ZW1wbGF0ZUlkTmFtZU1hcDsNCiAgICAgICAgdGhpcy52YXJzVGFibGUgPSB2YXJzVGFibGU7DQogICAgICAgIHRoaXMua2V5Q29sdW1uID0ga2V5Q29sdW1uOw0KICAgICAgICB0aGlzLnZhbHVlQ29sdW1uID0gdmFsdWVDb2x1bW47DQogICAgICAgIHRoaXMuYWN0aW9uQ29sdW1uID0gYWN0aW9uQ29sdW1uOw0KICAgICAgICB0aGlzLmdlbmVyYXRlZEFyZWEgPSBnZW5lcmF0ZWRBcmVhOw0KICAgICAgICAvLyBGcmVlTWFya2VyIGNvbmZpZ3VyYXRpb24NCiAgICAgICAgZnJlZW1hcmtlckNmZy5zZXREZWZhdWx0RW5jb2RpbmcoIlVURi04Iik7DQogICAgICAgIGZyZWVtYXJrZXJDZmcuc2V0VGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyKGZyZWVtYXJrZXIudGVtcGxhdGUuVGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyLlJFVEhST1dfSEFORExFUik7DQogICAgICAgIGZyZWVtYXJrZXJDZmcuc2V0T3V0cHV0Rm9ybWF0KEpTT05PdXRwdXRGb3JtYXQuSU5TVEFOQ0UpOw0KICAgICAgICAvLyBDaGFuZ2UgdGhlIHN5bnRheCB0byBzcXVhcmUgYnJhY2tldHMgdG8gYXZvaWQgY29uZmxpY3RzIHdpdGggSlNPTiBzeW50YXgNCiAgICAgICAgZnJlZW1hcmtlckNmZy5zZXRUYWdTeW50YXgoQ29uZmlndXJhdGlvbi5TUVVBUkVfQlJBQ0tFVF9UQUdfU1lOVEFYKTsNCiAgICAgICAgZnJlZW1hcmtlckNmZy5zZXRJbnRlcnBvbGF0aW9uU3ludGF4KENvbmZpZ3VyYXRpb24uU1FVQVJFX0JSQUNLRVRfSU5URVJQT0xBVElPTl9TWU5UQVgpOw0KICAgICAgICAvLyBDb21wYXRpYmxlIG1vZGU6IHRyZWF0IG1pc3Npbmcgb3IgbnVsbCB2YXJpYWJsZXMgYXMgZW1wdHkgc3RyaW5ncyBpbnN0ZWFkIG9mIHRocm93aW5nIGVycm9ycw0KICAgICAgICBmcmVlbWFya2VyQ2ZnLnNldENsYXNzaWNDb21wYXRpYmxlKHRydWUpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldHVwKCkgew0KICAgICAgICBrZXlDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8Pigia2V5IikpOw0KICAgICAgICB2YWx1ZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KCJ2YWx1ZSIpKTsNCiAgICAgICAgdmFyc1RhYmxlLnNldEl0ZW1zKHZhcmlhYmxlcyk7DQogICAgICAgIHZhcnNUYWJsZS5zZXRFZGl0YWJsZSh0cnVlKTsNCiAgICAgICAgLy8gQ3VzdG9tIGNlbGwgZmFjdG9yeToga2VlcCBjb21ib2JveCBzdWdnZXN0aW9ucyAmIHN1cHBvcnQgbGFyZ2UgdGV4dCBlZGl0aW5nIHZpYSBkb3VibGUtY2xpY2sNCiAgICAgICAgdmFsdWVDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IHsNCiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBzdWdnZXN0aW9ucyA9IFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkuZ2V0VmFyaWFibGVEZWZpbml0aW9ucygpLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgLm1hcChkZWYgLT4gZGVmLmdldCgiZm9ybWF0IikpDQogICAgICAgICAgICAgICAgLmNvbGxlY3QoamF2YS51dGlsLnN0cmVhbS5Db2xsZWN0b3JzLnRvTGlzdCgpKTsNCiAgICAgICAgICAgIENvbWJvQm94VGFibGVDZWxsPER5bmFtaWNWYXJpYWJsZSwgU3RyaW5nPiBjZWxsID0gbmV3IENvbWJvQm94VGFibGVDZWxsPD4oDQogICAgICAgICAgICAgICAgICAgIG5ldyBqYXZhZngudXRpbC5jb252ZXJ0ZXIuRGVmYXVsdFN0cmluZ0NvbnZlcnRlcigpLA0KICAgICAgICAgICAgICAgICAgICBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3Qoc3VnZ2VzdGlvbnMpKTsNCiAgICAgICAgICAgIGNlbGwuc2V0Q29tYm9Cb3hFZGl0YWJsZSh0cnVlKTsNCg0KICAgICAgICAgICAgLy8gUmV0dXJuIGNvbmZpZ3VyZWQgY2VsbA0KICAgICAgICAgICAgcmV0dXJuIGNlbGw7DQogICAgICAgIH0pOw0KICAgICAgICB2YWx1ZUNvbHVtbi5zZXRPbkVkaXRDb21taXQoZXZlbnQgLT4gew0KICAgICAgICAgICAgRHluYW1pY1ZhcmlhYmxlIGVkaXRlZFZhciA9IGV2ZW50LmdldFRhYmxlVmlldygpLmdldEl0ZW1zKCkuZ2V0KGV2ZW50LmdldFRhYmxlUG9zaXRpb24oKS5nZXRSb3coKSk7DQogICAgICAgICAgICBlZGl0ZWRWYXIuc2V0VmFsdWUoZXZlbnQuZ2V0TmV3VmFsdWUoKSk7DQogICAgICAgICAgICB1cGRhdGVHZW5lcmF0ZWQoKTsNCiAgICAgICAgfSk7DQogICAgICAgIHRlbXBsYXRlQ29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RlZEl0ZW1Qcm9wZXJ0eSgpLmFkZExpc3RlbmVyKA0KICAgICAgICAgICAgKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4gew0KICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlRHluYW1pY1ZhcmlhYmxlcyh0ZW1wbGF0ZXMuZ2V0KG5ld1ZhbHVlKSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzLmNsZWFyKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHVwZGF0ZUdlbmVyYXRlZCgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIHZhcmlhYmxlcy5hZGRMaXN0ZW5lcigoamF2YWZ4LmNvbGxlY3Rpb25zLkxpc3RDaGFuZ2VMaXN0ZW5lcjxEeW5hbWljVmFyaWFibGU+KSBjIC0+IHVwZGF0ZUdlbmVyYXRlZCgpKTsNCiAgICAgICAgdGVtcGxhdGVDb21ib0JveC5zZXRCdXR0b25DZWxsKG5ldyBMaXN0Q2VsbDw+KCkgew0KICAgICAgICAgICAgQE92ZXJyaWRlDQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7DQogICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KHRlbXBsYXRlQ29tYm9Cb3guZ2V0UHJvbXB0VGV4dCgpKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gQ29uZmlndXJlIGFjdGlvbiBjb2x1bW4gKGFscmVhZHkgZGVmaW5lZCBpbiBGWE1MKQ0KICAgICAgICBpZiAoYWN0aW9uQ29sdW1uICE9IG51bGwpIHsNCiAgICAgICAgICAgIGFjdGlvbkNvbHVtbi5zZXRTb3J0YWJsZShmYWxzZSk7DQogICAgICAgICAgICBhY3Rpb25Db2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IG5ldyBUYWJsZUNlbGw8PigpIHsNCiAgICAgICAgICAgICAgICBwcml2YXRlIGZpbmFsIEJ1dHRvbiBlZGl0QnRuID0gbmV3IEJ1dHRvbigiRWRpdCIpOw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNwYXJlbnQgYnV0dG9uIHN0eWxlDQogICAgICAgICAgICAgICAgICAgIGVkaXRCdG4uc2V0U3R5bGUoIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgLWZ4LWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7IC1meC1jdXJzb3I6IGhhbmQ7Iik7DQogICAgICAgICAgICAgICAgICAgIGVkaXRCdG4uc2V0TWF4V2lkdGgoRG91YmxlLk1BWF9WQUxVRSk7DQogICAgICAgICAgICAgICAgICAgIGVkaXRCdG4uc2V0T25BY3Rpb24oZXZ0IC0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIER5bmFtaWNWYXJpYWJsZSB2YXIgPSBnZXRUYWJsZVZpZXcoKS5nZXRJdGVtcygpLmdldChnZXRJbmRleCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlZGl0ZWQgPSBzaG93TGFyZ2VUZXh0RWRpdERpYWxvZyh2YXIuZ2V0S2V5KCksIHZhci5nZXRWYWx1ZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0ZWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhci5zZXRWYWx1ZShlZGl0ZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbXBsYXRlSGFuZGxlci50aGlzLnVwZGF0ZUdlbmVyYXRlZCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFZvaWQgaXRlbSwgYm9vbGVhbiBlbXB0eSkgew0KICAgICAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcHR5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRHcmFwaGljKG51bGwpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0R3JhcGhpYyhlZGl0QnRuKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0QW5kRm9ybWF0VmFyaWFibGVzKE1hcDxTdHJpbmcsIFN0cmluZz4gbmV3VmFyaWFibGVzKSB7DQogICAgICAgIExpc3Q8RHluYW1pY1ZhcmlhYmxlPiB0ZW1wVmFycyA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICBpZiAobmV3VmFyaWFibGVzICE9IG51bGwpIHsNCiAgICAgICAgICAgIG5ld1ZhcmlhYmxlcy5mb3JFYWNoKChrZXksIHZhbHVlKSAtPiB0ZW1wVmFycy5hZGQobmV3IER5bmFtaWNWYXJpYWJsZShrZXksIHZhbHVlKSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRm9ybWF0DQogICAgICAgIGZvciAoRHluYW1pY1ZhcmlhYmxlIHZhciA6IHRlbXBWYXJzKSB7DQogICAgICAgICAgICBTdHJpbmcgdmFsdWUgPSB2YXIuZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICF2YWx1ZS5pc0JsYW5rKCkgJiYgKHZhbHVlLnRyaW0oKS5zdGFydHNXaXRoKCJ7IikgfHwgdmFsdWUudHJpbSgpLnN0YXJ0c1dpdGgoIlsiKSkpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBPYmplY3QganNvbk9iamVjdCA9IG1hcHBlci5yZWFkVmFsdWUodmFsdWUsIE9iamVjdC5jbGFzcyk7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBmb3JtYXR0ZWRKc29uID0gbWFwcGVyLndyaXRlcldpdGhEZWZhdWx0UHJldHR5UHJpbnRlcigpLndyaXRlVmFsdWVBc1N0cmluZyhqc29uT2JqZWN0KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyLnNldFZhbHVlKGZvcm1hdHRlZEpzb24pOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBpZiBpdCdzIG5vdCBhIHZhbGlkIEpTT04NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHZhcmlhYmxlcy5zZXRBbGwodGVtcFZhcnMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHBvcHVsYXRlRHluYW1pY1ZhcmlhYmxlcyhTdHJpbmcgdGVtcGxhdGUpIHsNCiAgICAgICAgdmFyaWFibGVzLmNsZWFyKCk7DQogICAgICAgIGlmICh0ZW1wbGF0ZSA9PSBudWxsIHx8IHRlbXBsYXRlLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRmluYWwsIHVzZXItZHJpdmVuIGFwcHJvYWNoOiBPbmx5IGV4dHJhY3QgdmFyaWFibGVzIGV4cGxpY2l0bHkgZGVmaW5lZCB3aXRoIEB7Li4ufQ0KICAgICAgICAvLyBUaGlzIHN5bnRheCBpcyB1bmlxdWUgYW5kIGF2b2lkcyBjb25mbGljdHMgd2l0aCBzeXN0ZW0gcHJvcGVydHkgcGxhY2Vob2xkZXJzIGxpa2UgJHsuLi59Lg0KICAgICAgICBQYXR0ZXJuIHBhdHRlcm4gPSBQYXR0ZXJuLmNvbXBpbGUoIlxcQFxceyhbXn1dKylcXH0iKTsNCiAgICAgICAgTWF0Y2hlciBtYXRjaGVyID0gcGF0dGVybi5tYXRjaGVyKHRlbXBsYXRlKTsNCiAgICAgICAgU2V0PFN0cmluZz4gZm91bmRWYXJzID0gbmV3IGphdmEudXRpbC5MaW5rZWRIYXNoU2V0PD4oKTsNCiAgICAgICAgd2hpbGUgKG1hdGNoZXIuZmluZCgpKSB7DQogICAgICAgICAgICBmb3VuZFZhcnMuYWRkKG1hdGNoZXIuZ3JvdXAoMSkudHJpbSgpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZvciAoU3RyaW5nIHZhck5hbWUgOiBmb3VuZFZhcnMpIHsNCiAgICAgICAgICAgIHZhcmlhYmxlcy5hZGQobmV3IER5bmFtaWNWYXJpYWJsZSh2YXJOYW1lLCAiIikpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBidWlsZENvbnRlbnQoKSB7DQogICAgICAgIFN0cmluZyBzZWxlY3RlZFRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlQ29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkVGVtcGxhdGVOYW1lID09IG51bGwgfHwgIXRlbXBsYXRlcy5jb250YWluc0tleShzZWxlY3RlZFRlbXBsYXRlTmFtZSkpIHsNCiAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQogICAgICAgIFN0cmluZyB0ZW1wbGF0ZVN0ciA9IHRlbXBsYXRlcy5nZXQoc2VsZWN0ZWRUZW1wbGF0ZU5hbWUpOw0KDQogICAgICAgIC8vIEJyaWRnZSBTdGVwOiBDb252ZXJ0IHVzZXIncyBAey4uLn0gc3ludGF4IHRvIEZyZWVNYXJrZXIncyBbPS4uLl0gc3ludGF4DQogICAgICAgIC8vIFRoaXMgYWxsb3dzIHVzZXItZnJpZW5kbHkgdmFyaWFibGUgZGVmaW5pdGlvbiB3aGlsZSByZXRhaW5pbmcgYSBjb25mbGljdC1mcmVlIGVuZ2luZSBzeW50YXguDQogICAgICAgIGlmICh0ZW1wbGF0ZVN0ciAhPSBudWxsKSB7DQogICAgICAgICAgICAgdGVtcGxhdGVTdHIgPSBwcmVwcm9jZXNzRm9yRnJlZU1hcmtlcih0ZW1wbGF0ZVN0cik7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBQcmUtZXhpc3RpbmcgZml4OiBoYW5kbGUgdW5pbnRlbnRpb25hbGx5IGVzY2FwZWQgcXVvdGVzDQogICAgICAgIGlmICh0ZW1wbGF0ZVN0ciAhPSBudWxsKSB7DQogICAgICAgICAgICB0ZW1wbGF0ZVN0ciA9IHRlbXBsYXRlU3RyLnJlcGxhY2UoIlxcXCIiLCAiXCIiKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gQnVpbGQgdGhlIGRhdGEgbW9kZWwNCiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBkYXRhTW9kZWwgPSBuZXcgamF2YS51dGlsLkhhc2hNYXA8PigpOw0KICAgICAgICBmb3IgKER5bmFtaWNWYXJpYWJsZSB2YXIgOiB2YXJpYWJsZXMpIHsNCiAgICAgICAgICAgIFN0cmluZyB2YWx1ZSA9IFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVzb2x2ZVZhcmlhYmxlcyh2YXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAhdmFsdWUuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgZGF0YU1vZGVsLnB1dCh2YXIuZ2V0S2V5KCksIFJ1bnRpbWVUZW1wbGF0ZVByb2Nlc3Nvci5jb252ZXJ0VG9Nb2RlbFZhbHVlKHZhbHVlKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgVGVtcGxhdGUgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoImpzb25UZW1wbGF0ZSIsIHRlbXBsYXRlU3RyLCBmcmVlbWFya2VyQ2ZnKTsNCiAgICAgICAgICAgIFN0cmluZ1dyaXRlciBvdXQgPSBuZXcgU3RyaW5nV3JpdGVyKCk7DQogICAgICAgICAgICB0ZW1wbGF0ZS5wcm9jZXNzKGRhdGFNb2RlbCwgb3V0KTsNCiAgICAgICAgICAgIHJldHVybiBvdXQudG9TdHJpbmcoKTsNCiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gfCBUZW1wbGF0ZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICAgICAgcmV0dXJuICJUZW1wbGF0ZSByZW5kZXJpbmcgZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHVwZGF0ZUdlbmVyYXRlZCgpIHsNCiAgICAgICAgU3RyaW5nIGNvbnRlbnQgPSBidWlsZENvbnRlbnQoKTsNCiAgICAgICAgZ2VuZXJhdGVkQXJlYS5zZXRUZXh0KGNvbnRlbnQgPT0gbnVsbCA/ICIiIDogY29udGVudCk7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRUZW1wbGF0ZUlkQnlOYW1lKFN0cmluZyBuYW1lKSB7DQogICAgICAgIGZvciAoTWFwLkVudHJ5PEludGVnZXIsIFN0cmluZz4gZW50cnkgOiB0ZW1wbGF0ZUlkTmFtZU1hcC5lbnRyeVNldCgpKSB7DQogICAgICAgICAgICBpZiAoZW50cnkuZ2V0VmFsdWUoKS5lcXVhbHMobmFtZSkpIHJldHVybiBlbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBTdHJpbmcgcHJlcHJvY2Vzc0ZvckZyZWVNYXJrZXIoU3RyaW5nIGNvbnRlbnQpIHsNCiAgICAgICAgaWYgKGNvbnRlbnQgPT0gbnVsbCkgcmV0dXJuIG51bGw7DQogICAgICAgIC8vIFRoZSBbQC4uLl0gc3ludGF4IGlzIHVzZWQgZm9yIEZyZWVNYXJrZXIncyBidWlsdC1pbiBmZWF0dXJlcyAoZS5nLiwgbGlzdCBpdGVyYXRpb24pLg0KICAgICAgICAvLyBCeSByZXBsYWNpbmcgdXNlci1kZWZpbmVkIEB7Li4ufSB3aXRoIFs9Li4uXSwgd2UgYXZvaWQgc3ludGF4IGNvbGxpc2lvbnMuDQogICAgICAgIC8vICR7Li4ufSBpcyByZXNlcnZlZCBmb3Igc3lzdGVtL2Vudmlyb25tZW50IHByb3BlcnRpZXMsIHNvIHdlIG1haW50YWluIHRoYXQgc2VwYXJhdGlvbi4NCiAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZUFsbCgiQFxceyhbXn1dKylcXH0iLCAiWz0kMV0iKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBPcGVucyBhIHJlc2l6YWJsZSBkaWFsb2cgd2l0aCBhIFRleHRBcmVhIGZvciBlZGl0aW5nIGxvbmcgLyBKU09OIHZhbHVlcy4NCiAgICAgKiBSZXR1cm5zIHRoZSB1c2VyIGlucHV0IHdoZW4gT0sgaXMgcHJlc3NlZCwgb3IgbnVsbCB3aGVuIGNhbmNlbGxlZC4NCiAgICAgKi8NCiAgICBwcml2YXRlIFN0cmluZyBzaG93TGFyZ2VUZXh0RWRpdERpYWxvZyhTdHJpbmcga2V5LCBTdHJpbmcgaW5pdGlhbFZhbHVlKSB7DQogICAgICAgIERpYWxvZzxTdHJpbmc+IGRpYWxvZyA9IG5ldyBEaWFsb2c8PigpOw0KICAgICAgICBkaWFsb2cuc2V0VGl0bGUoIkVkaXQgVmFsdWUgLSAiICsga2V5KTsNCg0KICAgICAgICBCdXR0b25UeXBlIG9rQnV0dG9uVHlwZSA9IG5ldyBCdXR0b25UeXBlKCJPSyIsIEJ1dHRvbkJhci5CdXR0b25EYXRhLk9LX0RPTkUpOw0KICAgICAgICBCdXR0b25UeXBlIGNhbmNlbEJ1dHRvblR5cGUgPSBuZXcgQnV0dG9uVHlwZSgiQ2FuY2VsIiwgQnV0dG9uQmFyLkJ1dHRvbkRhdGEuQ0FOQ0VMX0NMT1NFKTsNCiAgICAgICAgQnV0dG9uVHlwZSBmb3JtYXRKc29uQnV0dG9uVHlwZSA9IG5ldyBCdXR0b25UeXBlKCJGb3JtYXQgSlNPTiIsIEJ1dHRvbkJhci5CdXR0b25EYXRhLlJJR0hUKTsNCg0KICAgICAgICBkaWFsb2cuZ2V0RGlhbG9nUGFuZSgpLmdldEJ1dHRvblR5cGVzKCkuYWRkQWxsKG9rQnV0dG9uVHlwZSwgY2FuY2VsQnV0dG9uVHlwZSwgZm9ybWF0SnNvbkJ1dHRvblR5cGUpOw0KDQogICAgICAgIFRleHRBcmVhIHRleHRBcmVhID0gbmV3IFRleHRBcmVhKGluaXRpYWxWYWx1ZSk7DQogICAgICAgIHRleHRBcmVhLnNldFdyYXBUZXh0KHRydWUpOw0KICAgICAgICB0ZXh0QXJlYS5zZXRQcmVmU2l6ZSg0MDAsIDMwMCk7DQogICAgICAgIGRpYWxvZy5nZXREaWFsb2dQYW5lKCkuc2V0Q29udGVudCh0ZXh0QXJlYSk7DQogICAgICAgIGRpYWxvZy5zZXRSZXNpemFibGUodHJ1ZSk7DQoNCiAgICAgICAgLy8gQWRkIGFjdGlvbiBmb3IgdGhlIEZvcm1hdCBKU09OIGJ1dHRvbiB3aXRob3V0IGNsb3NpbmcgdGhlIGRpYWxvZw0KICAgICAgICBmaW5hbCBCdXR0b24gZm9ybWF0SnNvbkJ1dHRvbiA9IChCdXR0b24pIGRpYWxvZy5nZXREaWFsb2dQYW5lKCkubG9va3VwQnV0dG9uKGZvcm1hdEpzb25CdXR0b25UeXBlKTsNCiAgICAgICAgZm9ybWF0SnNvbkJ1dHRvbi5hZGRFdmVudEZpbHRlcihBY3Rpb25FdmVudC5BQ1RJT04sIGV2ZW50IC0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgT2JqZWN0IGpzb24gPSBtYXBwZXIucmVhZFZhbHVlKHRleHRBcmVhLmdldFRleHQoKSwgT2JqZWN0LmNsYXNzKTsNCiAgICAgICAgICAgICAgICBTdHJpbmcgZm9ybWF0dGVkSnNvbiA9IG1hcHBlci53cml0ZXJXaXRoRGVmYXVsdFByZXR0eVByaW50ZXIoKS53cml0ZVZhbHVlQXNTdHJpbmcoanNvbik7DQogICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VGV4dChmb3JtYXR0ZWRKc29uKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKEpzb25Qcm9jZXNzaW5nRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IpOw0KICAgICAgICAgICAgICAgIGFsZXJ0LnNldFRpdGxlKCJKU09OIEZvcm1hdCBFcnJvciIpOw0KICAgICAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQoIkludmFsaWQgSlNPTiIpOw0KICAgICAgICAgICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KCJUaGUgdGV4dCBjb3VsZCBub3QgYmUgZm9ybWF0dGVkIGFzIEpTT04uIFBsZWFzZSBjaGVjayB0aGUgc3ludGF4LiIpOw0KICAgICAgICAgICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBldmVudC5jb25zdW1lKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIGRpYWxvZy5zZXRSZXN1bHRDb252ZXJ0ZXIoYnRuIC0+IGJ0biA9PSBva0J1dHRvblR5cGUgPyB0ZXh0QXJlYS5nZXRUZXh0KCkgOiBudWxsKTsNCg0KICAgICAgICAvLyBTZXQgSWNvbg0KICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgZGlhbG9nLmdldERpYWxvZ1BhbmUoKS5nZXRTY2VuZSgpLmdldFdpbmRvdygpOw0KICAgICAgICBzdGFnZS5nZXRJY29ucygpLmFkZChuZXcgSW1hZ2UoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZUFzU3RyZWFtKCIvc3RhdGljL2ljb24vZmF2aWNvbi5pY28iKSkpOw0KDQogICAgICAgIGphdmEudXRpbC5PcHRpb25hbDxTdHJpbmc+IHJlc3VsdCA9IGRpYWxvZy5zaG93QW5kV2FpdCgpOw0KICAgICAgICByZXR1cm4gcmVzdWx0Lm9yRWxzZShudWxsKTsNCiAgICB9DQp9IA==
END
PATH:src/main/java/com/qa/app/ui/vm/gatling/TemplateValidator.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtLmdhdGxpbmc7CgppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcjsKaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5TZXJpYWxpemF0aW9uRmVhdHVyZTsKaW1wb3J0IGZyZWVtYXJrZXIudGVtcGxhdGUuQ29uZmlndXJhdGlvbjsKaW1wb3J0IGZyZWVtYXJrZXIudGVtcGxhdGUuVGVtcGxhdGU7CmltcG9ydCBmcmVlbWFya2VyLnRlbXBsYXRlLlZlcnNpb247CmltcG9ydCBvcmcueG1sLnNheC5JbnB1dFNvdXJjZTsKCmltcG9ydCBqYXZheC54bWwucGFyc2Vycy5Eb2N1bWVudEJ1aWxkZXJGYWN0b3J5OwppbXBvcnQgamF2YXgueG1sLnRyYW5zZm9ybS5PdXRwdXRLZXlzOwppbXBvcnQgamF2YXgueG1sLnRyYW5zZm9ybS5Tb3VyY2U7CmltcG9ydCBqYXZheC54bWwudHJhbnNmb3JtLlRyYW5zZm9ybWVyOwppbXBvcnQgamF2YXgueG1sLnRyYW5zZm9ybS5UcmFuc2Zvcm1lckZhY3Rvcnk7CmltcG9ydCBqYXZheC54bWwudHJhbnNmb3JtLnN0cmVhbS5TdHJlYW1SZXN1bHQ7CmltcG9ydCBqYXZheC54bWwudHJhbnNmb3JtLnN0cmVhbS5TdHJlYW1Tb3VyY2U7CmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS5pby5TdHJpbmdSZWFkZXI7CmltcG9ydCBqYXZhLmlvLlN0cmluZ1dyaXRlcjsKaW1wb3J0IGphdmEudXRpbC5yZWdleC5NYXRjaGVyOwppbXBvcnQgamF2YS51dGlsLnJlZ2V4LlBhdHRlcm47CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpwdWJsaWMgY2xhc3MgVGVtcGxhdGVWYWxpZGF0b3IgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIE9iamVjdE1hcHBlciBqc29uTWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpLmVuYWJsZShTZXJpYWxpemF0aW9uRmVhdHVyZS5JTkRFTlRfT1VUUFVUKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIENvbmZpZ3VyYXRpb24gc3RhdGljRnJlZW1hcmtlckNmZzsKCiAgICBzdGF0aWMgewogICAgICAgIHN0YXRpY0ZyZWVtYXJrZXJDZmcgPSBuZXcgQ29uZmlndXJhdGlvbihuZXcgVmVyc2lvbigiMi4zLjMyIikpOwogICAgICAgIHN0YXRpY0ZyZWVtYXJrZXJDZmcuc2V0RGVmYXVsdEVuY29kaW5nKCJVVEYtOCIpOwogICAgICAgIHN0YXRpY0ZyZWVtYXJrZXJDZmcuc2V0VGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyKGZyZWVtYXJrZXIudGVtcGxhdGUuVGVtcGxhdGVFeGNlcHRpb25IYW5kbGVyLlJFVEhST1dfSEFORExFUik7CiAgICAgICAgc3RhdGljRnJlZW1hcmtlckNmZy5zZXRUYWdTeW50YXgoQ29uZmlndXJhdGlvbi5TUVVBUkVfQlJBQ0tFVF9UQUdfU1lOVEFYKTsKICAgICAgICBzdGF0aWNGcmVlbWFya2VyQ2ZnLnNldEludGVycG9sYXRpb25TeW50YXgoQ29uZmlndXJhdGlvbi5TUVVBUkVfQlJBQ0tFVF9JTlRFUlBPTEFUSU9OX1NZTlRBWCk7CiAgICAgICAgc3RhdGljRnJlZW1hcmtlckNmZy5zZXRDbGFzc2ljQ29tcGF0aWJsZSh0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIFZhbGlkYXRpb25SZXN1bHQgewogICAgICAgIHB1YmxpYyBmaW5hbCBib29sZWFuIGlzVmFsaWQ7CiAgICAgICAgcHVibGljIGZpbmFsIFN0cmluZyBlcnJvck1lc3NhZ2U7CgogICAgICAgIHB1YmxpYyBWYWxpZGF0aW9uUmVzdWx0KGJvb2xlYW4gaXNWYWxpZCwgU3RyaW5nIGVycm9yTWVzc2FnZSkgewogICAgICAgICAgICB0aGlzLmlzVmFsaWQgPSBpc1ZhbGlkOwogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBWYWxpZGF0aW9uUmVzdWx0IHZhbGlkYXRlKFN0cmluZyBjb250ZW50LCBTdHJpbmcgZm9ybWF0KSB7CiAgICAgICAgaWYgKGNvbnRlbnQgPT0gbnVsbCB8fCBjb250ZW50LmlzQmxhbmsoKSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25SZXN1bHQodHJ1ZSwgbnVsbCk7IC8vIEVtcHR5IGlzIGFsd2F5cyB2YWxpZAogICAgICAgIH0KICAgICAgICBzd2l0Y2ggKGZvcm1hdCkgewogICAgICAgICAgICBjYXNlICJGVEwiOgogICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlRnRsKGNvbnRlbnQpOwogICAgICAgICAgICBjYXNlICJKU09OIjoKICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUpzb24oY29udGVudCk7CiAgICAgICAgICAgIGNhc2UgIlhNTCI6CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVYbWwoY29udGVudCk7CiAgICAgICAgICAgIGNhc2UgIlRFWFQiOgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWxpZGF0aW9uUmVzdWx0KHRydWUsIG51bGwpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBmb3JtYXQoU3RyaW5nIGNvbnRlbnQsIFN0cmluZyBmb3JtYXQpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChjb250ZW50ID09IG51bGwgfHwgY29udGVudC5pc0JsYW5rKCkpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICBzd2l0Y2ggKGZvcm1hdCkgewogICAgICAgICAgICBjYXNlICJKU09OIjoKICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRKc29uKGNvbnRlbnQpOwogICAgICAgICAgICBjYXNlICJYTUwiOgogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFhtbChjb250ZW50KTsKICAgICAgICAgICAgY2FzZSAiRlRMIjoKICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRGdGwoY29udGVudCk7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDsgLy8gTm8gY2hhbmdlIGZvciBURVhUCiAgICAgICAgfQogICAgfQoKICAgIC8vIC0tLSBGVEwgU3BlY2lmaWMgTG9naWMgLS0tCgogICAgcHJpdmF0ZSBzdGF0aWMgVmFsaWRhdGlvblJlc3VsdCB2YWxpZGF0ZUZ0bChTdHJpbmcgdGVtcGxhdGVDb250ZW50KSB7CiAgICAgICAgU3RyaW5nIHByb2Nlc3NlZCA9IHByZXByb2Nlc3NGb3JGcmVlTWFya2VyKHRlbXBsYXRlQ29udGVudCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbmV3IFRlbXBsYXRlKCJmdGwtdmFsaWRhdGlvbiIsIG5ldyBTdHJpbmdSZWFkZXIocHJvY2Vzc2VkKSwgc3RhdGljRnJlZW1hcmtlckNmZyk7CiAgICAgICAgICAgIHJldHVybiBuZXcgVmFsaWRhdGlvblJlc3VsdCh0cnVlLCBudWxsKTsKICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgVmFsaWRhdGlvblJlc3VsdChmYWxzZSwgIkZUTCBzeW50YXggZXJyb3I6ICIgKyBlLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBmb3JtYXRGdGwoU3RyaW5nIGZ0bENvbnRlbnQpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFN0cmluZyB0cmltbWVkQ29udGVudCA9IGZ0bENvbnRlbnQudHJpbSgpOwogICAgICAgIGJvb2xlYW4gaXNYbWwgPSAhdHJpbW1lZENvbnRlbnQuaXNFbXB0eSgpICYmIHRyaW1tZWRDb250ZW50LnN0YXJ0c1dpdGgoIjwiKTsKCiAgICAgICAgaWYgKGlzWG1sKSB7CiAgICAgICAgICAgIHJldHVybiBwcmV0dHlQcmludFhtbEZyZWVtYXJrZXIoZnRsQ29udGVudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHByZXR0eVByaW50SnNvbkZyZWVtYXJrZXIoZnRsQ29udGVudCk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBwcmV0dHlQcmludEpzb25GcmVlbWFya2VyKFN0cmluZyBzb3VyY2UpIHsKICAgICAgICAvLyAxLiBQcmUtcHJvY2Vzc2luZzogTm9ybWFsaXplIHNtYXJ0IHF1b3RlcyBhbmQgcGxhY2Vob2xkZXJzCiAgICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UoJ1x1MjAxQycsICciJykucmVwbGFjZSgnXHUyMDFEJywgJyInKTsKICAgICAgICAKICAgICAgICBQYXR0ZXJuIHAgPSBQYXR0ZXJuLmNvbXBpbGUoIkBcXHMqXFx7XFxzKihbXFxzXFxTXSs/KVxccypcXH0iKTsKICAgICAgICBNYXRjaGVyIHBsYWNlaG9sZGVyTWF0Y2hlciA9IHAubWF0Y2hlcihzb3VyY2UpOwogICAgICAgIFN0cmluZ0J1ZmZlciBzYiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKICAgICAgICB3aGlsZSAocGxhY2Vob2xkZXJNYXRjaGVyLmZpbmQoKSkgewogICAgICAgICAgICBwbGFjZWhvbGRlck1hdGNoZXIuYXBwZW5kUmVwbGFjZW1lbnQoc2IsICJAeyIgKyBwbGFjZWhvbGRlck1hdGNoZXIuZ3JvdXAoMSkudHJpbSgpICsgIn0iKTsKICAgICAgICB9CiAgICAgICAgcGxhY2Vob2xkZXJNYXRjaGVyLmFwcGVuZFRhaWwoc2IpOwogICAgICAgIHNvdXJjZSA9IHNiLnRvU3RyaW5nKCk7CgogICAgICAgIC8vIDIuIFRva2VuaXplCiAgICAgICAgUGF0dGVybiB0b2tlblBhdHRlcm4gPSBQYXR0ZXJuLmNvbXBpbGUoIlwiKD86XFxcXC58W15cIlxcXFxdKSpcInxAXFx7W159XStcXH18XFxbIy0tW1xcc1xcU10qPy0tXFxdfFxcWy8/IyhbYS16QS1aXSspW15dXSpcXF18W1xce1xcfVxcW1xcXSw6XXxbXlxcc1wiXFx7XFx9XFxbXFxdLDpdKyIpOwogICAgICAgIExpc3Q8U3RyaW5nPiB0b2tlbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgICAgICBNYXRjaGVyIG0gPSB0b2tlblBhdHRlcm4ubWF0Y2hlcihzb3VyY2UpOwogICAgICAgIHdoaWxlIChtLmZpbmQoKSkgewogICAgICAgICAgICBTdHJpbmcgdCA9IG0uZ3JvdXAoKS50cmltKCk7CiAgICAgICAgICAgIGlmICghdC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgICAgIHRva2Vucy5hZGQodCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIDMuIEZvcm1hdHRpbmcgTG9naWMgd2l0aCBhIHN0YXRlZnVsIG1hY2hpbmUKICAgICAgICBTdHJpbmdCdWlsZGVyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAgICAgaW50IGluZGVudCA9IDA7CiAgICAgICAgZmluYWwgU3RyaW5nIGluZGVudFN0cmluZyA9ICIgICI7CiAgICAgICAgYm9vbGVhbiBvbk5ld0xpbmUgPSB0cnVlOwoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHRva2Vucy5zaXplKCk7IGkrKykgewogICAgICAgICAgICBTdHJpbmcgdG9rZW4gPSB0b2tlbnMuZ2V0KGkpOwoKICAgICAgICAgICAgLy8gUHJlLXRva2VuIGxvZ2ljOiBIYW5kbGUgaW5kZW50YXRpb24gcmVkdWN0aW9uCiAgICAgICAgICAgIGlmICh0b2tlbi5lcXVhbHMoIn0iKSB8fCB0b2tlbi5lcXVhbHMoIl0iKSB8fCB0b2tlbi5zdGFydHNXaXRoKCJbLyMiKSB8fCB0b2tlbi5zdGFydHNXaXRoKCJbI2Vsc2UiKSkgewogICAgICAgICAgICAgICAgaW5kZW50ID0gTWF0aC5tYXgoMCwgaW5kZW50IC0gMSk7CiAgICAgICAgICAgICAgICBpZiAoIW9uTmV3TGluZSkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3lzdGVtLmxpbmVTZXBhcmF0b3IoKSk7CiAgICAgICAgICAgICAgICAgICAgb25OZXdMaW5lID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSGFuZGxlIHNwZWNpYWwgYHZhbHVlIFsjaWZdLCBbLyNpZl1gIHBhdHRlcm4KICAgICAgICAgICAgYm9vbGVhbiBpc1ZhbHVlVG9rZW4gPSAhInt9W10sOiIuY29udGFpbnModG9rZW4pICYmICF0b2tlbi5zdGFydHNXaXRoKCJbIyIpICYmICF0b2tlbi5zdGFydHNXaXRoKCJbL0AiKTsKICAgICAgICAgICAgaWYgKGlzVmFsdWVUb2tlbiAmJiBpICsgMyA8IHRva2Vucy5zaXplKCkgJiYgdG9rZW5zLmdldChpKzEpLnN0YXJ0c1dpdGgoIlsjaWYiKSAmJiB0b2tlbnMuZ2V0KGkrMikuZXF1YWxzKCIsIikgJiYgdG9rZW5zLmdldChpKzMpLnN0YXJ0c1dpdGgoIlsvI2lmIikpIHsKICAgICAgICAgICAgICAgIGlmIChvbk5ld0xpbmUpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGluZGVudFN0cmluZy5yZXBlYXQoaW5kZW50KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKHRva2VuKS5hcHBlbmQoIiAiKS5hcHBlbmQodG9rZW5zLmdldChpKzEpKS5hcHBlbmQodG9rZW5zLmdldChpKzIpKS5hcHBlbmQodG9rZW5zLmdldChpKzMpKTsKICAgICAgICAgICAgICAgIG9uTmV3TGluZSA9IGZhbHNlOyAvLyBXZSBqdXN0IHByaW50ZWQgY29udGVudAogICAgICAgICAgICAgICAgaSArPSAzOyAvLyBDb25zdW1lIHRoZSBwYXR0ZXJuCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgLy8gUmVndWxhciB0b2tlbiBwcm9jZXNzaW5nCiAgICAgICAgICAgICAgICBpZiAob25OZXdMaW5lKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChpbmRlbnRTdHJpbmcucmVwZWF0KGluZGVudCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0b2tlbik7CiAgICAgICAgICAgICAgICBvbk5ld0xpbmUgPSBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gUG9zdC10b2tlbiBsb2dpYzogSGFuZGxlIHNwYWNpbmcgYW5kIGxpbmUgYnJlYWtzCiAgICAgICAgICAgIGlmICh0b2tlbi5lcXVhbHMoIjoiKSkgewogICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgiICIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodG9rZW4uZXF1YWxzKCJ7IikgfHwgdG9rZW4uZXF1YWxzKCJbIikgfHwgdG9rZW4uZXF1YWxzKCIsIikgfHwgdG9rZW4uc3RhcnRzV2l0aCgiWyMtLSIpIHx8IHRva2VuLnN0YXJ0c1dpdGgoIlsjbGlzdCIpIHx8IHRva2VuLnN0YXJ0c1dpdGgoIlsjaWYiKSB8fCB0b2tlbi5zdGFydHNXaXRoKCJbLyMiKSB8fCB0b2tlbi5zdGFydHNXaXRoKCJbI2Vsc2UiKSkgewogICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTeXN0ZW0ubGluZVNlcGFyYXRvcigpKTsKICAgICAgICAgICAgICAgIG9uTmV3TGluZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFBvc3QtdG9rZW4gbG9naWM6IEhhbmRsZSBpbmRlbnRhdGlvbiBpbmNyZWFzZQogICAgICAgICAgICBpZiAodG9rZW4uZXF1YWxzKCJ7IikgfHwgdG9rZW4uZXF1YWxzKCJbIikgfHwgdG9rZW4uc3RhcnRzV2l0aCgiWyNsaXN0IikgfHwgdG9rZW4uc3RhcnRzV2l0aCgiWyNpZiIpIHx8IHRva2VuLnN0YXJ0c1dpdGgoIlsjZWxzZSIpKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQrKzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBwcmV0dHlQcmludFhtbEZyZWVtYXJrZXIoU3RyaW5nIHNvdXJjZSkgewogICAgICAgIFN0cmluZyBpbmRlbnRTdHJpbmcgPSAiICAiOwogICAgICAgIFBhdHRlcm4gcGF0dGVybiA9IFBhdHRlcm4uY29tcGlsZSgiPCEtLVtcXHNcXFNdKj8tLT58XFxbLz8jP1tcXHNcXFNdKj9cXF18PFtePl0rPnxbXjxdKyIpOwoKICAgICAgICAvLyBUb2tlbml6ZSBmaXJzdCBzbyB3ZSBjYW4gbG9vayBhaGVhZCB3aGVuIG5lY2Vzc2FyeQogICAgICAgIExpc3Q8U3RyaW5nPiB0b2tlbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgICAgICBNYXRjaGVyIG0gPSBwYXR0ZXJuLm1hdGNoZXIoc291cmNlKTsKICAgICAgICB3aGlsZSAobS5maW5kKCkpIHsKICAgICAgICAgICAgU3RyaW5nIHQgPSBtLmdyb3VwKCk7CiAgICAgICAgICAgIGlmICh0ICE9IG51bGwgJiYgIXQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgICAgICAgICAgdG9rZW5zLmFkZCh0LnRyaW0oKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIFN0cmluZ0J1aWxkZXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAgICAgICBpbnQgaW5kZW50ID0gMDsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0b2tlbnMuc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAgU3RyaW5nIHRva2VuID0gdG9rZW5zLmdldChpKTsKCiAgICAgICAgICAgIFN0cmluZyBjb250ZW50UGFydCA9IHRva2VuOwogICAgICAgICAgICBTdHJpbmcgY29tbWVudFBhcnQgPSAiIjsKICAgICAgICAgICAgaW50IGZ0bENvbW1lbnRTdGFydCA9IHRva2VuLmluZGV4T2YoIlsjLS0iKTsKICAgICAgICAgICAgaWYgKGZ0bENvbW1lbnRTdGFydCA+IDAgJiYgdG9rZW4uc3RhcnRzV2l0aCgiPCIpKSB7CiAgICAgICAgICAgICAgICBjb250ZW50UGFydCA9IHRva2VuLnN1YnN0cmluZygwLCBmdGxDb21tZW50U3RhcnQpLnRyaW0oKTsKICAgICAgICAgICAgICAgIGNvbW1lbnRQYXJ0ID0gdG9rZW4uc3Vic3RyaW5nKGZ0bENvbW1lbnRTdGFydCkudHJpbSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBib29sZWFuIGlzQ2xvc2luZ1RhZyA9IGNvbnRlbnRQYXJ0LnN0YXJ0c1dpdGgoIjwvIik7CiAgICAgICAgICAgIGJvb2xlYW4gaXNTZWxmQ2xvc2luZ1RhZyA9IGNvbnRlbnRQYXJ0LmVuZHNXaXRoKCIvPiIpOwogICAgICAgICAgICBib29sZWFuIGlzUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gY29udGVudFBhcnQuc3RhcnRzV2l0aCgiPD8iKTsKICAgICAgICAgICAgYm9vbGVhbiBpc0RvY3R5cGUgPSBjb250ZW50UGFydC5zdGFydHNXaXRoKCI8IURPQ1RZUEUiKTsKICAgICAgICAgICAgYm9vbGVhbiBpc0Z0bERpcmVjdGl2ZSA9IGNvbnRlbnRQYXJ0LnN0YXJ0c1dpdGgoIlsjIikgfHwgY29udGVudFBhcnQuc3RhcnRzV2l0aCgiWy8jIikgfHwgY29udGVudFBhcnQuc3RhcnRzV2l0aCgiW0AiKTsKICAgICAgICAgICAgYm9vbGVhbiBpc1htbENvbW1lbnQgPSBjb250ZW50UGFydC5zdGFydHNXaXRoKCI8IS0tIik7CiAgICAgICAgICAgIGJvb2xlYW4gaXNUZXh0Tm9kZSA9ICFjb250ZW50UGFydC5zdGFydHNXaXRoKCI8Iik7CgogICAgICAgICAgICAvLyBEZWNyZWFzZSBpbmRlbnQgZm9yIGNsb3NpbmcgZWxlbWVudHMgYmVmb3JlIHdyaXRpbmcgdGhlbQogICAgICAgICAgICBpZiAoaXNDbG9zaW5nVGFnIHx8IChpc0Z0bERpcmVjdGl2ZSAmJiBjb250ZW50UGFydC5zdGFydHNXaXRoKCJbLyMiKSkpIHsKICAgICAgICAgICAgICAgIGluZGVudCA9IE1hdGgubWF4KDAsIGluZGVudCAtIDEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGlubGluZTogPHRhZz50ZXh0PC90YWc+CiAgICAgICAgICAgIGlmICghaXNDbG9zaW5nVGFnICYmICFpc1NlbGZDbG9zaW5nVGFnICYmICFpc1Byb2Nlc3NpbmdJbnN0cnVjdGlvbiAmJiAhaXNEb2N0eXBlICYmICFpc0Z0bERpcmVjdGl2ZSAmJiAhaXNYbWxDb21tZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoaSArIDIgPCB0b2tlbnMuc2l6ZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIG5leHRUb2tlbiA9IHRva2Vucy5nZXQoaSArIDEpLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgbmV4dE5leHRUb2tlbiA9IHRva2Vucy5nZXQoaSArIDIpLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBuZXh0SXNUZXh0ID0gIW5leHRUb2tlbi5zdGFydHNXaXRoKCI8Iik7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGVsZW1OYW1lID0gZ2V0RWxlbWVudE5hbWUoY29udGVudFBhcnQpOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SXNUZXh0ICYmICFlbGVtTmFtZS5pc0VtcHR5KCkgJiYgbmV4dE5leHRUb2tlbi5lcXVhbHMoIjwvIiArIGVsZW1OYW1lICsgIj4iKSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmxpbmUgcmVwcmVzZW50YXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChpbmRlbnRTdHJpbmcucmVwZWF0KGluZGVudCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoY29udGVudFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQobmV4dFRva2VuKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKG5leHROZXh0VG9rZW4pOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21tZW50UGFydC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoIiAiKS5hcHBlbmQoY29tbWVudFBhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKFN5c3RlbS5saW5lU2VwYXJhdG9yKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHRoZSB0d28gdG9rZW5zIHdlIGp1c3QgcHJvY2Vzc2VkCiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBEZWZhdWx0IGhhbmRsaW5nCiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoaW5kZW50U3RyaW5nLnJlcGVhdChpbmRlbnQpKS5hcHBlbmQoY29udGVudFBhcnQpOwogICAgICAgICAgICBpZiAoIWNvbW1lbnRQYXJ0LmlzRW1wdHkoKSkgewogICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgiICIpLmFwcGVuZChjb21tZW50UGFydCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTeXN0ZW0ubGluZVNlcGFyYXRvcigpKTsKCiAgICAgICAgICAgIC8vIEluY3JlYXNlIGluZGVudCBhZnRlciBvcGVuaW5nIHRhZ3Mgd2hlbiBhcHByb3ByaWF0ZQogICAgICAgICAgICBpZiAoIWlzQ2xvc2luZ1RhZyAmJiAhaXNTZWxmQ2xvc2luZ1RhZyAmJiAhaXNQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gJiYgIWlzRG9jdHlwZSAmJiAhaXNGdGxEaXJlY3RpdmUgJiYgIWlzWG1sQ29tbWVudCAmJiAhaXNUZXh0Tm9kZSkgewogICAgICAgICAgICAgICAgaW5kZW50Kys7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNGdGxEaXJlY3RpdmUgJiYgIWNvbnRlbnRQYXJ0LnN0YXJ0c1dpdGgoIlsvIyIpICYmICFjb250ZW50UGFydC5jb250YWlucygiXSIpKSB7CiAgICAgICAgICAgICAgICBpbnQgc3BhY2VJZHggPSBjb250ZW50UGFydC5pbmRleE9mKCIgIik7CiAgICAgICAgICAgICAgICBpbnQgZW5kSWR4ID0gc3BhY2VJZHggPiAtMSA/IHNwYWNlSWR4IDogY29udGVudFBhcnQubGVuZ3RoKCk7CiAgICAgICAgICAgICAgICBTdHJpbmcgZGlyZWN0aXZlTmFtZSA9IGNvbnRlbnRQYXJ0LnN1YnN0cmluZygyLCBlbmRJZHgpLnRyaW0oKTsKICAgICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlTmFtZS5lcXVhbHMoImFzc2lnbiIpICYmICFkaXJlY3RpdmVOYW1lLmVxdWFscygiaW5jbHVkZSIpICYmICFkaXJlY3RpdmVOYW1lLmVxdWFscygiaW1wb3J0IikpIHsKICAgICAgICAgICAgICAgICAgICBpbmRlbnQrKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpLnRyaW0oKTsKICAgIH0KCiAgICAvKioKICAgICAqIEV4dHJhY3RzIHRoZSBYTUwgZWxlbWVudCBuYW1lIGZyb20gYW4gb3BlbmluZyB0YWcgbGlrZSA8dGFnIC4uLj4gb3IgPC90YWc+CiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBnZXRFbGVtZW50TmFtZShTdHJpbmcgdGFnVG9rZW4pIHsKICAgICAgICBNYXRjaGVyIG1hdGNoZXIgPSBQYXR0ZXJuLmNvbXBpbGUoIjxcXC8/XFxzKihbYS16QS1aMC05XzouLV0rKSIpLm1hdGNoZXIodGFnVG9rZW4pOwogICAgICAgIGlmIChtYXRjaGVyLmZpbmQoKSkgewogICAgICAgICAgICByZXR1cm4gbWF0Y2hlci5ncm91cCgxKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICIiOwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBwcmVwcm9jZXNzRm9yRnJlZU1hcmtlcihTdHJpbmcgY29udGVudCkgewogICAgICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoIkBcXHsoW159XSspXFx9IiwgIls9JDFdIik7CiAgICB9CgogICAgLy8gLS0tIEpTT04gU3BlY2lmaWMgTG9naWMgLS0tCgogICAgcHJpdmF0ZSBzdGF0aWMgVmFsaWRhdGlvblJlc3VsdCB2YWxpZGF0ZUpzb24oU3RyaW5nIGpzb24pIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBqc29uTWFwcGVyLnJlYWRUcmVlKGpzb24pOwogICAgICAgICAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25SZXN1bHQodHJ1ZSwgbnVsbCk7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25SZXN1bHQoZmFsc2UsICJJbnZhbGlkIEpTT046ICIgKyBlLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBmb3JtYXRKc29uKFN0cmluZyBqc29uKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIE9iamVjdCBqc29uT2JqID0ganNvbk1hcHBlci5yZWFkVmFsdWUoanNvbiwgT2JqZWN0LmNsYXNzKTsKICAgICAgICByZXR1cm4ganNvbk1hcHBlci53cml0ZXJXaXRoRGVmYXVsdFByZXR0eVByaW50ZXIoKS53cml0ZVZhbHVlQXNTdHJpbmcoanNvbk9iaik7CiAgICB9CgogICAgLy8gLS0tIFhNTCBTcGVjaWZpYyBMb2dpYyAtLS0KCiAgICBwcml2YXRlIHN0YXRpYyBWYWxpZGF0aW9uUmVzdWx0IHZhbGlkYXRlWG1sKFN0cmluZyB4bWwpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBEb2N1bWVudEJ1aWxkZXJGYWN0b3J5Lm5ld0luc3RhbmNlKCkubmV3RG9jdW1lbnRCdWlsZGVyKCkucGFyc2UobmV3IElucHV0U291cmNlKG5ldyBTdHJpbmdSZWFkZXIoeG1sKSkpOwogICAgICAgICAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25SZXN1bHQodHJ1ZSwgbnVsbCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWxpZGF0aW9uUmVzdWx0KGZhbHNlLCAiSW52YWxpZCBYTUw6ICIgKyBlLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBmb3JtYXRYbWwoU3RyaW5nIHhtbCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgU291cmNlIHhtbElucHV0ID0gbmV3IFN0cmVhbVNvdXJjZShuZXcgU3RyaW5nUmVhZGVyKHhtbCkpOwogICAgICAgIFN0cmluZ1dyaXRlciBzdHJpbmdXcml0ZXIgPSBuZXcgU3RyaW5nV3JpdGVyKCk7CiAgICAgICAgU3RyZWFtUmVzdWx0IHhtbE91dHB1dCA9IG5ldyBTdHJlYW1SZXN1bHQoc3RyaW5nV3JpdGVyKTsKICAgICAgICBUcmFuc2Zvcm1lckZhY3RvcnkgdHJhbnNmb3JtZXJGYWN0b3J5ID0gVHJhbnNmb3JtZXJGYWN0b3J5Lm5ld0luc3RhbmNlKCk7CiAgICAgICAgdHJhbnNmb3JtZXJGYWN0b3J5LnNldEF0dHJpYnV0ZSgiaW5kZW50LW51bWJlciIsIDQpOwogICAgICAgIFRyYW5zZm9ybWVyIHRyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXJGYWN0b3J5Lm5ld1RyYW5zZm9ybWVyKCk7CiAgICAgICAgdHJhbnNmb3JtZXIuc2V0T3V0cHV0UHJvcGVydHkoT3V0cHV0S2V5cy5JTkRFTlQsICJ5ZXMiKTsKICAgICAgICB0cmFuc2Zvcm1lci50cmFuc2Zvcm0oeG1sSW5wdXQsIHhtbE91dHB1dCk7CiAgICAgICAgcmV0dXJuIHhtbE91dHB1dC5nZXRXcml0ZXIoKS50b1N0cmluZygpOwogICAgfQp9IA==
END
PATH:src/main/java/com/qa/app/ui/vm/gatling/TestCondictionHandler.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtLmdhdGxpbmc7DQoNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuRlhDb2xsZWN0aW9uczsNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5Db25kaXRpb25Sb3c7DQoNCnB1YmxpYyBjbGFzcyBUZXN0Q29uZGljdGlvbkhhbmRsZXIgew0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8Q29uZGl0aW9uUm93PiBjb25kaXRpb25Sb3dzID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7DQoNCiAgICBwdWJsaWMgT2JzZXJ2YWJsZUxpc3Q8Q29uZGl0aW9uUm93PiBnZXRDb25kaXRpb25Sb3dzKCkgew0KICAgICAgICByZXR1cm4gY29uZGl0aW9uUm93czsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBhZGRDb25kaXRpb24oU3RyaW5nIHByZWZpeCkgew0KICAgICAgICBjb25kaXRpb25Sb3dzLmFkZChuZXcgQ29uZGl0aW9uUm93KHByZWZpeCwgRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCkpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCByZW1vdmVDb25kaXRpb24oaW50IGlkeCkgew0KICAgICAgICBpZiAoaWR4ID49IDAgJiYgaWR4IDwgY29uZGl0aW9uUm93cy5zaXplKCkpIHsNCiAgICAgICAgICAgIGNvbmRpdGlvblJvd3MucmVtb3ZlKGlkeCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIHNlcmlhbGl6ZUNvbmRpdGlvbnMoKSB7DQogICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOw0KICAgICAgICBmb3IgKENvbmRpdGlvblJvdyByb3cgOiBjb25kaXRpb25Sb3dzKSB7DQogICAgICAgICAgICBpZiAocm93LmdldFByZWZpeCgpICE9IG51bGwgJiYgcm93LmdldFRjaWRzKCkgIT0gbnVsbCAmJiAhcm93LmdldFByZWZpeCgpLmlzRW1wdHkoKSAmJiAhcm93LmdldFRjaWRzKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgc2IuYXBwZW5kKCJbIikNCiAgICAgICAgICAgICAgICAgIC5hcHBlbmQocm93LmdldFByZWZpeCgpKQ0KICAgICAgICAgICAgICAgICAgLmFwcGVuZCgiXSIpDQogICAgICAgICAgICAgICAgICAuYXBwZW5kKFN0cmluZy5qb2luKCIsIiwgcm93LmdldFRjaWRzKCkpKQ0KICAgICAgICAgICAgICAgICAgLmFwcGVuZCgiOyIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChzYi5sZW5ndGgoKSA+IDApIHNiLnNldExlbmd0aChzYi5sZW5ndGgoKSAtIDEpOyAvLyByZW1vdmUgbGFzdCBzZW1pY29sb24NCiAgICAgICAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgZGVzZXJpYWxpemVDb25kaXRpb25zKFN0cmluZyBjb25kaXRpb25zKSB7DQogICAgICAgIGNvbmRpdGlvblJvd3MuY2xlYXIoKTsNCiAgICAgICAgaWYgKGNvbmRpdGlvbnMgIT0gbnVsbCAmJiAhY29uZGl0aW9ucy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIFN0cmluZ1tdIGl0ZW1zID0gY29uZGl0aW9ucy5zcGxpdCgiOyIpOw0KICAgICAgICAgICAgZm9yIChTdHJpbmcgaXRlbSA6IGl0ZW1zKSB7DQogICAgICAgICAgICAgICAgaW50IG9wZW5JZHggPSBpdGVtLmluZGV4T2YoIlsiKTsNCiAgICAgICAgICAgICAgICBpbnQgY2xvc2VJZHggPSBpdGVtLmluZGV4T2YoIl0iKTsNCiAgICAgICAgICAgICAgICBpZiAob3BlbklkeCA9PSAwICYmIGNsb3NlSWR4ID4gb3BlbklkeCkgew0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgcHJlZml4ID0gaXRlbS5zdWJzdHJpbmcob3BlbklkeCArIDEsIGNsb3NlSWR4KTsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHRjaWRTdHIgPSBpdGVtLnN1YnN0cmluZyhjbG9zZUlkeCArIDEpOw0KICAgICAgICAgICAgICAgICAgICBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IHRjaWRMaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7DQogICAgICAgICAgICAgICAgICAgIGlmICghdGNpZFN0ci5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIHQgOiB0Y2lkU3RyLnNwbGl0KCIsIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXQuaXNFbXB0eSgpKSB0Y2lkTGlzdC5hZGQodCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uUm93cy5hZGQobmV3IENvbmRpdGlvblJvdyhwcmVmaXgsIHRjaWRMaXN0KSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/ui/vm/GatlingInternalReportViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7CmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlOwppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQ29tYm9Cb3g7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5MaXN0Q2VsbDsKaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuU3RhY2tQYW5lOwppbXBvcnQgamF2YWZ4LnNjZW5lLndlYi5XZWJWaWV3OwppbXBvcnQgamF2YWZ4LnN0YWdlLkRpcmVjdG9yeUNob29zZXI7CmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7CgppbXBvcnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5uZXQuTWFsZm9ybWVkVVJMRXhjZXB0aW9uOwppbXBvcnQgamF2YS5uZXQuVVJMOwppbXBvcnQgamF2YS5uaW8uZmlsZS5GaWxlczsKaW1wb3J0IGphdmEubmlvLmZpbGUuUGF0aDsKaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9yOwppbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlOwppbXBvcnQgamF2YS51dGlsLnByZWZzLlByZWZlcmVuY2VzOwppbXBvcnQgamF2YS51dGlsLnN0cmVhbS5TdHJlYW07CgpwdWJsaWMgY2xhc3MgR2F0bGluZ0ludGVybmFsUmVwb3J0Vmlld01vZGVsIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIExBU1RfRElSX1BSRUZfS0VZID0gImxhc3RHYXRsaW5nSW50ZXJuYWxSZXBvcnREaXIiOwoKICAgIEBGWE1MCiAgICBwcml2YXRlIENvbWJvQm94PEZpbGU+IHJlcG9ydERpcmVjdG9yaWVzQ29tYm87CiAgICBARlhNTAogICAgcHJpdmF0ZSBXZWJWaWV3IHdlYlZpZXc7CiAgICBARlhNTAogICAgcHJpdmF0ZSBTdGFja1BhbmUgd2ViVmlld0NvbnRhaW5lcjsKCiAgICBwcml2YXRlIFByZWZlcmVuY2VzIHByZWZzOwogICAgcHJpdmF0ZSBkb3VibGUgem9vbUxldmVsID0gMS4wOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgZG91YmxlIFpPT01fU1RFUCA9IDAuMTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGRvdWJsZSBaT09NX01JTiA9IDAuNTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGRvdWJsZSBaT09NX01BWCA9IDMuMDsKCiAgICBwdWJsaWMgdm9pZCByZWZyZXNoKCkgewogICAgICAgIGxvYWRJbml0aWFsRGlyZWN0b3J5KCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7CiAgICAgICAgcHJlZnMgPSBQcmVmZXJlbmNlcy51c2VyTm9kZUZvclBhY2thZ2UoR2F0bGluZ0ludGVybmFsUmVwb3J0Vmlld01vZGVsLmNsYXNzKTsKCiAgICAgICAgLy8gQmluZCBXZWJWaWV3IHNpemUgdG8gaXRzIGNvbnRhaW5lciB0byBmaXggc2Nyb2xsYmFyIGlzc3VlcwogICAgICAgIHdlYlZpZXcucHJlZldpZHRoUHJvcGVydHkoKS5iaW5kKHdlYlZpZXdDb250YWluZXIud2lkdGhQcm9wZXJ0eSgpKTsKICAgICAgICB3ZWJWaWV3LnByZWZIZWlnaHRQcm9wZXJ0eSgpLmJpbmQod2ViVmlld0NvbnRhaW5lci5oZWlnaHRQcm9wZXJ0eSgpKTsKICAgICAgICB3ZWJWaWV3LnNldFpvb20oem9vbUxldmVsKTsgLy8gSW5pdGlhbGl6ZSB6b29tIGxldmVsCgogICAgICAgIC8vIENvbmZpZ3VyZSBDb21ib0JveCB0byBkaXNwbGF5IGRpcmVjdG9yeSBuYW1lcwogICAgICAgIHJlcG9ydERpcmVjdG9yaWVzQ29tYm8uc2V0Q2VsbEZhY3RvcnkocGFyYW0gLT4gbmV3IExpc3RDZWxsPD4oKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKEZpbGUgaXRlbSwgYm9vbGVhbiBlbXB0eSkgewogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7CiAgICAgICAgICAgICAgICBzZXRUZXh0KGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCA/IG51bGwgOiBpdGVtLmdldE5hbWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXBvcnREaXJlY3Rvcmllc0NvbWJvLnNldEJ1dHRvbkNlbGwobmV3IExpc3RDZWxsPD4oKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKEZpbGUgaXRlbSwgYm9vbGVhbiBlbXB0eSkgewogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7CiAgICAgICAgICAgICAgICBzZXRUZXh0KGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCA/IG51bGwgOiBpdGVtLmdldE5hbWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgbG9hZEluaXRpYWxEaXJlY3RvcnkoKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgbG9hZEluaXRpYWxEaXJlY3RvcnkoKSB7CiAgICAgICAgU3RyaW5nIGxhc3REaXJQYXRoID0gcHJlZnMuZ2V0KExBU1RfRElSX1BSRUZfS0VZLCBudWxsKTsKICAgICAgICBGaWxlIGluaXRpYWxEaXIgPSBudWxsOwoKICAgICAgICBpZiAobGFzdERpclBhdGggIT0gbnVsbCkgewogICAgICAgICAgICBGaWxlIGxhc3REaXIgPSBuZXcgRmlsZShsYXN0RGlyUGF0aCk7CiAgICAgICAgICAgIGlmIChsYXN0RGlyLmV4aXN0cygpICYmIGxhc3REaXIuaXNEaXJlY3RvcnkoKSkgewogICAgICAgICAgICAgICAgaW5pdGlhbERpciA9IGxhc3REaXIuZ2V0UGFyZW50RmlsZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoaW5pdGlhbERpciA9PSBudWxsKSB7CiAgICAgICAgICAgIGluaXRpYWxEaXIgPSBuZXcgRmlsZSgidGFyZ2V0L2dhdGxpbmciKTsKICAgICAgICB9CgogICAgICAgIGlmIChpbml0aWFsRGlyLmV4aXN0cygpKSB7CiAgICAgICAgICAgIHBvcHVsYXRlUmVwb3J0RGlyZWN0b3JpZXMoaW5pdGlhbERpcik7CiAgICAgICAgICAgIGlmICghcmVwb3J0RGlyZWN0b3JpZXNDb21iby5nZXRJdGVtcygpLmlzRW1wdHkoKSkgewogICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byB0aGUgbGF0ZXN0IHJlcG9ydCAobGFzdCBpbiB0aGUgc29ydGVkIGxpc3QpCiAgICAgICAgICAgICAgICByZXBvcnREaXJlY3Rvcmllc0NvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0Rmlyc3QoKTsKICAgICAgICAgICAgICAgIEZpbGUgc2VsZWN0ZWREaXIgPSByZXBvcnREaXJlY3Rvcmllc0NvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgICAgICAgICBsb2FkUmVwb3J0KHNlbGVjdGVkRGlyKTsKICAgICAgICAgICAgICAgIHNhdmVQcmVmZXJlbmNlcyhzZWxlY3RlZERpcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHBvcHVsYXRlUmVwb3J0RGlyZWN0b3JpZXMoRmlsZSBwYXJlbnREaXIpIHsKICAgICAgICBpZiAocGFyZW50RGlyID09IG51bGwgfHwgIXBhcmVudERpci5pc0RpcmVjdG9yeSgpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgcmVwb3J0RGlyZWN0b3JpZXNDb21iby5nZXRJdGVtcygpLmNsZWFyKCk7CiAgICAgICAgdHJ5IChTdHJlYW08UGF0aD4gc3RyZWFtID0gRmlsZXMud2FsayhwYXJlbnREaXIudG9QYXRoKCksIDEpKSB7CiAgICAgICAgICAgIHN0cmVhbS5tYXAoUGF0aDo6dG9GaWxlKQogICAgICAgICAgICAgICAgICAuZmlsdGVyKGZpbGUgLT4gZmlsZS5pc0RpcmVjdG9yeSgpICYmIGZpbGUuZ2V0TmFtZSgpLmNvbnRhaW5zKCJzaW11bGF0aW9uIikpCiAgICAgICAgICAgICAgICAgIC5zb3J0ZWQoQ29tcGFyYXRvci5jb21wYXJpbmdMb25nKEZpbGU6Omxhc3RNb2RpZmllZCkucmV2ZXJzZWQoKSkKICAgICAgICAgICAgICAgICAgLmZvckVhY2gocmVwb3J0RGlyZWN0b3JpZXNDb21iby5nZXRJdGVtcygpOjphZGQpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRGlyZWN0b3J5U2VsZWN0aW9uKCkgewogICAgICAgIEZpbGUgc2VsZWN0ZWREaXIgPSByZXBvcnREaXJlY3Rvcmllc0NvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgaWYgKHNlbGVjdGVkRGlyICE9IG51bGwpIHsKICAgICAgICAgICAgbG9hZFJlcG9ydChzZWxlY3RlZERpcik7CiAgICAgICAgICAgIHNhdmVQcmVmZXJlbmNlcyhzZWxlY3RlZERpcik7CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQnJvd3NlKCkgewogICAgICAgIERpcmVjdG9yeUNob29zZXIgZGlyZWN0b3J5Q2hvb3NlciA9IG5ldyBEaXJlY3RvcnlDaG9vc2VyKCk7CiAgICAgICAgZGlyZWN0b3J5Q2hvb3Nlci5zZXRUaXRsZSgiU2VsZWN0IEdhdGxpbmcgUmVwb3J0IEZvbGRlciIpOwogICAgICAgIFN0cmluZyBsYXN0RGlyUGF0aCA9IHByZWZzLmdldChMQVNUX0RJUl9QUkVGX0tFWSwgbnVsbCk7CiAgICAgICAgaWYgKGxhc3REaXJQYXRoICE9IG51bGwpIHsKICAgICAgICAgICAgRmlsZSBpbml0aWFsRGlyID0gbmV3IEZpbGUobGFzdERpclBhdGgpOwogICAgICAgICAgICBpZiAoaW5pdGlhbERpci5leGlzdHMoKSAmJiBpbml0aWFsRGlyLmlzRGlyZWN0b3J5KCkpIHsKICAgICAgICAgICAgICAgIGRpcmVjdG9yeUNob29zZXIuc2V0SW5pdGlhbERpcmVjdG9yeShpbml0aWFsRGlyLmdldFBhcmVudEZpbGUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIEZpbGUgc2VsZWN0ZWREaXJlY3RvcnkgPSBkaXJlY3RvcnlDaG9vc2VyLnNob3dEaWFsb2coZ2V0U3RhZ2UoKSk7CiAgICAgICAgaWYgKHNlbGVjdGVkRGlyZWN0b3J5ICE9IG51bGwpIHsKICAgICAgICAgICAgcG9wdWxhdGVSZXBvcnREaXJlY3RvcmllcyhzZWxlY3RlZERpcmVjdG9yeS5nZXRQYXJlbnRGaWxlKCkpOwogICAgICAgICAgICByZXBvcnREaXJlY3Rvcmllc0NvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHNlbGVjdGVkRGlyZWN0b3J5KTsKICAgICAgICAgICAgbG9hZFJlcG9ydChzZWxlY3RlZERpcmVjdG9yeSk7CiAgICAgICAgICAgIHNhdmVQcmVmZXJlbmNlcyhzZWxlY3RlZERpcmVjdG9yeSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9pZCBsb2FkUmVwb3J0KEZpbGUgZGlyZWN0b3J5KSB7CiAgICAgICAgaWYgKGRpcmVjdG9yeSA9PSBudWxsIHx8ICFkaXJlY3RvcnkuaXNEaXJlY3RvcnkoKSkgewogICAgICAgICAgICB3ZWJWaWV3LmdldEVuZ2luZSgpLmxvYWRDb250ZW50KCI8aHRtbD48Ym9keT48aDE+RXJyb3I6IEludmFsaWQgZGlyZWN0b3J5IHNlbGVjdGVkLjwvaDE+PC9ib2R5PjwvaHRtbD4iKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgRmlsZSBpbmRleEZpbGUgPSBuZXcgRmlsZShkaXJlY3RvcnksICJpbmRleC5odG1sIik7CiAgICAgICAgaWYgKGluZGV4RmlsZS5leGlzdHMoKSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgd2ViVmlldy5nZXRFbmdpbmUoKS5sb2FkKGluZGV4RmlsZS50b1VSSSgpLnRvVVJMKCkudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICAgICAgd2ViVmlldy5nZXRFbmdpbmUoKS5sb2FkQ29udGVudCgiPGh0bWw+PGJvZHk+PGgxPkVycm9yIGxvYWRpbmcgcmVwb3J0LjwvaDE+PC9ib2R5PjwvaHRtbD4iKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHdlYlZpZXcuZ2V0RW5naW5lKCkubG9hZENvbnRlbnQoIjxodG1sPjxib2R5PjxoMT5FcnJvcjogaW5kZXguaHRtbCBub3QgZm91bmQgaW4gc2VsZWN0ZWQgZm9sZGVyLjwvaDE+PC9ib2R5PjwvaHRtbD4iKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHNhdmVQcmVmZXJlbmNlcyhGaWxlIGRpcmVjdG9yeSkgewogICAgICAgIGlmIChkaXJlY3RvcnkgIT0gbnVsbCkgewogICAgICAgICAgICBwcmVmcy5wdXQoTEFTVF9ESVJfUFJFRl9LRVksIGRpcmVjdG9yeS5nZXRBYnNvbHV0ZVBhdGgoKSk7CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlWm9vbUluKCkgewogICAgICAgIGlmICh6b29tTGV2ZWwgPCBaT09NX01BWCkgewogICAgICAgICAgICB6b29tTGV2ZWwgKz0gWk9PTV9TVEVQOwogICAgICAgICAgICB3ZWJWaWV3LnNldFpvb20oem9vbUxldmVsKTsKICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVab29tT3V0KCkgewogICAgICAgIGlmICh6b29tTGV2ZWwgPiBaT09NX01JTikgewogICAgICAgICAgICB6b29tTGV2ZWwgLT0gWk9PTV9TVEVQOwogICAgICAgICAgICB3ZWJWaWV3LnNldFpvb20oem9vbUxldmVsKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSBTdGFnZSBnZXRTdGFnZSgpIHsKICAgICAgICByZXR1cm4gKFN0YWdlKSB3ZWJWaWV3LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/ui/vm/GatlingScenarioViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nVGVzdDsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlNjZW5hcmlvOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuU2NlbmFyaW9TdGVwOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSUdhdGxpbmdTY2VuYXJpb1NlcnZpY2U7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JR2F0bGluZ1Rlc3RTZXJ2aWNlOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLkdhdGxpbmdTY2VuYXJpb1NlcnZpY2VJbXBsOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLkdhdGxpbmdUZXN0U2VydmljZUltcGw7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0Ow0KaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDsNCmltcG9ydCBqYXZhZnguZnhtbC5GWE1MOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOw0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5zdHJlYW0uQ29sbGVjdG9yczsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlRleHRGaWVsZFRhYmxlQ2VsbDsNCmltcG9ydCBqYXZhZngudXRpbC5jb252ZXJ0ZXIuSW50ZWdlclN0cmluZ0NvbnZlcnRlcjsNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxUaW1lOw0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjsNCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOw0KaW1wb3J0IGNvbS5xYS5hcHAuY29tbW9uLmxpc3RlbmVycy5BcHBDb25maWdDaGFuZ2VMaXN0ZW5lcjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuUHJvamVjdENvbnRleHQ7DQoNCnB1YmxpYyBjbGFzcyBHYXRsaW5nU2NlbmFyaW9WaWV3TW9kZWwgaW1wbGVtZW50cyBBcHBDb25maWdDaGFuZ2VMaXN0ZW5lciB7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLSBGWE1MIGNvbXBvbmVudHMgLS0tLS0tLS0tLS0tLS0NCiAgICBARlhNTCBwcml2YXRlIFRleHRGaWVsZCBzY2VuYXJpb05hbWVGaWVsZDsNCiAgICBARlhNTCBwcml2YXRlIFRleHRBcmVhIHNjZW5hcmlvRGVzY0FyZWE7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZVZpZXc8R2F0bGluZ1Rlc3Q+IGF2YWlsYWJsZVRlc3RUYWJsZTsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlVmlldzxTY2VuYXJpb1N0ZXA+IHNjZW5hcmlvU3RlcFRhYmxlOw0KICAgIEBGWE1MIHByaXZhdGUgVGFibGVWaWV3PFNjZW5hcmlvPiBzY2VuYXJpb1RhYmxlOw0KDQogICAgQEZYTUwgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IHN1aXRlRmlsdGVyQ29tYm87DQogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgdGFnRmlsdGVyRmllbGQ7DQoNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPEdhdGxpbmdUZXN0LCBTdHJpbmc+IHRjaWRDb2w7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxHYXRsaW5nVGVzdCwgU3RyaW5nPiBzdWl0ZUNvbDsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPEdhdGxpbmdUZXN0LCBTdHJpbmc+IGF2YWlsYWJsZVRhZ3NDb2w7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxHYXRsaW5nVGVzdCwgU3RyaW5nPiBhdmFpbGFibGVEZXNjQ29sOw0KDQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTY2VuYXJpb1N0ZXAsIE51bWJlcj4gb3JkZXJDb2w7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTY2VuYXJpb1N0ZXAsIFN0cmluZz4gc3RlcFRjaWRDb2w7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTY2VuYXJpb1N0ZXAsIEludGVnZXI+IHdhaXRDb2w7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTY2VuYXJpb1N0ZXAsIFN0cmluZz4gc3RlcFRhZ3NDb2w7DQoNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPFNjZW5hcmlvLCBTdHJpbmc+IHNjTmFtZUNvbDsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPFNjZW5hcmlvLCBTdHJpbmc+IHNjRGVzY0NvbDsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPFNjZW5hcmlvLCBTdHJpbmc+IHNjVHlwZUNvbDsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPFNjZW5hcmlvLCBOdW1iZXI+IHNjU3RlcENvdW50Q29sOw0KDQogICAgQEZYTUwgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IGZyZXF1ZW5jeUNvbWJvOw0KICAgIEBGWE1MIHByaXZhdGUgQ29tYm9Cb3g8U3RyaW5nPiB0aHJlYWRHcm91cENvbWJvOw0KICAgIEBGWE1MIHByaXZhdGUgRGF0ZVBpY2tlciBzdGFydERhdGVQaWNrZXI7DQogICAgQEZYTUwgcHJpdmF0ZSBTcGlubmVyPEludGVnZXI+IGhvdXJTcGlubmVyOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBtaW51dGVTcGlubmVyOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBzZWNvbmRTcGlubmVyOw0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0gZGF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxHYXRsaW5nVGVzdD4gYXZhaWxhYmxlVGVzdHMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PFNjZW5hcmlvU3RlcD4gc3RlcHMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PFNjZW5hcmlvPiBzY2VuYXJpb3MgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCg0KICAgIHByaXZhdGUgZmluYWwgSUdhdGxpbmdUZXN0U2VydmljZSB0ZXN0U2VydmljZSA9IG5ldyBHYXRsaW5nVGVzdFNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBJR2F0bGluZ1NjZW5hcmlvU2VydmljZSBzY2VuYXJpb1NlcnZpY2UgPSBuZXcgR2F0bGluZ1NjZW5hcmlvU2VydmljZUltcGwoKTsNCg0KICAgIC8vIGZvciBNYWluVmlld01vZGVsIHRvIGluamVjdCByZWZlcmVuY2UNCiAgICBwcml2YXRlIE1haW5WaWV3TW9kZWwgbWFpblZpZXdNb2RlbDsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLSBMb2FkIE1vZGVsIFBhbmUgQ29udHJvbHMgLS0tLS0tLS0tLS0tLQ0KICAgIEBGWE1MIHByaXZhdGUgVGFiUGFuZSBsb2FkTW9kZWxUYWJQYW5lOw0KICAgIEBGWE1MIHByaXZhdGUgVGFiIHN0YW5kYXJkTG9hZFRhYjsNCiAgICBARlhNTCBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gc3RhbmRhcmROdW1UaHJlYWRzU3Bpbm5lcjsNCiAgICBARlhNTCBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gc3RhbmRhcmRSYW1wVXBTcGlubmVyOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBzdGFuZGFyZExvb3BzU3Bpbm5lcjsNCiAgICBARlhNTCBwcml2YXRlIENoZWNrQm94IHN0YW5kYXJkU2NoZWR1bGVyQ2hlY2tCb3g7DQogICAgQEZYTUwgcHJpdmF0ZSBTcGlubmVyPEludGVnZXI+IHN0YW5kYXJkRHVyYXRpb25TcGlubmVyOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBzdGFuZGFyZERlbGF5U3Bpbm5lcjsNCg0KICAgIEBGWE1MIHByaXZhdGUgVGFiIHN0ZXBwaW5nTG9hZFRhYjsNCiAgICBARlhNTCBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gc3RlcHBpbmdOdW1UaHJlYWRzU3Bpbm5lcjsNCiAgICBARlhNTCBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gc3RlcHBpbmdJbml0aWFsRGVsYXlTcGlubmVyOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBzdGVwcGluZ1N0YXJ0VXNlcnNTcGlubmVyOw0KICAgIEBGWE1MIHByaXZhdGUgU3Bpbm5lcjxJbnRlZ2VyPiBzdGVwcGluZ0luY3JlbWVudFVzZXJzU3Bpbm5lcjsNCiAgICBARlhNTCBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gc3RlcHBpbmdJbmNyZW1lbnRUaW1lU3Bpbm5lcjsNCiAgICBARlhNTCBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gc3RlcHBpbmdIb2xkTG9hZFNwaW5uZXI7DQoNCiAgICBARlhNTCBwcml2YXRlIFRhYiB1bHRpbWF0ZVRhYjsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlVmlldzxjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5VbHRpbWF0ZVRocmVhZEdyb3VwU3RlcD4gdWx0aW1hdGVTdGVwc1RhYmxlOw0KICAgIEBGWE1MIHByaXZhdGUgVGFibGVDb2x1bW48Y29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cFN0ZXAsIEludGVnZXI+IHVsdGltYXRlU3RhcnRUaW1lQ29sOw0KICAgIEBGWE1MIHByaXZhdGUgVGFibGVDb2x1bW48Y29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cFN0ZXAsIEludGVnZXI+IHVsdGltYXRlSW5pdGlhbExvYWRDb2w7DQogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5VbHRpbWF0ZVRocmVhZEdyb3VwU3RlcCwgSW50ZWdlcj4gdWx0aW1hdGVTdGFydHVwVGltZUNvbDsNCiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlVsdGltYXRlVGhyZWFkR3JvdXBTdGVwLCBJbnRlZ2VyPiB1bHRpbWF0ZUhvbGRUaW1lQ29sOw0KICAgIEBGWE1MIHByaXZhdGUgVGFibGVDb2x1bW48Y29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cFN0ZXAsIEludGVnZXI+IHVsdGltYXRlU2h1dGRvd25UaW1lQ29sOw0KICAgIEBGWE1MIHByaXZhdGUgQnV0dG9uIGFkZFVsdGltYXRlU3RlcEJ1dHRvbjsNCiAgICBARlhNTCBwcml2YXRlIEJ1dHRvbiByZW1vdmVVbHRpbWF0ZVN0ZXBCdXR0b247DQoNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlVsdGltYXRlVGhyZWFkR3JvdXBTdGVwPiB1bHRpbWF0ZVN0ZXBzID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7DQoNCiAgICBwcml2YXRlIGZpbmFsIGphdmEudXRpbC5NYXA8U2NlbmFyaW8sIGphdmFmeC5iZWFucy5wcm9wZXJ0eS5Cb29sZWFuUHJvcGVydHk+IHNlbGVjdGlvbk1hcCA9IG5ldyBqYXZhLnV0aWwuSGFzaE1hcDw+KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBqYXZhZnguc2NlbmUuY29udHJvbC5DaGVja0JveCBzZWxlY3RBbGxDaGVja0JveFNjID0gbmV3IGphdmFmeC5zY2VuZS5jb250cm9sLkNoZWNrQm94KCk7DQoNCiAgICBwcml2YXRlIGJvb2xlYW4gaXNVcGRhdGluZ1NlbGVjdGlvbiA9IGZhbHNlOw0KDQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gcnVuU2NlbmFyaW9CdXR0b247DQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gbW92ZVNjZW5hcmlvVXBCdXR0b247DQogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gbW92ZVNjZW5hcmlvRG93bkJ1dHRvbjsNCg0KICAgIHB1YmxpYyB2b2lkIHNldE1haW5WaWV3TW9kZWwoTWFpblZpZXdNb2RlbCB2bSkgew0KICAgICAgICB0aGlzLm1haW5WaWV3TW9kZWwgPSB2bTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCByZWZyZXNoKCkgew0KICAgICAgICByZWxvYWRUZXN0cygpOw0KICAgICAgICByZWxvYWRTY2VuYXJpb3MoKTsNCiAgICAgICAgdXBkYXRlU3VpdGVGaWx0ZXJPcHRpb25zKCk7DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKCkgew0KICAgICAgICBBcHBDb25maWcuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcyk7DQogICAgICAgIC8vIGJpbmQgdGFibGUgZGF0YQ0KICAgICAgICBhdmFpbGFibGVUZXN0VGFibGUuc2V0SXRlbXMoYXZhaWxhYmxlVGVzdHMpOw0KICAgICAgICBzY2VuYXJpb1N0ZXBUYWJsZS5zZXRJdGVtcyhzdGVwcyk7DQogICAgICAgIHNjZW5hcmlvVGFibGUuc2V0SXRlbXMoc2NlbmFyaW9zKTsNCg0KICAgICAgICAvLyBzZXQgY29sdW1uIGJpbmRpbmcNCiAgICAgICAgdGNpZENvbC5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGwgLT4gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsLmdldFZhbHVlKCkuZ2V0VGNpZCgpKSk7DQogICAgICAgIHN1aXRlQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbCAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGwuZ2V0VmFsdWUoKS5nZXRTdWl0ZSgpKSk7DQogICAgICAgIGF2YWlsYWJsZVRhZ3NDb2wuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsIC0+IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbC5nZXRWYWx1ZSgpLmdldFRhZ3MoKSkpOw0KICAgICAgICBhdmFpbGFibGVEZXNjQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbCAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGwuZ2V0VmFsdWUoKS5nZXREZXNjcmlwdGlvbnMoKSkpOw0KDQogICAgICAgIG9yZGVyQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbCAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZUludGVnZXJQcm9wZXJ0eShjZWxsLmdldFZhbHVlKCkuZ2V0T3JkZXIoKSkpOw0KICAgICAgICBzdGVwVGNpZENvbC5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGwgLT4gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsLmdldFZhbHVlKCkuZ2V0VGVzdFRjaWQoKSkpOw0KICAgICAgICB3YWl0Q29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbCAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZUludGVnZXJQcm9wZXJ0eShjZWxsLmdldFZhbHVlKCkuZ2V0V2FpdFRpbWUoKSkuYXNPYmplY3QoKSk7DQogICAgICAgIHdhaXRDb2wuc2V0Q2VsbEZhY3RvcnkoVGV4dEZpZWxkVGFibGVDZWxsLmZvclRhYmxlQ29sdW1uKG5ldyBJbnRlZ2VyU3RyaW5nQ29udmVydGVyKCkpKTsNCiAgICAgICAgd2FpdENvbC5zZXRPbkVkaXRDb21taXQoZXZ0IC0+IHsNCiAgICAgICAgICAgIFNjZW5hcmlvU3RlcCBzdGVwID0gZXZ0LmdldFJvd1ZhbHVlKCk7DQogICAgICAgICAgICBJbnRlZ2VyIG5ld1ZhbCA9IGV2dC5nZXROZXdWYWx1ZSgpOw0KICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgc3RlcC5zZXRXYWl0VGltZShuZXdWYWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgc3RlcFRhZ3NDb2wuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsIC0+IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbC5nZXRWYWx1ZSgpLmdldFRhZ3MoKSkpOw0KDQogICAgICAgIHNjTmFtZUNvbC5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGwgLT4gY2VsbC5nZXRWYWx1ZSgpLm5hbWVQcm9wZXJ0eSgpKTsNCiAgICAgICAgc2NEZXNjQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbCAtPiBjZWxsLmdldFZhbHVlKCkuZGVzY3JpcHRpb25Qcm9wZXJ0eSgpKTsNCg0KICAgICAgICAvLyBUeXBlIGNvbHVtbiBzaG93cyBsb2FkIG1vZGVsIHR5cGUNCiAgICAgICAgc2NUeXBlQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbCAtPiB7DQogICAgICAgICAgICBTdHJpbmcgdHlwZT0iIjsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGpzb24gPSBjZWxsLmdldFZhbHVlKCkuZ2V0VGhyZWFkR3JvdXBKc29uKCk7DQogICAgICAgICAgICAgICAgaWYoanNvbiE9bnVsbCAmJiAhanNvbi5pc0JsYW5rKCkpew0KICAgICAgICAgICAgICAgICAgICBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyIG9tPW5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbS5xYS5hcHAubW9kZWwuR2F0bGluZ0xvYWRQYXJhbWV0ZXJzIHAgPSBvbS5yZWFkVmFsdWUoanNvbiwgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nTG9hZFBhcmFtZXRlcnMuY2xhc3MpOw0KICAgICAgICAgICAgICAgICAgICBpZihwLmdldFR5cGUoKSE9bnVsbCkgdHlwZSA9IHAuZ2V0VHlwZSgpLm5hbWUoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoKEV4Y2VwdGlvbiBpZ25vcmUpe30NCiAgICAgICAgICAgIHJldHVybiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KHR5cGUpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBTdGVwcyBjb3VudCBjb2x1bW4NCiAgICAgICAgc2NTdGVwQ291bnRDb2wuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsIC0+IHsNCiAgICAgICAgICAgIGludCBjb3VudD0wOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb3VudCA9IHNjZW5hcmlvU2VydmljZS5maW5kU3RlcHNCeVNjZW5hcmlvSWQoY2VsbC5nZXRWYWx1ZSgpLmdldElkKCkpLnNpemUoKTsNCiAgICAgICAgICAgIH0gY2F0Y2goRXhjZXB0aW9uIGlnbm9yZSl7fQ0KICAgICAgICAgICAgcmV0dXJuIG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlSW50ZWdlclByb3BlcnR5KGNvdW50KTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gdGFibGUgc2VsZWN0aW9uIGxpc3RlbmVyIHNhbWUgYXMgZW5kcG9pbnQNCiAgICAgICAgc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdGVkSXRlbVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9icywgb2xkU2VsLCBuZXdTZWwpIC0+IHNob3dTY2VuYXJpb0RldGFpbHMobmV3U2VsKSk7DQoNCiAgICAgICAgLy8gaW5pdCBjb21ib3MNCiAgICAgICAgZnJlcXVlbmN5Q29tYm8uc2V0SXRlbXMoRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCJPbmNlIiwgIkRhaWx5IiwgIldlZWtseSIpKTsNCiAgICAgICAgaWYgKHRocmVhZEdyb3VwQ29tYm8gIT0gbnVsbCkgew0KICAgICAgICAgICAgdGhyZWFkR3JvdXBDb21iby5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoIlN0YW5kYXJkIiwgIlN0ZXBwaW5nIiwgIlVsdGltYXRlIikpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gaW5pdCB0aW1lIHNwaW5uZXJzDQogICAgICAgIGhvdXJTcGlubmVyLnNldFZhbHVlRmFjdG9yeShuZXcgU3Bpbm5lclZhbHVlRmFjdG9yeS5JbnRlZ2VyU3Bpbm5lclZhbHVlRmFjdG9yeSgwLCAyMywgMCkpOw0KICAgICAgICBtaW51dGVTcGlubmVyLnNldFZhbHVlRmFjdG9yeShuZXcgU3Bpbm5lclZhbHVlRmFjdG9yeS5JbnRlZ2VyU3Bpbm5lclZhbHVlRmFjdG9yeSgwLCA1OSwgMCkpOw0KICAgICAgICBzZWNvbmRTcGlubmVyLnNldFZhbHVlRmFjdG9yeShuZXcgU3Bpbm5lclZhbHVlRmFjdG9yeS5JbnRlZ2VyU3Bpbm5lclZhbHVlRmFjdG9yeSgwLCA1OSwgMCkpOw0KDQogICAgICAgIHJlbG9hZFRlc3RzKCk7DQogICAgICAgIHJlbG9hZFNjZW5hcmlvcygpOw0KDQogICAgICAgIHVwZGF0ZVN1aXRlRmlsdGVyT3B0aW9ucygpOw0KDQogICAgICAgIC8vIC0tLS0tIExvYWQgTW9kZWwgUGFuZSBpbml0aWFsaXphdGlvbiAtLS0tLQ0KICAgICAgICBpbml0TG9hZE1vZGVsUGFuZSgpOw0KDQogICAgICAgIC8vIOiuvue9ruWkmumAieihqOagvOWPiuWkjemAieahhuWIlw0KICAgICAgICBzY2VuYXJpb1RhYmxlLnNldEVkaXRhYmxlKHRydWUpOw0KICAgICAgICBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2V0U2VsZWN0aW9uTW9kZShqYXZhZnguc2NlbmUuY29udHJvbC5TZWxlY3Rpb25Nb2RlLk1VTFRJUExFKTsNCg0KICAgICAgICAvLyAtLS0tIOa3u+WKoOmAieaLqeWIlyAtLS0tDQogICAgICAgIGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlQ29sdW1uPFNjZW5hcmlvLCBCb29sZWFuPiBzZWxlY3RDb2x1bW4gPSBuZXcgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVDb2x1bW48PigpOw0KICAgICAgICBzZWxlY3RDb2x1bW4uc2V0R3JhcGhpYyhzZWxlY3RBbGxDaGVja0JveFNjKTsNCiAgICAgICAgc2VsZWN0Q29sdW1uLnNldFByZWZXaWR0aCg0MCk7DQogICAgICAgIHNlbGVjdENvbHVtbi5zZXRNaW5XaWR0aCg0MCk7DQogICAgICAgIHNlbGVjdENvbHVtbi5zZXRNYXhXaWR0aCg0MCk7DQogICAgICAgIHNlbGVjdENvbHVtbi5zZXRTb3J0YWJsZShmYWxzZSk7DQogICAgICAgIHNlbGVjdENvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNkIC0+IHsNCiAgICAgICAgICAgIFNjZW5hcmlvIHNjID0gY2QuZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25NYXAuY29tcHV0ZUlmQWJzZW50KHNjLCBrIC0+IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlQm9vbGVhblByb3BlcnR5KGZhbHNlKSk7DQogICAgICAgIH0pOw0KICAgICAgICBzZWxlY3RDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5DaGVja0JveFRhYmxlQ2VsbC5mb3JUYWJsZUNvbHVtbihzZWxlY3RDb2x1bW4pKTsNCiAgICAgICAgc2NlbmFyaW9UYWJsZS5nZXRDb2x1bW5zKCkuYWRkKDAsIHNlbGVjdENvbHVtbik7DQoNCiAgICAgICAgLy8g55uR5ZCs6KGo5qC85aSa6YCJ5Y+Y5YyW5Lul5ZCM5q2lIHNlbGVjdGlvbk1hcA0KICAgICAgICBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtcygpLmFkZExpc3RlbmVyKChqYXZhZnguY29sbGVjdGlvbnMuTGlzdENoYW5nZUxpc3RlbmVyPFNjZW5hcmlvPikgYyAtPiB7DQogICAgICAgICAgICBpZiAoaXNVcGRhdGluZ1NlbGVjdGlvbikgcmV0dXJuOw0KICAgICAgICAgICAgaXNVcGRhdGluZ1NlbGVjdGlvbiA9IHRydWU7DQogICAgICAgICAgICBzeW5jU2VsZWN0aW9uUHJvcGVydGllcygpOw0KICAgICAgICAgICAgdXBkYXRlU2VsZWN0QWxsQ2hlY2tCb3hTdGF0ZSgpOw0KICAgICAgICAgICAgaXNVcGRhdGluZ1NlbGVjdGlvbiA9IGZhbHNlOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBzZWxlY3RBbGwg6YC76L6RDQogICAgICAgIHNlbGVjdEFsbENoZWNrQm94U2Muc2V0T25BY3Rpb24oZSAtPiB7DQogICAgICAgICAgICBpZiAoc2VsZWN0QWxsQ2hlY2tCb3hTYy5pc1NlbGVjdGVkKCkpIHsNCiAgICAgICAgICAgICAgICBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0QWxsKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHNjZW5hcmlvVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2NlbmFyaW9UYWJsZS5yZWZyZXNoKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIOS9v+atpemqpOihqOagvOWPr+e8lui+ke+8jOS7peS+v+eUqOaIt+WPr+WPjOWHu+S/ruaUueetieW+heaXtumXtA0KICAgICAgICBpZiAoc2NlbmFyaW9TdGVwVGFibGUgIT0gbnVsbCkgew0KICAgICAgICAgICAgc2NlbmFyaW9TdGVwVGFibGUuc2V0RWRpdGFibGUodHJ1ZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBvbkNvbmZpZ0NoYW5nZWQoKSB7DQogICAgICAgIHJlbG9hZFRlc3RzKCk7DQogICAgICAgIHJlbG9hZFNjZW5hcmlvcygpOw0KICAgICAgICB1cGRhdGVTdWl0ZUZpbHRlck9wdGlvbnMoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgdXBkYXRlU3VpdGVGaWx0ZXJPcHRpb25zKCkgew0KICAgICAgICBpZiAoYXZhaWxhYmxlVGVzdHMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBzdWl0ZUZpbHRlckNvbWJvLnNldEl0ZW1zKEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgiQWxsIikpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIExpc3Q8U3RyaW5nPiBzdWl0ZXMgPSBhdmFpbGFibGVUZXN0cy5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgIC5tYXAoR2F0bGluZ1Rlc3Q6OmdldFN1aXRlKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIocyAtPiBzICE9IG51bGwgJiYgIXMuaXNCbGFuaygpKQ0KICAgICAgICAgICAgICAgIC5kaXN0aW5jdCgpDQogICAgICAgICAgICAgICAgLmNvbGxlY3QoQ29sbGVjdG9ycy50b0xpc3QoKSk7DQogICAgICAgIHN1aXRlcy5hZGQoMCwgIkFsbCIpOw0KICAgICAgICBzdWl0ZUZpbHRlckNvbWJvLnNldEl0ZW1zKEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChzdWl0ZXMpKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgcmVsb2FkVGVzdHMoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBhdmFpbGFibGVUZXN0cy5jbGVhcigpOw0KICAgICAgICAgICAgSW50ZWdlciBwcm9qZWN0SWQgPSBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCk7DQogICAgICAgICAgICBpZiAocHJvamVjdElkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBhdmFpbGFibGVUZXN0cy5hZGRBbGwodGVzdFNlcnZpY2UuZmluZEFsbFRlc3RzQnlQcm9qZWN0SWQocHJvamVjdElkKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB1cGRhdGVTdWl0ZUZpbHRlck9wdGlvbnMoKTsNCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBzaG93RXJyb3IoImxvYWQgdGVzdCBjYXNlcyBmYWlsZWQ6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgcmVsb2FkU2NlbmFyaW9zKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc2VsZWN0aW9uTWFwLmNsZWFyKCk7DQogICAgICAgICAgICBzY2VuYXJpb3MuY2xlYXIoKTsNCiAgICAgICAgICAgIEludGVnZXIgcHJvamVjdElkID0gUHJvamVjdENvbnRleHQuZ2V0Q3VycmVudFByb2plY3RJZCgpOw0KICAgICAgICAgICAgaWYgKHByb2plY3RJZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgc2NlbmFyaW9zLnNldEFsbChzY2VuYXJpb1NlcnZpY2UuZmluZEFsbFNjZW5hcmlvcyhwcm9qZWN0SWQpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAoU2NlbmFyaW8gc2MgOiBzY2VuYXJpb3MpIHsNCiAgICAgICAgICAgICAgICBqYXZhZnguYmVhbnMucHJvcGVydHkuQm9vbGVhblByb3BlcnR5IHNlbGVjdGVkID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVCb29sZWFuUHJvcGVydHkoZmFsc2UpOw0KICAgICAgICAgICAgICAgIHNlbGVjdGVkLmFkZExpc3RlbmVyKChvYnMsIHdhc1NlbCwgaXNTZWwpIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVXBkYXRpbmdTZWxlY3Rpb24pIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHNjKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNjZW5hcmlvVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbihzY2VuYXJpb3MuaW5kZXhPZihzYykpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgc2VsZWN0aW9uTWFwLnB1dChzYywgc2VsZWN0ZWQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdXBkYXRlU2VsZWN0QWxsQ2hlY2tCb3hTdGF0ZSgpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHNob3dFcnJvcigibG9hZCBzY2VuYXJpb3MgZmFpbGVkOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLSBldmVudCBoYW5kbGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRmlsdGVyQ2FzZXMoQWN0aW9uRXZlbnQgZXZ0KSB7DQogICAgICAgIFN0cmluZyBzdWl0ZSA9IHN1aXRlRmlsdGVyQ29tYm8uZ2V0VmFsdWUoKTsNCiAgICAgICAgU3RyaW5nIHRhZ0t3ID0gdGFnRmlsdGVyRmllbGQuZ2V0VGV4dCgpOw0KICAgICAgICByZWxvYWRUZXN0cygpOw0KICAgICAgICBhdmFpbGFibGVUZXN0cy5yZW1vdmVJZih0IC0+IHsNCiAgICAgICAgICAgIGJvb2xlYW4gb2sgPSB0cnVlOw0KICAgICAgICAgICAgaWYgKHN1aXRlICE9IG51bGwgJiYgIXN1aXRlLmVxdWFscygiQWxsIikgJiYgIXN1aXRlLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgICAgIG9rID0gb2sgJiYgc3VpdGUuZXF1YWxzKHQuZ2V0U3VpdGUoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob2sgJiYgdGFnS3cgIT0gbnVsbCAmJiAhdGFnS3cuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgb2sgPSB0LmdldFRhZ3MoKSAhPSBudWxsICYmIHQuZ2V0VGFncygpLmNvbnRhaW5zKHRhZ0t3KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAhb2s7DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVJlc2V0RmlsdGVyKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBzdWl0ZUZpbHRlckNvbWJvLnNldFZhbHVlKCJBbGwiKTsNCiAgICAgICAgdGFnRmlsdGVyRmllbGQuY2xlYXIoKTsNCiAgICAgICAgcmVsb2FkVGVzdHMoKTsNCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVBZGRUb1N0ZXBzKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBHYXRsaW5nVGVzdCBzZWxlY3RlZCA9IGF2YWlsYWJsZVRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICBpZiAoc2VsZWN0ZWQgPT0gbnVsbCkgcmV0dXJuOw0KICAgICAgICBTY2VuYXJpb1N0ZXAgc3RlcCA9IG5ldyBTY2VuYXJpb1N0ZXAoc3RlcHMuc2l6ZSgpICsgMSwgc2VsZWN0ZWQuZ2V0VGNpZCgpLCBzZWxlY3RlZC5nZXRXYWl0VGltZSgpLCBzZWxlY3RlZC5nZXRUYWdzKCkpOw0KICAgICAgICBzdGVwcy5hZGQoc3RlcCk7DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlUmVtb3ZlRnJvbVN0ZXBzKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBTY2VuYXJpb1N0ZXAgc2VsID0gc2NlbmFyaW9TdGVwVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbCAhPSBudWxsKSB7DQogICAgICAgICAgICBzdGVwcy5yZW1vdmUoc2VsKTsNCiAgICAgICAgICAgIHJlaW5kZXhTdGVwcygpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTW92ZVN0ZXBVcChBY3Rpb25FdmVudCBldnQpIHsNCiAgICAgICAgaW50IGlkeCA9IHNjZW5hcmlvU3RlcFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJbmRleCgpOw0KICAgICAgICBpZiAoaWR4ID4gMCkgew0KICAgICAgICAgICAgU2NlbmFyaW9TdGVwIHMgPSBzdGVwcy5yZW1vdmUoaWR4KTsNCiAgICAgICAgICAgIHN0ZXBzLmFkZChpZHggLSAxLCBzKTsNCiAgICAgICAgICAgIHJlaW5kZXhTdGVwcygpOw0KICAgICAgICAgICAgc2NlbmFyaW9TdGVwVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoaWR4IC0gMSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVNb3ZlU3RlcERvd24oQWN0aW9uRXZlbnQgZXZ0KSB7DQogICAgICAgIGludCBpZHggPSBzY2VuYXJpb1N0ZXBUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSW5kZXgoKTsNCiAgICAgICAgaWYgKGlkeCA8IHN0ZXBzLnNpemUoKSAtIDEgJiYgaWR4ID49IDApIHsNCiAgICAgICAgICAgIFNjZW5hcmlvU3RlcCBzID0gc3RlcHMucmVtb3ZlKGlkeCk7DQogICAgICAgICAgICBzdGVwcy5hZGQoaWR4ICsgMSwgcyk7DQogICAgICAgICAgICByZWluZGV4U3RlcHMoKTsNCiAgICAgICAgICAgIHNjZW5hcmlvU3RlcFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGlkeCArIDEpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2xlYXJTdGVwcyhBY3Rpb25FdmVudCBldnQpIHsNCiAgICAgICAgc3RlcHMuY2xlYXIoKTsNCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVNb3ZlU2NlbmFyaW9VcCgpIHsNCiAgICAgICAgU2NlbmFyaW8gc2VsZWN0ZWQgPSBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7DQogICAgICAgIGlmIChzZWxlY3RlZCA9PSBudWxsKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBpbnQgaW5kZXggPSBzY2VuYXJpb3MuaW5kZXhPZihzZWxlY3RlZCk7DQogICAgICAgIGlmIChpbmRleCA+IDApIHsNCiAgICAgICAgICAgIGphdmEudXRpbC5Db2xsZWN0aW9ucy5zd2FwKHNjZW5hcmlvcywgaW5kZXgsIGluZGV4IC0gMSk7DQogICAgICAgICAgICB1cGRhdGVTY2VuYXJpb09yZGVyQW5kUGVyc2lzdCgpOw0KICAgICAgICAgICAgc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChpbmRleCAtIDEpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTW92ZVNjZW5hcmlvRG93bigpIHsNCiAgICAgICAgU2NlbmFyaW8gc2VsZWN0ZWQgPSBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7DQogICAgICAgIGlmIChzZWxlY3RlZCA9PSBudWxsKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBpbnQgaW5kZXggPSBzY2VuYXJpb3MuaW5kZXhPZihzZWxlY3RlZCk7DQogICAgICAgIGlmIChpbmRleCA+IC0xICYmIGluZGV4IDwgc2NlbmFyaW9zLnNpemUoKSAtIDEpIHsNCiAgICAgICAgICAgIGphdmEudXRpbC5Db2xsZWN0aW9ucy5zd2FwKHNjZW5hcmlvcywgaW5kZXgsIGluZGV4ICsgMSk7DQogICAgICAgICAgICB1cGRhdGVTY2VuYXJpb09yZGVyQW5kUGVyc2lzdCgpOw0KICAgICAgICAgICAgc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChpbmRleCArIDEpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZVNjZW5hcmlvT3JkZXJBbmRQZXJzaXN0KCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzY2VuYXJpb3Muc2l6ZSgpOyBpKyspIHsNCiAgICAgICAgICAgICAgICBzY2VuYXJpb3MuZ2V0KGkpLnNldERpc3BsYXlPcmRlcihpICsgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzY2VuYXJpb1NlcnZpY2UudXBkYXRlT3JkZXIobmV3IEFycmF5TGlzdDw+KHNjZW5hcmlvcykpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHNob3dFcnJvcigiRmFpbGVkIHRvIHVwZGF0ZSBzY2VuYXJpbyBvcmRlcjogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCByZWluZGV4U3RlcHMoKSB7DQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgc3RlcHMuc2l6ZSgpOyBpKyspIHsNCiAgICAgICAgICAgIHN0ZXBzLmdldChpKS5zZXRPcmRlcihpICsgMSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBjbGVhciBmb3JtIGZpZWxkcw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNsZWFyU2NlbmFyaW9Gb3JtKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBjbGVhclNjZW5hcmlvRm9ybSgpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBjbGVhclNjZW5hcmlvRm9ybSgpIHsNCiAgICAgICAgc2NlbmFyaW9OYW1lRmllbGQuY2xlYXIoKTsNCiAgICAgICAgc2NlbmFyaW9EZXNjQXJlYS5jbGVhcigpOw0KICAgICAgICBzdGVwcy5jbGVhcigpOw0KICAgICAgICBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgc3RhcnREYXRlUGlja2VyLnNldFZhbHVlKG51bGwpOw0KICAgICAgICBmcmVxdWVuY3lDb21iby5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKCk7DQogICAgICAgIGlmICh0aHJlYWRHcm91cENvbWJvICE9IG51bGwpIHRocmVhZEdyb3VwQ29tYm8uZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbigpOw0KDQogICAgICAgIHJlc2V0TG9hZE1vZGVsRGVmYXVsdHMoKTsNCg0KICAgICAgICBzZXRDdXJyZW50VGltZURlZmF1bHRzKCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHJlc2V0TG9hZE1vZGVsRGVmYXVsdHMoKSB7DQogICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IHBhcmFtZXRlciBvYmplY3QgYmFzZWQgb24gbW9kZWwgZGVmYXVsdHMNCiAgICAgICAgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nTG9hZFBhcmFtZXRlcnMgZGVmID0gbmV3IGNvbS5xYS5hcHAubW9kZWwuR2F0bGluZ0xvYWRQYXJhbWV0ZXJzKCk7DQogICAgICAgIGRlZi5zZXRUeXBlKGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlRocmVhZEdyb3VwVHlwZS5TVEFOREFSRCk7DQogICAgICAgIGRlZi5zZXRTdGFuZGFyZFRocmVhZEdyb3VwKG5ldyBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5TdGFuZGFyZFRocmVhZEdyb3VwKCkpOw0KICAgICAgICBkZWYuc2V0U3RlcHBpbmdUaHJlYWRHcm91cChuZXcgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuU3RlcHBpbmdUaHJlYWRHcm91cCgpKTsNCiAgICAgICAgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cCB1dCA9IG5ldyBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5VbHRpbWF0ZVRocmVhZEdyb3VwKCk7DQogICAgICAgIGphdmEudXRpbC5MaXN0PGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlVsdGltYXRlVGhyZWFkR3JvdXBTdGVwPiBzdGVwc0RlZiA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgc3RlcHNEZWYuYWRkKG5ldyBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5VbHRpbWF0ZVRocmVhZEdyb3VwU3RlcCgpKTsNCiAgICAgICAgdXQuc2V0U3RlcHMoc3RlcHNEZWYpOw0KICAgICAgICBkZWYuc2V0VWx0aW1hdGVUaHJlYWRHcm91cCh1dCk7DQoNCiAgICAgICAgLy8gYXBwbHkgdG8gVUkNCiAgICAgICAgcG9wdWxhdGVMb2FkTW9kZWxGcm9tUGFyYW1zKGRlZik7DQogICAgfQ0KDQogICAgQEZYTUwgcHJpdmF0ZSB2b2lkIG9wZW5Mb2FkRGlhbG9nKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBzaG93SW5mbygiTG9hZCBkaWFsb2cgZmVhdHVyZSBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LiIpOw0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZFNjZW5hcmlvKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBTdHJpbmcgbmFtZSA9IHNjZW5hcmlvTmFtZUZpZWxkLmdldFRleHQoKTsNCiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCB8fCBuYW1lLmlzQmxhbmsoKSkgew0KICAgICAgICAgICAgc2hvd0Vycm9yKCJzY2VuYXJpbyBuYW1lIGNhbm5vdCBiZSBlbXB0eSIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIFNjZW5hcmlvIHNjID0gbmV3IFNjZW5hcmlvKCk7DQogICAgICAgIHNjLnNldE5hbWUobmFtZSk7DQogICAgICAgIHNjLnNldERlc2NyaXB0aW9uKHNjZW5hcmlvRGVzY0FyZWEuZ2V0VGV4dCgpKTsNCiAgICAgICAgSW50ZWdlciBwcm9qZWN0SWQgPSBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCk7DQogICAgICAgIGlmIChwcm9qZWN0SWQgPT0gbnVsbCkgew0KICAgICAgICAgICAgc2hvd0Vycm9yKCJObyBwcm9qZWN0IHNlbGVjdGVkISIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHNjLnNldFByb2plY3RJZChwcm9qZWN0SWQpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlciBvbSA9IG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyKCk7DQogICAgICAgICAgICBzYy5zZXRUaHJlYWRHcm91cEpzb24ob20ud3JpdGVWYWx1ZUFzU3RyaW5nKGJ1aWxkTG9hZFBhcmFtZXRlcnMoKSkpOw0KICAgICAgICAgICAgc2Muc2V0U2NoZWR1bGVKc29uKGJ1aWxkU2NoZWR1bGVKc29uKCkpOw0KICAgICAgICB9IGNhdGNoKEV4Y2VwdGlvbiBleCl7IHNjLnNldFRocmVhZEdyb3VwSnNvbigie30iKTsgfQ0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc2NlbmFyaW9TZXJ2aWNlLmNyZWF0ZVNjZW5hcmlvKHNjLCBuZXcgQXJyYXlMaXN0PD4oc3RlcHMpKTsNCiAgICAgICAgICAgIC8vIHNhdmUgc2NoZWR1bGVyIGNyb24gYWZ0ZXIgaWQgZ2VuZXJhdGVkDQogICAgICAgICAgICBzYXZlU2NoZWR1bGVyVG9EYihzYy5nZXRJZCgpKTsNCiAgICAgICAgICAgIHNjZW5hcmlvcy5hZGQoMCwgc2MpOw0KICAgICAgICAgICAgamF2YWZ4LmJlYW5zLnByb3BlcnR5LkJvb2xlYW5Qcm9wZXJ0eSBzZWxQcm9wID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVCb29sZWFuUHJvcGVydHkoZmFsc2UpOw0KICAgICAgICAgICAgc2VsUHJvcC5hZGRMaXN0ZW5lcigob2JzLCB3YXNTZWwsIGlzU2VsKSAtPiB7DQogICAgICAgICAgICAgICAgaWYgKGlzVXBkYXRpbmdTZWxlY3Rpb24pIHJldHVybjsNCiAgICAgICAgICAgICAgICBpZiAoaXNTZWwpIHsNCiAgICAgICAgICAgICAgICAgICAgc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChzYyk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKHNjZW5hcmlvcy5pbmRleE9mKHNjKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBzZWxlY3Rpb25NYXAucHV0KHNjLCBzZWxQcm9wKTsNCiAgICAgICAgICAgIHNob3dJbmZvKCJTY2VuYXJpbyAnIiArIHNjLmdldE5hbWUoKSArICInIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LiIpOw0KICAgICAgICAgICAgcmVsb2FkU2NlbmFyaW9zKCk7DQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgc2hvd0Vycm9yKGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVNhdmVTY2VuYXJpbyhBY3Rpb25FdmVudCBldnQpIHsNCiAgICAgICAgU2NlbmFyaW8gc2VsZWN0ZWQgPSBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7DQogICAgICAgIGlmIChzZWxlY3RlZCA9PSBudWxsKSB7IHNob3dFcnJvcigicGxlYXNlIHNlbGVjdCBhIHNjZW5hcmlvIHRvIHVwZGF0ZSIpOyByZXR1cm47IH0NCiAgICAgICAgc2VsZWN0ZWQuc2V0TmFtZShzY2VuYXJpb05hbWVGaWVsZC5nZXRUZXh0KCkpOw0KICAgICAgICBzZWxlY3RlZC5zZXREZXNjcmlwdGlvbihzY2VuYXJpb0Rlc2NBcmVhLmdldFRleHQoKSk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuT2JqZWN0TWFwcGVyIG9tID0gbmV3IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXIoKTsNCiAgICAgICAgICAgIHNlbGVjdGVkLnNldFRocmVhZEdyb3VwSnNvbihvbS53cml0ZVZhbHVlQXNTdHJpbmcoYnVpbGRMb2FkUGFyYW1ldGVycygpKSk7DQogICAgICAgICAgICBzZWxlY3RlZC5zZXRTY2hlZHVsZUpzb24oYnVpbGRTY2hlZHVsZUpzb24oKSk7DQogICAgICAgICAgICBzY2VuYXJpb1NlcnZpY2UudXBkYXRlU2NlbmFyaW8oc2VsZWN0ZWQsIG5ldyBBcnJheUxpc3Q8PihzdGVwcykpOw0KICAgICAgICAgICAgLy8gc2F2ZSBzY2hlZHVsZXIgY3JvbiBhZnRlciBpZCBnZW5lcmF0ZWQNCiAgICAgICAgICAgIHNhdmVTY2hlZHVsZXJUb0RiKHNlbGVjdGVkLmdldElkKCkpOw0KICAgICAgICAgICAgc2hvd0luZm8oIlNjZW5hcmlvICciICsgc2VsZWN0ZWQuZ2V0TmFtZSgpICsgIicgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIpOw0KICAgICAgICAgICAgcmVsb2FkU2NlbmFyaW9zKCk7DQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gc2UpIHsNCiAgICAgICAgICAgIHNob3dFcnJvcihzZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpew0KICAgICAgICAgICAgc2hvd0Vycm9yKCJzYXZlIGZhaWxlZDogIitleC5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRHVwbGljYXRlU2NlbmFyaW8oQWN0aW9uRXZlbnQgZXZ0KSB7DQogICAgICAgIFNjZW5hcmlvIHNlbCA9IHNjZW5hcmlvVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbCA9PSBudWxsKSByZXR1cm47DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBTY2VuYXJpbyBkdXAgPSBzY2VuYXJpb1NlcnZpY2UuZHVwbGljYXRlU2NlbmFyaW8oc2VsLmdldElkKCkpOw0KICAgICAgICAgICAgc2NlbmFyaW9zLmFkZCgwLCBkdXApOw0KICAgICAgICAgICAgamF2YWZ4LmJlYW5zLnByb3BlcnR5LkJvb2xlYW5Qcm9wZXJ0eSBkdXBTZWwgPSBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZUJvb2xlYW5Qcm9wZXJ0eShmYWxzZSk7DQogICAgICAgICAgICBkdXBTZWwuYWRkTGlzdGVuZXIoKG9icywgd2FzU2VsLCBpc1NlbCkgLT4gew0KICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0aW5nU2VsZWN0aW9uKSByZXR1cm47DQogICAgICAgICAgICAgICAgaWYgKGlzU2VsKSB7DQogICAgICAgICAgICAgICAgICAgIHNjZW5hcmlvVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoZHVwKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oc2NlbmFyaW9zLmluZGV4T2YoZHVwKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBzZWxlY3Rpb25NYXAucHV0KGR1cCwgZHVwU2VsKTsNCiAgICAgICAgICAgIHNob3dJbmZvKCJTY2VuYXJpbyAnIiArIHNlbC5nZXROYW1lKCkgKyAiJyBkdXBsaWNhdGVkIHN1Y2Nlc3NmdWxseSBhcyAnIiArIGR1cC5nZXROYW1lKCkgKyAiJy4iKTsNCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBzaG93RXJyb3IoZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRGVsZXRlU2NlbmFyaW8oQWN0aW9uRXZlbnQgZXZ0KSB7DQogICAgICAgIGphdmFmeC5jb2xsZWN0aW9ucy5PYnNlcnZhYmxlTGlzdDxTY2VuYXJpbz4gc2VsZWN0ZWRTY2VuYXJpb3MgPSBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtcygpOw0KICAgICAgICBpZiAoc2VsZWN0ZWRTY2VuYXJpb3MuaXNFbXB0eSgpKSByZXR1cm47DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBmb3IgKFNjZW5hcmlvIHNjIDogbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8PihzZWxlY3RlZFNjZW5hcmlvcykpIHsNCiAgICAgICAgICAgICAgICBzY2VuYXJpb1NlcnZpY2UuZGVsZXRlU2NlbmFyaW8oc2MuZ2V0SWQoKSk7DQogICAgICAgICAgICAgICAgc2VsZWN0aW9uTWFwLnJlbW92ZShzYyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzY2VuYXJpb3MucmVtb3ZlQWxsKHNlbGVjdGVkU2NlbmFyaW9zKTsNCiAgICAgICAgICAgIHNob3dJbmZvKHNlbGVjdGVkU2NlbmFyaW9zLnNpemUoKSArICIgc2NlbmFyaW8ocykgZGVsZXRlZCBzdWNjZXNzZnVsbHkuIik7DQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgc2hvd0Vycm9yKGUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVJ1blNjZW5hcmlvKEFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q8U2NlbmFyaW8+IHNlbGVjdGVkID0gc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkID09IG51bGwgfHwgc2VsZWN0ZWQuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBzaG93RXJyb3IoInBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHNjZW5hcmlvIik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICAvLyBEaXNhYmxlIHRoZSBSdW4gYnV0dG9uIHRvIHByZXZlbnQgZHVwbGljYXRlIGNsaWNrcw0KICAgICAgICBCdXR0b24gc3JjQnRuOw0KICAgICAgICBpZiAocnVuU2NlbmFyaW9CdXR0b24gIT0gbnVsbCkgew0KICAgICAgICAgICAgc3JjQnRuID0gcnVuU2NlbmFyaW9CdXR0b247DQogICAgICAgIH0gZWxzZSBpZiAoZXZ0LmdldFNvdXJjZSgpIGluc3RhbmNlb2YgQnV0dG9uKSB7DQogICAgICAgICAgICBzcmNCdG4gPSAoQnV0dG9uKSBldnQuZ2V0U291cmNlKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBzcmNCdG4gPSBudWxsOw0KICAgICAgICB9DQogICAgICAgIGlmIChzcmNCdG4gIT0gbnVsbCkgc3JjQnRuLnNldERpc2FibGUodHJ1ZSk7DQoNCiAgICAgICAgU3RyaW5nIHJ1bm5pbmdNc2cgPSAiUnVubmluZyAiICsgc2VsZWN0ZWQuc2l6ZSgpICsgIiBzY2VuYXJpbyhzKS4uLiI7DQogICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKHJ1bm5pbmdNc2csIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5JTkZPKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbC5zaG93R2xvYmFsU3RhdHVzKHJ1bm5pbmdNc2csIGNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLklORk8pOw0KICAgICAgICB9DQoNCiAgICAgICAgUnVubmFibGUgb25Db21wbGV0ZSA9ICgpIC0+IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybS5ydW5MYXRlcigoKSAtPiB7DQogICAgICAgICAgICBpZiAoc3JjQnRuICE9IG51bGwpIHNyY0J0bi5zZXREaXNhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgIHJlbG9hZFNjZW5hcmlvcygpOw0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gQWx3YXlzIGNhbGwgdGhlIG11bHRpLXNjZW5hcmlvIEFQSSBmb3Igc2ltcGxpY2l0eQ0KICAgICAgICAgICAgc2NlbmFyaW9TZXJ2aWNlLnJ1blNjZW5hcmlvcyhuZXcgamF2YS51dGlsLkFycmF5TGlzdDw+KHNlbGVjdGVkKSwgb25Db21wbGV0ZSk7DQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgaWYgKHNyY0J0biAhPSBudWxsKSBzcmNCdG4uc2V0RGlzYWJsZShmYWxzZSk7DQogICAgICAgICAgICBzaG93RXJyb3IoZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlU2NoZWR1bGVTY2VuYXJpbyhBY3Rpb25FdmVudCBldnQpIHsNCiAgICAgICAgU2NlbmFyaW8gc2VsID0gc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICBpZiAoc2VsID09IG51bGwpIHsgc2hvd0Vycm9yKCJwbGVhc2Ugc2VsZWN0IGEgc2NlbmFyaW8iKTsgcmV0dXJuOyB9DQoNCiAgICAgICAgTG9jYWxEYXRlIGRhdGUgPSBzdGFydERhdGVQaWNrZXIuZ2V0VmFsdWUoKTsNCiAgICAgICAgU3RyaW5nIGZyZXEgPSBmcmVxdWVuY3lDb21iby5nZXRWYWx1ZSgpOw0KICAgICAgICBpZiAoZGF0ZSA9PSBudWxsIHx8IGZyZXEgPT0gbnVsbCkgew0KICAgICAgICAgICAgc2hvd0Vycm9yKCJwbGVhc2Ugc2VsZWN0IHN0YXJ0IHRpbWUgYW5kIGZyZXF1ZW5jeSIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gc2ltcGxlIGNyb24gbWFwcGluZw0KICAgICAgICBTdHJpbmcgY3JvbiA9ICIiOw0KICAgICAgICBzd2l0Y2ggKGZyZXEpIHsNCiAgICAgICAgICAgIGNhc2UgIkRhaWx5IjogY3JvbiA9ICIwIDAgMCAqICogPyI7IGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiV2Vla2x5IjogY3JvbiA9ICIwIDAgMCA/ICogTU9OIjsgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJPbmNlIjogZGVmYXVsdDogY3JvbiA9ICIiOyBicmVhazsNCiAgICAgICAgfQ0KDQogICAgICAgIGludCBoID0gaG91clNwaW5uZXIuZ2V0VmFsdWUoKTsNCiAgICAgICAgaW50IG0gPSBtaW51dGVTcGlubmVyLmdldFZhbHVlKCk7DQogICAgICAgIGludCBzID0gc2Vjb25kU3Bpbm5lci5nZXRWYWx1ZSgpOw0KICAgICAgICBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZSBzdGFydERhdGVUaW1lID0gZGF0ZS5hdFRpbWUoaCwgbSwgcyk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHNjZW5hcmlvU2VydmljZS51cHNlcnRTY2hlZHVsZShzZWwuZ2V0SWQoKSwgY3JvbiwgdHJ1ZSk7DQogICAgICAgICAgICAvLyDmm7TmlrAgc2NlbmFyaW8uc2NoZWR1bGVKc29uDQogICAgICAgICAgICBzZWwuc2V0U2NoZWR1bGVKc29uKCJ7XCJzdGFydERhdGVUaW1lXCI6XCIiK3N0YXJ0RGF0ZVRpbWUudG9TdHJpbmcoKSsiXCIsXCJmcmVxdWVuY3lcIjpcIiIrZnJlcSsiXCJ9Iik7DQogICAgICAgICAgICBzY2VuYXJpb1NlcnZpY2UudXBkYXRlU2NlbmFyaW8oc2VsLCBzY2VuYXJpb1NlcnZpY2UuZmluZFN0ZXBzQnlTY2VuYXJpb0lkKHNlbC5nZXRJZCgpKSk7DQogICAgICAgICAgICBzaG93SW5mbygiU2NoZWR1bGUgc2F2ZWQgZm9yIHNjZW5hcmlvICciICsgc2VsLmdldE5hbWUoKSArICInLiIpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHNob3dFcnJvcihlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLSB1dGlsaXR5IG1ldGhvZHMgLS0tLS0tLS0tLS0tDQogICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgbXNnKSB7DQogICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKG1zZywgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbC5zaG93R2xvYmFsU3RhdHVzKG1zZywgY29tLnFhLmFwcC51aS52bS5NYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNob3dJbmZvKFN0cmluZyBtc2cpIHsNCiAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMobXNnLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjb20ucWEuYXBwLnVpLnZtLk1haW5WaWV3TW9kZWwuc2hvd0dsb2JhbFN0YXR1cyhtc2csIGNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8g5paw5aKe5pi+56S66K+m5oOFDQogICAgcHJpdmF0ZSB2b2lkIHNob3dTY2VuYXJpb0RldGFpbHMoU2NlbmFyaW8gc2MpIHsNCiAgICAgICAgaWYgKHNjID09IG51bGwpIHsNCiAgICAgICAgICAgIHNjZW5hcmlvTmFtZUZpZWxkLmNsZWFyKCk7DQogICAgICAgICAgICBzY2VuYXJpb0Rlc2NBcmVhLmNsZWFyKCk7DQogICAgICAgICAgICBzdGVwcy5jbGVhcigpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHNjZW5hcmlvTmFtZUZpZWxkLnNldFRleHQoc2MuZ2V0TmFtZSgpKTsNCiAgICAgICAgc2NlbmFyaW9EZXNjQXJlYS5zZXRUZXh0KHNjLmdldERlc2NyaXB0aW9uKCkpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc3RlcHMuc2V0QWxsKHNjZW5hcmlvU2VydmljZS5maW5kU3RlcHNCeVNjZW5hcmlvSWQoc2MuZ2V0SWQoKSkpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIHN0ZXBzLmNsZWFyKCk7DQogICAgICAgIH0NCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmKHNjLmdldFRocmVhZEdyb3VwSnNvbigpIT1udWxsICYmICFzYy5nZXRUaHJlYWRHcm91cEpzb24oKS5pc0JsYW5rKCkpew0KICAgICAgICAgICAgICAgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlciBvbT1uZXcgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcigpOw0KICAgICAgICAgICAgICAgdmFyIHA9b20ucmVhZFZhbHVlKHNjLmdldFRocmVhZEdyb3VwSnNvbigpLCBjb20ucWEuYXBwLm1vZGVsLkdhdGxpbmdMb2FkUGFyYW1ldGVycy5jbGFzcyk7DQogICAgICAgICAgICAgICBwb3B1bGF0ZUxvYWRNb2RlbEZyb21QYXJhbXMocCk7DQogICAgICAgICAgICB9DQogICAgICAgIH1jYXRjaChFeGNlcHRpb24gaWdub3JlKXt9DQoNCiAgICAgICAgLy8gcG9wdWxhdGUgc2NoZWR1bGUgVUkNCiAgICAgICAgdHJ5ew0KICAgICAgICAgICAgU3RyaW5nIHNjaGVkSnNvbj1zYy5nZXRTY2hlZHVsZUpzb24oKTsNCiAgICAgICAgICAgIGlmKHNjaGVkSnNvbiE9bnVsbCAmJiAhc2NoZWRKc29uLmlzQmxhbmsoKSl7DQogICAgICAgICAgICAgICAgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlciBvbT1uZXcgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcigpOw0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5NYXA8U3RyaW5nLE9iamVjdD4gbWFwID0gb20ucmVhZFZhbHVlKHNjaGVkSnNvbiwgbmV3IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5jb3JlLnR5cGUuVHlwZVJlZmVyZW5jZTxqYXZhLnV0aWwuTWFwPFN0cmluZyxPYmplY3Q+Pigpe30pOw0KICAgICAgICAgICAgICAgIE9iamVjdCBkdE9iaj1tYXAuZ2V0KCJzdGFydERhdGVUaW1lIik7DQogICAgICAgICAgICAgICAgaWYoZHRPYmohPW51bGwpew0KICAgICAgICAgICAgICAgICAgICBMb2NhbERhdGVUaW1lIGxkdD1Mb2NhbERhdGVUaW1lLnBhcnNlKGR0T2JqLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgICAgICAgICBzdGFydERhdGVQaWNrZXIuc2V0VmFsdWUobGR0LnRvTG9jYWxEYXRlKCkpOw0KICAgICAgICAgICAgICAgICAgICBob3VyU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShsZHQuZ2V0SG91cigpKTsNCiAgICAgICAgICAgICAgICAgICAgbWludXRlU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShsZHQuZ2V0TWludXRlKCkpOw0KICAgICAgICAgICAgICAgICAgICBzZWNvbmRTcGlubmVyLmdldFZhbHVlRmFjdG9yeSgpLnNldFZhbHVlKGxkdC5nZXRTZWNvbmQoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIE9iamVjdCBmcmVxT2JqPW1hcC5nZXQoImZyZXF1ZW5jeSIpOw0KICAgICAgICAgICAgICAgIGlmKGZyZXFPYmohPW51bGwpew0KICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3lDb21iby5zZXRWYWx1ZShmcmVxT2JqLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBpZ25vcmUpe30NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgaW5pdExvYWRNb2RlbFBhbmUoKSB7DQogICAgICAgIC8vIFVsdGltYXRlIHRhYmxlIHNldHVwDQogICAgICAgIGlmICh1bHRpbWF0ZVN0ZXBzVGFibGUgIT0gbnVsbCkgew0KICAgICAgICAgICAgdWx0aW1hdGVTdGVwc1RhYmxlLnNldEl0ZW1zKHVsdGltYXRlU3RlcHMpOw0KICAgICAgICAgICAgdWx0aW1hdGVTdGFydFRpbWVDb2wuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZCAtPiBjZC5nZXRWYWx1ZSgpLnN0YXJ0VGltZVByb3BlcnR5KCkuYXNPYmplY3QoKSk7DQogICAgICAgICAgICB1bHRpbWF0ZUluaXRpYWxMb2FkQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2QgLT4gY2QuZ2V0VmFsdWUoKS5pbml0aWFsTG9hZFByb3BlcnR5KCkuYXNPYmplY3QoKSk7DQogICAgICAgICAgICB1bHRpbWF0ZVN0YXJ0dXBUaW1lQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2QgLT4gY2QuZ2V0VmFsdWUoKS5zdGFydHVwVGltZVByb3BlcnR5KCkuYXNPYmplY3QoKSk7DQogICAgICAgICAgICB1bHRpbWF0ZUhvbGRUaW1lQ29sLnNldENlbGxWYWx1ZUZhY3RvcnkoY2QgLT4gY2QuZ2V0VmFsdWUoKS5ob2xkVGltZVByb3BlcnR5KCkuYXNPYmplY3QoKSk7DQogICAgICAgICAgICB1bHRpbWF0ZVNodXRkb3duVGltZUNvbC5zZXRDZWxsVmFsdWVGYWN0b3J5KGNkIC0+IGNkLmdldFZhbHVlKCkuc2h1dGRvd25UaW1lUHJvcGVydHkoKS5hc09iamVjdCgpKTsNCg0KICAgICAgICAgICAgdWx0aW1hdGVTdGFydFRpbWVDb2wuc2V0Q2VsbEZhY3RvcnkoVGV4dEZpZWxkVGFibGVDZWxsLmZvclRhYmxlQ29sdW1uKG5ldyBJbnRlZ2VyU3RyaW5nQ29udmVydGVyKCkpKTsNCiAgICAgICAgICAgIHVsdGltYXRlSW5pdGlhbExvYWRDb2wuc2V0Q2VsbEZhY3RvcnkoVGV4dEZpZWxkVGFibGVDZWxsLmZvclRhYmxlQ29sdW1uKG5ldyBJbnRlZ2VyU3RyaW5nQ29udmVydGVyKCkpKTsNCiAgICAgICAgICAgIHVsdGltYXRlU3RhcnR1cFRpbWVDb2wuc2V0Q2VsbEZhY3RvcnkoVGV4dEZpZWxkVGFibGVDZWxsLmZvclRhYmxlQ29sdW1uKG5ldyBJbnRlZ2VyU3RyaW5nQ29udmVydGVyKCkpKTsNCiAgICAgICAgICAgIHVsdGltYXRlSG9sZFRpbWVDb2wuc2V0Q2VsbEZhY3RvcnkoVGV4dEZpZWxkVGFibGVDZWxsLmZvclRhYmxlQ29sdW1uKG5ldyBJbnRlZ2VyU3RyaW5nQ29udmVydGVyKCkpKTsNCiAgICAgICAgICAgIHVsdGltYXRlU2h1dGRvd25UaW1lQ29sLnNldENlbGxGYWN0b3J5KFRleHRGaWVsZFRhYmxlQ2VsbC5mb3JUYWJsZUNvbHVtbihuZXcgSW50ZWdlclN0cmluZ0NvbnZlcnRlcigpKSk7DQoNCiAgICAgICAgICAgIGlmIChhZGRVbHRpbWF0ZVN0ZXBCdXR0b24gIT0gbnVsbCkNCiAgICAgICAgICAgICAgICBhZGRVbHRpbWF0ZVN0ZXBCdXR0b24uc2V0T25BY3Rpb24oZSAtPiB1bHRpbWF0ZVN0ZXBzLmFkZChuZXcgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cFN0ZXAoKSkpOw0KICAgICAgICAgICAgaWYgKHJlbW92ZVVsdGltYXRlU3RlcEJ1dHRvbiAhPSBudWxsKQ0KICAgICAgICAgICAgICAgIHJlbW92ZVVsdGltYXRlU3RlcEJ1dHRvbi5zZXRPbkFjdGlvbihlIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbCA9IHVsdGltYXRlU3RlcHNUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoc2VsICE9IG51bGwpIHVsdGltYXRlU3RlcHMucmVtb3ZlKHNlbCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBTdGFuZGFyZCBmaWVsZCBiaW5kaW5ncw0KICAgICAgICBpZiAoc3RhbmRhcmRTY2hlZHVsZXJDaGVja0JveCAhPSBudWxsKSB7DQogICAgICAgICAgICBzdGFuZGFyZER1cmF0aW9uU3Bpbm5lci5kaXNhYmxlUHJvcGVydHkoKS5iaW5kKHN0YW5kYXJkU2NoZWR1bGVyQ2hlY2tCb3guc2VsZWN0ZWRQcm9wZXJ0eSgpLm5vdCgpKTsNCiAgICAgICAgICAgIHN0YW5kYXJkRGVsYXlTcGlubmVyLmRpc2FibGVQcm9wZXJ0eSgpLmJpbmQoc3RhbmRhcmRTY2hlZHVsZXJDaGVja0JveC5zZWxlY3RlZFByb3BlcnR5KCkubm90KCkpOw0KICAgICAgICAgICAgc3RhbmRhcmRMb29wc1NwaW5uZXIuZGlzYWJsZVByb3BlcnR5KCkuYmluZChzdGFuZGFyZFNjaGVkdWxlckNoZWNrQm94LnNlbGVjdGVkUHJvcGVydHkoKSk7DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIHByaXZhdGUgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nTG9hZFBhcmFtZXRlcnMgYnVpbGRMb2FkUGFyYW1ldGVycygpIHsNCiAgICAgICAgY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nTG9hZFBhcmFtZXRlcnMgcGFyYW1zID0gbmV3IGNvbS5xYS5hcHAubW9kZWwuR2F0bGluZ0xvYWRQYXJhbWV0ZXJzKCk7DQoNCiAgICAgICAgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFiIHNlbCA9IGxvYWRNb2RlbFRhYlBhbmUgIT0gbnVsbCA/IGxvYWRNb2RlbFRhYlBhbmUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKSA6IG51bGw7DQogICAgICAgIGludCBzZWxJbmRleCA9IGxvYWRNb2RlbFRhYlBhbmUgIT0gbnVsbCA/IGxvYWRNb2RlbFRhYlBhbmUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEluZGV4KCkgOiAwOw0KDQogICAgICAgIGlmICgoc2VsICE9IG51bGwgJiYgc2VsID09IHN0YW5kYXJkTG9hZFRhYikgfHwgc2VsSW5kZXg9PTApIHsNCiAgICAgICAgICAgIHBhcmFtcy5zZXRUeXBlKGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlRocmVhZEdyb3VwVHlwZS5TVEFOREFSRCk7DQogICAgICAgICAgICBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5TdGFuZGFyZFRocmVhZEdyb3VwIHN0ZENmZyA9IG5ldyBjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5TdGFuZGFyZFRocmVhZEdyb3VwKCk7DQogICAgICAgICAgICBzdGRDZmcuc2V0TnVtVGhyZWFkcyhzdGFuZGFyZE51bVRocmVhZHNTcGlubmVyLmdldFZhbHVlKCkpOw0KICAgICAgICAgICAgc3RkQ2ZnLnNldFJhbXBVcChzdGFuZGFyZFJhbXBVcFNwaW5uZXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICBzdGRDZmcuc2V0TG9vcHMoc3RhbmRhcmRMb29wc1NwaW5uZXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICBzdGRDZmcuc2V0U2NoZWR1bGVyKHN0YW5kYXJkU2NoZWR1bGVyQ2hlY2tCb3guaXNTZWxlY3RlZCgpKTsNCiAgICAgICAgICAgIHN0ZENmZy5zZXREdXJhdGlvbihzdGFuZGFyZER1cmF0aW9uU3Bpbm5lci5nZXRWYWx1ZSgpKTsNCiAgICAgICAgICAgIHN0ZENmZy5zZXREZWxheShzdGFuZGFyZERlbGF5U3Bpbm5lci5nZXRWYWx1ZSgpKTsNCiAgICAgICAgICAgIHBhcmFtcy5zZXRTdGFuZGFyZFRocmVhZEdyb3VwKHN0ZENmZyk7DQogICAgICAgIH0gZWxzZSBpZiAoKHNlbCAhPSBudWxsICYmIHNlbCA9PSBzdGVwcGluZ0xvYWRUYWIpIHx8IHNlbEluZGV4PT0xKSB7DQogICAgICAgICAgICBwYXJhbXMuc2V0VHlwZShjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5UaHJlYWRHcm91cFR5cGUuU1RFUFBJTkcpOw0KICAgICAgICAgICAgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuU3RlcHBpbmdUaHJlYWRHcm91cCBzdGVwQ2ZnID0gbmV3IGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlN0ZXBwaW5nVGhyZWFkR3JvdXAoKTsNCiAgICAgICAgICAgIHN0ZXBDZmcuc2V0TnVtVGhyZWFkcyhzdGVwcGluZ051bVRocmVhZHNTcGlubmVyLmdldFZhbHVlKCkpOw0KICAgICAgICAgICAgc3RlcENmZy5zZXRJbml0aWFsRGVsYXkoc3RlcHBpbmdJbml0aWFsRGVsYXlTcGlubmVyLmdldFZhbHVlKCkpOw0KICAgICAgICAgICAgc3RlcENmZy5zZXRTdGFydFVzZXJzKHN0ZXBwaW5nU3RhcnRVc2Vyc1NwaW5uZXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICBzdGVwQ2ZnLnNldEluY3JlbWVudFVzZXJzKHN0ZXBwaW5nSW5jcmVtZW50VXNlcnNTcGlubmVyLmdldFZhbHVlKCkpOw0KICAgICAgICAgICAgc3RlcENmZy5zZXRJbmNyZW1lbnRUaW1lKHN0ZXBwaW5nSW5jcmVtZW50VGltZVNwaW5uZXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICBzdGVwQ2ZnLnNldEhvbGRMb2FkKHN0ZXBwaW5nSG9sZExvYWRTcGlubmVyLmdldFZhbHVlKCkpOw0KICAgICAgICAgICAgcGFyYW1zLnNldFN0ZXBwaW5nVGhyZWFkR3JvdXAoc3RlcENmZyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBwYXJhbXMuc2V0VHlwZShjb20ucWEuYXBwLm1vZGVsLnRocmVhZGdyb3Vwcy5UaHJlYWRHcm91cFR5cGUuVUxUSU1BVEUpOw0KICAgICAgICAgICAgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cCB1bHRDZmcgPSBuZXcgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVWx0aW1hdGVUaHJlYWRHcm91cCgpOw0KICAgICAgICAgICAgdWx0Q2ZnLnNldFN0ZXBzKG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4odWx0aW1hdGVTdGVwcykpOw0KICAgICAgICAgICAgcGFyYW1zLnNldFVsdGltYXRlVGhyZWFkR3JvdXAodWx0Q2ZnKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcGFyYW1zOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBwb3B1bGF0ZUxvYWRNb2RlbEZyb21QYXJhbXMoY29tLnFhLmFwcC5tb2RlbC5HYXRsaW5nTG9hZFBhcmFtZXRlcnMgcCl7DQogICAgICAgIGlmIChwID09IG51bGwpIHJldHVybjsNCiAgICAgICAgc3dpdGNoKHAuZ2V0VHlwZSgpKXsNCiAgICAgICAgICAgIGNhc2UgU1RBTkRBUkQgLT4gew0KICAgICAgICAgICAgICAgIGxvYWRNb2RlbFRhYlBhbmUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3Qoc3RhbmRhcmRMb2FkVGFiKTsNCiAgICAgICAgICAgICAgICB2YXIgcz1wLmdldFN0YW5kYXJkVGhyZWFkR3JvdXAoKTsgaWYocz09bnVsbCkgcmV0dXJuOw0KICAgICAgICAgICAgICAgIHN0YW5kYXJkTnVtVGhyZWFkc1NwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUocy5nZXROdW1UaHJlYWRzKCkpOw0KICAgICAgICAgICAgICAgIHN0YW5kYXJkUmFtcFVwU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShzLmdldFJhbXBVcCgpKTsNCiAgICAgICAgICAgICAgICBzdGFuZGFyZExvb3BzU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShzLmdldExvb3BzKCkpOw0KICAgICAgICAgICAgICAgIHN0YW5kYXJkU2NoZWR1bGVyQ2hlY2tCb3guc2V0U2VsZWN0ZWQocy5pc1NjaGVkdWxlcigpKTsNCiAgICAgICAgICAgICAgICBzdGFuZGFyZER1cmF0aW9uU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShzLmdldER1cmF0aW9uKCkpOw0KICAgICAgICAgICAgICAgIHN0YW5kYXJkRGVsYXlTcGlubmVyLmdldFZhbHVlRmFjdG9yeSgpLnNldFZhbHVlKHMuZ2V0RGVsYXkoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXNlIFNURVBQSU5HIC0+IHsNCiAgICAgICAgICAgICAgICBsb2FkTW9kZWxUYWJQYW5lLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHN0ZXBwaW5nTG9hZFRhYik7DQogICAgICAgICAgICAgICAgdmFyIHN0PXAuZ2V0U3RlcHBpbmdUaHJlYWRHcm91cCgpOyBpZihzdD09bnVsbCkgcmV0dXJuOw0KICAgICAgICAgICAgICAgIHN0ZXBwaW5nTnVtVGhyZWFkc1NwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUoc3QuZ2V0TnVtVGhyZWFkcygpKTsNCiAgICAgICAgICAgICAgICBzdGVwcGluZ0luaXRpYWxEZWxheVNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUoc3QuZ2V0SW5pdGlhbERlbGF5KCkpOw0KICAgICAgICAgICAgICAgIHN0ZXBwaW5nU3RhcnRVc2Vyc1NwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUoc3QuZ2V0U3RhcnRVc2VycygpKTsNCiAgICAgICAgICAgICAgICBzdGVwcGluZ0luY3JlbWVudFVzZXJzU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShzdC5nZXRJbmNyZW1lbnRVc2VycygpKTsNCiAgICAgICAgICAgICAgICBzdGVwcGluZ0luY3JlbWVudFRpbWVTcGlubmVyLmdldFZhbHVlRmFjdG9yeSgpLnNldFZhbHVlKHN0LmdldEluY3JlbWVudFRpbWUoKSk7DQogICAgICAgICAgICAgICAgc3RlcHBpbmdIb2xkTG9hZFNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUoc3QuZ2V0SG9sZExvYWQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXNlIFVMVElNQVRFIC0+IHsNCiAgICAgICAgICAgICAgICBsb2FkTW9kZWxUYWJQYW5lLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHVsdGltYXRlVGFiKTsNCiAgICAgICAgICAgICAgICB2YXIgdXQ9cC5nZXRVbHRpbWF0ZVRocmVhZEdyb3VwKCk7IGlmKHV0PT1udWxsKSByZXR1cm47DQogICAgICAgICAgICAgICAgdWx0aW1hdGVTdGVwcy5zZXRBbGwodXQuZ2V0U3RlcHMoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0Q3VycmVudFRpbWVEZWZhdWx0cygpIHsNCiAgICAgICAgamF2YS50aW1lLkxvY2FsRGF0ZSB0b2RheSA9IGphdmEudGltZS5Mb2NhbERhdGUubm93KCk7DQogICAgICAgIGlmKHN0YXJ0RGF0ZVBpY2tlciE9bnVsbCkgc3RhcnREYXRlUGlja2VyLnNldFZhbHVlKHRvZGF5KTsNCiAgICAgICAgTG9jYWxUaW1lIG5vdyA9IExvY2FsVGltZS5ub3coKTsNCiAgICAgICAgaG91clNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUobm93LmdldEhvdXIoKSk7DQogICAgICAgIG1pbnV0ZVNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUobm93LmdldE1pbnV0ZSgpKTsNCiAgICAgICAgc2Vjb25kU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZShub3cuZ2V0U2Vjb25kKCkpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzYXZlU2NoZWR1bGVyVG9EYihpbnQgc2NlbmFyaW9JZCl7DQogICAgICAgIHRyeXsNCiAgICAgICAgICAgIExvY2FsRGF0ZSBkYXRlPXN0YXJ0RGF0ZVBpY2tlci5nZXRWYWx1ZSgpOw0KICAgICAgICAgICAgaWYoZGF0ZT09bnVsbCkgcmV0dXJuOw0KICAgICAgICAgICAgTG9jYWxUaW1lIHQ9TG9jYWxUaW1lLm9mKGhvdXJTcGlubmVyLmdldFZhbHVlKCksIG1pbnV0ZVNwaW5uZXIuZ2V0VmFsdWUoKSwgc2Vjb25kU3Bpbm5lci5nZXRWYWx1ZSgpKTsNCiAgICAgICAgICAgIFN0cmluZyBmcmVxPWZyZXF1ZW5jeUNvbWJvLmdldFZhbHVlKCk7DQogICAgICAgICAgICBTdHJpbmcgY3Jvbj0iIjsNCiAgICAgICAgICAgIGlmKCJEYWlseSIuZXF1YWxzKGZyZXEpKSBjcm9uPSIwICIrdC5nZXRNaW51dGUoKSsiICIrdC5nZXRIb3VyKCkrIiAqICogPyI7DQogICAgICAgICAgICBlbHNlIGlmKCJXZWVrbHkiLmVxdWFscyhmcmVxKSkgY3Jvbj0iMCAiK3QuZ2V0TWludXRlKCkrIiAiK3QuZ2V0SG91cigpKyIgPyAqIE1PTiI7DQogICAgICAgICAgICAvLyBPbmNlIOaXoCBjcm9uDQogICAgICAgICAgICBzY2VuYXJpb1NlcnZpY2UudXBzZXJ0U2NoZWR1bGUoc2NlbmFyaW9JZCwgY3JvbiwgdHJ1ZSk7DQogICAgICAgICAgICAvLyB1cGRhdGUgc2NoZWR1bGVKc29uDQogICAgICAgIH1jYXRjaChFeGNlcHRpb24gaWdub3JlKXt9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBTdHJpbmcgYnVpbGRTY2hlZHVsZUpzb24oKXsNCiAgICAgICAgamF2YS51dGlsLk1hcDxTdHJpbmcsT2JqZWN0PiBtYXA9bmV3IGphdmEudXRpbC5IYXNoTWFwPD4oKTsNCiAgICAgICAgaWYoc3RhcnREYXRlUGlja2VyLmdldFZhbHVlKCkhPW51bGwpew0KICAgICAgICAgICBMb2NhbFRpbWUgbHQ9TG9jYWxUaW1lLm9mKGhvdXJTcGlubmVyLmdldFZhbHVlKCksbWludXRlU3Bpbm5lci5nZXRWYWx1ZSgpLHNlY29uZFNwaW5uZXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgIG1hcC5wdXQoInN0YXJ0RGF0ZVRpbWUiLGphdmEudGltZS5Mb2NhbERhdGVUaW1lLm9mKHN0YXJ0RGF0ZVBpY2tlci5nZXRWYWx1ZSgpLGx0KS50b1N0cmluZygpKTsNCiAgICAgICAgfQ0KICAgICAgICBtYXAucHV0KCJmcmVxdWVuY3kiLGZyZXF1ZW5jeUNvbWJvLmdldFZhbHVlKCkpOw0KICAgICAgICB0cnl7DQogICAgICAgICAgICByZXR1cm4gbmV3IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXIoKS53cml0ZVZhbHVlQXNTdHJpbmcobWFwKTsNCiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtyZXR1cm4gInt9Ijt9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZVNlbGVjdEFsbENoZWNrQm94U3RhdGUoKSB7DQogICAgICAgIGludCBzZWxlY3RlZENvdW50ID0gc2NlbmFyaW9UYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKS5zaXplKCk7DQogICAgICAgIGlmIChzZWxlY3RlZENvdW50ID09IDApIHsNCiAgICAgICAgICAgIHNlbGVjdEFsbENoZWNrQm94U2Muc2V0U2VsZWN0ZWQoZmFsc2UpOw0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tCb3hTYy5zZXRJbmRldGVybWluYXRlKGZhbHNlKTsNCiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZENvdW50ID09IHNjZW5hcmlvcy5zaXplKCkgJiYgIXNjZW5hcmlvcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIHNlbGVjdEFsbENoZWNrQm94U2Muc2V0U2VsZWN0ZWQodHJ1ZSk7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja0JveFNjLnNldEluZGV0ZXJtaW5hdGUoZmFsc2UpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tCb3hTYy5zZXRJbmRldGVybWluYXRlKHRydWUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHN5bmNTZWxlY3Rpb25Qcm9wZXJ0aWVzKCkgew0KICAgICAgICBpc1VwZGF0aW5nU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgZm9yIChTY2VuYXJpbyBzYyA6IHNjZW5hcmlvcykgew0KICAgICAgICAgICAgamF2YWZ4LmJlYW5zLnByb3BlcnR5LkJvb2xlYW5Qcm9wZXJ0eSBwcm9wID0gc2VsZWN0aW9uTWFwLmdldChzYyk7DQogICAgICAgICAgICBpZiAocHJvcCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgYm9vbGVhbiBzaG91bGRTZWxlY3QgPSBzY2VuYXJpb1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtcygpLmNvbnRhaW5zKHNjKTsNCiAgICAgICAgICAgICAgICBpZiAocHJvcC5nZXQoKSAhPSBzaG91bGRTZWxlY3QpIHsNCiAgICAgICAgICAgICAgICAgICAgcHJvcC5zZXQoc2hvdWxkU2VsZWN0KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaXNVcGRhdGluZ1NlbGVjdGlvbiA9IGZhbHNlOw0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/ui/vm/GatlingTestReportViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOw0KDQppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLk9iamVjdE1hcHBlcjsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHMuKjsNCmltcG9ydCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHk7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7DQppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDsNCmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7DQppbXBvcnQgamF2YWZ4LnN0YWdlLkZpbGVDaG9vc2VyOw0KaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTsNCmltcG9ydCBqYXZhZnguc2NlbmUud2ViLldlYlZpZXc7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFiOw0KaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5Cb29sZWFuUHJvcGVydHk7DQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZUJvb2xlYW5Qcm9wZXJ0eTsNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLnJlcG9ydHMuRnVuY3Rpb25hbFRlc3RSZXBvcnQ7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLnJlcG9ydHMuSHRtbFN1bW1hcnlSZXBvcnRHZW5lcmF0b3I7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5DaGVja1R5cGU7DQoNCmltcG9ydCBqYXZhLmlvLkZpbGU7DQppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLm5ldC5VUkw7DQppbXBvcnQgamF2YS51dGlsLk1hcDsNCmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5IQm94Ow0KDQpwdWJsaWMgY2xhc3MgR2F0bGluZ1Rlc3RSZXBvcnRWaWV3TW9kZWwgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHsNCg0KICAgIC8vPGVkaXRvci1mb2xkIGRlc2M9IkZYTUwgRmllbGRzIj4NCiAgICBARlhNTA0KICAgIHByaXZhdGUgVHJlZVRhYmxlVmlldzxPYmplY3Q+IHJlcXVlc3RzVHJlZVRhYmxlVmlldzsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVHJlZVRhYmxlQ29sdW1uPE9iamVjdCwgU3RyaW5nPiBuYW1lQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUcmVlVGFibGVDb2x1bW48T2JqZWN0LCBTdHJpbmc+IHN0YXR1c0NvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVHJlZVRhYmxlQ29sdW1uPE9iamVjdCwgU3RyaW5nPiByZXN1bHRDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYlBhbmUgZGV0YWlsc1RhYlBhbmU7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYiBjaGVja3NUYWI7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIExhYmVsIG1ldGhvZExhYmVsOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBMYWJlbCB1cmxMYWJlbDsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGV4dEFyZWEgcmVxdWVzdEhlYWRlcnNUZXh0QXJlYTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGV4dEFyZWEgcmVxdWVzdEJvZHlUZXh0QXJlYTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgTGFiZWwgcmVzcG9uc2VTdGF0dXNMYWJlbDsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgTGFiZWwgbGF0ZW5jeUxhYmVsOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBMYWJlbCBzaXplTGFiZWw7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRleHRBcmVhIHJlc3BvbnNlSGVhZGVyc1RleHRBcmVhOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUZXh0QXJlYSByZXNwb25zZUJvZHlUZXh0QXJlYTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVWaWV3PENoZWNrUmVwb3J0PiBjaGVja3NUYWJsZVZpZXc7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPENoZWNrUmVwb3J0LCBTdHJpbmc+IGNoZWNrVHlwZUNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48Q2hlY2tSZXBvcnQsIFN0cmluZz4gY2hlY2tFeHByZXNzaW9uQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxDaGVja1JlcG9ydCwgU3RyaW5nPiBjaGVja09wZXJhdG9yQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxDaGVja1JlcG9ydCwgU3RyaW5nPiBjaGVja0V4cGVjdGVkQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxDaGVja1JlcG9ydCwgU3RyaW5nPiBjaGVja0FjdHVhbENvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48Q2hlY2tSZXBvcnQsIFN0cmluZz4gY2hlY2tSZXN1bHRDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIGphdmFmeC5zY2VuZS5jb250cm9sLkNvbWJvQm94PEZpbGU+IHJlY2VudEZpbGVzQ29tYm87DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFdlYlZpZXcgc3VtbWFyeVdlYlZpZXc7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYiBzdW1tYXJ5VGFiOw0KICAgIC8vPC9lZGl0b3ItZm9sZD4NCg0KICAgIHByaXZhdGUgamF2YS5uaW8uZmlsZS5QYXRoIGxhc3REaXI7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIE5ld2x5IGFkZGVkIGZpZWxkcw0KICAgIHByaXZhdGUgamF2YS51dGlsLkxpc3Q8Y29tLnFhLmFwcC5tb2RlbC5yZXBvcnRzLkZ1bmN0aW9uYWxUZXN0UmVwb3J0PiBjdXJyZW50UmVwb3J0cyA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PD4oKTsNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQogICAgcHJpdmF0ZSBmaW5hbCBCb29sZWFuUHJvcGVydHkgYWxsRXhwYW5kZWQgPSBuZXcgU2ltcGxlQm9vbGVhblByb3BlcnR5KHRydWUpOw0KDQogICAgcHVibGljIHZvaWQgcmVmcmVzaCgpIHsNCiAgICAgICAgbG9hZExhc3REaXJBbmRGaWxlcygpOw0KICAgIH0NCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHsNCiAgICAgICAgc2V0dXBDb2x1bW5zKCk7DQogICAgICAgIHNldHVwU2VsZWN0aW9uTGlzdGVuZXIoKTsNCiAgICAgICAgY2xlYXJEZXRhaWxzKCk7DQoNCiAgICAgICAgLy8gQ29uZmlndXJlIENvbWJvQm94IHRvIGRpc3BsYXkgZmlsZSBuYW1lcw0KICAgICAgICByZWNlbnRGaWxlc0NvbWJvLnNldENlbGxGYWN0b3J5KHBhcmFtIC0+IG5ldyBMaXN0Q2VsbDw+KCkgew0KICAgICAgICAgICAgQE92ZXJyaWRlDQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKEZpbGUgaXRlbSwgYm9vbGVhbiBlbXB0eSkgew0KICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpOw0KICAgICAgICAgICAgICAgIHNldFRleHQoZW1wdHkgfHwgaXRlbSA9PSBudWxsID8gbnVsbCA6IGl0ZW0uZ2V0TmFtZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJlY2VudEZpbGVzQ29tYm8uc2V0QnV0dG9uQ2VsbChuZXcgTGlzdENlbGw8PigpIHsNCiAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShGaWxlIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHsNCiAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgICAgICBzZXRUZXh0KGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCA/IG51bGwgOiBpdGVtLmdldE5hbWUoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIERlZmF1bHQgc2VsZWN0IENoZWNrcyB0YWINCiAgICAgICAgaWYgKGRldGFpbHNUYWJQYW5lICE9IG51bGwpIHsNCiAgICAgICAgICAgIGlmIChjaGVja3NUYWIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGRldGFpbHNUYWJQYW5lLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGNoZWNrc1RhYik7DQogICAgICAgICAgICB9IGVsc2UgaWYgKCFkZXRhaWxzVGFiUGFuZS5nZXRUYWJzKCkuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgLy8gc2VsZWN0IGxhc3QgdGFiIChhc3N1bWVkIENoZWNrcykgaWYgZng6aWQgbm90IGluamVjdGVkDQogICAgICAgICAgICAgICAgZGV0YWlsc1RhYlBhbmUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoZGV0YWlsc1RhYlBhbmUuZ2V0VGFicygpLnNpemUoKSAtIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGxvYWRMYXN0RGlyQW5kRmlsZXMoKTsNCg0KICAgICAgICAvLyBFbnN1cmUgc3VtbWFyeSB0YWIgc3RhcnRzIGRpc2FibGVkIChGWE1MIHNldHMgaXQsIGJ1dCB3ZSBkb3VibGUtY2hlY2spDQogICAgICAgIGlmIChzdW1tYXJ5VGFiICE9IG51bGwpIHN1bW1hcnlUYWIuc2V0RGlzYWJsZSh0cnVlKTsNCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVMb2FkUmVwb3J0KCkgew0KICAgICAgICBGaWxlQ2hvb3NlciBmaWxlQ2hvb3NlciA9IG5ldyBGaWxlQ2hvb3NlcigpOw0KICAgICAgICBmaWxlQ2hvb3Nlci5zZXRUaXRsZSgiT3BlbiBSZXBvcnQgRmlsZSIpOw0KICAgICAgICBmaWxlQ2hvb3Nlci5nZXRFeHRlbnNpb25GaWx0ZXJzKCkuYWRkQWxsKA0KICAgICAgICAgICAgICAgIG5ldyBGaWxlQ2hvb3Nlci5FeHRlbnNpb25GaWx0ZXIoIkpTT04gRmlsZXMiLCAiKi5qc29uIiksDQogICAgICAgICAgICAgICAgbmV3IEZpbGVDaG9vc2VyLkV4dGVuc2lvbkZpbHRlcigiQWxsIEZpbGVzIiwgIiouKiIpKTsNCiAgICAgICAgaWYgKGxhc3REaXIgIT0gbnVsbCAmJiBqYXZhLm5pby5maWxlLkZpbGVzLmlzRGlyZWN0b3J5KGxhc3REaXIpKSB7DQogICAgICAgICAgICBmaWxlQ2hvb3Nlci5zZXRJbml0aWFsRGlyZWN0b3J5KGxhc3REaXIudG9GaWxlKCkpOw0KICAgICAgICB9DQogICAgICAgIEZpbGUgc2VsZWN0ZWRGaWxlID0gZmlsZUNob29zZXIuc2hvd09wZW5EaWFsb2cobmV3IFN0YWdlKCkpOw0KICAgICAgICBpZiAoc2VsZWN0ZWRGaWxlICE9IG51bGwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgU3RyaW5nIGpzb25Db250ZW50ID0gbmV3IFN0cmluZyhqYXZhLm5pby5maWxlLkZpbGVzLnJlYWRBbGxCeXRlcyhzZWxlY3RlZEZpbGUudG9QYXRoKCkpKTsNCiAgICAgICAgICAgICAgICBsb2FkUmVwb3J0RGF0YShqc29uQ29udGVudCk7DQogICAgICAgICAgICAgICAgLy8gYWZ0ZXIgbG9hZCBzdWNjZXNzDQogICAgICAgICAgICAgICAgamF2YS5uaW8uZmlsZS5QYXRoIHNlbGVjdGVkUGF0aCA9IHNlbGVjdGVkRmlsZS50b1BhdGgoKTsNCiAgICAgICAgICAgICAgICBsYXN0RGlyID0gc2VsZWN0ZWRQYXRoLmdldFBhcmVudCgpOw0KICAgICAgICAgICAgICAgIGphdmEudXRpbC5wcmVmcy5QcmVmZXJlbmNlcy51c2VyTm9kZUZvclBhY2thZ2UoR2F0bGluZ1Rlc3RSZXBvcnRWaWV3TW9kZWwuY2xhc3MpLnB1dCgibGFzdFJlcG9ydERpciIsIGxhc3REaXIudG9TdHJpbmcoKSk7DQogICAgICAgICAgICAgICAgcmVmcmVzaFJlY2VudEZpbGVzKCk7DQogICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICAgICAgICAgICAgICAvLyBTaG93IGVycm9yIGFsZXJ0DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBsb2FkUmVwb3J0RGF0YShTdHJpbmcganNvbikgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgT2JqZWN0TWFwcGVyIG1hcHBlciA9IG5ldyBPYmplY3RNYXBwZXIoKTsNCg0KICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBKU09OIHJlcHJlc2VudHMgYSBzaW5nbGUgcmVwb3J0IG9yIGEgbGlzdCBvZiByZXBvcnRzDQogICAgICAgICAgICBjb20uZmFzdGVyeG1sLmphY2tzb24uZGF0YWJpbmQuSnNvbk5vZGUgcm9vdE5vZGUgPSBtYXBwZXIucmVhZFRyZWUoanNvbik7DQoNCiAgICAgICAgICAgIGlmIChyb290Tm9kZS5pc0FycmF5KCkpIHsNCiAgICAgICAgICAgICAgICAvLyBBZ2dyZWdhdGVkIGJhdGNoIGZpbGUNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxGdW5jdGlvbmFsVGVzdFJlcG9ydD4gcmVwb3J0cyA9IG1hcHBlci5yZWFkVmFsdWUoanNvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uY29yZS50eXBlLlR5cGVSZWZlcmVuY2U8amF2YS51dGlsLkxpc3Q8RnVuY3Rpb25hbFRlc3RSZXBvcnQ+PigpIHt9KTsNCiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0cyA9IHJlcG9ydHM7IC8vIHN0b3JlDQogICAgICAgICAgICAgICAgcG9wdWxhdGVSZXBvcnRzKHJlcG9ydHMpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBTaW5nbGUgcmVwb3J0IGZpbGUgKGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpDQogICAgICAgICAgICAgICAgRnVuY3Rpb25hbFRlc3RSZXBvcnQgcmVwb3J0ID0gbWFwcGVyLnJlYWRWYWx1ZShqc29uLCBGdW5jdGlvbmFsVGVzdFJlcG9ydC5jbGFzcyk7DQogICAgICAgICAgICAgICAgY3VycmVudFJlcG9ydHMgPSBqYXZhLnV0aWwuTGlzdC5vZihyZXBvcnQpOyAvLyBzdG9yZQ0KICAgICAgICAgICAgICAgIHBvcHVsYXRlUmVwb3J0KHJlcG9ydCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgICAgICAvLyBIYW5kbGUgZXJyb3IsIG1heWJlIHNob3cgYW4gYWxlcnQNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBTdXBwcmVzc1dhcm5pbmdzKCJkZXByZWNhdGlvbiIpDQogICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29sdW1ucygpIHsNCiAgICAgICAgbmFtZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KHAgLT4gew0KICAgICAgICAgICAgaWYgKHAgPT0gbnVsbCB8fCBwLmdldFZhbHVlKCkgPT0gbnVsbCB8fCBwLmdldFZhbHVlKCkuZ2V0VmFsdWUoKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgiIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBPYmplY3QgdmFsdWUgPSBwLmdldFZhbHVlKCkuZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uYWxUZXN0UmVwb3J0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgoKEZ1bmN0aW9uYWxUZXN0UmVwb3J0KSB2YWx1ZSkuZ2V0T3JpZ2luVGNpZCgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZyBzdHIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KHN0cik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBNb2RlR3JvdXApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCgoTW9kZUdyb3VwKSB2YWx1ZSkuZ2V0TW9kZSgpLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENhc2VSZXBvcnQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCgoQ2FzZVJlcG9ydCkgdmFsdWUpLmdldFRjaWQoKSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVxdWVzdFJlcG9ydCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoKChSZXF1ZXN0UmVwb3J0KSB2YWx1ZSkuZ2V0UmVxdWVzdE5hbWUoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCIiKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgc3RhdHVzQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkocCAtPiB7DQogICAgICAgICAgICBpZiAocCA9PSBudWxsIHx8IHAuZ2V0VmFsdWUoKSA9PSBudWxsIHx8IHAuZ2V0VmFsdWUoKS5nZXRWYWx1ZSgpID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCIiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIE9iamVjdCB2YWx1ZSA9IHAuZ2V0VmFsdWUoKS5nZXRWYWx1ZSgpOw0KICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb25hbFRlc3RSZXBvcnQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCIiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlcXVlc3RSZXBvcnQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KCgoUmVxdWVzdFJlcG9ydCkgdmFsdWUpLmdldFN0YXR1cygpKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBDYXNlUmVwb3J0IGNyKSB7DQogICAgICAgICAgICAgICAgaWYgKGNyLmdldEl0ZW1zKCkuc2l6ZSgpID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjci5nZXRJdGVtcygpLmdldCgwKS5nZXRTdGF0dXMoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgiIik7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJlc3VsdENvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KHAgLT4gew0KICAgICAgICAgICAgaWYgKHAgPT0gbnVsbCB8fCBwLmdldFZhbHVlKCkgPT0gbnVsbCB8fCBwLmdldFZhbHVlKCkuZ2V0VmFsdWUoKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgiIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBPYmplY3QgdmFsdWUgPSBwLmdldFZhbHVlKCkuZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uYWxUZXN0UmVwb3J0KSB7DQogICAgICAgICAgICAgICAgYm9vbGVhbiBwYXNzZWQgPSAoKEZ1bmN0aW9uYWxUZXN0UmVwb3J0KSB2YWx1ZSkuZ2V0R3JvdXBzKCkuc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5mbGF0TWFwKGcgLT4gZy5nZXRDYXNlcygpLnN0cmVhbSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmFsbE1hdGNoKENhc2VSZXBvcnQ6OmlzUGFzc2VkKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KHBhc3NlZCA/ICJQQVNTIiA6ICJGQUlMIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDYXNlUmVwb3J0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgoKENhc2VSZXBvcnQpIHZhbHVlKS5pc1Bhc3NlZCgpID8gIlBBU1MiIDogIkZBSUwiKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZXF1ZXN0UmVwb3J0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eSgoKFJlcXVlc3RSZXBvcnQpIHZhbHVlKS5pc1Bhc3NlZCgpID8gIlBBU1MiIDogIkZBSUwiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoIiIpOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIC8vIENvbG9yLWNvZGUgUEFTUy9GQUlMIGluIHJlc3VsdCBjb2x1bW4NCiAgICAgICAgcmVzdWx0Q29sdW1uLnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVHJlZVRhYmxlQ2VsbDw+KCkgew0KICAgICAgICAgICAgQE92ZXJyaWRlDQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7DQogICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSgiIik7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChpdGVtKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCJQQVNTIi5lcXVhbHNJZ25vcmVDYXNlKGl0ZW0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSgiLWZ4LXRleHQtZmlsbDogZ3JlZW47Iik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIkZBSUwiLmVxdWFsc0lnbm9yZUNhc2UoaXRlbSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKCItZngtdGV4dC1maWxsOiByZWQ7Iik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSgiIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIGNoZWNrVHlwZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldFR5cGUoKS50b1N0cmluZygpKSk7DQogICAgICAgIGNoZWNrRXhwcmVzc2lvbkNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldEV4cHJlc3Npb24oKSkpOw0KICAgICAgICBjaGVja09wZXJhdG9yQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGxEYXRhLmdldFZhbHVlKCkuZ2V0T3BlcmF0b3IoKS50b1N0cmluZygpKSk7DQogICAgICAgIGNoZWNrRXhwZWN0ZWRDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXRFeHBlY3QoKSkpOw0KICAgICAgICBjaGVja0FjdHVhbENvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldEFjdHVhbCgpKSk7DQogICAgICAgIGNoZWNrUmVzdWx0Q29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGxEYXRhLmdldFZhbHVlKCkuaXNQYXNzZWQoKSA/ICJQQVNTIiA6ICJGQUlMIikpOw0KDQogICAgICAgIC8vIENvbG9yLWNvZGUgUEFTUy9GQUlMIGluIGNoZWNrcyB0YWJsZSByZXN1bHQgY29sdW1uDQogICAgICAgIGNoZWNrUmVzdWx0Q29sdW1uLnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVDZWxsPENoZWNrUmVwb3J0LCBTdHJpbmc+KCkgew0KICAgICAgICAgICAgQE92ZXJyaWRlDQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7DQogICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSgiIik7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChpdGVtKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCJQQVNTIi5lcXVhbHNJZ25vcmVDYXNlKGl0ZW0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSgiLWZ4LXRleHQtZmlsbDogZ3JlZW47Iik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIkZBSUwiLmVxdWFsc0lnbm9yZUNhc2UoaXRlbSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKCItZngtdGV4dC1maWxsOiByZWQ7Iik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSgiIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIEN1c3RvbSBjZWxsIGZhY3RvcnkgZm9yIHRoZSBleHByZXNzaW9uIGNvbHVtbiB0byBmb3JtYXQgREIgY2hlY2tzDQogICAgICAgIGNoZWNrRXhwcmVzc2lvbkNvbHVtbi5zZXRDZWxsRmFjdG9yeShjb2x1bW4gLT4gbmV3IFRhYmxlQ2VsbDw+KCkgew0KICAgICAgICAgICAgcHJpdmF0ZSBmaW5hbCBPYmplY3RNYXBwZXIgbWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigpOw0KDQogICAgICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHsNCiAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgaXRlbSA9PSBudWxsIHx8IGdldFRhYmxlUm93KCkgPT0gbnVsbCB8fCBnZXRUYWJsZVJvdygpLmdldEl0ZW0oKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXAobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBDaGVja1JlcG9ydCBjaGVja1JlcG9ydCA9IChDaGVja1JlcG9ydCkgZ2V0VGFibGVSb3coKS5nZXRJdGVtKCk7DQogICAgICAgICAgICAgICAgaWYgKGNoZWNrUmVwb3J0LmdldFR5cGUoKSA9PSBDaGVja1R5cGUuREIpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gZGJJbmZvID0gbWFwcGVyLnJlYWRWYWx1ZShpdGVtLCBuZXcgY29tLmZhc3RlcnhtbC5qYWNrc29uLmNvcmUudHlwZS5UeXBlUmVmZXJlbmNlPE1hcDxTdHJpbmcsIFN0cmluZz4+KCkge30pOw0KICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGFsaWFzID0gZGJJbmZvLmdldE9yRGVmYXVsdCgiYWxpYXMiLCAiTi9BIik7DQogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgY29sdW1uID0gZGJJbmZvLmdldE9yRGVmYXVsdCgiY29sdW1uIiwgIk4vQSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHNxbCA9IGRiSW5mby5nZXRPckRlZmF1bHQoInNxbCIsICIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHN1bW1hcnkgPSBTdHJpbmcuZm9ybWF0KCJBbGlhczogJXMsIENvbDogJXMiLCBhbGlhcywgY29sdW1uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoc3VtbWFyeSk7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3FsLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvb2x0aXAgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHNxbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcCh0b29sdGlwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcChudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChpdGVtKTsgLy8gRmFsbGJhY2sgdG8gcmF3IEpTT04gb24gcGFyc2luZyBlcnJvcg0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcChudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQoaXRlbSk7DQogICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXAobnVsbCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBDdXN0b20gY2VsbCB0byBlbWJlZCBleHBhbmQvY29sbGFwc2UgYnV0dG9ucyBvbiBST09UIHJvdw0KICAgICAgICBuYW1lQ29sdW1uLnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgVHJlZVRhYmxlQ2VsbDxPYmplY3QsIFN0cmluZz4oKSB7DQogICAgICAgICAgICBwcml2YXRlIGZpbmFsIEJ1dHRvbiBleHBhbmRCdXR0b24gPSBuZXcgQnV0dG9uKCIrIik7DQogICAgICAgICAgICBwcml2YXRlIGZpbmFsIEJ1dHRvbiBjb2xsYXBzZUJ1dHRvbiA9IG5ldyBCdXR0b24oIi0iKTsNCiAgICAgICAgICAgIHByaXZhdGUgZmluYWwgTGFiZWwgcm9vdExhYmVsID0gbmV3IExhYmVsKCJBZ2dyZWdhdGVkIFJlc3VsdHMiKTsNCiAgICAgICAgICAgIHByaXZhdGUgZmluYWwgSEJveCBncmFwaGljID0gbmV3IEhCb3goMTAsIHJvb3RMYWJlbCwgZXhwYW5kQnV0dG9uLCBjb2xsYXBzZUJ1dHRvbik7DQoNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBleHBhbmRCdXR0b24uc2V0UHJlZldpZHRoKDMwKTsNCiAgICAgICAgICAgICAgICBleHBhbmRCdXR0b24uc2V0UHJlZkhlaWdodCgyMCk7DQogICAgICAgICAgICAgICAgY29sbGFwc2VCdXR0b24uc2V0UHJlZldpZHRoKDMwKTsNCiAgICAgICAgICAgICAgICBjb2xsYXBzZUJ1dHRvbi5zZXRQcmVmSGVpZ2h0KDIwKTsNCiAgICAgICAgICAgICAgICBncmFwaGljLnNldEFsaWdubWVudChqYXZhZnguZ2VvbWV0cnkuUG9zLkNFTlRFUl9MRUZUKTsNCiAgICAgICAgICAgICAgICBleHBhbmRCdXR0b24uc2V0T25BY3Rpb24oZSAtPiBoYW5kbGVFeHBhbmRBbGwoKSk7DQogICAgICAgICAgICAgICAgY29sbGFwc2VCdXR0b24uc2V0T25BY3Rpb24oZSAtPiBoYW5kbGVDb2xsYXBzZUFsbCgpKTsNCiAgICAgICAgICAgICAgICBleHBhbmRCdXR0b24uZGlzYWJsZVByb3BlcnR5KCkuYmluZChhbGxFeHBhbmRlZCk7DQogICAgICAgICAgICAgICAgY29sbGFwc2VCdXR0b24uZGlzYWJsZVByb3BlcnR5KCkuYmluZChhbGxFeHBhbmRlZC5ub3QoKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShTdHJpbmcgaXRlbSwgYm9vbGVhbiBlbXB0eSkgew0KICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpOw0KICAgICAgICAgICAgICAgIGlmIChlbXB0eSkgew0KICAgICAgICAgICAgICAgICAgICBzZXRHcmFwaGljKG51bGwpOw0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIFRyZWVJdGVtPE9iamVjdD4gdHJlZUl0ZW0gPSBnZXRUcmVlVGFibGVSb3coKSAhPSBudWxsID8gZ2V0VHJlZVRhYmxlUm93KCkuZ2V0VHJlZUl0ZW0oKSA6IG51bGw7DQogICAgICAgICAgICAgICAgICAgIGlmICh0cmVlSXRlbSAhPSBudWxsICYmIHRyZWVJdGVtLmdldFBhcmVudCgpID09IG51bGwpIHsgLy8gTW9yZSByb2J1c3QgY2hlY2sgZm9yIHJvb3QNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldEdyYXBoaWMoZ3JhcGhpYyk7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0R3JhcGhpYyhudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoaXRlbSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzZXR1cFNlbGVjdGlvbkxpc3RlbmVyKCkgew0KICAgICAgICByZXF1ZXN0c1RyZWVUYWJsZVZpZXcuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RlZEl0ZW1Qcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnMsIG9sZFNlbGVjdGlvbiwgbmV3U2VsZWN0aW9uKSAtPiB7DQogICAgICAgICAgICBpZiAobmV3U2VsZWN0aW9uID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBjbGVhckRldGFpbHMoKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIE9iamVjdCB2YWwgPSBuZXdTZWxlY3Rpb24uZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBSZXF1ZXN0UmVwb3J0KSB7DQogICAgICAgICAgICAgICAgcG9wdWxhdGVEZXRhaWxzKChSZXF1ZXN0UmVwb3J0KSB2YWwpOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBDYXNlUmVwb3J0IGNyKSB7DQogICAgICAgICAgICAgICAgLy8gQXV0by1zaG93IGRldGFpbHMgaWYgb25seSBvbmUgcmVxdWVzdCBleGlzdHMNCiAgICAgICAgICAgICAgICBpZiAoY3IuZ2V0SXRlbXMoKSAhPSBudWxsICYmIGNyLmdldEl0ZW1zKCkuc2l6ZSgpID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVEZXRhaWxzKGNyLmdldEl0ZW1zKCkuZ2V0KDApKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjbGVhckRldGFpbHMoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNsZWFyRGV0YWlscygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgcG9wdWxhdGVSZXBvcnQoRnVuY3Rpb25hbFRlc3RSZXBvcnQgcmVwb3J0KSB7DQogICAgICAgIFRyZWVJdGVtPE9iamVjdD4gcm9vdCA9IG5ldyBUcmVlSXRlbTw+KCJST09UIik7DQogICAgICAgIHJvb3Quc2V0RXhwYW5kZWQodHJ1ZSk7DQogICAgICAgIHJlcXVlc3RzVHJlZVRhYmxlVmlldy5zZXRSb290KHJvb3QpOw0KICAgICAgICByZXF1ZXN0c1RyZWVUYWJsZVZpZXcuc2V0U2hvd1Jvb3QodHJ1ZSk7DQogICAgICAgIGFsbEV4cGFuZGVkLnNldCh0cnVlKTsgLy8gUmVzZXQgZXhwYW5kL2NvbGxhcHNlIHN0YXRlDQoNCiAgICAgICAgVHJlZUl0ZW08T2JqZWN0PiByZXBvcnRJdGVtID0gbmV3IFRyZWVJdGVtPD4ocmVwb3J0KTsNCiAgICAgICAgcmVwb3J0SXRlbS5zZXRFeHBhbmRlZCh0cnVlKTsNCiAgICAgICAgcm9vdC5nZXRDaGlsZHJlbigpLmFkZChyZXBvcnRJdGVtKTsNCg0KICAgICAgICBmb3IgKE1vZGVHcm91cCBncm91cCA6IHJlcG9ydC5nZXRHcm91cHMoKSkgew0KICAgICAgICAgICAgVHJlZUl0ZW08T2JqZWN0PiBncm91cEl0ZW0gPSBuZXcgVHJlZUl0ZW08Pihncm91cCk7DQogICAgICAgICAgICBncm91cEl0ZW0uc2V0RXhwYW5kZWQodHJ1ZSk7DQogICAgICAgICAgICByZXBvcnRJdGVtLmdldENoaWxkcmVuKCkuYWRkKGdyb3VwSXRlbSk7DQogICAgICAgICAgICBmb3IgKENhc2VSZXBvcnQgY2FzZVJlcG9ydCA6IGdyb3VwLmdldENhc2VzKCkpIHsNCiAgICAgICAgICAgICAgICBUcmVlSXRlbTxPYmplY3Q+IGNhc2VJdGVtID0gbmV3IFRyZWVJdGVtPD4oY2FzZVJlcG9ydCk7DQogICAgICAgICAgICAgICAgY2FzZUl0ZW0uc2V0RXhwYW5kZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgZ3JvdXBJdGVtLmdldENoaWxkcmVuKCkuYWRkKGNhc2VJdGVtKTsNCiAgICAgICAgICAgICAgICBpZiAoY2FzZVJlcG9ydC5nZXRJdGVtcygpLnNpemUoKSA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChSZXF1ZXN0UmVwb3J0IHJlcXVlc3RSZXBvcnQgOiBjYXNlUmVwb3J0LmdldEl0ZW1zKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2VJdGVtLmdldENoaWxkcmVuKCkuYWRkKG5ldyBUcmVlSXRlbTw+KHJlcXVlc3RSZXBvcnQpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBwb3B1bGF0ZURldGFpbHMoUmVxdWVzdFJlcG9ydCByZXBvcnQpIHsNCiAgICAgICAgUmVxdWVzdEluZm8gcmVxdWVzdEluZm8gPSByZXBvcnQuZ2V0UmVxdWVzdCgpOw0KICAgICAgICBtZXRob2RMYWJlbC5zZXRUZXh0KHJlcXVlc3RJbmZvLmdldE1ldGhvZCgpKTsNCiAgICAgICAgdXJsTGFiZWwuc2V0VGV4dChyZXF1ZXN0SW5mby5nZXRVcmwoKSk7DQogICAgICAgIHJlcXVlc3RIZWFkZXJzVGV4dEFyZWEuc2V0VGV4dChmb3JtYXRIZWFkZXJzKHJlcXVlc3RJbmZvLmdldEhlYWRlcnMoKSkpOw0KICAgICAgICByZXF1ZXN0Qm9keVRleHRBcmVhLnNldFRleHQocmVxdWVzdEluZm8uZ2V0Qm9keSgpKTsNCg0KICAgICAgICBSZXNwb25zZUluZm8gcmVzcG9uc2VJbmZvID0gcmVwb3J0LmdldFJlc3BvbnNlKCk7DQogICAgICAgIHJlc3BvbnNlU3RhdHVzTGFiZWwuc2V0VGV4dChTdHJpbmcudmFsdWVPZihyZXNwb25zZUluZm8uZ2V0U3RhdHVzKCkpKTsNCiAgICAgICAgbGF0ZW5jeUxhYmVsLnNldFRleHQoU3RyaW5nLnZhbHVlT2YocmVzcG9uc2VJbmZvLmdldExhdGVuY3lNcygpKSk7DQogICAgICAgIHNpemVMYWJlbC5zZXRUZXh0KFN0cmluZy52YWx1ZU9mKHJlc3BvbnNlSW5mby5nZXRTaXplQnl0ZXMoKSkpOw0KICAgICAgICByZXNwb25zZUhlYWRlcnNUZXh0QXJlYS5zZXRUZXh0KGZvcm1hdEhlYWRlcnMocmVzcG9uc2VJbmZvLmdldEhlYWRlcnMoKSkpOw0KICAgICAgICByZXNwb25zZUJvZHlUZXh0QXJlYS5zZXRUZXh0KHJlc3BvbnNlSW5mby5nZXRCb2R5U2FtcGxlKCkpOw0KDQogICAgICAgIGNoZWNrc1RhYmxlVmlldy5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QocmVwb3J0LmdldENoZWNrcygpKSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGNsZWFyRGV0YWlscygpIHsNCiAgICAgICAgbWV0aG9kTGFiZWwuc2V0VGV4dCgiLSIpOw0KICAgICAgICB1cmxMYWJlbC5zZXRUZXh0KCItIik7DQogICAgICAgIHJlcXVlc3RIZWFkZXJzVGV4dEFyZWEuY2xlYXIoKTsNCiAgICAgICAgcmVxdWVzdEJvZHlUZXh0QXJlYS5jbGVhcigpOw0KICAgICAgICByZXNwb25zZVN0YXR1c0xhYmVsLnNldFRleHQoIi0iKTsNCiAgICAgICAgbGF0ZW5jeUxhYmVsLnNldFRleHQoIi0iKTsNCiAgICAgICAgc2l6ZUxhYmVsLnNldFRleHQoIi0iKTsNCiAgICAgICAgcmVzcG9uc2VIZWFkZXJzVGV4dEFyZWEuY2xlYXIoKTsNCiAgICAgICAgcmVzcG9uc2VCb2R5VGV4dEFyZWEuY2xlYXIoKTsNCiAgICAgICAgY2hlY2tzVGFibGVWaWV3LmdldEl0ZW1zKCkuY2xlYXIoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIFN0cmluZyBmb3JtYXRIZWFkZXJzKE1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVycykgew0KICAgICAgICBpZiAoaGVhZGVycyA9PSBudWxsKSByZXR1cm4gIiI7DQogICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOw0KICAgICAgICBmb3IgKE1hcC5FbnRyeTxTdHJpbmcsIFN0cmluZz4gZW50cnkgOiBoZWFkZXJzLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgIHNiLmFwcGVuZChlbnRyeS5nZXRLZXkoKSkuYXBwZW5kKCI6ICIpLmFwcGVuZChlbnRyeS5nZXRWYWx1ZSgpKS5hcHBlbmQoIlxuIik7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogUG9wdWxhdGUgVUkgd2l0aCBtdWx0aXBsZSBGdW5jdGlvbmFsVGVzdFJlcG9ydCBvYmplY3RzIChhZ2dyZWdhdGVkIGJhdGNoIGZpbGUpLg0KICAgICAqLw0KICAgIHByaXZhdGUgdm9pZCBwb3B1bGF0ZVJlcG9ydHMoamF2YS51dGlsLkxpc3Q8RnVuY3Rpb25hbFRlc3RSZXBvcnQ+IHJlcG9ydHMpIHsNCiAgICAgICAgaWYgKHJlcG9ydHMgPT0gbnVsbCB8fCByZXBvcnRzLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgVHJlZUl0ZW08T2JqZWN0PiByb290ID0gbmV3IFRyZWVJdGVtPD4oIlJPT1QiKTsNCiAgICAgICAgcm9vdC5zZXRFeHBhbmRlZCh0cnVlKTsNCiAgICAgICAgcmVxdWVzdHNUcmVlVGFibGVWaWV3LnNldFJvb3Qocm9vdCk7DQogICAgICAgIHJlcXVlc3RzVHJlZVRhYmxlVmlldy5zZXRTaG93Um9vdCh0cnVlKTsNCiAgICAgICAgYWxsRXhwYW5kZWQuc2V0KHRydWUpOyAvLyBSZXNldCBleHBhbmQvY29sbGFwc2Ugc3RhdGUNCg0KICAgICAgICBmb3IgKEZ1bmN0aW9uYWxUZXN0UmVwb3J0IHJlcG9ydCA6IHJlcG9ydHMpIHsNCiAgICAgICAgICAgIFRyZWVJdGVtPE9iamVjdD4gcmVwb3J0SXRlbSA9IG5ldyBUcmVlSXRlbTw+KHJlcG9ydCk7DQogICAgICAgICAgICByZXBvcnRJdGVtLnNldEV4cGFuZGVkKHRydWUpOw0KICAgICAgICAgICAgcm9vdC5nZXRDaGlsZHJlbigpLmFkZChyZXBvcnRJdGVtKTsNCg0KICAgICAgICAgICAgZm9yIChNb2RlR3JvdXAgZ3JvdXAgOiByZXBvcnQuZ2V0R3JvdXBzKCkpIHsNCiAgICAgICAgICAgICAgICBUcmVlSXRlbTxPYmplY3Q+IGdyb3VwSXRlbSA9IG5ldyBUcmVlSXRlbTw+KGdyb3VwKTsNCiAgICAgICAgICAgICAgICBncm91cEl0ZW0uc2V0RXhwYW5kZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgcmVwb3J0SXRlbS5nZXRDaGlsZHJlbigpLmFkZChncm91cEl0ZW0pOw0KDQogICAgICAgICAgICAgICAgZm9yIChDYXNlUmVwb3J0IGNhc2VSZXBvcnQgOiBncm91cC5nZXRDYXNlcygpKSB7DQogICAgICAgICAgICAgICAgICAgIFRyZWVJdGVtPE9iamVjdD4gY2FzZUl0ZW0gPSBuZXcgVHJlZUl0ZW08PihjYXNlUmVwb3J0KTsNCiAgICAgICAgICAgICAgICAgICAgY2FzZUl0ZW0uc2V0RXhwYW5kZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGdyb3VwSXRlbS5nZXRDaGlsZHJlbigpLmFkZChjYXNlSXRlbSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjYXNlUmVwb3J0LmdldEl0ZW1zKCkuc2l6ZSgpID4gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChSZXF1ZXN0UmVwb3J0IHJlcXVlc3RSZXBvcnQgOiBjYXNlUmVwb3J0LmdldEl0ZW1zKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlSXRlbS5nZXRDaGlsZHJlbigpLmFkZChuZXcgVHJlZUl0ZW08PihyZXF1ZXN0UmVwb3J0KSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgbG9hZExhc3REaXJBbmRGaWxlcygpIHsNCiAgICAgICAgamF2YS51dGlsLnByZWZzLlByZWZlcmVuY2VzIHByZWZzID0gamF2YS51dGlsLnByZWZzLlByZWZlcmVuY2VzLnVzZXJOb2RlRm9yUGFja2FnZShHYXRsaW5nVGVzdFJlcG9ydFZpZXdNb2RlbC5jbGFzcyk7DQogICAgICAgIFN0cmluZyBsYXN0RGlyUGF0aCA9IHByZWZzLmdldCgibGFzdFJlcG9ydERpciIsIG51bGwpOw0KDQogICAgICAgIGlmIChsYXN0RGlyUGF0aCAhPSBudWxsKSB7DQogICAgICAgICAgICBsYXN0RGlyID0gamF2YS5uaW8uZmlsZS5QYXRocy5nZXQobGFzdERpclBhdGgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gYSBkZWZhdWx0IGRpcmVjdG9yeSBpZiBubyBwcmVmZXJlbmNlIGlzIHNldA0KICAgICAgICAgICAgbGFzdERpciA9IGphdmEubmlvLmZpbGUuUGF0aHMuZ2V0KCJ0YXJnZXQvZ2F0bGluZyIpOw0KICAgICAgICB9DQogICAgICAgIHJlZnJlc2hSZWNlbnRGaWxlcygpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCByZWZyZXNoUmVjZW50RmlsZXMoKSB7DQogICAgICAgIHJlY2VudEZpbGVzQ29tYm8uZ2V0SXRlbXMoKS5jbGVhcigpOw0KICAgICAgICBpZiAobGFzdERpciAhPSBudWxsICYmIGphdmEubmlvLmZpbGUuRmlsZXMuaXNEaXJlY3RvcnkobGFzdERpcikpIHsNCiAgICAgICAgICAgIHRyeSAoamF2YS51dGlsLnN0cmVhbS5TdHJlYW08amF2YS5uaW8uZmlsZS5QYXRoPiBzdHJlYW0gPSBqYXZhLm5pby5maWxlLkZpbGVzLmxpc3QobGFzdERpcikpIHsNCiAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxGaWxlPiBqc29uRmlsZXMgPSBzdHJlYW0NCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocCAtPiBwLnRvU3RyaW5nKCkuZW5kc1dpdGgoIi5qc29uIikpDQogICAgICAgICAgICAgICAgICAgICAgICAubWFwKGphdmEubmlvLmZpbGUuUGF0aDo6dG9GaWxlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnRlZChqYXZhLnV0aWwuQ29tcGFyYXRvci5jb21wYXJpbmdMb25nKEZpbGU6Omxhc3RNb2RpZmllZCkucmV2ZXJzZWQoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jb2xsZWN0KGphdmEudXRpbC5zdHJlYW0uQ29sbGVjdG9ycy50b0xpc3QoKSk7DQogICAgICAgICAgICAgICAgcmVjZW50RmlsZXNDb21iby5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoanNvbkZpbGVzKSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoIWpzb25GaWxlcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBzZWxlY3QgYW5kIGxvYWQgdGhlIGxhdGVzdCByZXBvcnQgKHdoaWNoIGlzIG5vdyB0aGUgbGFzdCBpdGVtKQ0KICAgICAgICAgICAgICAgICAgICByZWNlbnRGaWxlc0NvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0Rmlyc3QoKTsNCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVjZW50U2VsZWN0aW9uKCk7IC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGxvYWRpbmcgdGhlIHJlcG9ydA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwgcHJpdmF0ZSB2b2lkIGhhbmRsZVJlY2VudFNlbGVjdGlvbigpIHsNCiAgICAgICAgRmlsZSBzZWxlY3RlZEZpbGUgPSByZWNlbnRGaWxlc0NvbWJvLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7DQogICAgICAgIGlmIChzZWxlY3RlZEZpbGUgIT0gbnVsbCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBTdHJpbmcganNvbkNvbnRlbnQgPSBuZXcgU3RyaW5nKGphdmEubmlvLmZpbGUuRmlsZXMucmVhZEFsbEJ5dGVzKHNlbGVjdGVkRmlsZS50b1BhdGgoKSkpOw0KICAgICAgICAgICAgICAgIGxvYWRSZXBvcnREYXRhKGpzb25Db250ZW50KTsNCiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbGFzdCBkaXJlY3RvcnkgcHJlZmVyZW5jZSB1cG9uIHN1Y2Nlc3NmdWwgbG9hZA0KICAgICAgICAgICAgICAgIGxhc3REaXIgPSBzZWxlY3RlZEZpbGUudG9QYXRoKCkuZ2V0UGFyZW50KCk7DQogICAgICAgICAgICAgICAgamF2YS51dGlsLnByZWZzLlByZWZlcmVuY2VzLnVzZXJOb2RlRm9yUGFja2FnZShHYXRsaW5nVGVzdFJlcG9ydFZpZXdNb2RlbC5jbGFzcykucHV0KCJsYXN0UmVwb3J0RGlyIiwgbGFzdERpci50b1N0cmluZygpKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICAgICAgICAgIC8vIFNob3cgZXJyb3IgYWxlcnQNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUV4cG9ydEh0bWwoKSB7DQogICAgICAgIGlmIChjdXJyZW50UmVwb3J0cyA9PSBudWxsIHx8IGN1cnJlbnRSZXBvcnRzLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5XQVJOSU5HLCAiUGxlYXNlIGxvYWQgYSByZXBvcnQgYmVmb3JlIGV4cG9ydGluZyB0aGUgSFRNTCBzdW1tYXJ5LiIpLnNob3dBbmRXYWl0KCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgamF2YS5uaW8uZmlsZS5QYXRoIHN1bW1hcnlEaXIgPSBqYXZhLm5pby5maWxlLlBhdGhzLmdldChTeXN0ZW0uZ2V0UHJvcGVydHkoInVzZXIuaG9tZSIpLCAiLmdhdGxpbmciKTsNCiAgICAgICAgICAgIGphdmEubmlvLmZpbGUuRmlsZXMuY3JlYXRlRGlyZWN0b3JpZXMoc3VtbWFyeURpcik7DQogICAgICAgICAgICBqYXZhLm5pby5maWxlLlBhdGggc3VtbWFyeVBhdGggPSBzdW1tYXJ5RGlyLnJlc29sdmUoImdhdGxpbmctc3VtbWFyeS5odG1sIik7DQogICAgICAgICAgICBIdG1sU3VtbWFyeVJlcG9ydEdlbmVyYXRvci5nZW5lcmF0ZUh0bWwoY3VycmVudFJlcG9ydHMsIHN1bW1hcnlQYXRoKTsNCg0KICAgICAgICAgICAgLy8gTG9hZCBpbnRvIGVtYmVkZGVkIFdlYlZpZXcNCiAgICAgICAgICAgIGlmIChzdW1tYXJ5V2ViVmlldyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgc3VtbWFyeVdlYlZpZXcuZ2V0RW5naW5lKCkubG9hZChzdW1tYXJ5UGF0aC50b1VyaSgpLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc3VtbWFyeVRhYiAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgc3VtbWFyeVRhYi5zZXREaXNhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggdG8gU3VtbWFyeSB0YWIgYXV0b21hdGljYWxseQ0KICAgICAgICAgICAgICAgIHN1bW1hcnlUYWIuZ2V0VGFiUGFuZSgpLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHN1bW1hcnlUYWIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHsNCiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpOw0KICAgICAgICAgICAgbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgIkZhaWxlZCB0byBleHBvcnQgSFRNTCBzdW1tYXJ5OiAiICsgZXguZ2V0TWVzc2FnZSgpKS5zaG93QW5kV2FpdCgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gRXhwYW5kL0NvbGxhcHNlIGhlbHBlcnMNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRXhwYW5kQWxsKCkgew0KICAgICAgICBUcmVlSXRlbTxPYmplY3Q+IHJvb3QgPSByZXF1ZXN0c1RyZWVUYWJsZVZpZXcuZ2V0Um9vdCgpOw0KICAgICAgICBpZiAocm9vdCAhPSBudWxsKSB7DQogICAgICAgICAgICBzZXRFeHBhbmRlZFJlY3Vyc2l2ZWx5KHJvb3QsIHRydWUpOw0KICAgICAgICB9DQogICAgICAgIGFsbEV4cGFuZGVkLnNldCh0cnVlKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ29sbGFwc2VBbGwoKSB7DQogICAgICAgIFRyZWVJdGVtPE9iamVjdD4gcm9vdCA9IHJlcXVlc3RzVHJlZVRhYmxlVmlldy5nZXRSb290KCk7DQogICAgICAgIGlmIChyb290ICE9IG51bGwpIHsNCiAgICAgICAgICAgIHNldEV4cGFuZGVkUmVjdXJzaXZlbHkocm9vdCwgZmFsc2UpOw0KICAgICAgICB9DQogICAgICAgIGFsbEV4cGFuZGVkLnNldChmYWxzZSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNldEV4cGFuZGVkUmVjdXJzaXZlbHkoVHJlZUl0ZW08Pz4gaXRlbSwgYm9vbGVhbiBleHBhbmRlZCkgew0KICAgICAgICAvLyBUaGUgcm9vdCBpdGVtIGl0c2VsZiBzaG91bGQgbm90IGJlIGNvbGxhcHNlZCwgb25seSBpdHMgY2hpbGRyZW4uDQogICAgICAgIGlmIChpdGVtICE9IHJlcXVlc3RzVHJlZVRhYmxlVmlldy5nZXRSb290KCkpIHsNCiAgICAgICAgICAgIGl0ZW0uc2V0RXhwYW5kZWQoZXhwYW5kZWQpOw0KICAgICAgICB9DQogICAgICAgIGZvciAoVHJlZUl0ZW08Pz4gY2hpbGQgOiBpdGVtLmdldENoaWxkcmVuKCkpIHsNCiAgICAgICAgICAgIHNldEV4cGFuZGVkUmVjdXJzaXZlbHkoY2hpbGQsIGV4cGFuZGVkKTsNCiAgICAgICAgfQ0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/ui/vm/GatlingTestViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOw0KDQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC4qOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuKjsNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC4qOw0KaW1wb3J0IGNvbS5xYS5hcHAudWkudm0uZ2F0bGluZy5UYWdIYW5kbGVyOw0KaW1wb3J0IGNvbS5xYS5hcHAudWkudm0uZ2F0bGluZy5UZW1wbGF0ZUhhbmRsZXI7DQppbXBvcnQgY29tLnFhLmFwcC51aS52bS5nYXRsaW5nLlRlc3RDb25kaWN0aW9uSGFuZGxlcjsNCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOw0KaW1wb3J0IGNvbS5xYS5hcHAudXRpbC5IZWxwVG9vbHRpcE1hbmFnZXI7DQppbXBvcnQgY29tLnFhLmFwcC5jb21tb24ubGlzdGVuZXJzLkFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5zY3JpcHQuVmFyaWFibGVHZW5lcmF0b3I7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0Ow0KaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7DQppbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLmNlbGwuQ2hlY2tCb3hUYWJsZUNlbGw7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5Db21ib0JveFRhYmxlQ2VsbDsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlByb3BlcnR5VmFsdWVGYWN0b3J5Ow0KaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuRmxvd1BhbmU7DQppbXBvcnQgb3JnLmNvbnRyb2xzZnguY29udHJvbC5DaGVja0NvbWJvQm94Ow0KaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5Cb29sZWFuUHJvcGVydHk7DQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZUJvb2xlYW5Qcm9wZXJ0eTsNCmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuTGlzdENoYW5nZUxpc3RlbmVyOw0KaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5PYmplY3RNYXBwZXI7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5UZXh0RmllbGRUYWJsZUNlbGw7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5SZXNwb25zZUNoZWNrOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuQ2hlY2tUeXBlOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuT3BlcmF0b3I7DQppbXBvcnQgamF2YWZ4LnV0aWwuY29udmVydGVyLkRlZmF1bHRTdHJpbmdDb252ZXJ0ZXI7DQppbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5Ow0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuR2F0bGluZ0xvYWRQYXJhbWV0ZXJzOw0KaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwudGhyZWFkZ3JvdXBzLlN0YW5kYXJkVGhyZWFkR3JvdXA7DQppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC50aHJlYWRncm91cHMuVGhyZWFkR3JvdXBUeXBlOw0KaW1wb3J0IGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5Qcm9qZWN0Q29udGV4dDsNCmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07DQppbXBvcnQgamF2YWZ4Lmdlb21ldHJ5LlBvaW50MkQ7DQppbXBvcnQgamF2YWZ4LnNjZW5lLk5vZGU7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5SZWdpb247DQppbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0czsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5MYWJlbDsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0QXJlYTsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5Db21ib0JveDsNCmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LkdyaWRQYW5lOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuSEJveDsNCmltcG9ydCBqYXZhLnV0aWwuT3B0aW9uYWw7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uQmFyOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuUGFuZTsNCmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlByaW9yaXR5Ow0KaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTsNCmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2U7DQoNCmltcG9ydCBqYXZhLm5ldC5VUkw7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTsNCmltcG9ydCBqYXZhLnV0aWwuc3RyZWFtLkNvbGxlY3RvcnM7DQoNCnB1YmxpYyBjbGFzcyBHYXRsaW5nVGVzdFZpZXdNb2RlbCBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUsIEFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyIHsNCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUZXh0RmllbGQgdGVzdElkRmllbGQ7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIENoZWNrQm94IGlzRW5hYmxlZENoZWNrQm94Ow0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IHN1aXRlQ29tYm9Cb3g7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRleHRGaWVsZCB0Y2lkRmllbGQ7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRleHRBcmVhIGRlc2NyaXB0aW9uc0FyZWE7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlVmlldzxDb25kaXRpb25Sb3c+IGNvbmRpdGlvbnNUYWJsZTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48Q29uZGl0aW9uUm93LCBTdHJpbmc+IHByZWZpeENvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48Q29uZGl0aW9uUm93LCBTdHJpbmc+IGNvbmRpdGlvblRjaWRDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIEJ1dHRvbiBhZGRDb25kaXRpb25CdXR0b247DQogICAgQEZYTUwNCiAgICBwcml2YXRlIEJ1dHRvbiByZW1vdmVDb25kaXRpb25CdXR0b247DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRleHRBcmVhIGV4cFJlc3VsdEFyZWE7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRleHRBcmVhIHNhdmVGaWVsZHNBcmVhOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IGVuZHBvaW50Q29tYm9Cb3g7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIENvbWJvQm94PFN0cmluZz4gYm9keVRlbXBsYXRlQ29tYm9Cb3g7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlVmlldzxEeW5hbWljVmFyaWFibGU+IGJvZHlEeW5hbWljVmFyc1RhYmxlOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxEeW5hbWljVmFyaWFibGUsIFN0cmluZz4gYm9keUR5bmFtaWNLZXlDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPER5bmFtaWNWYXJpYWJsZSwgU3RyaW5nPiBib2R5RHluYW1pY1ZhbHVlQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxEeW5hbWljVmFyaWFibGUsIFZvaWQ+IGJvZHlEeW5hbWljQWN0aW9uQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUZXh0RmllbGQgdGFnc0lucHV0RmllbGQ7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFNwaW5uZXI8SW50ZWdlcj4gd2FpdFRpbWVTcGlubmVyOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBCdXR0b24gYWRkQnV0dG9uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBCdXR0b24gdXBkYXRlQnV0dG9uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBCdXR0b24gZGVsZXRlQnV0dG9uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBCdXR0b24gY2xlYXJCdXR0b247DQogICAgQEZYTUwNCiAgICBwcml2YXRlIEJ1dHRvbiBydW5UZXN0QnV0dG9uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBCdXR0b24gdmlld1JlcG9ydEJ1dHRvbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgQnV0dG9uIG1vdmVVcEJ1dHRvbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgQnV0dG9uIG1vdmVEb3duQnV0dG9uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZVZpZXc8R2F0bGluZ1Rlc3Q+IHRlc3RUYWJsZTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48R2F0bGluZ1Rlc3QsIEJvb2xlYW4+IGlzRW5hYmxlZENvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48R2F0bGluZ1Rlc3QsIFN0cmluZz4gc3VpdGVDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEdhdGxpbmdUZXN0LCBTdHJpbmc+IHRlc3RUY2lkQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxHYXRsaW5nVGVzdCwgU3RyaW5nPiBkZXNjcmlwdGlvbnNDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEdhdGxpbmdUZXN0LCBTdHJpbmc+IGVuZHBvaW50Q29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxHYXRsaW5nVGVzdCwgU3RyaW5nPiB0YWdzQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxHYXRsaW5nVGVzdCwgSW50ZWdlcj4gd2FpdFRpbWVDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIENvbWJvQm94PFN0cmluZz4gaGVhZGVyc1RlbXBsYXRlQ29tYm9Cb3g7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlVmlldzxEeW5hbWljVmFyaWFibGU+IGhlYWRlcnNUZW1wbGF0ZVZhcnNUYWJsZTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBTdHJpbmc+IGhlYWRlcnNUZW1wbGF0ZUtleUNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBTdHJpbmc+IGhlYWRlcnNUZW1wbGF0ZVZhbHVlQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxEeW5hbWljVmFyaWFibGUsIFZvaWQ+IGhlYWRlcnNUZW1wbGF0ZUFjdGlvbkNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48R2F0bGluZ1Rlc3QsIFN0cmluZz4gaGVhZGVyc1RlbXBsYXRlTmFtZUNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48R2F0bGluZ1Rlc3QsIFN0cmluZz4gYm9keVRlbXBsYXRlTmFtZUNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgRmxvd1BhbmUgdGFnc0Zsb3dQYW5lOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUZXh0QXJlYSBnZW5lcmF0ZWRIZWFkZXJzQXJlYTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGV4dEFyZWEgZ2VuZXJhdGVkQm9keUFyZWE7DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgTGFiZWwgaGVhZGVyc0hlbHBJY29uOw0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIExhYmVsIGJvZHlIZWxwSWNvbjsNCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBMYWJlbCByZXNwb25zZUhlbHBJY29uOw0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIEJ1dHRvbiByZXNwb25zZUhlbHBCdXR0b247DQoNCiAgICAvLyBSZXNwb25zZSBDaGVja3MgVUkgRWxlbWVudHMNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVWaWV3PFJlc3BvbnNlQ2hlY2s+IHJlc3BvbnNlQ2hlY2tzVGFibGU7DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFJlc3BvbnNlQ2hlY2ssIENoZWNrVHlwZT4gY2hlY2tUeXBlQ29sdW1uOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxSZXNwb25zZUNoZWNrLCBTdHJpbmc+IGNoZWNrRXhwcmVzc2lvbkNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48UmVzcG9uc2VDaGVjaywgT3BlcmF0b3I+IGNoZWNrT3BlcmF0b3JDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFJlc3BvbnNlQ2hlY2ssIFN0cmluZz4gY2hlY2tFeHBlY3RDb2x1bW47DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48UmVzcG9uc2VDaGVjaywgU3RyaW5nPiBjaGVja1NhdmVBc0NvbHVtbjsNCg0KICAgIEBGWE1MIHByaXZhdGUgQ29tYm9Cb3g8U3RyaW5nPiBzdWl0ZUZpbHRlckNvbWJvOyAvLyBGaWx0ZXIgZHJvcGRvd24NCiAgICBARlhNTCBwcml2YXRlIFRleHRGaWVsZCB0YWdGaWx0ZXJGaWVsZDsgICAgICAgICAgLy8gVGFnIGtleXdvcmQgZmlsdGVyIGZpZWxkDQogICAgQEZYTUwgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IGVuYWJsZWRGaWx0ZXJDb21ibzsgLy8gRW5hYmxlZCBzdGF0dXMgZmlsdGVyDQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVWaWV3PER5bmFtaWNWYXJpYWJsZT4gdXJsRHluYW1pY1ZhcnNUYWJsZTsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGFibGVDb2x1bW48RHluYW1pY1ZhcmlhYmxlLCBTdHJpbmc+IHVybER5bmFtaWNLZXlDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPER5bmFtaWNWYXJpYWJsZSwgU3RyaW5nPiB1cmxEeW5hbWljVmFsdWVDb2x1bW47DQogICAgQEZYTUwNCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPER5bmFtaWNWYXJpYWJsZSwgVm9pZD4gdXJsRHluYW1pY0FjdGlvbkNvbHVtbjsNCiAgICBARlhNTA0KICAgIHByaXZhdGUgVGV4dEFyZWEgZ2VuZXJhdGVkVXJsQXJlYTsNCg0KICAgIHByaXZhdGUgZmluYWwgSUdhdGxpbmdUZXN0U2VydmljZSB0ZXN0U2VydmljZSA9IG5ldyBHYXRsaW5nVGVzdFNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBJQm9keVRlbXBsYXRlU2VydmljZSBib2R5VGVtcGxhdGVTZXJ2aWNlID0gbmV3IEJvZHlUZW1wbGF0ZVNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBJSGVhZGVyc1RlbXBsYXRlU2VydmljZSBoZWFkZXJzVGVtcGxhdGVTZXJ2aWNlID0gbmV3IEhlYWRlcnNUZW1wbGF0ZVNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBJRW5kcG9pbnRTZXJ2aWNlIGVuZHBvaW50U2VydmljZSA9IG5ldyBFbmRwb2ludFNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBJRGJDb25uZWN0aW9uU2VydmljZSBkYkNvbm5lY3Rpb25TZXJ2aWNlID0gbmV3IERiQ29ubmVjdGlvblNlcnZpY2VJbXBsKCk7DQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxHYXRsaW5nVGVzdD4gdGVzdExpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PER5bmFtaWNWYXJpYWJsZT4gYm9keVRlbXBsYXRlVmFyaWFibGVzID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7DQogICAgcHJpdmF0ZSBNYXA8U3RyaW5nLCBTdHJpbmc+IGJvZHlUZW1wbGF0ZXMgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxEeW5hbWljVmFyaWFibGU+IGhlYWRlcnNUZW1wbGF0ZVZhcmlhYmxlcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOw0KICAgIHByaXZhdGUgTWFwPFN0cmluZywgU3RyaW5nPiBoZWFkZXJzVGVtcGxhdGVzID0gbmV3IEhhc2hNYXA8PigpOw0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8RW5kcG9pbnQ+IGVuZHBvaW50TGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOw0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8U3RyaW5nPiBlbmRwb2ludE5hbWVMaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7DQogICAgLy8gTWFwIGZvciBxdWljayBpZC10by1lbmRwb2ludCBsb29rdXANCiAgICBwcml2YXRlIGZpbmFsIE1hcDxJbnRlZ2VyLCBFbmRwb2ludD4gZW5kcG9pbnRJZE1hcCA9IG5ldyBIYXNoTWFwPD4oKTsNCg0KICAgIC8vIE5ldyBsaXN0IGZvciBVUkwgZHluYW1pYyB2YXJpYWJsZXMNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PER5bmFtaWNWYXJpYWJsZT4gdXJsRHluYW1pY1ZhcmlhYmxlcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOw0KDQogICAgLy8gUmVzcG9uc2UgY2hlY2tzIGRhdGEgbGlzdA0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8UmVzcG9uc2VDaGVjaz4gcmVzcG9uc2VDaGVja3MgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsNCg0KICAgIHByaXZhdGUgTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsOw0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8U3RyaW5nPiBhbGxUY2lkcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOw0KICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8U3RyaW5nPiBwcmVmaXhPcHRpb25zID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCJTZXR1cCIsICJUZWFyZG93biIsDQogICAgICAgICAgICAiU3VpdGVTZXR1cCIsICJTdWl0ZVRlYXJkb3duIik7DQoNCiAgICAvLyBVc2VkIHRvIHN0b3JlIGFsbCBUQ0lEIGRyb3Bkb3duIHJlZmVyZW5jZXMNCiAgICBwcml2YXRlIGZpbmFsIExpc3Q8Q2hlY2tDb21ib0JveDxTdHJpbmc+PiBjb25kaXRpb25UY2lkQ29tYm9Cb3hlcyA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgIC8vIFVzZWQgdG8gc3RvcmUgYm9keVRlbXBsYXRlIGFuZCBoZWFkZXJzVGVtcGxhdGUgbmFtZSBieSBpZA0KICAgIHByaXZhdGUgTWFwPEludGVnZXIsIFN0cmluZz4gYm9keVRlbXBsYXRlSWROYW1lTWFwID0gbmV3IEhhc2hNYXA8PigpOw0KICAgIHByaXZhdGUgTWFwPEludGVnZXIsIFN0cmluZz4gaGVhZGVyc1RlbXBsYXRlSWROYW1lTWFwID0gbmV3IEhhc2hNYXA8PigpOw0KICAgIC8vIFVzZWQgdG8gaGFuZGxlIGJvZHkgYW5kIGhlYWRlcnMgdGVtcGxhdGVzLCBhbmQgY29uZGl0aW9uIGhhbmRsZXIsIHRhZyBoYW5kbGVyDQogICAgcHJpdmF0ZSBUZW1wbGF0ZUhhbmRsZXIgYm9keVRlbXBsYXRlSGFuZGxlcjsNCiAgICBwcml2YXRlIFRlbXBsYXRlSGFuZGxlciBoZWFkZXJzVGVtcGxhdGVIYW5kbGVyOw0KICAgIHByaXZhdGUgZmluYWwgVGVzdENvbmRpY3Rpb25IYW5kbGVyIGNvbmRpdGlvbkhhbmRsZXIgPSBuZXcgVGVzdENvbmRpY3Rpb25IYW5kbGVyKCk7DQogICAgcHJpdmF0ZSBUYWdIYW5kbGVyIHRhZ0hhbmRsZXI7DQoNCiAgICBwcml2YXRlIGZpbmFsIEVudmlyb25tZW50U2VydmljZUltcGwgZW52aXJvbm1lbnRTZXJ2aWNlID0gbmV3IEVudmlyb25tZW50U2VydmljZUltcGwoKTsNCiAgICBwcml2YXRlIGZpbmFsIE1hcDxHYXRsaW5nVGVzdCwgQm9vbGVhblByb3BlcnR5PiBzZWxlY3Rpb25NYXAgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgcHJpdmF0ZSBmaW5hbCBDaGVja0JveCBzZWxlY3RBbGxDaGVja0JveCA9IG5ldyBDaGVja0JveCgpOw0KDQogICAgcHJpdmF0ZSBib29sZWFuIGlzVXBkYXRpbmdTZWxlY3Rpb24gPSBmYWxzZTsNCiAgICANCiAgICBwcml2YXRlIFRvb2x0aXAgdmFyaWFibGVUb29sdGlwOw0KDQogICAgcHJpdmF0ZSBUb29sdGlwIHJlc3BvbnNlQ2hlY2tUb29sdGlwOw0KICAgIHByaXZhdGUgVG9vbHRpcCBleGVjdXRpb25GbG93VG9vbHRpcDsNCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBMYWJlbCBydW5IZWxwSWNvbjsNCg0KICAgIHByaXZhdGUgZmluYWwgT2JqZWN0TWFwcGVyIG1hcHBlciA9IG5ldyBPYmplY3RNYXBwZXIoKTsNCg0KICAgIC8vIENsaXBib2FyZCBmb3IgcmVzcG9uc2UgY2hlY2tzDQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTGlzdDxSZXNwb25zZUNoZWNrPiByZXNwb25zZUNoZWNrQ2xpcGJvYXJkID0gbmV3IEFycmF5TGlzdDw+KCk7DQoNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAvLyAxLiBJbml0aWFsaXplIHJlbGF0ZWQNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7DQogICAgICAgIHNldHVwV2FpdFRpbWVTcGlubmVyKCk7DQoNCiAgICAgICAgLy8gdGVzdElkRmllbGQgaXMgaGlkZGVuIGJ1dCB1c2VkIGludGVybmFsbHkNCiAgICAgICAgdGVzdElkRmllbGQuc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICAgIHRlc3RJZEZpZWxkLnNldE1hbmFnZWQoZmFsc2UpOw0KDQogICAgICAgIHNldHVwVGVtcGxhdGVIYW5kbGVycygpOw0KDQogICAgICAgIHNldHVwQ29uZGl0aW9uc1RhYmxlKCk7DQoNCiAgICAgICAgc2V0dXBFbmRwb2ludENvbWJvQm94KCk7DQoNCiAgICAgICAgLy8gaW5pdGlhbGl6ZSBzdWl0ZUNvbWJvQm94DQogICAgICAgIGxvYWRBbGxTdWl0ZXMoKTsNCiAgICAgICAgc3VpdGVDb21ib0JveC5zZXRFZGl0YWJsZSh0cnVlKTsNCg0KICAgICAgICAvLyBUYWdIYW5kbGVyIGluaXRpYWxpemF0aW9uDQogICAgICAgIHNldHVwVGFnSGFuZGxlcigpOw0KDQogICAgICAgIHNldHVwUmVzcG9uc2VDaGVja3NUYWJsZSgpOw0KDQogICAgICAgIC8vIOWIneWni+WMluWQr+eUqOeKtuaAgei/h+a7pOS4i+aLiQ0KICAgICAgICBpZiAoZW5hYmxlZEZpbHRlckNvbWJvICE9IG51bGwpIHsNCiAgICAgICAgICAgIGVuYWJsZWRGaWx0ZXJDb21iby5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoIkFsbCIsICJFbmFibGVkIiwgIkRpc2FibGVkIikpOw0KICAgICAgICAgICAgZW5hYmxlZEZpbHRlckNvbWJvLnNldFZhbHVlKCJBbGwiKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgbG9hZEVuZHBvaW50cygpOw0KICAgICAgICBsb2FkQWxsVGNpZHMoKTsNCiAgICAgICAgbG9hZFRlc3RzKCk7DQogICAgICAgIGxvYWRUZW1wbGF0ZXMoKTsNCiAgICAgICAgbG9hZEhlYWRlcnNUZW1wbGF0ZXMoKTsNCiAgICAgICAgc2V0dXBVcmxEeW5hbWljVmFyaWFibGVzSGFuZGxlcigpOw0KDQogICAgICAgIGlmICh2aWV3UmVwb3J0QnV0dG9uICE9IG51bGwpIHsNCiAgICAgICAgICAgIHZpZXdSZXBvcnRCdXR0b24uZGlzYWJsZVByb3BlcnR5KCkuYmluZCgNCiAgICAgICAgICAgICAgICB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RlZEl0ZW1Qcm9wZXJ0eSgpLmlzTnVsbCgpDQogICAgICAgICAgICAgICAgLm9yKEJpbmRpbmdzLmNyZWF0ZUJvb2xlYW5CaW5kaW5nKCgpIC0+IHsNCiAgICAgICAgICAgICAgICAgICAgR2F0bGluZ1Rlc3Qgc2VsZWN0ZWQgPSB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkID09IG51bGwgfHwgc2VsZWN0ZWQuZ2V0UmVwb3J0UGF0aCgpID09IG51bGwgfHwgc2VsZWN0ZWQuZ2V0UmVwb3J0UGF0aCgpLmlzRW1wdHkoKTsNCiAgICAgICAgICAgICAgICB9LCB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RlZEl0ZW1Qcm9wZXJ0eSgpKSkNCiAgICAgICAgICAgICk7DQogICAgICAgIH0NCg0KICAgICAgICBBcHBDb25maWcuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcyk7DQoNCiAgICAgICAgLy8gUG9wdWxhdGUgdmFyaWFibGUgaGVscA0KICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+IHZhckRlZnMgPSBWYXJpYWJsZUdlbmVyYXRvci5nZXRJbnN0YW5jZSgpLmdldFZhcmlhYmxlRGVmaW5pdGlvbnMoKTsNCiAgICAgICAgU3RyaW5nQnVpbGRlciBoZWxwVGV4dCA9IG5ldyBTdHJpbmdCdWlsZGVyKCLlj6/nlKjlj5jph486XG4iKTsNCiAgICAgICAgZm9yIChNYXA8U3RyaW5nLCBTdHJpbmc+IGRlZiA6IHZhckRlZnMpIHsNCiAgICAgICAgICAgIGhlbHBUZXh0LmFwcGVuZChkZWYuZ2V0KCJmb3JtYXQiKSkuYXBwZW5kKCIgLSAiKS5hcHBlbmQoZGVmLmdldCgiZGVzY3JpcHRpb24iKSkuYXBwZW5kKCJcbiIpOw0KICAgICAgICB9DQogICAgICAgIC8vIFRoaXMgbGFiZWwgc2VlbXMgdG8gYmUgbWlzc2luZyBmcm9tIHRoZSBGWE1MLCBidXQgdGhlIGNvZGUgcmVmZXJlbmNlcyBpdC4NCiAgICAgICAgLy8gSWYgdmFyaWFibGVIZWxwTGFiZWwgaXMgYSB2YWxpZCBGWE1MIGZpZWxkLCB0aGlzIHdpbGwgd29yay4gT3RoZXJ3aXNlLCB0aGF0J3MgYSBzZXBhcmF0ZSBidWcuDQogICAgICAgIC8vIHZhcmlhYmxlSGVscExhYmVsLnNldFRleHQoaGVscFRleHQudG9TdHJpbmcoKSk7DQoNCiAgICAgICAgc2V0dXBWYXJpYWJsZUhlbHBUb29sdGlwcygpOw0KICAgICAgICBzZXR1cFJlc3BvbnNlQ2hlY2tIZWxwVG9vbHRpcCgpOw0KICAgICAgICBzZXR1cFJ1bkhlbHBUb29sdGlwKCk7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgb25Db25maWdDaGFuZ2VkKCkgew0KICAgICAgICBQbGF0Zm9ybS5ydW5MYXRlcigoKSAtPiB7DQogICAgICAgICAgICBsb2FkVGVzdHMoKTsNCiAgICAgICAgICAgIGxvYWRFbmRwb2ludHMoKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0TWFpblZpZXdNb2RlbChNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWwpIHsNCiAgICAgICAgdGhpcy5tYWluVmlld01vZGVsID0gbWFpblZpZXdNb2RlbDsNCg0KICAgICAgICBzZXR1cFRlc3RUYWJsZSgpOw0KDQogICAgICAgIC8vIExvYWQgaW5pdGlhbCBkYXRhIGFuZCB0ZW1wbGF0ZXMNCiAgICAgICAgbG9hZFRlc3RzKCk7DQogICAgICAgIGxvYWRUZW1wbGF0ZXMoKTsNCiAgICAgICAgbG9hZEhlYWRlcnNUZW1wbGF0ZXMoKTsNCiAgICAgICAgbG9hZEFsbFRjaWRzKCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNldHVwV2FpdFRpbWVTcGlubmVyKCkgew0KICAgICAgICAvLyBJbml0aWFsaXplIHNwaW5uZXINCiAgICAgICAgd2FpdFRpbWVTcGlubmVyLnNldFZhbHVlRmFjdG9yeShuZXcgU3Bpbm5lclZhbHVlRmFjdG9yeS5JbnRlZ2VyU3Bpbm5lclZhbHVlRmFjdG9yeSgwLCAzNjAwLCAwKSk7DQogICAgICAgIHdhaXRUaW1lU3Bpbm5lci5zZXRFZGl0YWJsZSh0cnVlKTsNCiAgICAgICAgLy8gT25seSBhbGxvdyBudW1lcmljIGlucHV0DQogICAgICAgIHdhaXRUaW1lU3Bpbm5lci5nZXRFZGl0b3IoKS50ZXh0UHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIC0+IHsNCiAgICAgICAgICAgIGlmICghbmV3VmFsdWUubWF0Y2hlcygiXFxkKiIpKSB7DQogICAgICAgICAgICAgICAgd2FpdFRpbWVTcGlubmVyLmdldEVkaXRvcigpLnNldFRleHQobmV3VmFsdWUucmVwbGFjZUFsbCgiW15cXGRdIiwgIiIpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIC8vIFN5bmMgU3Bpbm5lciB2YWx1ZSB3aGVuIGZvY3VzIGlzIGxvc3QNCiAgICAgICAgd2FpdFRpbWVTcGlubmVyLmdldEVkaXRvcigpLmZvY3VzZWRQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnMsIHdhc0ZvY3VzZWQsIGlzTm93Rm9jdXNlZCkgLT4gew0KICAgICAgICAgICAgaWYgKCFpc05vd0ZvY3VzZWQpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBpbnQgdmFsdWUgPSBJbnRlZ2VyLnBhcnNlSW50KHdhaXRUaW1lU3Bpbm5lci5nZXRFZGl0b3IoKS5nZXRUZXh0KCkpOw0KICAgICAgICAgICAgICAgICAgICB3YWl0VGltZVNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUodmFsdWUpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgICAgIHdhaXRUaW1lU3Bpbm5lci5nZXRWYWx1ZUZhY3RvcnkoKS5zZXRWYWx1ZSgwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzZXR1cFRlbXBsYXRlSGFuZGxlcnMoKSB7DQogICAgICAgIC8vIEluaXRpYWxpemUgVGVtcGxhdGVIYW5kbGVyDQogICAgICAgIGJvZHlUZW1wbGF0ZUhhbmRsZXIgPSBuZXcgVGVtcGxhdGVIYW5kbGVyKA0KICAgICAgICAgICAgICAgIGJvZHlUZW1wbGF0ZUNvbWJvQm94LCBib2R5VGVtcGxhdGVWYXJpYWJsZXMsIGJvZHlUZW1wbGF0ZXMsIGJvZHlUZW1wbGF0ZUlkTmFtZU1hcCwNCiAgICAgICAgICAgICAgICBib2R5RHluYW1pY1ZhcnNUYWJsZSwgYm9keUR5bmFtaWNLZXlDb2x1bW4sIGJvZHlEeW5hbWljVmFsdWVDb2x1bW4sIGJvZHlEeW5hbWljQWN0aW9uQ29sdW1uLCBnZW5lcmF0ZWRCb2R5QXJlYSk7DQogICAgICAgIGhlYWRlcnNUZW1wbGF0ZUhhbmRsZXIgPSBuZXcgVGVtcGxhdGVIYW5kbGVyKA0KICAgICAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbWJvQm94LCBoZWFkZXJzVGVtcGxhdGVWYXJpYWJsZXMsIGhlYWRlcnNUZW1wbGF0ZXMsIGhlYWRlcnNUZW1wbGF0ZUlkTmFtZU1hcCwNCiAgICAgICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVWYXJzVGFibGUsIGhlYWRlcnNUZW1wbGF0ZUtleUNvbHVtbiwgaGVhZGVyc1RlbXBsYXRlVmFsdWVDb2x1bW4sIGhlYWRlcnNUZW1wbGF0ZUFjdGlvbkNvbHVtbiwgZ2VuZXJhdGVkSGVhZGVyc0FyZWEpOw0KICAgICAgICBib2R5VGVtcGxhdGVIYW5kbGVyLnNldHVwKCk7DQogICAgICAgIGhlYWRlcnNUZW1wbGF0ZUhhbmRsZXIuc2V0dXAoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb25kaXRpb25zVGFibGUoKSB7DQogICAgICAgIC8vIC0tLSBUZXN0IENvbmRpdGlvbnMgVGFibGUgLS0tDQogICAgICAgIGNvbmRpdGlvbnNUYWJsZS5zZXRJdGVtcyhjb25kaXRpb25IYW5kbGVyLmdldENvbmRpdGlvblJvd3MoKSk7DQogICAgICAgIHByZWZpeENvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IGNlbGxEYXRhLmdldFZhbHVlKCkucHJlZml4UHJvcGVydHkoKSk7DQogICAgICAgIGNvbmRpdGlvblRjaWRDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7DQogICAgICAgICAgICBTdHJpbmcgam9pbmVkID0gU3RyaW5nLmpvaW4oIiwiLCBjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldFRjaWRzKCkpOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkoam9pbmVkKTsNCiAgICAgICAgfSk7DQogICAgICAgIGNvbmRpdGlvblRjaWRDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IG5ldyBUYWJsZUNlbGw8Q29uZGl0aW9uUm93LCBTdHJpbmc+KCkgew0KICAgICAgICAgICAgcHJpdmF0ZSBDaGVja0NvbWJvQm94PFN0cmluZz4gY2hlY2tDb21ib0JveDsNCg0KICAgICAgICAgICAgQE92ZXJyaWRlDQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7DQogICAgICAgICAgICAgICAgaWYgKGVtcHR5KSB7DQogICAgICAgICAgICAgICAgICAgIHNldEdyYXBoaWMobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0NvbWJvQm94ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvblRjaWRDb21ib0JveGVzLnJlbW92ZShjaGVja0NvbWJvQm94KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tYm9Cb3ggPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgQ29uZGl0aW9uUm93IHJvdyA9IGdldFRhYmxlVmlldygpLmdldEl0ZW1zKCkuZ2V0KGdldEluZGV4KCkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tDb21ib0JveCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0NvbWJvQm94ID0gbmV3IENoZWNrQ29tYm9Cb3g8PigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uVGNpZENvbWJvQm94ZXMuYWRkKGNoZWNrQ29tYm9Cb3gpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIGNsZWFyIGFsbCBpdGVtcyBhbmQgYWRkIGxhdGVzdCBhbGxUY2lkcw0KICAgICAgICAgICAgICAgICAgICBjaGVja0NvbWJvQm94LmdldEl0ZW1zKCkuc2V0QWxsKGFsbFRjaWRzKTsNCiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21ib0JveC5zZXRQcmVmV2lkdGgoMTgwKTsNCiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21ib0JveC5zZXRNYXhXaWR0aCgxODApOw0KICAgICAgICAgICAgICAgICAgICBjaGVja0NvbWJvQm94LnNldE1pbldpZHRoKDEyMCk7DQogICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tYm9Cb3guc2V0U3R5bGUoIi1meC1hbGlnbm1lbnQ6IENFTlRFUl9MRUZUOyIpOw0KICAgICAgICAgICAgICAgICAgICBjaGVja0NvbWJvQm94LmdldENoZWNrTW9kZWwoKS5jbGVhckNoZWNrcygpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyB0IDogcm93LmdldFRjaWRzKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tYm9Cb3guZ2V0Q2hlY2tNb2RlbCgpLmNoZWNrKHQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tYm9Cb3guZ2V0Q2hlY2tNb2RlbCgpLmdldENoZWNrZWRJdGVtcygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZExpc3RlbmVyKChqYXZhZnguY29sbGVjdGlvbnMuTGlzdENoYW5nZUxpc3RlbmVyPFN0cmluZz4pIGMgLT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuc2V0VGNpZHMoRlhDb2xsZWN0aW9ucw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vYnNlcnZhYmxlQXJyYXlMaXN0KGNoZWNrQ29tYm9Cb3guZ2V0Q2hlY2tNb2RlbCgpLmdldENoZWNrZWRJdGVtcygpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHNldEdyYXBoaWMoY2hlY2tDb21ib0JveCk7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgY29uZGl0aW9uVGNpZENvbHVtbi5zZXRTdHlsZSgiLWZ4LWFsaWdubWVudDogQ0VOVEVSX0xFRlQ7Iik7DQogICAgICAgIC8vIFByZWZpeCBDb21ib0JveA0KICAgICAgICBwcmVmaXhDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IHsNCiAgICAgICAgICAgIFRhYmxlQ2VsbDxDb25kaXRpb25Sb3csIFN0cmluZz4gY2VsbCA9IG5ldyBDb21ib0JveFRhYmxlQ2VsbDw+KHByZWZpeE9wdGlvbnMpOw0KICAgICAgICAgICAgcmV0dXJuIGNlbGw7DQogICAgICAgIH0pOw0KICAgICAgICAvLyBBZGQvUmVtb3ZlIGJ1dHRvbiBhY3Rpb25zDQogICAgICAgIGFkZENvbmRpdGlvbkJ1dHRvbi5zZXRPbkFjdGlvbihlIC0+IGhhbmRsZUFkZENvbmRpdGlvbigpKTsNCiAgICAgICAgcmVtb3ZlQ29uZGl0aW9uQnV0dG9uLnNldE9uQWN0aW9uKGUgLT4gaGFuZGxlUmVtb3ZlQ29uZGl0aW9uKCkpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzZXR1cEVuZHBvaW50Q29tYm9Cb3goKSB7DQogICAgICAgIGVuZHBvaW50Q29tYm9Cb3guc2V0SXRlbXMoZW5kcG9pbnROYW1lTGlzdCk7DQogICAgICAgIGVuZHBvaW50Q29tYm9Cb3guc2V0Q29udmVydGVyKG5ldyBqYXZhZngudXRpbC5TdHJpbmdDb252ZXJ0ZXI8U3RyaW5nPigpIHsNCiAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgcHVibGljIFN0cmluZyB0b1N0cmluZyhTdHJpbmcgbmFtZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBuYW1lID09IG51bGwgPyAiIiA6IG5hbWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgcHVibGljIFN0cmluZyBmcm9tU3RyaW5nKFN0cmluZyBzKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHM7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBlbmRwb2ludENvbWJvQm94LnNldEJ1dHRvbkNlbGwobmV3IExpc3RDZWxsPD4oKSB7DQogICAgICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHsNCiAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgaXRlbSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQoZW5kcG9pbnRDb21ib0JveC5nZXRQcm9tcHRUZXh0KCkpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQoaXRlbSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBMaXN0ZW5lciB0byBwb3B1bGF0ZSBVUkwgdmFyaWFibGVzIHdoZW4gZW5kcG9pbnQgY2hhbmdlcw0KICAgICAgICBlbmRwb2ludENvbWJvQm94LmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRWYWwsIG5ld1ZhbCkgLT4gew0KICAgICAgICAgICAgcG9wdWxhdGVVcmxEeW5hbWljVmFyaWFibGVzKG5ld1ZhbCk7DQogICAgICAgICAgICB1cGRhdGVHZW5lcmF0ZWRVcmwoKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFnSGFuZGxlcigpIHsNCiAgICAgICAgLy8gVGFnSGFuZGxlciBpbml0aWFsaXphdGlvbg0KICAgICAgICB0YWdIYW5kbGVyID0gbmV3IFRhZ0hhbmRsZXIodGFnc0Zsb3dQYW5lLCB0YWdzSW5wdXRGaWVsZCk7DQogICAgICAgIHRhZ3NJbnB1dEZpZWxkLnNldE9uQWN0aW9uKGUgLT4gaGFuZGxlVGFnSW5wdXQoKSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNldHVwVGVzdFRhYmxlKCkgew0KICAgICAgICBzZXR1cFRlc3RUYWJsZUNvbHVtbnMoKTsNCg0KICAgICAgICB0ZXN0VGFibGUuc2V0SXRlbXModGVzdExpc3QpOw0KICAgICAgICB0ZXN0VGFibGUuc2V0RWRpdGFibGUodHJ1ZSk7DQogICAgICAgIHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNldFNlbGVjdGlvbk1vZGUoU2VsZWN0aW9uTW9kZS5NVUxUSVBMRSk7DQoNCiAgICAgICAgc2V0dXBUZXN0VGFibGVMaXN0ZW5lcnMoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBUZXN0VGFibGVDb2x1bW5zKCkgew0KICAgICAgICAvLyBTZWxlY3Rpb24gY29sdW1uDQogICAgICAgIFRhYmxlQ29sdW1uPEdhdGxpbmdUZXN0LCBCb29sZWFuPiBzZWxlY3RDb2x1bW4gPSBuZXcgVGFibGVDb2x1bW48PigpOw0KICAgICAgICBzZWxlY3RDb2x1bW4uc2V0R3JhcGhpYyhzZWxlY3RBbGxDaGVja0JveCk7DQogICAgICAgIHNlbGVjdENvbHVtbi5zZXRQcmVmV2lkdGgoNDApOw0KICAgICAgICBzZWxlY3RDb2x1bW4uc2V0U29ydGFibGUoZmFsc2UpOw0KICAgICAgICBzZWxlY3RDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7DQogICAgICAgICAgICBHYXRsaW5nVGVzdCB0ZXN0ID0gY2VsbERhdGEuZ2V0VmFsdWUoKTsNCiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25NYXAuY29tcHV0ZUlmQWJzZW50KHRlc3QsIGsgLT4gbmV3IFNpbXBsZUJvb2xlYW5Qcm9wZXJ0eShmYWxzZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgc2VsZWN0Q29sdW1uLnNldENlbGxGYWN0b3J5KENoZWNrQm94VGFibGVDZWxsLmZvclRhYmxlQ29sdW1uKHNlbGVjdENvbHVtbikpOw0KICAgICAgICB0ZXN0VGFibGUuZ2V0Q29sdW1ucygpLmFkZCgwLCBzZWxlY3RDb2x1bW4pOw0KDQogICAgICAgIC8vIEluaXRpYWxpemUgdGFibGUgY29sdW1ucw0KICAgICAgICBpc0VuYWJsZWRDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PigiaXNFbmFibGVkIikpOw0KICAgICAgICBpc0VuYWJsZWRDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sdW1uIC0+IHsNCiAgICAgICAgICAgIFRhYmxlQ2VsbDxHYXRsaW5nVGVzdCwgQm9vbGVhbj4gY2VsbCA9IG5ldyBUYWJsZUNlbGw8PigpIHsNCiAgICAgICAgICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKEJvb2xlYW4gaXRlbSwgYm9vbGVhbiBlbXB0eSkgew0KICAgICAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoaXRlbSA/ICJZIiA6ICJOIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY2VsbC5zZXRTdHlsZSgiLWZ4LWFsaWdubWVudDogQ0VOVEVSOyIpOw0KICAgICAgICAgICAgcmV0dXJuIGNlbGw7DQogICAgICAgIH0pOw0KICAgICAgICBzdWl0ZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KCJzdWl0ZSIpKTsNCiAgICAgICAgdGVzdFRjaWRDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PigidGNpZCIpKTsNCiAgICAgICAgZGVzY3JpcHRpb25zQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oImRlc2NyaXB0aW9ucyIpKTsNCiAgICAgICAgZGVzY3JpcHRpb25zQ29sdW1uLnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgVGFibGVDZWxsPEdhdGxpbmdUZXN0LCBTdHJpbmc+KCkgew0KICAgICAgICAgICAgcHJpdmF0ZSBUb29sdGlwIHRvb2x0aXAgPSBuZXcgVG9vbHRpcCgpOw0KDQogICAgICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHsNCiAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgaXRlbSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXAobnVsbCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChpdGVtKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoKCkgPiAyMCkgeyAvLyBPbmx5IHNob3cgdG9vbHRpcCBpZiB0ZXh0IGlzIGxvbmdlciB0aGFuIDIwIGNoYXJhY3RlcnMNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2V0VGV4dChpdGVtKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXAodG9vbHRpcCk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUb29sdGlwKG51bGwpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgZW5kcG9pbnRDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7DQogICAgICAgICAgICBpbnQgZWlkID0gY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXRFbmRwb2ludElkKCk7DQogICAgICAgICAgICBFbmRwb2ludCBlcCA9IGVuZHBvaW50SWRNYXAuZ2V0KGVpZCk7DQogICAgICAgICAgICBTdHJpbmcgZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgaWYgKGVwICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5ID0gZXAuZ2V0TmFtZSgpICsgIiBbICIgKyBlcC5nZXRNZXRob2QoKSArICIgIiArIGVwLmdldFVybCgpICsgIiBdIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGRpc3BsYXkpOw0KICAgICAgICB9KTsNCiAgICAgICAgZW5kcG9pbnRDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IG5ldyBUYWJsZUNlbGw8R2F0bGluZ1Rlc3QsIFN0cmluZz4oKSB7DQogICAgICAgICAgICBwcml2YXRlIFRvb2x0aXAgdG9vbHRpcCA9IG5ldyBUb29sdGlwKCk7DQoNCiAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShTdHJpbmcgaXRlbSwgYm9vbGVhbiBlbXB0eSkgew0KICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpOw0KICAgICAgICAgICAgICAgIGlmIChlbXB0eSB8fCBpdGVtID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcChudWxsKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0pOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGgoKSA+IDIwKSB7IC8vIOi2hei/hzIw5a2X56ym5pi+56S6dG9vbHRpcA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zZXRUZXh0KGl0ZW0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcCh0b29sdGlwKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXAobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICB0YWdzQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oInRhZ3MiKSk7DQogICAgICAgIHdhaXRUaW1lQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oIndhaXRUaW1lIikpOw0KICAgICAgICBoZWFkZXJzVGVtcGxhdGVOYW1lQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gew0KICAgICAgICAgICAgaW50IGlkID0gY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXRIZWFkZXJzVGVtcGxhdGVJZCgpOw0KICAgICAgICAgICAgU3RyaW5nIG5hbWUgPSBoZWFkZXJzVGVtcGxhdGVJZE5hbWVNYXAuZ2V0T3JEZWZhdWx0KGlkLCAiIik7DQogICAgICAgICAgICByZXR1cm4gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShuYW1lKTsNCiAgICAgICAgfSk7DQogICAgICAgIGJvZHlUZW1wbGF0ZU5hbWVDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7DQogICAgICAgICAgICBpbnQgaWQgPSBjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldEJvZHlUZW1wbGF0ZUlkKCk7DQogICAgICAgICAgICBTdHJpbmcgbmFtZSA9IGJvZHlUZW1wbGF0ZUlkTmFtZU1hcC5nZXRPckRlZmF1bHQoaWQsICIiKTsNCiAgICAgICAgICAgIHJldHVybiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KG5hbWUpOw0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBUZXN0VGFibGVMaXN0ZW5lcnMoKSB7DQogICAgICAgIC8vIEFkZCBsaXN0ZW5lciBmb3IgdGFibGUgc2VsZWN0aW9uDQogICAgICAgIHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdGVkSXRlbVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoDQogICAgICAgICAgICAgICAgKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4gew0KICAgICAgICAgICAgICAgICAgICBzaG93VGVzdERldGFpbHMobmV3VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVHZW5lcmF0ZWRCb2R5KCk7DQogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUdlbmVyYXRlZEhlYWRlcnMoKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgLy8gQWRkIGxpc3RlbmVyIGZvciB0ZXN0TGlzdOWPmOWKqOaXtuWIt+aWsA0KICAgICAgICB0ZXN0TGlzdC5hZGRMaXN0ZW5lcigoamF2YWZ4LmNvbGxlY3Rpb25zLkxpc3RDaGFuZ2VMaXN0ZW5lcjxHYXRsaW5nVGVzdD4pIGMgLT4gew0KICAgICAgICAgICAgdXBkYXRlR2VuZXJhdGVkQm9keSgpOw0KICAgICAgICAgICAgdXBkYXRlR2VuZXJhdGVkSGVhZGVycygpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBzdWl0ZUNvbWJvQm94IGF1dG8tY29tcGxldGUgYW5kIGZpbGwNCiAgICAgICAgdGVzdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRWYWwsIG5ld1ZhbCkgLT4gew0KICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgc3VpdGVDb21ib0JveC5zZXRWYWx1ZShuZXdWYWwuZ2V0U3VpdGUoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIExpc3RlbmVyIGZvciBtdWx0aS1zZWxlY3Rpb24gY2hhbmdlcyB0byB1cGRhdGUgY2hlY2tib3hlcw0KICAgICAgICB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW1zKCkuYWRkTGlzdGVuZXIoKExpc3RDaGFuZ2VMaXN0ZW5lcjxHYXRsaW5nVGVzdD4pIGMgLT4gew0KICAgICAgICAgICAgaWYgKGlzVXBkYXRpbmdTZWxlY3Rpb24pIHJldHVybjsNCiAgICAgICAgICAgIGlzVXBkYXRpbmdTZWxlY3Rpb24gPSB0cnVlOw0KICAgICAgICAgICAgc3luY1NlbGVjdGlvblByb3BlcnRpZXMoKTsNCiAgICAgICAgICAgIHVwZGF0ZVNlbGVjdEFsbENoZWNrQm94U3RhdGUoKTsNCiAgICAgICAgICAgIGlzVXBkYXRpbmdTZWxlY3Rpb24gPSBmYWxzZTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgc2VsZWN0QWxsQ2hlY2tCb3guc2V0T25BY3Rpb24oZSAtPiB7DQogICAgICAgICAgICBpZiAoc2VsZWN0QWxsQ2hlY2tCb3guaXNTZWxlY3RlZCgpKSB7DQogICAgICAgICAgICAgICAgdGVzdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0QWxsKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0ZXN0VGFibGUucmVmcmVzaCgpOw0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgdXBkYXRlU2VsZWN0QWxsQ2hlY2tCb3hTdGF0ZSgpIHsNCiAgICAgICAgaW50IHNlbGVjdGVkQ291bnQgPSB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW1zKCkuc2l6ZSgpOw0KICAgICAgICBpZiAoc2VsZWN0ZWRDb3VudCA9PSAwKSB7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja0JveC5zZXRTZWxlY3RlZChmYWxzZSk7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja0JveC5zZXRJbmRldGVybWluYXRlKGZhbHNlKTsNCiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZENvdW50ID09IHRlc3RMaXN0LnNpemUoKSAmJiAhdGVzdExpc3QuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja0JveC5zZXRTZWxlY3RlZCh0cnVlKTsNCiAgICAgICAgICAgIHNlbGVjdEFsbENoZWNrQm94LnNldEluZGV0ZXJtaW5hdGUoZmFsc2UpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tCb3guc2V0SW5kZXRlcm1pbmF0ZSh0cnVlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEVuc3VyZSB0aGUgQm9vbGVhblByb3BlcnR5IGJvdW5kIHRvIGVhY2ggY2hlY2tib3ggcm93IHJlZmxlY3RzIHRoZSBhY3R1YWwgc2VsZWN0aW9uIG1vZGVsLg0KICAgICAqLw0KICAgIHByaXZhdGUgdm9pZCBzeW5jU2VsZWN0aW9uUHJvcGVydGllcygpIHsNCiAgICAgICAgaXNVcGRhdGluZ1NlbGVjdGlvbiA9IHRydWU7DQogICAgICAgIGZvciAoR2F0bGluZ1Rlc3QgdCA6IHRlc3RMaXN0KSB7DQogICAgICAgICAgICBCb29sZWFuUHJvcGVydHkgcHJvcCA9IHNlbGVjdGlvbk1hcC5nZXQodCk7DQogICAgICAgICAgICBpZiAocHJvcCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgYm9vbGVhbiBzaG91bGRCZVNlbGVjdGVkID0gdGVzdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtcygpLmNvbnRhaW5zKHQpOw0KICAgICAgICAgICAgICAgIGlmIChwcm9wLmdldCgpICE9IHNob3VsZEJlU2VsZWN0ZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgcHJvcC5zZXQoc2hvdWxkQmVTZWxlY3RlZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlzVXBkYXRpbmdTZWxlY3Rpb24gPSBmYWxzZTsNCiAgICB9DQoNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAvLyAyLiBEYXRhIGxvYWRpbmcgcmVsYXRlZA0KICAgIC8vID09PT09PT09PT09PT09PT09PT09PQ0KICAgIHByaXZhdGUgdm9pZCBsb2FkRW5kcG9pbnRzKCkgew0KICAgICAgICBlbmRwb2ludExpc3QuY2xlYXIoKTsNCiAgICAgICAgZW5kcG9pbnROYW1lTGlzdC5jbGVhcigpOw0KICAgICAgICBlbmRwb2ludElkTWFwLmNsZWFyKCk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAvLyBnZXQgY3VycmVudCBlbnZpcm9ubWVudA0KICAgICAgICAgICAgU3RyaW5nIGVudk5hbWUgPSBBcHBDb25maWcuZ2V0UHJvcGVydHkoImN1cnJlbnQuZW52IiwgImRldiIpOw0KICAgICAgICAgICAgSW50ZWdlciBlbnZJZCA9IG51bGw7DQogICAgICAgICAgICBmb3IgKEVudmlyb25tZW50IGVudiA6IGVudmlyb25tZW50U2VydmljZS5maW5kQWxsRW52aXJvbm1lbnRzKCkpIHsNCiAgICAgICAgICAgICAgICBpZiAoZW52LmdldE5hbWUoKS5lcXVhbHMoZW52TmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgZW52SWQgPSBlbnYuZ2V0SWQoKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGVudklkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAvLyBvbmx5IGxvYWQgZW5kcG9pbnRzIGluIGN1cnJlbnQgZW52aXJvbm1lbnQNCiAgICAgICAgICAgICAgICBmb3IgKEVuZHBvaW50IGVwIDogZW5kcG9pbnRTZXJ2aWNlLmdldEFsbEVuZHBvaW50cygpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChlbnZJZC5lcXVhbHMoZXAuZ2V0RW52aXJvbm1lbnRJZCgpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnRMaXN0LmFkZChlcCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludElkTWFwLnB1dChlcC5nZXRJZCgpLCBlcCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBsb2FkIGVuZHBvaW50czogIiArIGUuZ2V0TWVzc2FnZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbmRwb2ludENvbWJvQm94LnNldEl0ZW1zKEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChlbmRwb2ludExpc3Quc3RyZWFtKCkubWFwKGVwIC0+IGVwLmdldE5hbWUoKSArICIgWyAiICsgZXAuZ2V0TWV0aG9kKCkgKyAiICIgKyBlcC5nZXRVcmwoKSArICIgXSIpLnRvTGlzdCgpKSk7DQogICAgICAgIGVuZHBvaW50Q29tYm9Cb3guc2V0Q29udmVydGVyKG5ldyBqYXZhZngudXRpbC5TdHJpbmdDb252ZXJ0ZXI8U3RyaW5nPigpIHsNCiAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgcHVibGljIFN0cmluZyB0b1N0cmluZyhTdHJpbmcgZGlzcGxheSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBkaXNwbGF5ID09IG51bGwgPyAiIiA6IGRpc3BsYXk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZnJvbVN0cmluZyhTdHJpbmcgcykgew0KICAgICAgICAgICAgICAgIHJldHVybiBzOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgZW5kcG9pbnRDb21ib0JveC5zZXRCdXR0b25DZWxsKG5ldyBMaXN0Q2VsbDw+KCkgew0KICAgICAgICAgICAgQE92ZXJyaWRlDQogICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7DQogICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGVuZHBvaW50Q29tYm9Cb3guZ2V0UHJvbXB0VGV4dCgpKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGxvYWRBbGxUY2lkcygpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGFsbFRjaWRzLmNsZWFyKCk7DQogICAgICAgICAgICBmb3IgKEdhdGxpbmdUZXN0IHQgOiB0ZXN0U2VydmljZS5maW5kQWxsVGVzdHMoKSkgew0KICAgICAgICAgICAgICAgIGFsbFRjaWRzLmFkZCh0LmdldFRjaWQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBub3RpZnkgYWxsIENoZWNrQ29tYm9Cb3ggdG8gcmVmcmVzaCBpdGVtcw0KICAgICAgICAgICAgZm9yIChDaGVja0NvbWJvQm94PFN0cmluZz4gY2IgOiBjb25kaXRpb25UY2lkQ29tYm9Cb3hlcykgew0KICAgICAgICAgICAgICAgIGNiLmdldEl0ZW1zKCkuc2V0QWxsKGFsbFRjaWRzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBsb2FkIFRDSURzOiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgbG9hZFRlc3RzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgSW50ZWdlciBwcm9qZWN0SWQgPSBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCk7DQogICAgICAgICAgICBpZiAocHJvamVjdElkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBMaXN0PEdhdGxpbmdUZXN0PiB0ZXN0cyA9IHRlc3RTZXJ2aWNlLmZpbmRUZXN0c0J5UHJvamVjdElkKHByb2plY3RJZCk7DQogICAgICAgICAgICAgICAgLy8gQ2xlYXIgb2xkIHNlbGVjdGlvbiBzdGF0ZXMgYmVmb3JlIGxvYWRpbmcgbmV3IHRlc3RzDQogICAgICAgICAgICAgICAgc2VsZWN0aW9uTWFwLmNsZWFyKCk7DQogICAgICAgICAgICAgICAgdGVzdExpc3Quc2V0QWxsKHRlc3RzKTsNCiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIHNlbGVjdGlvbiBwcm9wZXJ0aWVzIGZvciB0aGUgbmV3IHRlc3RzDQogICAgICAgICAgICAgICAgZm9yIChHYXRsaW5nVGVzdCB0ZXN0IDogdGVzdHMpIHsNCiAgICAgICAgICAgICAgICAgICAgQm9vbGVhblByb3BlcnR5IHNlbGVjdGVkID0gbmV3IFNpbXBsZUJvb2xlYW5Qcm9wZXJ0eShmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLmFkZExpc3RlbmVyKChvYnMsIHdhc1NlbGVjdGVkLCBpc1NlbGVjdGVkKSAtPiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNVcGRhdGluZ1NlbGVjdGlvbikgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QodGVzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKHRlc3RMaXN0LmluZGV4T2YodGVzdCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWFwLnB1dCh0ZXN0LCBzZWxlY3RlZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHVwZGF0ZVN1aXRlRmlsdGVyT3B0aW9ucygpOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdEFsbENoZWNrQm94U3RhdGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBsb2FkIHRlc3RzOiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgbG9hZFRlbXBsYXRlcygpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGJvZHlUZW1wbGF0ZXMuY2xlYXIoKTsNCiAgICAgICAgICAgIGJvZHlUZW1wbGF0ZUlkTmFtZU1hcC5jbGVhcigpOw0KICAgICAgICAgICAgTGlzdDxCb2R5VGVtcGxhdGU+IHRlbXBsYXRlcyA9IGJvZHlUZW1wbGF0ZVNlcnZpY2UuZmluZEFsbEJvZHlUZW1wbGF0ZXMoKTsNCiAgICAgICAgICAgIGZvciAoQm9keVRlbXBsYXRlIHRlbXBsYXRlIDogdGVtcGxhdGVzKSB7DQogICAgICAgICAgICAgICAgYm9keVRlbXBsYXRlcy5wdXQodGVtcGxhdGUuZ2V0TmFtZSgpLCB0ZW1wbGF0ZS5nZXRDb250ZW50KCkpOw0KICAgICAgICAgICAgICAgIGJvZHlUZW1wbGF0ZUlkTmFtZU1hcC5wdXQodGVtcGxhdGUuZ2V0SWQoKSwgdGVtcGxhdGUuZ2V0TmFtZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGJvZHlUZW1wbGF0ZUNvbWJvQm94LnNldEl0ZW1zKEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChib2R5VGVtcGxhdGVJZE5hbWVNYXAudmFsdWVzKCkpKTsNCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBsb2FkIGJvZHkgdGVtcGxhdGVzOiAiICsgZS5nZXRNZXNzYWdlKCksDQogICAgICAgICAgICAgICAgICAgICAgICBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGxvYWRIZWFkZXJzVGVtcGxhdGVzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgaGVhZGVyc1RlbXBsYXRlcy5jbGVhcigpOw0KICAgICAgICAgICAgaGVhZGVyc1RlbXBsYXRlSWROYW1lTWFwLmNsZWFyKCk7DQogICAgICAgICAgICBMaXN0PEhlYWRlcnNUZW1wbGF0ZT4gdGVtcGxhdGVzID0gaGVhZGVyc1RlbXBsYXRlU2VydmljZS5nZXRBbGxIZWFkZXJzVGVtcGxhdGVzKCk7DQogICAgICAgICAgICBmb3IgKEhlYWRlcnNUZW1wbGF0ZSB0ZW1wbGF0ZSA6IHRlbXBsYXRlcykgew0KICAgICAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZXMucHV0KHRlbXBsYXRlLmdldE5hbWUoKSwgdGVtcGxhdGUuZ2V0Q29udGVudCgpKTsNCiAgICAgICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVJZE5hbWVNYXAucHV0KHRlbXBsYXRlLmdldElkKCksIHRlbXBsYXRlLmdldE5hbWUoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVDb21ib0JveC5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoaGVhZGVyc1RlbXBsYXRlSWROYW1lTWFwLnZhbHVlcygpKSk7DQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gbG9hZCBoZWFkZXJzIHRlbXBsYXRlczogIiArIGUuZ2V0TWVzc2FnZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBsb2FkQWxsU3VpdGVzKCkgew0KICAgICAgICAvLyBnZXQgYWxsIHN1aXRlIGZyb20gdGVzdFNlcnZpY2UgYW5kIGFkZCB0byBDb21ib0JveA0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgTGlzdDxHYXRsaW5nVGVzdD4gYWxsVGVzdHMgPSB0ZXN0U2VydmljZS5maW5kQWxsVGVzdHMoKTsNCiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBzdWl0ZXMgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCiAgICAgICAgICAgIGZvciAoR2F0bGluZ1Rlc3QgdCA6IGFsbFRlc3RzKSB7DQogICAgICAgICAgICAgICAgaWYgKHQuZ2V0U3VpdGUoKSAhPSBudWxsICYmICF0LmdldFN1aXRlKCkuaXNFbXB0eSgpICYmICFzdWl0ZXMuY29udGFpbnModC5nZXRTdWl0ZSgpKSkgew0KICAgICAgICAgICAgICAgICAgICBzdWl0ZXMuYWRkKHQuZ2V0U3VpdGUoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc3VpdGVDb21ib0JveC5nZXRJdGVtcygpLnNldEFsbChzdWl0ZXMpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgLy8gaWdub3JlDQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAvLyAzLiBVSSByZWZyZXNoL2hlbHBlciBtZXRob2RzDQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgcHVibGljIHZvaWQgcmVmcmVzaCgpIHsNCiAgICAgICAgcmVmcmVzaEFsbCgpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCByZWZyZXNoQWxsKCkgew0KICAgICAgICBsb2FkRW5kcG9pbnRzKCk7DQogICAgICAgIGxvYWRBbGxUY2lkcygpOw0KICAgICAgICBsb2FkVGVzdHMoKTsNCiAgICAgICAgbG9hZFRlbXBsYXRlcygpOw0KICAgICAgICBsb2FkSGVhZGVyc1RlbXBsYXRlcygpOw0KICAgICAgICBjbGVhckZpZWxkcygpOw0KICAgICAgICBjb25kaXRpb25zVGFibGUucmVmcmVzaCgpOw0KICAgICAgICB1cGRhdGVHZW5lcmF0ZWRCb2R5KCk7DQogICAgICAgIHVwZGF0ZUdlbmVyYXRlZEhlYWRlcnMoKTsNCiAgICAgICAgbG9hZEFsbFN1aXRlcygpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBjbGVhckZpZWxkcygpIHsNCiAgICAgICAgdGVzdElkRmllbGQuY2xlYXIoKTsNCiAgICAgICAgaXNFbmFibGVkQ2hlY2tCb3guc2V0U2VsZWN0ZWQoZmFsc2UpOw0KICAgICAgICBzdWl0ZUNvbWJvQm94LnNldFZhbHVlKCIiKTsNCiAgICAgICAgdGNpZEZpZWxkLmNsZWFyKCk7DQogICAgICAgIGRlc2NyaXB0aW9uc0FyZWEuY2xlYXIoKTsNCiAgICAgICAgZXhwUmVzdWx0QXJlYS5jbGVhcigpOw0KICAgICAgICBzYXZlRmllbGRzQXJlYS5jbGVhcigpOw0KICAgICAgICBlbmRwb2ludENvbWJvQm94LmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgZW5kcG9pbnRDb21ib0JveC5zZXRWYWx1ZShudWxsKTsNCiAgICAgICAgZW5kcG9pbnRDb21ib0JveC5zZXRQcm9tcHRUZXh0KCJTZWxlY3QgRW5kcG9pbnQiKTsNCiAgICAgICAgYm9keVRlbXBsYXRlQ29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbigpOw0KICAgICAgICBib2R5VGVtcGxhdGVDb21ib0JveC5zZXRWYWx1ZShudWxsKTsNCiAgICAgICAgYm9keVRlbXBsYXRlVmFyaWFibGVzLmNsZWFyKCk7DQogICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbWJvQm94LmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgaGVhZGVyc1RlbXBsYXRlQ29tYm9Cb3guc2V0VmFsdWUobnVsbCk7DQogICAgICAgIGhlYWRlcnNUZW1wbGF0ZVZhcmlhYmxlcy5jbGVhcigpOw0KICAgICAgICB0YWdIYW5kbGVyLnNldFRhZ3NGcm9tU3RyaW5nKCIiKTsNCiAgICAgICAgd2FpdFRpbWVTcGlubmVyLmdldFZhbHVlRmFjdG9yeSgpLnNldFZhbHVlKDApOw0KICAgICAgICBjb25kaXRpb25IYW5kbGVyLmdldENvbmRpdGlvblJvd3MoKS5jbGVhcigpOw0KICAgICAgICB1cGRhdGVHZW5lcmF0ZWRCb2R5KCk7DQogICAgICAgIHVwZGF0ZUdlbmVyYXRlZEhlYWRlcnMoKTsNCg0KICAgICAgICAvLyBDbGVhciByZXNwb25zZSBjaGVja3MNCiAgICAgICAgcmVzcG9uc2VDaGVja3MuY2xlYXIoKTsNCiAgICAgICAgZW5zdXJlRGVmYXVsdFN0YXR1c0NoZWNrKCk7DQogICAgICAgIGlmIChyZXNwb25zZUNoZWNrc1RhYmxlICE9IG51bGwpIHsNCiAgICAgICAgICAgIHJlc3BvbnNlQ2hlY2tzVGFibGUucmVmcmVzaCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgdXJsRHluYW1pY1ZhcmlhYmxlcy5jbGVhcigpOw0KICAgICAgICBnZW5lcmF0ZWRVcmxBcmVhLnNldFRleHQoIiIpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCB1cGRhdGVHZW5lcmF0ZWRCb2R5KCkgew0KICAgICAgICBTdHJpbmcgYm9keSA9IGJ1aWxkUmVxdWVzdEJvZHkoKTsNCiAgICAgICAgZ2VuZXJhdGVkQm9keUFyZWEuc2V0VGV4dChib2R5ID09IG51bGwgPyAiIiA6IGJvZHkpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCB1cGRhdGVHZW5lcmF0ZWRIZWFkZXJzKCkgew0KICAgICAgICBTdHJpbmcgaGVhZGVycyA9IGJ1aWxkSGVhZGVycygpOw0KICAgICAgICBnZW5lcmF0ZWRIZWFkZXJzQXJlYS5zZXRUZXh0KGhlYWRlcnMgPT0gbnVsbCA/ICIiIDogaGVhZGVycyk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHNob3dUZXN0RGV0YWlscyhHYXRsaW5nVGVzdCB0ZXN0KSB7DQogICAgICAgIGlmICh0ZXN0ICE9IG51bGwpIHsNCiAgICAgICAgICAgIHRlc3RJZEZpZWxkLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodGVzdC5nZXRJZCgpKSk7DQogICAgICAgICAgICBpc0VuYWJsZWRDaGVja0JveC5zZXRTZWxlY3RlZCh0ZXN0LmlzRW5hYmxlZCgpKTsNCiAgICAgICAgICAgIHN1aXRlQ29tYm9Cb3guc2V0VmFsdWUodGVzdC5nZXRTdWl0ZSgpKTsNCiAgICAgICAgICAgIHRjaWRGaWVsZC5zZXRUZXh0KHRlc3QuZ2V0VGNpZCgpKTsNCiAgICAgICAgICAgIGRlc2NyaXB0aW9uc0FyZWEuc2V0VGV4dCh0ZXN0LmdldERlc2NyaXB0aW9ucygpKTsNCiAgICAgICAgICAgIGNvbmRpdGlvbkhhbmRsZXIuZGVzZXJpYWxpemVDb25kaXRpb25zKHRlc3QuZ2V0Q29uZGl0aW9ucygpKTsNCiAgICAgICAgICAgIGV4cFJlc3VsdEFyZWEuc2V0VGV4dCh0ZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCkpOw0KICAgICAgICAgICAgU3RyaW5nIGRpc3BsYXkgPSBudWxsOw0KICAgICAgICAgICAgRW5kcG9pbnQgZXBGb3VuZCA9IGVuZHBvaW50SWRNYXAuZ2V0KHRlc3QuZ2V0RW5kcG9pbnRJZCgpKTsNCiAgICAgICAgICAgIGlmIChlcEZvdW5kICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5ID0gZXBGb3VuZC5nZXROYW1lKCkgKyAiIFsgIiArIGVwRm91bmQuZ2V0TWV0aG9kKCkgKyAiICIgKyBlcEZvdW5kLmdldFVybCgpICsgIiBdIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVuZHBvaW50Q29tYm9Cb3guc2V0VmFsdWUoZGlzcGxheSk7DQogICAgICAgICAgICBpZiAoYm9keVRlbXBsYXRlSWROYW1lTWFwLmNvbnRhaW5zS2V5KHRlc3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSkpIHsNCiAgICAgICAgICAgICAgICBib2R5VGVtcGxhdGVDb21ib0JveC5zZXRWYWx1ZShib2R5VGVtcGxhdGVJZE5hbWVNYXAuZ2V0KHRlc3QuZ2V0Qm9keVRlbXBsYXRlSWQoKSkpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBib2R5VGVtcGxhdGVDb21ib0JveC5zZXRWYWx1ZShudWxsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGJvZHlUZW1wbGF0ZUhhbmRsZXIuc2V0QW5kRm9ybWF0VmFyaWFibGVzKHRlc3QuZ2V0Qm9keUR5bmFtaWNWYXJpYWJsZXMoKSk7DQoNCiAgICAgICAgICAgIGlmIChoZWFkZXJzVGVtcGxhdGVJZE5hbWVNYXAuY29udGFpbnNLZXkodGVzdC5nZXRIZWFkZXJzVGVtcGxhdGVJZCgpKSkgew0KICAgICAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbWJvQm94LnNldFZhbHVlKGhlYWRlcnNUZW1wbGF0ZUlkTmFtZU1hcC5nZXQodGVzdC5nZXRIZWFkZXJzVGVtcGxhdGVJZCgpKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbWJvQm94LnNldFZhbHVlKG51bGwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaGVhZGVyc1RlbXBsYXRlSGFuZGxlci5zZXRBbmRGb3JtYXRWYXJpYWJsZXModGVzdC5nZXRIZWFkZXJzRHluYW1pY1ZhcmlhYmxlcygpKTsNCg0KICAgICAgICAgICAgdGFnSGFuZGxlci5zZXRUYWdzRnJvbVN0cmluZyh0ZXN0LmdldFRhZ3MoKSk7DQogICAgICAgICAgICB3YWl0VGltZVNwaW5uZXIuZ2V0VmFsdWVGYWN0b3J5KCkuc2V0VmFsdWUodGVzdC5nZXRXYWl0VGltZSgpKTsNCg0KICAgICAgICAgICAgLy8gTG9hZCByZXNwb25zZSBjaGVja3MgZnJvbSB0ZXN0LnJlc3BvbnNlQ2hlY2tzIEpTT04gbGlzdA0KICAgICAgICAgICAgcmVzcG9uc2VDaGVja3MuY2xlYXIoKTsNCiAgICAgICAgICAgIGlmKHRlc3QuZ2V0UmVzcG9uc2VDaGVja3MoKSE9bnVsbCAmJiAhdGVzdC5nZXRSZXNwb25zZUNoZWNrcygpLmlzRW1wdHkoKSl7DQogICAgICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgICAgICBqYXZhLnV0aWwuTGlzdDxSZXNwb25zZUNoZWNrPiBsaXN0ID0gbWFwcGVyLnJlYWRWYWx1ZSh0ZXN0LmdldFJlc3BvbnNlQ2hlY2tzKCksIG5ldyBjb20uZmFzdGVyeG1sLmphY2tzb24uY29yZS50eXBlLlR5cGVSZWZlcmVuY2U8amF2YS51dGlsLkxpc3Q8UmVzcG9uc2VDaGVjaz4+KCl7fSk7DQogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ2hlY2tzLmFkZEFsbChsaXN0KTsNCiAgICAgICAgICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGlnbm9yZWQpe30NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIEVuc3VyZSBkZWZhdWx0IHN0YXR1cyByb3cNCiAgICAgICAgICAgIGVuc3VyZURlZmF1bHRTdGF0dXNDaGVjaygpOw0KDQogICAgICAgICAgICAvLyBQb3B1bGF0ZSBVUkwgZHluYW1pYyB2YXJpYWJsZXMgYmFzZWQgb24gZW5kcG9pbnQgVVJMIGFuZCBzYXZlZCB2YWx1ZXMNCiAgICAgICAgICAgIHBvcHVsYXRlVXJsRHluYW1pY1ZhcmlhYmxlcyhkaXNwbGF5KTsNCiAgICAgICAgICAgIGlmKHRlc3QhPW51bGwpew0KICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsU3RyaW5nPiBzYXZlZCA9IHRlc3QuZ2V0RW5kcG9pbnREeW5hbWljVmFyaWFibGVzKCk7DQogICAgICAgICAgICAgICAgZm9yIChEeW5hbWljVmFyaWFibGUgZHYgOiB1cmxEeW5hbWljVmFyaWFibGVzKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZCE9bnVsbCAmJiBzYXZlZC5jb250YWluc0tleShkdi5nZXRLZXkoKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR2LnNldFZhbHVlKHNhdmVkLmdldChkdi5nZXRLZXkoKSkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdXBkYXRlR2VuZXJhdGVkVXJsKCk7DQoNCiAgICAgICAgICAgIHVwZGF0ZUdlbmVyYXRlZEJvZHkoKTsNCiAgICAgICAgICAgIHVwZGF0ZUdlbmVyYXRlZEhlYWRlcnMoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNsZWFyRmllbGRzKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgcG9wdWxhdGVUZXN0RnJvbUZpZWxkcyhHYXRsaW5nVGVzdCB0ZXN0KSB7DQogICAgICAgIFN0cmluZyBzdWl0ZSA9IHN1aXRlQ29tYm9Cb3guZ2V0RWRpdG9yKCkuZ2V0VGV4dCgpLnRyaW0oKTsNCiAgICAgICAgU3RyaW5nIHRjaWQgPSB0Y2lkRmllbGQuZ2V0VGV4dCgpLnRyaW0oKTsNCiAgICAgICAgU3RyaW5nIGRlc2NyaXB0aW9ucyA9IGRlc2NyaXB0aW9uc0FyZWEuZ2V0VGV4dCgpLnRyaW0oKTsNCiAgICAgICAgU3RyaW5nIGVuZHBvaW50RGlzcGxheSA9IGVuZHBvaW50Q29tYm9Cb3guZ2V0VmFsdWUoKTsNCiAgICAgICAgU3RyaW5nIGVuZHBvaW50TmFtZSA9IGVuZHBvaW50RGlzcGxheSA9PSBudWxsID8gIiIgOiBlbmRwb2ludERpc3BsYXkuc3BsaXQoIiBcXFsiKVswXS50cmltKCk7DQoNCiAgICAgICAgLy8gUmVzb2x2ZSBlbmRwb2ludCBJRA0KICAgICAgICBpbnQgZW5kcG9pbnRJZCA9IDA7DQogICAgICAgIGZvciAoRW5kcG9pbnQgZXAgOiBlbmRwb2ludExpc3QpIHsNCiAgICAgICAgICAgIGlmIChlcC5nZXROYW1lKCkuZXF1YWxzKGVuZHBvaW50TmFtZSkpIHsgZW5kcG9pbnRJZCA9IGVwLmdldElkKCk7IGJyZWFrOyB9DQogICAgICAgIH0NCg0KICAgICAgICB0ZXN0LnNldEVuYWJsZWQoaXNFbmFibGVkQ2hlY2tCb3guaXNTZWxlY3RlZCgpKTsNCiAgICAgICAgdGVzdC5zZXRTdWl0ZShzdWl0ZSk7DQogICAgICAgIHRlc3Quc2V0VGNpZCh0Y2lkKTsNCiAgICAgICAgdGVzdC5zZXREZXNjcmlwdGlvbnMoZGVzY3JpcHRpb25zKTsNCiAgICAgICAgdGVzdC5zZXRDb25kaXRpb25zKHNlcmlhbGl6ZUNvbmRpdGlvbnMoKSk7DQogICAgICAgIHRlc3Quc2V0UmVzcG9uc2VDaGVja3MoZXhwUmVzdWx0QXJlYS5nZXRUZXh0KCkpOw0KICAgICAgICB0ZXN0LnNldEVuZHBvaW50SWQoZW5kcG9pbnRJZCk7DQogICAgICAgIC8vIGtlZXAgbmFtZSBmb3IgVUkgY29udmVuaWVuY2UgKG5vdCBwZXJzaXN0ZWQpDQogICAgICAgIHRlc3Quc2V0RW5kcG9pbnROYW1lKGVuZHBvaW50TmFtZSk7DQogICAgICAgIHRlc3Quc2V0Qm9keVRlbXBsYXRlSWQoZ2V0Qm9keVRlbXBsYXRlSWRCeU5hbWUoYm9keVRlbXBsYXRlQ29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKSkpOw0KICAgICAgICB0ZXN0LnNldEhlYWRlcnNUZW1wbGF0ZUlkKA0KICAgICAgICAgICAgICAgIGdldEhlYWRlcnNUZW1wbGF0ZUlkQnlOYW1lKGhlYWRlcnNUZW1wbGF0ZUNvbWJvQm94LmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCkpKTsNCiAgICAgICAgdGVzdC5zZXRUYWdzKGdldFRhZ3NTdHJpbmcoKSk7DQogICAgICAgIHRlc3Quc2V0V2FpdFRpbWUod2FpdFRpbWVTcGlubmVyLmdldFZhbHVlKCkpOw0KDQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gYm9keVZhcnMgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgICAgIGJvZHlUZW1wbGF0ZVZhcmlhYmxlcy5mb3JFYWNoKGR2IC0+IGJvZHlWYXJzLnB1dChkdi5nZXRLZXkoKSwgZHYuZ2V0VmFsdWUoKSkpOw0KICAgICAgICB0ZXN0LnNldER5bmFtaWNWYXJpYWJsZXMoYm9keVZhcnMpOw0KDQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVyc1ZhcnMgPSBuZXcgSGFzaE1hcDw+KCk7DQogICAgICAgIGhlYWRlcnNUZW1wbGF0ZVZhcmlhYmxlcy5mb3JFYWNoKGR2IC0+IGhlYWRlcnNWYXJzLnB1dChkdi5nZXRLZXkoKSwgZHYuZ2V0VmFsdWUoKSkpOw0KICAgICAgICB0ZXN0LnNldEhlYWRlcnNEeW5hbWljVmFyaWFibGVzKGhlYWRlcnNWYXJzKTsNCiAgICAgICAgDQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gdXJsVmFycyA9IG5ldyBIYXNoTWFwPD4oKTsNCiAgICAgICAgdXJsRHluYW1pY1ZhcmlhYmxlcy5mb3JFYWNoKGR2IC0+IHVybFZhcnMucHV0KGR2LmdldEtleSgpLCBkdi5nZXRWYWx1ZSgpKSk7DQogICAgICAgIHRlc3Quc2V0RW5kcG9pbnREeW5hbWljVmFyaWFibGVzKHVybFZhcnMpOw0KDQogICAgICAgIC8vIFN0b3JlIHJhdyB0ZW1wbGF0ZXMgZm9yIHJ1bnRpbWUgcmVuZGVyaW5nDQogICAgICAgIFN0cmluZyBzZWxlY3RlZEJvZHlUZW1wbGF0ZU5hbWUgPSBib2R5VGVtcGxhdGVDb21ib0JveC5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICBpZiAoc2VsZWN0ZWRCb2R5VGVtcGxhdGVOYW1lICE9IG51bGwgJiYgYm9keVRlbXBsYXRlcy5jb250YWluc0tleShzZWxlY3RlZEJvZHlUZW1wbGF0ZU5hbWUpKSB7DQogICAgICAgICAgICB0ZXN0LnNldEJvZHkoYm9keVRlbXBsYXRlcy5nZXQoc2VsZWN0ZWRCb2R5VGVtcGxhdGVOYW1lKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0ZXN0LnNldEJvZHkobnVsbCk7DQogICAgICAgIH0NCg0KICAgICAgICBTdHJpbmcgc2VsZWN0ZWRIZWFkZXJzVGVtcGxhdGVOYW1lID0gaGVhZGVyc1RlbXBsYXRlQ29tYm9Cb3guZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkSGVhZGVyc1RlbXBsYXRlTmFtZSAhPSBudWxsICYmIGhlYWRlcnNUZW1wbGF0ZXMuY29udGFpbnNLZXkoc2VsZWN0ZWRIZWFkZXJzVGVtcGxhdGVOYW1lKSkgew0KICAgICAgICAgICAgdGVzdC5zZXRIZWFkZXJzKGhlYWRlcnNUZW1wbGF0ZXMuZ2V0KHNlbGVjdGVkSGVhZGVyc1RlbXBsYXRlTmFtZSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGVzdC5zZXRIZWFkZXJzKG51bGwpOw0KICAgICAgICB9DQoNCiAgICAgICAgdGVzdC5zZXRQcm9qZWN0SWQoUHJvamVjdENvbnRleHQuZ2V0Q3VycmVudFByb2plY3RJZCgpKTsNCg0KICAgICAgICAvLyBTZXJpYWxpemUgcmVzcG9uc2UgY2hlY2tzIHRvIEpTT04NCiAgICAgICAgdHJ5ew0KICAgICAgICAgICAgU3RyaW5nIGpzb24gPSBtYXBwZXIud3JpdGVWYWx1ZUFzU3RyaW5nKHJlc3BvbnNlQ2hlY2tzKTsNCiAgICAgICAgICAgIHRlc3Quc2V0UmVzcG9uc2VDaGVja3MoanNvbik7DQogICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7DQogICAgICAgICAgICB0ZXN0LnNldFJlc3BvbnNlQ2hlY2tzKG51bGwpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gbmV3IHN1aXRlIGFkZGVkIHRvIGRyb3Bkb3duDQogICAgICAgIGlmIChzdWl0ZSAhPSBudWxsICYmICFzdWl0ZS5pc0VtcHR5KCkgJiYgIXN1aXRlQ29tYm9Cb3guZ2V0SXRlbXMoKS5jb250YWlucyhzdWl0ZSkpIHsNCiAgICAgICAgICAgIHN1aXRlQ29tYm9Cb3guZ2V0SXRlbXMoKS5hZGQoc3VpdGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgLy8gNC4gRm9ybS9jb250cm9sIGV2ZW50IGhhbmRsaW5nDQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQWRkVGVzdCgpIHsNCiAgICAgICAgU3RyaW5nIHN1aXRlID0gc3VpdGVDb21ib0JveC5nZXRFZGl0b3IoKS5nZXRUZXh0KCkudHJpbSgpOw0KICAgICAgICBTdHJpbmcgdGNpZCA9IHRjaWRGaWVsZC5nZXRUZXh0KCkudHJpbSgpOw0KICAgICAgICBTdHJpbmcgZGVzY3JpcHRpb25zID0gZGVzY3JpcHRpb25zQXJlYS5nZXRUZXh0KCkudHJpbSgpOw0KICAgICAgICBTdHJpbmcgZW5kcG9pbnREaXNwbGF5ID0gZW5kcG9pbnRDb21ib0JveC5nZXRWYWx1ZSgpOw0KICAgICAgICBTdHJpbmcgZW5kcG9pbnROYW1lID0gZW5kcG9pbnREaXNwbGF5ID09IG51bGwgPyAiIiA6IGVuZHBvaW50RGlzcGxheS5zcGxpdCgiIFxcWyIpWzBdLnRyaW0oKTsNCiAgICAgICAgaWYgKHRjaWQuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIklucHV0IEVycm9yOiBUQ0lEIGlzIHJlcXVpcmVkLiIsDQogICAgICAgICAgICAgICAgICAgICAgICBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIEdhdGxpbmdUZXN0IG5ld1Rlc3QgPSBuZXcgR2F0bGluZ1Rlc3Qoc3VpdGUsIHRjaWQsIGRlc2NyaXB0aW9ucywgZW5kcG9pbnROYW1lLCBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCkpOw0KICAgICAgICBwb3B1bGF0ZVRlc3RGcm9tRmllbGRzKG5ld1Rlc3QpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICB0ZXN0U2VydmljZS5jcmVhdGVUZXN0KG5ld1Rlc3QpOw0KDQogICAgICAgICAgICBCb29sZWFuUHJvcGVydHkgc2VsZWN0ZWQgPSBuZXcgU2ltcGxlQm9vbGVhblByb3BlcnR5KGZhbHNlKTsNCiAgICAgICAgICAgIHNlbGVjdGVkLmFkZExpc3RlbmVyKChvYnMsIHdhc1NlbCwgaXNTZWwpIC0+IHsNCiAgICAgICAgICAgICAgICBpZiAoaXNVcGRhdGluZ1NlbGVjdGlvbikgcmV0dXJuOw0KICAgICAgICAgICAgICAgIGlmIChpc1NlbCkgew0KICAgICAgICAgICAgICAgICAgICB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QobmV3VGVzdCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGVzdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24odGVzdExpc3QuaW5kZXhPZihuZXdUZXN0KSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBzZWxlY3Rpb25NYXAucHV0KG5ld1Rlc3QsIHNlbGVjdGVkKTsNCg0KICAgICAgICAgICAgdGVzdExpc3QuYWRkKG5ld1Rlc3QpOw0KICAgICAgICAgICAgY2xlYXJGaWVsZHMoKTsNCiAgICAgICAgICAgIHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChuZXdUZXN0KTsNCiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiVGVzdCBhZGRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmVmcmVzaEFsbCgpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIGFkZCB0ZXN0OiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVVcGRhdGVUZXN0KCkgew0KICAgICAgICBHYXRsaW5nVGVzdCBzZWxlY3RlZFRlc3QgPSB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkVGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlNlbGVjdGlvbiBFcnJvcjogUGxlYXNlIHNlbGVjdCBhIHRlc3QgZnJvbSB0aGUgdGFibGUgdG8gdXBkYXRlLiIsDQogICAgICAgICAgICAgICAgICAgICAgICBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIFN0cmluZyB0Y2lkID0gdGNpZEZpZWxkLmdldFRleHQoKS50cmltKCk7DQogICAgICAgIGlmICh0Y2lkLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiSW5wdXQgRXJyb3I6IFRDSUQgaXMgcmVxdWlyZWQuIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgcG9wdWxhdGVUZXN0RnJvbUZpZWxkcyhzZWxlY3RlZFRlc3QpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICB0ZXN0U2VydmljZS51cGRhdGVUZXN0KHNlbGVjdGVkVGVzdCk7DQogICAgICAgICAgICB0ZXN0VGFibGUucmVmcmVzaCgpOw0KICAgICAgICAgICAgdGVzdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHNlbGVjdGVkVGVzdCk7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlRlc3QgdXBkYXRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIHJlZnJlc2hBbGwoKTsNCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gdXBkYXRlIHRlc3Q6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUR1cGxpY2F0ZVRlc3QoKSB7DQogICAgICAgIGZpbmFsIEdhdGxpbmdUZXN0IHNlbGVjdGVkVGVzdCA9IHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOw0KICAgICAgICBpZiAoc2VsZWN0ZWRUZXN0ID09IG51bGwpIHsNCiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiUGxlYXNlIHNlbGVjdCBhIHRlc3QgdG8gZHVwbGljYXRlLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRlc3Qgb2JqZWN0IGFzIGEgY29weQ0KICAgICAgICAgICAgR2F0bGluZ1Rlc3QgZHVwbGljYXRlID0gbmV3IEdhdGxpbmdUZXN0KHNlbGVjdGVkVGVzdCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEFkZCBpdCB0byB0aGUgZGF0YWJhc2UNCiAgICAgICAgICAgIHRlc3RTZXJ2aWNlLmNyZWF0ZVRlc3QoZHVwbGljYXRlKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJUZXN0ICIgKyBzZWxlY3RlZFRlc3QuZ2V0VGNpZCgpICsgIiBkdXBsaWNhdGVkIHN1Y2Nlc3NmdWxseSBhcyAiICsgZHVwbGljYXRlLmdldFRjaWQoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSB2aWV3DQogICAgICAgICAgICByZWZyZXNoQWxsKCk7DQoNCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVycm9yIGR1cGxpY2F0aW5nIHRlc3Q6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEZWxldGVUZXN0KCkgew0KICAgICAgICBPYnNlcnZhYmxlTGlzdDxHYXRsaW5nVGVzdD4gc2VsZWN0ZWRUZXN0cyA9IHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkVGVzdHMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlNlbGVjdGlvbiBFcnJvcjogUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgdGVzdCBmcm9tIHRoZSB0YWJsZSB0byBkZWxldGUuIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBMaXN0PEdhdGxpbmdUZXN0PiB0ZXN0c1RvRGVsZXRlID0gbmV3IEFycmF5TGlzdDw+KHNlbGVjdGVkVGVzdHMpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBmb3IgKEdhdGxpbmdUZXN0IHRlc3QgOiB0ZXN0c1RvRGVsZXRlKSB7DQogICAgICAgICAgICAgICAgdGVzdFNlcnZpY2UucmVtb3ZlVGVzdCh0ZXN0LmdldElkKCkpOw0KICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1hcC5yZW1vdmUodGVzdCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0ZXN0TGlzdC5yZW1vdmVBbGwodGVzdHNUb0RlbGV0ZSk7DQogICAgICAgICAgICBjbGVhckZpZWxkcygpOw0KICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKHRlc3RzVG9EZWxldGUuc2l6ZSgpICsgIiB0ZXN0KHMpIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlZnJlc2hBbGwoKTsNCiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBkZWxldGUgdGVzdChzKTogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2xlYXJGaWVsZHMoKSB7DQogICAgICAgIGNsZWFyRmllbGRzKCk7DQogICAgICAgIHRlc3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKCk7DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTW92ZVVwKCkgew0KICAgICAgICBHYXRsaW5nVGVzdCBzZWxlY3RlZFRlc3QgPSB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkVGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBpbnQgaW5kZXggPSB0ZXN0TGlzdC5pbmRleE9mKHNlbGVjdGVkVGVzdCk7DQogICAgICAgIGlmIChpbmRleCA+IDApIHsNCiAgICAgICAgICAgIC8vIFN3YXAgd2l0aCB0aGUgZWxlbWVudCBhYm92ZQ0KICAgICAgICAgICAgR2F0bGluZ1Rlc3QgYWJvdmVUZXN0ID0gdGVzdExpc3QuZ2V0KGluZGV4IC0gMSk7DQogICAgICAgICAgICB0ZXN0TGlzdC5zZXQoaW5kZXggLSAxLCBzZWxlY3RlZFRlc3QpOw0KICAgICAgICAgICAgdGVzdExpc3Quc2V0KGluZGV4LCBhYm92ZVRlc3QpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB1cGRhdGVEaXNwbGF5T3JkZXJBbmRQZXJzaXN0KCk7DQogICAgICAgICAgICB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoaW5kZXggLSAxKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZU1vdmVEb3duKCkgew0KICAgICAgICBHYXRsaW5nVGVzdCBzZWxlY3RlZFRlc3QgPSB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsNCiAgICAgICAgaWYgKHNlbGVjdGVkVGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBpbnQgaW5kZXggPSB0ZXN0TGlzdC5pbmRleE9mKHNlbGVjdGVkVGVzdCk7DQogICAgICAgIGlmIChpbmRleCA8IHRlc3RMaXN0LnNpemUoKSAtIDEpIHsNCiAgICAgICAgICAgIC8vIFN3YXAgd2l0aCB0aGUgZWxlbWVudCBiZWxvdw0KICAgICAgICAgICAgR2F0bGluZ1Rlc3QgYmVsb3dUZXN0ID0gdGVzdExpc3QuZ2V0KGluZGV4ICsgMSk7DQogICAgICAgICAgICB0ZXN0TGlzdC5zZXQoaW5kZXggKyAxLCBzZWxlY3RlZFRlc3QpOw0KICAgICAgICAgICAgdGVzdExpc3Quc2V0KGluZGV4LCBiZWxvd1Rlc3QpOw0KDQogICAgICAgICAgICB1cGRhdGVEaXNwbGF5T3JkZXJBbmRQZXJzaXN0KCk7DQogICAgICAgICAgICB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoaW5kZXggKyAxKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCB1cGRhdGVEaXNwbGF5T3JkZXJBbmRQZXJzaXN0KCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0ZXN0TGlzdC5zaXplKCk7IGkrKykgew0KICAgICAgICAgICAgICAgIHRlc3RMaXN0LmdldChpKS5zZXREaXNwbGF5T3JkZXIoaSArIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGVzdFNlcnZpY2UudXBkYXRlT3JkZXIobmV3IEFycmF5TGlzdDw+KHRlc3RMaXN0KSk7DQogICAgICAgICAgICAvLyBPcHRpb25hbDogU2hvdyBzdWNjZXNzIHN0YXR1cw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIC8vIFNob3cgZXJyb3Igc3RhdHVzDQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byB1cGRhdGUgdGVzdCBvcmRlcjogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlUnVuVGVzdCgpIHsNCiAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8R2F0bGluZ1Rlc3Q+IHNlbGVjdGVkVGVzdHMgPSB0ZXN0VGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW1zKCk7DQogICAgICAgIGlmIChzZWxlY3RlZFRlc3RzLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJTZWxlY3Rpb24gRXJyb3I6IFBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHRlc3QgdG8gcnVuLiIsDQogICAgICAgICAgICAgICAgICAgICAgICBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gTWFrZSBhIHN0YWJsZSBjb3B5IG9mIHRoZSBzZWxlY3Rpb24gdG8gYXZvaWQgVUkgc2lkZS1lZmZlY3RzDQogICAgICAgIExpc3Q8R2F0bGluZ1Rlc3Q+IHRlc3RzVG9SdW4gPSBuZXcgQXJyYXlMaXN0PD4oc2VsZWN0ZWRUZXN0cyk7DQoNCiAgICAgICAgLy8gUGVyc2lzdCBjdXJyZW50IGZvcm0gZWRpdHMgYmFjayB0byB0aGUgZm9jdXNlZCB0ZXN0IChpZiBwYXJ0IG9mIHRoZSBydW4gc2V0KQ0KICAgICAgICBHYXRsaW5nVGVzdCBmb2N1c2VkID0gdGVzdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7DQogICAgICAgIGlmIChmb2N1c2VkICE9IG51bGwgJiYgdGVzdHNUb1J1bi5jb250YWlucyhmb2N1c2VkKSkgew0KICAgICAgICAgICAgcG9wdWxhdGVUZXN0RnJvbUZpZWxkcyhmb2N1c2VkKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFByZXBhcmUgbWluaW1hbCBsb2FkIHByb2ZpbGUgKHNpbmdsZSB1c2VyIGJ5IGRlZmF1bHQpDQogICAgICAgIEdhdGxpbmdMb2FkUGFyYW1ldGVycyBwYXJhbXMgPSBuZXcgR2F0bGluZ0xvYWRQYXJhbWV0ZXJzKCk7DQogICAgICAgIHBhcmFtcy5zZXRUeXBlKFRocmVhZEdyb3VwVHlwZS5TVEFOREFSRCk7DQogICAgICAgIFN0YW5kYXJkVGhyZWFkR3JvdXAgdGcgPSBuZXcgU3RhbmRhcmRUaHJlYWRHcm91cCgpOw0KICAgICAgICB0Zy5zZXROdW1UaHJlYWRzKDEpOw0KICAgICAgICB0Zy5zZXRSYW1wVXAoMCk7DQogICAgICAgIHRnLnNldExvb3BzKDEpOw0KICAgICAgICB0Zy5zZXRTY2hlZHVsZXIoZmFsc2UpOw0KICAgICAgICB0Zy5zZXREZWxheSgwKTsNCiAgICAgICAgcGFyYW1zLnNldFN0YW5kYXJkVGhyZWFkR3JvdXAodGcpOw0KDQogICAgICAgIC8vIE5vdGlmeSBVSSArIGRpc2FibGUgUnVuIGJ1dHRvbiB0byBwcmV2ZW50IGR1cGxpY2F0ZSBjbGlja3MNCiAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlJ1bm5pbmcgIiArIHRlc3RzVG9SdW4uc2l6ZSgpICsgIiBHYXRsaW5nIHRlc3QocykuLi4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuSU5GTyk7DQogICAgICAgIH0NCiAgICAgICAgLy8gRGlzYWJsZSBidXR0b24NCiAgICAgICAgcnVuVGVzdEJ1dHRvbi5zZXREaXNhYmxlKHRydWUpOw0KDQogICAgICAgIFJ1bm5hYmxlIG9uQ29tcGxldGUgPSAoKSAtPiB7DQogICAgICAgICAgICAvLyBSZS1lbmFibGUgUnVuIGJ1dHRvbiBhbmQgcmVmcmVzaCBkYXRhIG9uIEphdmFGWCB0aHJlYWQNCiAgICAgICAgICAgIGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybS5ydW5MYXRlcigoKSAtPiB7DQogICAgICAgICAgICAgICAgcnVuVGVzdEJ1dHRvbi5zZXREaXNhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICBsb2FkVGVzdHMoKTsNCiAgICAgICAgICAgICAgICB0ZXN0VGFibGUucmVmcmVzaCgpOw0KICAgICAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkdhdGxpbmcgdGVzdChzKSBjb21wbGV0ZWQuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9Ow0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICB0ZXN0U2VydmljZS5ydW5UZXN0cyh0ZXN0c1RvUnVuLCBwYXJhbXMsIG9uQ29tcGxldGUpOw0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGV4KSB7DQogICAgICAgICAgICBydW5UZXN0QnV0dG9uLnNldERpc2FibGUoZmFsc2UpOw0KICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gcnVuIHRlc3Qocyk6ICIgKyBleC5nZXRNZXNzYWdlKCksDQogICAgICAgICAgICAgICAgICAgICAgICBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlVGFnSW5wdXQoKSB7DQogICAgICAgIFN0cmluZyB0YWcgPSB0YWdzSW5wdXRGaWVsZC5nZXRUZXh0KCkudHJpbSgpOw0KICAgICAgICB0YWdIYW5kbGVyLmFkZFRhZyh0YWcpOw0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZENvbmRpdGlvbigpIHsNCiAgICAgICAgY29uZGl0aW9uSGFuZGxlci5hZGRDb25kaXRpb24oIlNldHVwIik7DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlUmVtb3ZlQ29uZGl0aW9uKCkgew0KICAgICAgICBpbnQgaWR4ID0gY29uZGl0aW9uc1RhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJbmRleCgpOw0KICAgICAgICBjb25kaXRpb25IYW5kbGVyLnJlbW92ZUNvbmRpdGlvbihpZHgpOw0KICAgIH0NCg0KICAgIC8vID09PT09PT09PT09PT09PT09PT09PQ0KICAgIC8vIDUuIFRlbXBsYXRlL3ZhcmlhYmxlIGhhbmRsaW5nDQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgcHJpdmF0ZSBTdHJpbmcgYnVpbGRSZXF1ZXN0Qm9keSgpIHsNCiAgICAgICAgcmV0dXJuIGJvZHlUZW1wbGF0ZUhhbmRsZXIuYnVpbGRDb250ZW50KCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBTdHJpbmcgYnVpbGRIZWFkZXJzKCkgew0KICAgICAgICByZXR1cm4gaGVhZGVyc1RlbXBsYXRlSGFuZGxlci5idWlsZENvbnRlbnQoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIGludCBnZXRCb2R5VGVtcGxhdGVJZEJ5TmFtZShTdHJpbmcgbmFtZSkgew0KICAgICAgICBmb3IgKE1hcC5FbnRyeTxJbnRlZ2VyLCBTdHJpbmc+IGVudHJ5IDogYm9keVRlbXBsYXRlSWROYW1lTWFwLmVudHJ5U2V0KCkpIHsNCiAgICAgICAgICAgIGlmIChlbnRyeS5nZXRWYWx1ZSgpLmVxdWFscyhuYW1lKSkNCiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkuZ2V0S2V5KCk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDA7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBpbnQgZ2V0SGVhZGVyc1RlbXBsYXRlSWRCeU5hbWUoU3RyaW5nIG5hbWUpIHsNCiAgICAgICAgZm9yIChNYXAuRW50cnk8SW50ZWdlciwgU3RyaW5nPiBlbnRyeSA6IGhlYWRlcnNUZW1wbGF0ZUlkTmFtZU1hcC5lbnRyeVNldCgpKSB7DQogICAgICAgICAgICBpZiAoZW50cnkuZ2V0VmFsdWUoKS5lcXVhbHMobmFtZSkpDQogICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmdldEtleSgpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0NCg0KICAgIHByaXZhdGUgU3RyaW5nIGdldFRhZ3NTdHJpbmcoKSB7DQogICAgICAgIHJldHVybiB0YWdIYW5kbGVyLmdldFRhZ3NTdHJpbmcoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIFN0cmluZyBzZXJpYWxpemVDb25kaXRpb25zKCkgew0KICAgICAgICByZXR1cm4gY29uZGl0aW9uSGFuZGxlci5zZXJpYWxpemVDb25kaXRpb25zKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgcmVmcmVzaER5bmFtaWNWYXJpYWJsZXMoKSB7DQogICAgICAgIFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVsb2FkQ3VzdG9tVmFyaWFibGVzKCk7DQogICAgICAgIGxvYWRUZW1wbGF0ZXMoKTsNCiAgICAgICAgbG9hZEhlYWRlcnNUZW1wbGF0ZXMoKTsNCiAgICAgICAgLy8gcmVmcmVzaCBkeW5hbWljIHZhcmlhYmxlcyB0YWJsZQ0KICAgICAgICBpZiAoYm9keUR5bmFtaWNWYXJzVGFibGUgIT0gbnVsbCkgYm9keUR5bmFtaWNWYXJzVGFibGUucmVmcmVzaCgpOw0KICAgICAgICBpZiAoaGVhZGVyc1RlbXBsYXRlVmFyc1RhYmxlICE9IG51bGwpIGhlYWRlcnNUZW1wbGF0ZVZhcnNUYWJsZS5yZWZyZXNoKCk7DQogICAgICAgIGlmIChib2R5VGVtcGxhdGVDb21ib0JveCAhPSBudWxsKSBib2R5VGVtcGxhdGVDb21ib0JveC5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoYm9keVRlbXBsYXRlSWROYW1lTWFwLnZhbHVlcygpKSk7DQogICAgICAgIGlmIChoZWFkZXJzVGVtcGxhdGVDb21ib0JveCAhPSBudWxsKSBoZWFkZXJzVGVtcGxhdGVDb21ib0JveC5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoaGVhZGVyc1RlbXBsYXRlSWROYW1lTWFwLnZhbHVlcygpKSk7DQogICAgfQ0KDQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09DQogICAgLy8gUmVzcG9uc2UgQ2hlY2sgZXZlbnQgaGFuZGxpbmcNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0NCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVBZGRSZXNwb25zZUNoZWNrKCkgew0KICAgICAgICBSZXNwb25zZUNoZWNrIG5ld0NoZWNrID0gbmV3IFJlc3BvbnNlQ2hlY2soKTsNCiAgICAgICAgcmVzcG9uc2VDaGVja3MuYWRkKG5ld0NoZWNrKTsNCiAgICAgICAgcmVzcG9uc2VDaGVja3NUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNsZWFyU2VsZWN0aW9uKCk7DQogICAgICAgIHJlc3BvbnNlQ2hlY2tzVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QobmV3Q2hlY2spOw0KICAgICAgICByZXNwb25zZUNoZWNrc1RhYmxlLnNjcm9sbFRvKG5ld0NoZWNrKTsNCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVSZW1vdmVSZXNwb25zZUNoZWNrKCkgew0KICAgICAgICBMaXN0PFJlc3BvbnNlQ2hlY2s+IHNlbGVjdGVkID0gbmV3IEFycmF5TGlzdDw+KHJlc3BvbnNlQ2hlY2tzVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW1zKCkpOw0KICAgICAgICBpZiAoIXNlbGVjdGVkLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgcmVzcG9uc2VDaGVja3MucmVtb3ZlQWxsKHNlbGVjdGVkKTsNCiAgICAgICAgfQ0KICAgICAgICBlbnN1cmVEZWZhdWx0U3RhdHVzQ2hlY2soKTsNCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDb3B5UmVzcG9uc2VDaGVjaygpIHsNCiAgICAgICAgTGlzdDxSZXNwb25zZUNoZWNrPiBzZWxlY3RlZCA9IHJlc3BvbnNlQ2hlY2tzVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW1zKCk7DQogICAgICAgIGlmICghc2VsZWN0ZWQuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICByZXNwb25zZUNoZWNrQ2xpcGJvYXJkLmNsZWFyKCk7DQogICAgICAgICAgICBmb3IgKFJlc3BvbnNlQ2hlY2sgcmMgOiBzZWxlY3RlZCkgew0KICAgICAgICAgICAgICAgIHJlc3BvbnNlQ2hlY2tDbGlwYm9hcmQuYWRkKG5ldyBSZXNwb25zZUNoZWNrKHJjKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBPcHRpb25hbDogcHJvdmlkZSBmZWVkYmFjayB0byB0aGUgdXNlcg0KICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKHNlbGVjdGVkLnNpemUoKSArICIgY2hlY2socykgY29waWVkIHRvIGNsaXBib2FyZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuSU5GTyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVQYXN0ZVJlc3BvbnNlQ2hlY2soKSB7DQogICAgICAgIGlmICghcmVzcG9uc2VDaGVja0NsaXBib2FyZC5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIGZvciAoUmVzcG9uc2VDaGVjayByYyA6IHJlc3BvbnNlQ2hlY2tDbGlwYm9hcmQpIHsNCiAgICAgICAgICAgICAgICByZXNwb25zZUNoZWNrcy5hZGQobmV3IFJlc3BvbnNlQ2hlY2socmMpKTsgLy8gQWRkIGEgbmV3IGNvcHkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIE9wdGlvbmFsOiBwcm92aWRlIGZlZWRiYWNrIHRvIHRoZSB1c2VyDQogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMocmVzcG9uc2VDaGVja0NsaXBib2FyZC5zaXplKCkgKyAiIGNoZWNrKHMpIHBhc3RlZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuSU5GTyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBSZXNwb25zZUNoZWNrc1RhYmxlKCl7DQogICAgICAgIC8vIEFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMNCiAgICAgICAgcmVzcG9uc2VDaGVja3NUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNldFNlbGVjdGlvbk1vZGUoU2VsZWN0aW9uTW9kZS5NVUxUSVBMRSk7DQogICAgICAgIGlmKHJlc3BvbnNlQ2hlY2tzVGFibGU9PW51bGwpIHJldHVybjsNCiAgICAgICAgcmVzcG9uc2VDaGVja3NUYWJsZS5zZXRJdGVtcyhyZXNwb25zZUNoZWNrcyk7DQogICAgICAgIHJlc3BvbnNlQ2hlY2tzVGFibGUuc2V0Rml4ZWRDZWxsU2l6ZShSZWdpb24uVVNFX0NPTVBVVEVEX1NJWkUpOyAvLyBNYWtlIHJvdyBoZWlnaHQgZHluYW1pYw0KDQogICAgICAgIC8vIFR5cGUgY29sdW1uDQogICAgICAgIGNoZWNrVHlwZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlT2JqZWN0UHJvcGVydHk8PihjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldFR5cGUoKSkpOw0KICAgICAgICBjaGVja1R5cGVDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoQ29tYm9Cb3hUYWJsZUNlbGwuZm9yVGFibGVDb2x1bW4oQ2hlY2tUeXBlLnZhbHVlcygpKSk7DQogICAgICAgIGNoZWNrVHlwZUNvbHVtbi5zZXRPbkVkaXRDb21taXQoZSAtPiB7DQogICAgICAgICAgICBlLmdldFJvd1ZhbHVlKCkuc2V0VHlwZShlLmdldE5ld1ZhbHVlKCkpOw0KICAgICAgICAgICAgcmVzcG9uc2VDaGVja3NUYWJsZS5yZWZyZXNoKCk7IC8vIFJlZnJlc2ggdGFibGUgdG8gc2hvdyBuZXcgY2VsbCBmYWN0b3J5IGZvciBleHByZXNzaW9uDQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIEV4cHJlc3Npb24gY29sdW1uDQogICAgICAgIGNoZWNrRXhwcmVzc2lvbkNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldEV4cHJlc3Npb24oKSkpOw0KICAgICAgICBjaGVja0V4cHJlc3Npb25Db2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sdW1uIC0+IG5ldyBFeHByZXNzaW9uQ2VsbCgpKTsNCiAgICAgICAgY2hlY2tFeHByZXNzaW9uQ29sdW1uLnNldE9uRWRpdENvbW1pdChldmVudCAtPiB7DQogICAgICAgICAgICBSZXNwb25zZUNoZWNrIGNoZWNrID0gZXZlbnQuZ2V0Um93VmFsdWUoKTsNCiAgICAgICAgICAgIGlmIChjaGVjay5nZXRUeXBlKCkgIT0gQ2hlY2tUeXBlLkRCKSB7DQogICAgICAgICAgICAgICAgY2hlY2suc2V0RXhwcmVzc2lvbihldmVudC5nZXROZXdWYWx1ZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCg0KICAgICAgICAvLyBPcGVyYXRvciBjb2x1bW4NCiAgICAgICAgY2hlY2tPcGVyYXRvckNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlT2JqZWN0UHJvcGVydHk8PihjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldE9wZXJhdG9yKCkpKTsNCiAgICAgICAgY2hlY2tPcGVyYXRvckNvbHVtbi5zZXRDZWxsRmFjdG9yeShDb21ib0JveFRhYmxlQ2VsbC5mb3JUYWJsZUNvbHVtbihPcGVyYXRvci52YWx1ZXMoKSkpOw0KICAgICAgICBjaGVja09wZXJhdG9yQ29sdW1uLnNldE9uRWRpdENvbW1pdChlIC0+IGUuZ2V0Um93VmFsdWUoKS5zZXRPcGVyYXRvcihlLmdldE5ld1ZhbHVlKCkpKTsNCg0KICAgICAgICAvLyBFeHBlY3QgY29sdW1uDQogICAgICAgIGNoZWNrRXhwZWN0Q29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldEV4cGVjdCgpKSk7DQogICAgICAgIGNoZWNrRXhwZWN0Q29sdW1uLnNldENlbGxGYWN0b3J5KFRleHRGaWVsZFRhYmxlQ2VsbC5mb3JUYWJsZUNvbHVtbigpKTsNCiAgICAgICAgY2hlY2tFeHBlY3RDb2x1bW4uc2V0T25FZGl0Q29tbWl0KGV2ZW50IC0+IGV2ZW50LmdldFJvd1ZhbHVlKCkuc2V0RXhwZWN0KGV2ZW50LmdldE5ld1ZhbHVlKCkpKTsNCg0KICAgICAgICBjaGVja1NhdmVBc0NvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldFNhdmVBcygpKSk7DQogICAgICAgIGNoZWNrU2F2ZUFzQ29sdW1uLnNldENlbGxGYWN0b3J5KFRleHRGaWVsZFRhYmxlQ2VsbC5mb3JUYWJsZUNvbHVtbigpKTsNCiAgICAgICAgY2hlY2tTYXZlQXNDb2x1bW4uc2V0T25FZGl0Q29tbWl0KGV2ZW50IC0+IGV2ZW50LmdldFJvd1ZhbHVlKCkuc2V0U2F2ZUFzKGV2ZW50LmdldE5ld1ZhbHVlKCkpKTsNCg0KICAgICAgICByZXNwb25zZUNoZWNrc1RhYmxlLnNldEVkaXRhYmxlKHRydWUpOw0KDQogICAgICAgIC8vIGVuc3VyZSBhdCBsZWFzdCBzdGF0dXMgcm93IGV4aXN0cw0KICAgICAgICBlbnN1cmVEZWZhdWx0U3RhdHVzQ2hlY2soKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2hvd0RiQ2hlY2tFZGl0RGlhbG9nKFJlc3BvbnNlQ2hlY2sgY2hlY2spIHsNCiAgICAgICAgRGlhbG9nPFJlc3BvbnNlQ2hlY2s+IGRpYWxvZyA9IG5ldyBEaWFsb2c8PigpOw0KICAgICAgICBkaWFsb2cuc2V0VGl0bGUoIkVkaXQgREIgQ2hlY2siKTsNCiAgICAgICAgZGlhbG9nLnNldEhlYWRlclRleHQoIkNvbmZpZ3VyZSB0aGUgZGF0YWJhc2UgcXVlcnkgYW5kIHJlc3VsdCB2YWxpZGF0aW9uLiIpOw0KDQogICAgICAgIC8vIFNldCBJY29uDQogICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBkaWFsb2cuZ2V0RGlhbG9nUGFuZSgpLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7DQogICAgICAgIHN0YWdlLmdldEljb25zKCkuYWRkKA0KICAgICAgICAgICAgICAgIG5ldyBJbWFnZShnZXRDbGFzcygpLmdldFJlc291cmNlQXNTdHJlYW0oIi9zdGF0aWMvaWNvbi9mYXZpY29uLmljbyIpKSk7DQoNCiAgICAgICAgLy8gU2V0IHRoZSBidXR0b24gdHlwZXMuDQogICAgICAgIEJ1dHRvblR5cGUgc2F2ZUJ1dHRvblR5cGUgPSBuZXcgQnV0dG9uVHlwZSgiU2F2ZSIsIEJ1dHRvbkJhci5CdXR0b25EYXRhLk9LX0RPTkUpOw0KICAgICAgICBkaWFsb2cuZ2V0RGlhbG9nUGFuZSgpLmdldEJ1dHRvblR5cGVzKCkuYWRkQWxsKHNhdmVCdXR0b25UeXBlLCBCdXR0b25UeXBlLkNBTkNFTCk7DQoNCiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb250ZW50IGdyaWQuDQogICAgICAgIEdyaWRQYW5lIGdyaWQgPSBuZXcgR3JpZFBhbmUoKTsNCiAgICAgICAgZ3JpZC5zZXRIZ2FwKDEwKTsNCiAgICAgICAgZ3JpZC5zZXRWZ2FwKDEwKTsNCiAgICAgICAgZ3JpZC5zZXRQYWRkaW5nKG5ldyBJbnNldHMoMjAsIDIwLCAxMCwgMTApKTsNCg0KICAgICAgICBDb21ib0JveDxTdHJpbmc+IGRiQWxpYXNDb21ib0JveCA9IG5ldyBDb21ib0JveDw+KCk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBkYkFsaWFzQ29tYm9Cb3guc2V0SXRlbXMoRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KGRiQ29ubmVjdGlvblNlcnZpY2UuZ2V0QWxsQWxpYXNlcygpKSk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBpZihtYWluVmlld01vZGVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIGxvYWQgREIgYWxpYXNlczogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGRiQWxpYXNDb21ib0JveC5zZXRWYWx1ZShjaGVjay5nZXREYkFsaWFzKCkpOw0KICAgICAgICBkYkFsaWFzQ29tYm9Cb3guc2V0UHJlZldpZHRoKDM1MCk7DQoNCiAgICAgICAgVGV4dEFyZWEgZGJTcWxBcmVhID0gbmV3IFRleHRBcmVhKGNoZWNrLmdldERiU3FsKCkpOw0KICAgICAgICBkYlNxbEFyZWEuc2V0UHJvbXB0VGV4dCgiU1FMIFF1ZXJ5Iik7DQogICAgICAgIGRiU3FsQXJlYS5zZXRXcmFwVGV4dCh0cnVlKTsNCiAgICAgICAgZGJTcWxBcmVhLnNldFByZWZXaWR0aCgzNTApOw0KICAgICAgICBkYlNxbEFyZWEuc2V0UHJlZkhlaWdodCgxNTApOw0KDQogICAgICAgIFRleHRGaWVsZCBkYkNvbHVtbkZpZWxkID0gbmV3IFRleHRGaWVsZChjaGVjay5nZXREYkNvbHVtbigpKTsNCiAgICAgICAgZGJDb2x1bW5GaWVsZC5zZXRQcm9tcHRUZXh0KCJSZXN1bHQgQ29sdW1uIHRvIGZldGNoIik7DQogICAgICAgIGRiQ29sdW1uRmllbGQuc2V0UHJlZldpZHRoKDM1MCk7DQoNCiAgICAgICAgZ3JpZC5hZGQobmV3IExhYmVsKCJEQiBDb25uZWN0aW9uIEFsaWFzOiIpLCAwLCAwKTsNCiAgICAgICAgZ3JpZC5hZGQoZGJBbGlhc0NvbWJvQm94LCAxLCAwKTsNCiAgICAgICAgZ3JpZC5hZGQobmV3IExhYmVsKCJTUUwgUXVlcnk6IiksIDAsIDEpOw0KICAgICAgICBncmlkLmFkZChkYlNxbEFyZWEsIDEsIDEpOw0KICAgICAgICBncmlkLmFkZChuZXcgTGFiZWwoIkNoZWNrIENvbHVtbjoiKSwgMCwgMik7DQogICAgICAgIGdyaWQuYWRkKGRiQ29sdW1uRmllbGQsIDEsIDIpOw0KDQogICAgICAgIGRpYWxvZy5nZXREaWFsb2dQYW5lKCkuc2V0Q29udGVudChncmlkKTsNCiAgICAgICAgZGlhbG9nLnNldFJlc2l6YWJsZSh0cnVlKTsNCg0KICAgICAgICAvLyBSZXF1ZXN0IGZvY3VzIG9uIHRoZSBmaXJzdCBpbnB1dCBmaWVsZCBieSBkZWZhdWx0Lg0KICAgICAgICBQbGF0Zm9ybS5ydW5MYXRlcihkYkFsaWFzQ29tYm9Cb3g6OnJlcXVlc3RGb2N1cyk7DQoNCiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVzdWx0IHRvIGEgUmVzcG9uc2VDaGVjayBvYmplY3Qgd2hlbiB0aGUgc2F2ZSBidXR0b24gaXMgY2xpY2tlZC4NCiAgICAgICAgZGlhbG9nLnNldFJlc3VsdENvbnZlcnRlcihkaWFsb2dCdXR0b24gLT4gew0KICAgICAgICAgICAgaWYgKGRpYWxvZ0J1dHRvbiA9PSBzYXZlQnV0dG9uVHlwZSkgew0KICAgICAgICAgICAgICAgIGNoZWNrLnNldERiQWxpYXMoZGJBbGlhc0NvbWJvQm94LmdldFZhbHVlKCkpOw0KICAgICAgICAgICAgICAgIGNoZWNrLnNldERiU3FsKGRiU3FsQXJlYS5nZXRUZXh0KCkpOw0KICAgICAgICAgICAgICAgIGNoZWNrLnNldERiQ29sdW1uKGRiQ29sdW1uRmllbGQuZ2V0VGV4dCgpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2s7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgT3B0aW9uYWw8UmVzcG9uc2VDaGVjaz4gcmVzdWx0ID0gZGlhbG9nLnNob3dBbmRXYWl0KCk7DQoNCiAgICAgICAgcmVzdWx0LmlmUHJlc2VudCh1cGRhdGVkQ2hlY2sgLT4gew0KICAgICAgICAgICAgLy8gVGhlIGNoZWNrIG9iamVjdCBpcyBtb2RpZmllZCBpbiBwbGFjZSwgc28ganVzdCBuZWVkIHRvIHJlZnJlc2ggdGhlIHRhYmxlIHRvIHNob3cgbmV3IHN1bW1hcnkNCiAgICAgICAgICAgIHJlc3BvbnNlQ2hlY2tzVGFibGUucmVmcmVzaCgpOw0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgZW5zdXJlRGVmYXVsdFN0YXR1c0NoZWNrKCl7DQogICAgICAgIGlmKHJlc3BvbnNlQ2hlY2tzLnN0cmVhbSgpLm5vbmVNYXRjaChyYyAtPiByYy5nZXRUeXBlKCk9PUNoZWNrVHlwZS5TVEFUVVMpKXsNCiAgICAgICAgICAgIFN0cmluZyBkZWZhdWx0U3RhdHVzID0gIjIwMCI7DQogICAgICAgICAgICByZXNwb25zZUNoZWNrcy5hZGQoMCxuZXcgUmVzcG9uc2VDaGVjayhDaGVja1R5cGUuU1RBVFVTLCIiLCBPcGVyYXRvci5JUywgZGVmYXVsdFN0YXR1cywgbnVsbCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZVN1aXRlRmlsdGVyT3B0aW9ucygpIHsNCiAgICAgICAgaWYgKHN1aXRlRmlsdGVyQ29tYm8gPT0gbnVsbCkgcmV0dXJuOw0KICAgICAgICBMaXN0PFN0cmluZz4gc3VpdGVzID0gdGVzdExpc3Quc3RyZWFtKCkNCiAgICAgICAgICAgICAgICAubWFwKEdhdGxpbmdUZXN0OjpnZXRTdWl0ZSkNCiAgICAgICAgICAgICAgICAuZmlsdGVyKHMgLT4gcyAhPSBudWxsICYmICFzLmlzQmxhbmsoKSkNCiAgICAgICAgICAgICAgICAuZGlzdGluY3QoKQ0KICAgICAgICAgICAgICAgIC5jb2xsZWN0KENvbGxlY3RvcnMudG9MaXN0KCkpOw0KICAgICAgICBzdWl0ZXMuYWRkKDAsICJBbGwiKTsNCiAgICAgICAgc3VpdGVGaWx0ZXJDb21iby5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3Qoc3VpdGVzKSk7DQogICAgfQ0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRmlsdGVyVGVzdHMoamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgew0KICAgICAgICBpZiAoc3VpdGVGaWx0ZXJDb21ibyA9PSBudWxsIHx8IHRhZ0ZpbHRlckZpZWxkID09IG51bGwpIHJldHVybjsNCiAgICAgICAgU3RyaW5nIHN1aXRlID0gc3VpdGVGaWx0ZXJDb21iby5nZXRWYWx1ZSgpOw0KICAgICAgICBTdHJpbmcgdGFnS3cgPSB0YWdGaWx0ZXJGaWVsZC5nZXRUZXh0KCk7DQogICAgICAgIFN0cmluZyBlbmFibGVkT3B0ID0gZW5hYmxlZEZpbHRlckNvbWJvID09IG51bGwgPyBudWxsIDogZW5hYmxlZEZpbHRlckNvbWJvLmdldFZhbHVlKCk7DQogICAgICAgIGxvYWRUZXN0cygpOyAvLyByZWxvYWQgYWxsIHRlc3RzIGZpcnN0DQogICAgICAgIHRlc3RMaXN0LnJlbW92ZUlmKHQgLT4gew0KICAgICAgICAgICAgYm9vbGVhbiBvayA9IHRydWU7DQogICAgICAgICAgICBpZiAoc3VpdGUgIT0gbnVsbCAmJiAhIkFsbCIuZXF1YWxzKHN1aXRlKSAmJiAhc3VpdGUuaXNCbGFuaygpKSB7DQogICAgICAgICAgICAgICAgb2sgPSBvayAmJiBzdWl0ZS5lcXVhbHModC5nZXRTdWl0ZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChvayAmJiB0YWdLdyAhPSBudWxsICYmICF0YWdLdy5pc0JsYW5rKCkpIHsNCiAgICAgICAgICAgICAgICBvayA9IHQuZ2V0VGFncygpICE9IG51bGwgJiYgdC5nZXRUYWdzKCkuY29udGFpbnModGFnS3cpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG9rICYmIGVuYWJsZWRPcHQgIT0gbnVsbCAmJiAhIkFsbCIuZXF1YWxzKGVuYWJsZWRPcHQpKSB7DQogICAgICAgICAgICAgICAgaWYgKCJFbmFibGVkIi5lcXVhbHMoZW5hYmxlZE9wdCkpIHsNCiAgICAgICAgICAgICAgICAgICAgb2sgPSB0LmlzRW5hYmxlZCgpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIkRpc2FibGVkIi5lcXVhbHMoZW5hYmxlZE9wdCkpIHsNCiAgICAgICAgICAgICAgICAgICAgb2sgPSAhdC5pc0VuYWJsZWQoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gIW9rOw0KICAgICAgICB9KTsNCiAgICAgICAgdXBkYXRlU3VpdGVGaWx0ZXJPcHRpb25zKCk7DQogICAgICAgIHVwZGF0ZVNlbGVjdEFsbENoZWNrQm94U3RhdGUoKTsNCiAgICB9DQoNCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVSZXNldEZpbHRlcihqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7DQogICAgICAgIGlmIChzdWl0ZUZpbHRlckNvbWJvICE9IG51bGwpIHN1aXRlRmlsdGVyQ29tYm8uc2V0VmFsdWUoIkFsbCIpOw0KICAgICAgICBpZiAodGFnRmlsdGVyRmllbGQgIT0gbnVsbCkgdGFnRmlsdGVyRmllbGQuY2xlYXIoKTsNCiAgICAgICAgaWYgKGVuYWJsZWRGaWx0ZXJDb21ibyAhPSBudWxsKSBlbmFibGVkRmlsdGVyQ29tYm8uc2V0VmFsdWUoIkFsbCIpOw0KICAgICAgICBsb2FkVGVzdHMoKTsNCiAgICAgICAgdXBkYXRlU3VpdGVGaWx0ZXJPcHRpb25zKCk7DQogICAgICAgIHVwZGF0ZVNlbGVjdEFsbENoZWNrQm94U3RhdGUoKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBVcmxEeW5hbWljVmFyaWFibGVzSGFuZGxlcigpIHsNCiAgICAgICAgaWYgKHVybER5bmFtaWNWYXJzVGFibGUgPT0gbnVsbCkgcmV0dXJuOyAvLyBGWE1MIG5vdCBsb2FkZWQgKHVuaXQgdGVzdHMpDQogICAgICAgIHVybER5bmFtaWNLZXlDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8Pigia2V5IikpOw0KICAgICAgICB1cmxEeW5hbWljVmFsdWVDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PigidmFsdWUiKSk7DQogICAgICAgIHVybER5bmFtaWNWYXJzVGFibGUuc2V0SXRlbXModXJsRHluYW1pY1ZhcmlhYmxlcyk7DQogICAgICAgIHVybER5bmFtaWNWYXJzVGFibGUuc2V0RWRpdGFibGUodHJ1ZSk7DQoNCiAgICAgICAgLy8gVmFsdWUgY29sdW1uIHdpdGggQ29tYm9Cb3ggc3VnZ2VzdGlvbnMgKHJldXNlIFZhcmlhYmxlR2VuZXJhdG9yIHJ1bGVzKQ0KICAgICAgICB1cmxEeW5hbWljVmFsdWVDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IHsNCiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBzdWdnZXN0aW9ucyA9IFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkuZ2V0VmFyaWFibGVEZWZpbml0aW9ucygpLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgLm1hcChkZWYgLT4gZGVmLmdldCgiZm9ybWF0IikpDQogICAgICAgICAgICAgICAgLmNvbGxlY3QoQ29sbGVjdG9ycy50b0xpc3QoKSk7DQogICAgICAgICAgICBDb21ib0JveFRhYmxlQ2VsbDxEeW5hbWljVmFyaWFibGUsIFN0cmluZz4gY2VsbCA9IG5ldyBDb21ib0JveFRhYmxlQ2VsbDw+KA0KICAgICAgICAgICAgICAgICAgICBuZXcgRGVmYXVsdFN0cmluZ0NvbnZlcnRlcigpLA0KICAgICAgICAgICAgICAgICAgICBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3Qoc3VnZ2VzdGlvbnMpKTsNCiAgICAgICAgICAgIGNlbGwuc2V0Q29tYm9Cb3hFZGl0YWJsZSh0cnVlKTsNCiAgICAgICAgICAgIHJldHVybiBjZWxsOw0KICAgICAgICB9KTsNCiAgICAgICAgdXJsRHluYW1pY1ZhbHVlQ29sdW1uLnNldE9uRWRpdENvbW1pdChlIC0+IHsNCiAgICAgICAgICAgIGUuZ2V0Um93VmFsdWUoKS5zZXRWYWx1ZShlLmdldE5ld1ZhbHVlKCkpOw0KICAgICAgICAgICAgdXBkYXRlR2VuZXJhdGVkVXJsKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIE9wdGlvbmFsIGFjdGlvbiBjb2x1bW4gKEVkaXQgZGlhbG9nIGZvciBsb25nIHRleHQpDQogICAgICAgIGlmICh1cmxEeW5hbWljQWN0aW9uQ29sdW1uICE9IG51bGwpIHsNCiAgICAgICAgICAgIHVybER5bmFtaWNBY3Rpb25Db2x1bW4uc2V0U29ydGFibGUoZmFsc2UpOw0KICAgICAgICAgICAgdXJsRHluYW1pY0FjdGlvbkNvbHVtbi5zZXRDZWxsRmFjdG9yeShjb2wgLT4gbmV3IFRhYmxlQ2VsbDw+KCkgew0KICAgICAgICAgICAgICAgIHByaXZhdGUgZmluYWwgQnV0dG9uIGVkaXRCdG4gPSBuZXcgQnV0dG9uKCJFZGl0Iik7DQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBlZGl0QnRuLnNldFN0eWxlKCItZngtYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IC1meC1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OyAtZngtY3Vyc29yOiBoYW5kOyIpOw0KICAgICAgICAgICAgICAgICAgICBlZGl0QnRuLnNldE1heFdpZHRoKERvdWJsZS5NQVhfVkFMVUUpOw0KICAgICAgICAgICAgICAgICAgICBlZGl0QnRuLnNldE9uQWN0aW9uKGV2dCAtPiB7DQogICAgICAgICAgICAgICAgICAgICAgICBEeW5hbWljVmFyaWFibGUgdmFyID0gZ2V0VGFibGVWaWV3KCkuZ2V0SXRlbXMoKS5nZXQoZ2V0SW5kZXgoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgZWRpdGVkID0gc2hvd0xhcmdlVGV4dEVkaXREaWFsb2codmFyLmdldEtleSgpLCB2YXIuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGVkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIuc2V0VmFsdWUoZWRpdGVkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVHZW5lcmF0ZWRVcmwoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIEBPdmVycmlkZQ0KICAgICAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oVm9pZCBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldEdyYXBoaWMobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRHcmFwaGljKGVkaXRCdG4pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICB1cmxEeW5hbWljVmFyaWFibGVzLmFkZExpc3RlbmVyKChqYXZhZnguY29sbGVjdGlvbnMuTGlzdENoYW5nZUxpc3RlbmVyPER5bmFtaWNWYXJpYWJsZT4pIGMgLT4gdXBkYXRlR2VuZXJhdGVkVXJsKCkpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBwb3B1bGF0ZVVybER5bmFtaWNWYXJpYWJsZXMoU3RyaW5nIGVuZHBvaW50RGlzcGxheSkgew0KICAgICAgICB1cmxEeW5hbWljVmFyaWFibGVzLmNsZWFyKCk7DQogICAgICAgIGlmIChlbmRwb2ludERpc3BsYXkgPT0gbnVsbCB8fCBlbmRwb2ludERpc3BsYXkuaXNCbGFuaygpKSByZXR1cm47DQogICAgICAgIFN0cmluZyBlbmRwb2ludE5hbWUgPSBlbmRwb2ludERpc3BsYXkuc3BsaXQoIiBcXFsiKVswXS50cmltKCk7DQogICAgICAgIEVuZHBvaW50IGVwID0gZW5kcG9pbnRMaXN0LnN0cmVhbSgpLmZpbHRlcihlIC0+IGUuZ2V0TmFtZSgpLmVxdWFscyhlbmRwb2ludE5hbWUpKS5maW5kRmlyc3QoKS5vckVsc2UobnVsbCk7DQogICAgICAgIGlmIChlcCA9PSBudWxsIHx8IGVwLmdldFVybCgpID09IG51bGwpIHJldHVybjsNCiAgICAgICAgamF2YS51dGlsLnJlZ2V4LlBhdHRlcm4gcGF0dGVybiA9IGphdmEudXRpbC5yZWdleC5QYXR0ZXJuLmNvbXBpbGUoIkBcXHsoW159XSspXFx9Iik7DQogICAgICAgIGphdmEudXRpbC5yZWdleC5NYXRjaGVyIG1hdGNoZXIgPSBwYXR0ZXJuLm1hdGNoZXIoZXAuZ2V0VXJsKCkpOw0KICAgICAgICBqYXZhLnV0aWwuU2V0PFN0cmluZz4gZm91bmQgPSBuZXcgamF2YS51dGlsLkxpbmtlZEhhc2hTZXQ8PigpOw0KICAgICAgICB3aGlsZSAobWF0Y2hlci5maW5kKCkpIHsNCiAgICAgICAgICAgIGZvdW5kLmFkZChtYXRjaGVyLmdyb3VwKDEpLnRyaW0oKSk7DQogICAgICAgIH0NCiAgICAgICAgZm9yIChTdHJpbmcgdmFyTmFtZSA6IGZvdW5kKSB7DQogICAgICAgICAgICB1cmxEeW5hbWljVmFyaWFibGVzLmFkZChuZXcgRHluYW1pY1ZhcmlhYmxlKHZhck5hbWUsICIiKSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIFN0cmluZyBidWlsZEdlbmVyYXRlZFVybCgpIHsNCiAgICAgICAgU3RyaW5nIGVuZHBvaW50RGlzcGxheSA9IGVuZHBvaW50Q29tYm9Cb3ggPT0gbnVsbCA/IG51bGwgOiBlbmRwb2ludENvbWJvQm94LmdldFZhbHVlKCk7DQogICAgICAgIEVuZHBvaW50IGVwID0gZ2V0RW5kcG9pbnRCeU5hbWUoZW5kcG9pbnREaXNwbGF5KTsNCiAgICAgICAgaWYgKGVwID09IG51bGwgfHwgZXAuZ2V0VXJsKCkgPT0gbnVsbCkgcmV0dXJuICIiOw0KDQogICAgICAgIFN0cmluZyB1cmwgPSBlcC5nZXRVcmwoKTsNCiAgICAgICAgZm9yIChEeW5hbWljVmFyaWFibGUgZHYgOiB1cmxEeW5hbWljVmFyaWFibGVzKSB7DQogICAgICAgICAgICBTdHJpbmcgdmFsdWUgPSBWYXJpYWJsZUdlbmVyYXRvci5nZXRJbnN0YW5jZSgpLnJlc29sdmVWYXJpYWJsZXMoZHYuZ2V0VmFsdWUoKSk7DQogICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgdmFsdWUgPSAiIjsNCiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlQWxsKCJAXFx7IiArIGphdmEudXRpbC5yZWdleC5QYXR0ZXJuLnF1b3RlKGR2LmdldEtleSgpKSArICJcXH0iLCBqYXZhLnV0aWwucmVnZXguTWF0Y2hlci5xdW90ZVJlcGxhY2VtZW50KHZhbHVlKSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHVybDsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgdXBkYXRlR2VuZXJhdGVkVXJsKCkgew0KICAgICAgICBpZiAoZ2VuZXJhdGVkVXJsQXJlYSAhPSBudWxsKSB7DQogICAgICAgICAgICBTdHJpbmcgdSA9IGJ1aWxkR2VuZXJhdGVkVXJsKCk7DQogICAgICAgICAgICBnZW5lcmF0ZWRVcmxBcmVhLnNldFRleHQodSA9PSBudWxsID8gIiIgOiB1KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIEhlbHBlciBtZXRob2QgKGNvcGllZCBmcm9tIFRlbXBsYXRlSGFuZGxlcikNCiAgICBwcml2YXRlIFN0cmluZyBzaG93TGFyZ2VUZXh0RWRpdERpYWxvZyhTdHJpbmcga2V5LCBTdHJpbmcgaW5pdGlhbFZhbHVlKSB7DQogICAgICAgIERpYWxvZzxTdHJpbmc+IGRpYWxvZyA9IG5ldyBEaWFsb2c8PigpOw0KICAgICAgICBkaWFsb2cuc2V0VGl0bGUoIkVkaXQgVmFsdWUgLSAiICsga2V5KTsNCiAgICAgICAgQnV0dG9uVHlwZSBva0J1dHRvblR5cGUgPSBuZXcgQnV0dG9uVHlwZSgiT0siLCBCdXR0b25CYXIuQnV0dG9uRGF0YS5PS19ET05FKTsNCiAgICAgICAgQnV0dG9uVHlwZSBjYW5jZWxCdXR0b25UeXBlID0gbmV3IEJ1dHRvblR5cGUoIkNhbmNlbCIsIEJ1dHRvbkJhci5CdXR0b25EYXRhLkNBTkNFTF9DTE9TRSk7DQogICAgICAgIGRpYWxvZy5nZXREaWFsb2dQYW5lKCkuZ2V0QnV0dG9uVHlwZXMoKS5hZGRBbGwob2tCdXR0b25UeXBlLCBjYW5jZWxCdXR0b25UeXBlKTsNCiAgICAgICAgVGV4dEFyZWEgdGV4dEFyZWEgPSBuZXcgVGV4dEFyZWEoaW5pdGlhbFZhbHVlKTsNCiAgICAgICAgdGV4dEFyZWEuc2V0V3JhcFRleHQodHJ1ZSk7DQogICAgICAgIHRleHRBcmVhLnNldFByZWZTaXplKDQwMCwgMzAwKTsNCiAgICAgICAgZGlhbG9nLmdldERpYWxvZ1BhbmUoKS5zZXRDb250ZW50KHRleHRBcmVhKTsNCiAgICAgICAgZGlhbG9nLnNldFJlc2l6YWJsZSh0cnVlKTsNCiAgICAgICAgZGlhbG9nLnNldFJlc3VsdENvbnZlcnRlcihidG4gLT4gYnRuID09IG9rQnV0dG9uVHlwZSA/IHRleHRBcmVhLmdldFRleHQoKSA6IG51bGwpOw0KICAgICAgICBqYXZhLnV0aWwuT3B0aW9uYWw8U3RyaW5nPiByZXN1bHQgPSBkaWFsb2cuc2hvd0FuZFdhaXQoKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdC5vckVsc2UobnVsbCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBFbmRwb2ludCBnZXRFbmRwb2ludEJ5TmFtZShTdHJpbmcgZGlzcGxheVN0cmluZykgew0KICAgICAgICBpZiAoZGlzcGxheVN0cmluZyA9PSBudWxsIHx8IGRpc3BsYXlTdHJpbmcuaXNCbGFuaygpKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICBTdHJpbmcgZW5kcG9pbnROYW1lID0gZGlzcGxheVN0cmluZy5zcGxpdCgiIFxcWyIpWzBdLnRyaW0oKTsNCiAgICAgICAgcmV0dXJuIGVuZHBvaW50TGlzdC5zdHJlYW0oKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIoZSAtPiBlLmdldE5hbWUoKS5lcXVhbHMoZW5kcG9pbnROYW1lKSkNCiAgICAgICAgICAgICAgICAuZmluZEZpcnN0KCkNCiAgICAgICAgICAgICAgICAub3JFbHNlKG51bGwpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzZXR1cFZhcmlhYmxlSGVscFRvb2x0aXBzKCkgew0KICAgICAgICB2YXJpYWJsZVRvb2x0aXAgPSBIZWxwVG9vbHRpcE1hbmFnZXIuYnVpbGRWYXJpYWJsZVRvb2x0aXAoKTsNCiAgICAgICAgaGVhZGVyc0hlbHBJY29uLnNldE9uTW91c2VDbGlja2VkKGV2ZW50IC0+IHRvZ2dsZVRvb2x0aXAodmFyaWFibGVUb29sdGlwLCBoZWFkZXJzSGVscEljb24pKTsNCiAgICAgICAgYm9keUhlbHBJY29uLnNldE9uTW91c2VDbGlja2VkKGV2ZW50IC0+IHRvZ2dsZVRvb2x0aXAodmFyaWFibGVUb29sdGlwLCBib2R5SGVscEljb24pKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgc2V0dXBSZXNwb25zZUNoZWNrSGVscFRvb2x0aXAoKSB7DQogICAgICAgIHJlc3BvbnNlQ2hlY2tUb29sdGlwID0gSGVscFRvb2x0aXBNYW5hZ2VyLmdldFJlc3BvbnNlQ2hlY2tUb29sdGlwKCk7DQogICAgICAgIC8vIHJlc3BvbnNlSGVscEljb24gaGFzIGJlZW4gcmVtb3ZlZDsgdXNlIGJ1dHRvbiBpbnN0ZWFkLg0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBzZXR1cFJ1bkhlbHBUb29sdGlwKCkgew0KICAgICAgICBleGVjdXRpb25GbG93VG9vbHRpcCA9IEhlbHBUb29sdGlwTWFuYWdlci5nZXRFeGVjdXRpb25GbG93VG9vbHRpcCgpOw0KICAgICAgICBpZiAocnVuSGVscEljb24gIT0gbnVsbCkgew0KICAgICAgICAgICAgcnVuSGVscEljb24uc2V0T25Nb3VzZUNsaWNrZWQoZSAtPiB0b2dnbGVUb29sdGlwKGV4ZWN1dGlvbkZsb3dUb29sdGlwLCBydW5IZWxwSWNvbikpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHRvZ2dsZVRvb2x0aXAoVG9vbHRpcCB0b29sdGlwLCBOb2RlIG93bmVyTm9kZSkgew0KICAgICAgICBpZiAodG9vbHRpcC5pc1Nob3dpbmcoKSkgew0KICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBQb2ludDJEIHAgPSBvd25lck5vZGUubG9jYWxUb1NjcmVlbihvd25lck5vZGUuZ2V0Qm91bmRzSW5Mb2NhbCgpLmdldE1heFgoKSwgb3duZXJOb2RlLmdldEJvdW5kc0luTG9jYWwoKS5nZXRNYXhZKCkpOw0KICAgICAgICAgICAgdG9vbHRpcC5zaG93KG93bmVyTm9kZSwgcC5nZXRYKCksIHAuZ2V0WSgpKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVJlc3BvbnNlSGVscENsaWNrKCkgew0KICAgICAgICBpZiAocmVzcG9uc2VDaGVja1Rvb2x0aXAgIT0gbnVsbCkgew0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlQ2hlY2tUb29sdGlwLmlzU2hvd2luZygpKSB7DQogICAgICAgICAgICAgICAgcmVzcG9uc2VDaGVja1Rvb2x0aXAuaGlkZSgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBQb2ludDJEIHAgPSByZXNwb25zZUhlbHBCdXR0b24ubG9jYWxUb1NjcmVlbigNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIZWxwQnV0dG9uLmdldEJvdW5kc0luTG9jYWwoKS5nZXRNYXhYKCksDQogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVscEJ1dHRvbi5nZXRCb3VuZHNJbkxvY2FsKCkuZ2V0TWluWSgpDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICByZXNwb25zZUNoZWNrVG9vbHRpcC5zaG93KHJlc3BvbnNlSGVscEJ1dHRvbiwgcC5nZXRYKCksIHAuZ2V0WSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEN1c3RvbSBUYWJsZUNlbGwgZm9yIHRoZSAiRXhwcmVzc2lvbiIgY29sdW1uIHRvIGhhbmRsZSByZW5kZXJpbmcgZm9yIGRpZmZlcmVudCBDaGVja1R5cGUgdmFsdWVzLg0KICAgICAqIC0gRm9yIERCIHR5cGVzLCBpdCBzaG93cyBhIHN1bW1hcnkgbGFiZWwgYW5kIGFuICJFZGl0IiBidXR0b24gb24gdGhlIGZhciByaWdodC4NCiAgICAgKiAtIEZvciBvdGhlciB0eXBlcywgaXQgYmVoYXZlcyBsaWtlIGEgc3RhbmRhcmQgVGV4dEZpZWxkVGFibGVDZWxsIChzaG93cyB0ZXh0LCBiZWNvbWVzIGVkaXRhYmxlIG9uIGRvdWJsZS1jbGljaykuDQogICAgICovDQogICAgcHJpdmF0ZSBjbGFzcyBFeHByZXNzaW9uQ2VsbCBleHRlbmRzIFRhYmxlQ2VsbDxSZXNwb25zZUNoZWNrLCBTdHJpbmc+IHsNCiAgICAgICAgcHJpdmF0ZSBUZXh0RmllbGQgdGV4dEZpZWxkOw0KICAgICAgICBwcml2YXRlIGZpbmFsIEhCb3ggZGJDZWxsQm94Ow0KICAgICAgICBwcml2YXRlIGZpbmFsIExhYmVsIGRiU3VtbWFyeUxhYmVsOw0KICAgICAgICBwcml2YXRlIGZpbmFsIEJ1dHRvbiBlZGl0RGJCdXR0b247DQogICAgICAgIHByaXZhdGUgZmluYWwgVG9vbHRpcCBkYlNxbFRvb2x0aXA7DQogICAgICAgIHByaXZhdGUgZmluYWwgUGFuZSBzcGFjZXI7DQoNCiAgICAgICAgcHVibGljIEV4cHJlc3Npb25DZWxsKCkgew0KICAgICAgICAgICAgc3VwZXIoKTsNCiAgICAgICAgICAgIC8vIC0tLSBEQiBDZWxsIENvbXBvbmVudHMgLS0tDQogICAgICAgICAgICBkYlN1bW1hcnlMYWJlbCA9IG5ldyBMYWJlbCgpOw0KICAgICAgICAgICAgZWRpdERiQnV0dG9uID0gbmV3IEJ1dHRvbigiRWRpdCIpOw0KICAgICAgICAgICAgZGJTcWxUb29sdGlwID0gbmV3IFRvb2x0aXAoKTsNCiAgICAgICAgICAgIHNwYWNlciA9IG5ldyBQYW5lKCk7DQogICAgICAgICAgICBIQm94LnNldEhncm93KHNwYWNlciwgUHJpb3JpdHkuQUxXQVlTKTsgLy8gVGhpcyBtYWtlcyB0aGUgc3BhY2VyIGdyb3csIHB1c2hpbmcgdGhlIGJ1dHRvbiB0byB0aGUgcmlnaHQuDQogICAgICAgICAgICBkYkNlbGxCb3ggPSBuZXcgSEJveCg1LCBkYlN1bW1hcnlMYWJlbCwgc3BhY2VyLCBlZGl0RGJCdXR0b24pOw0KICAgICAgICAgICAgZGJDZWxsQm94LnNldEFsaWdubWVudChqYXZhZnguZ2VvbWV0cnkuUG9zLkNFTlRFUl9MRUZUKTsNCg0KICAgICAgICAgICAgZWRpdERiQnV0dG9uLnNldE9uQWN0aW9uKGV2ZW50IC0+IHsNCiAgICAgICAgICAgICAgICBSZXNwb25zZUNoZWNrIGNoZWNrID0gZ2V0VGFibGVWaWV3KCkuZ2V0SXRlbXMoKS5nZXQoZ2V0SW5kZXgoKSk7DQogICAgICAgICAgICAgICAgaWYgKGNoZWNrICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgc2hvd0RiQ2hlY2tFZGl0RGlhbG9nKGNoZWNrKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgVGFibGVWaWV3IGJlaGF2aW9yIChlLmcuLCBkb3VibGUtY2xpY2spIGNhbGxzIHN0YXJ0RWRpdCgpLg0KICAgICAgICAgICAgLy8gVGhlIGd1YXJkIGluc2lkZSBzdGFydEVkaXQoKSBub3cgY29udHJvbHMgd2hldGhlciBlZGl0aW5nIGlzIGFsbG93ZWQuDQogICAgICAgIH0NCg0KICAgICAgICBAT3ZlcnJpZGUNCiAgICAgICAgcHVibGljIHZvaWQgc3RhcnRFZGl0KCkgew0KICAgICAgICAgICAgaWYgKCFpc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICBSZXNwb25zZUNoZWNrIGNoZWNrID0gZ2V0VGFibGVWaWV3KCkuZ2V0SXRlbXMoKS5nZXQoZ2V0SW5kZXgoKSk7DQogICAgICAgICAgICAgICAgLy8gUHJldmVudCBlZGl0aW5nIGZvciBEQiB0eXBlIGNvbXBsZXRlbHkNCiAgICAgICAgICAgICAgICBpZiAoY2hlY2sgIT0gbnVsbCAmJiBjaGVjay5nZXRUeXBlKCkgPT0gQ2hlY2tUeXBlLkRCKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHN1cGVyLnN0YXJ0RWRpdCgpOw0KICAgICAgICAgICAgaWYgKHRleHRGaWVsZCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgY3JlYXRlVGV4dEZpZWxkKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgc2V0R3JhcGhpYyh0ZXh0RmllbGQpOw0KICAgICAgICAgICAgdGV4dEZpZWxkLnNldFRleHQoZ2V0SXRlbSgpKTsNCiAgICAgICAgICAgIHRleHRGaWVsZC5zZWxlY3RBbGwoKTsNCiAgICAgICAgICAgIHRleHRGaWVsZC5yZXF1ZXN0Rm9jdXMoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIEBPdmVycmlkZQ0KICAgICAgICBwdWJsaWMgdm9pZCBjYW5jZWxFZGl0KCkgew0KICAgICAgICAgICAgc3VwZXIuY2FuY2VsRWRpdCgpOw0KICAgICAgICAgICAgc2V0VGV4dChnZXRJdGVtKCkpOw0KICAgICAgICAgICAgc2V0R3JhcGhpYyhudWxsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIEBPdmVycmlkZQ0KICAgICAgICBwdWJsaWMgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7DQogICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTsNCg0KICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGdldFRhYmxlUm93KCkgPT0gbnVsbCB8fCBnZXRUYWJsZVJvdygpLmdldEl0ZW0oKSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTsNCiAgICAgICAgICAgICAgICBzZXRHcmFwaGljKG51bGwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlzRWRpdGluZygpKSB7DQogICAgICAgICAgICAgICAgLy8gVGhpcyBibG9jayBpcyBvbmx5IGVudGVyZWQgZm9yIG5vbi1EQiB0eXBlcyBkdWUgdG8gdGhlIGd1YXJkIGluIHN0YXJ0RWRpdCgpLg0KICAgICAgICAgICAgICAgIGlmICh0ZXh0RmllbGQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB0ZXh0RmllbGQuc2V0VGV4dChnZXRJdGVtKCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpOw0KICAgICAgICAgICAgICAgIHNldEdyYXBoaWModGV4dEZpZWxkKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gRGlzcGxheSBtb2RlIChub3QgZWRpdGluZykNCiAgICAgICAgICAgICAgICBSZXNwb25zZUNoZWNrIGNoZWNrID0gKFJlc3BvbnNlQ2hlY2spIGdldFRhYmxlUm93KCkuZ2V0SXRlbSgpOw0KICAgICAgICAgICAgICAgIGlmIChjaGVjay5nZXRUeXBlKCkgPT0gQ2hlY2tUeXBlLkRCKSB7DQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBzdW1tYXJ5ID0gU3RyaW5nLmZvcm1hdCgiQWxpYXM6ICVzLCBDb2w6ICVzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrLmdldERiQWxpYXMoKSAhPSBudWxsID8gY2hlY2suZ2V0RGJBbGlhcygpIDogIk4vQSIsDQogICAgICAgICAgICAgICAgICAgICAgICBjaGVjay5nZXREYkNvbHVtbigpICE9IG51bGwgPyBjaGVjay5nZXREYkNvbHVtbigpIDogIk4vQSINCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgZGJTdW1tYXJ5TGFiZWwuc2V0VGV4dChzdW1tYXJ5KTsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHNxbCA9IGNoZWNrLmdldERiU3FsKCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzcWwgIT0gbnVsbCAmJiAhc3FsLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGJTcWxUb29sdGlwLnNldFRleHQoc3FsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFRvb2x0aXAuaW5zdGFsbChkYlN1bW1hcnlMYWJlbCwgZGJTcWxUb29sdGlwKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFRvb2x0aXAudW5pbnN0YWxsKGRiU3VtbWFyeUxhYmVsLCBkYlNxbFRvb2x0aXApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHNldEdyYXBoaWMoZGJDZWxsQm94KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0pOw0KICAgICAgICAgICAgICAgICAgICBzZXRHcmFwaGljKG51bGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHByaXZhdGUgdm9pZCBjcmVhdGVUZXh0RmllbGQoKSB7DQogICAgICAgICAgICB0ZXh0RmllbGQgPSBuZXcgVGV4dEZpZWxkKGdldEl0ZW0oKSk7DQogICAgICAgICAgICB0ZXh0RmllbGQuc2V0TWluV2lkdGgodGhpcy5nZXRXaWR0aCgpIC0gdGhpcy5nZXRHcmFwaGljVGV4dEdhcCgpICogMik7DQogICAgICAgICAgICB0ZXh0RmllbGQuc2V0T25BY3Rpb24oZXZ0IC0+IGNvbW1pdEVkaXQodGV4dEZpZWxkLmdldFRleHQoKSkpOw0KICAgICAgICAgICAgdGV4dEZpZWxkLmZvY3VzZWRQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnMsIG9sZFZhbCwgbmV3VmFsKSAtPiB7DQogICAgICAgICAgICAgICAgaWYgKCFuZXdWYWwpIHsNCiAgICAgICAgICAgICAgICAgICAgY29tbWl0RWRpdCh0ZXh0RmllbGQuZ2V0VGV4dCgpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCn0=
END
PATH:src/main/java/com/qa/app/ui/vm/GroovyVariableViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JVmFyaWFibGVTZXJ2aWNlOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmltcGwuVmFyaWFibGVTZXJ2aWNlSW1wbDsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5zY3JpcHQuR3Jvb3Z5U2NyaXB0RW5naW5lOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLnNjcmlwdC5WYXJpYWJsZUdlbmVyYXRvcjsKaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zOwppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0OwppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDsKaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qOwoKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTsKCnB1YmxpYyBjbGFzcyBHcm9vdnlWYXJpYWJsZVZpZXdNb2RlbCBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUgewoKICAgIEBGWE1MIHByaXZhdGUgVGFibGVWaWV3PEdyb292eVNjcmlwdEVuZ2luZT4gdmFyaWFibGVzVGFibGVWaWV3OwogICAgQEZYTUwgcHJpdmF0ZSBUYWJsZUNvbHVtbjxHcm9vdnlTY3JpcHRFbmdpbmUsIFN0cmluZz4gbmFtZUNvbHVtbjsKICAgIEBGWE1MIHByaXZhdGUgVGFibGVDb2x1bW48R3Jvb3Z5U2NyaXB0RW5naW5lLCBTdHJpbmc+IGRlc2NyaXB0aW9uQ29sdW1uOwogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgbmFtZUZpZWxkOwogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgZm9ybWF0RmllbGQ7CiAgICBARlhNTCBwcml2YXRlIFRleHRGaWVsZCBkZXNjcmlwdGlvbkZpZWxkOwogICAgQEZYTUwgcHJpdmF0ZSBUZXh0QXJlYSBzY3JpcHRBcmVhOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gc2F2ZUJ1dHRvbjsKICAgIEBGWE1MIHByaXZhdGUgQnV0dG9uIGRlbGV0ZUJ1dHRvbjsKICAgIEBGWE1MIHByaXZhdGUgQnV0dG9uIGR1cGxpY2F0ZUJ1dHRvbjsKICAgIEBGWE1MIHByaXZhdGUgQnV0dG9uIGFkZEJ1dHRvbjsKCiAgICBwcml2YXRlIGZpbmFsIElWYXJpYWJsZVNlcnZpY2UgdmFyaWFibGVTZXJ2aWNlOwogICAgcHJpdmF0ZSBmaW5hbCBPYnNlcnZhYmxlTGlzdDxHcm9vdnlTY3JpcHRFbmdpbmU+IHZhcmlhYmxlczsKICAgIHByaXZhdGUgR3Jvb3Z5U2NyaXB0RW5naW5lIGN1cnJlbnRseUVkaXRpbmcgPSBudWxsOwogICAgcHJpdmF0ZSBNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWw7CgogICAgcHVibGljIEdyb292eVZhcmlhYmxlVmlld01vZGVsKCkgewogICAgICAgIHRoaXMudmFyaWFibGVTZXJ2aWNlID0gbmV3IFZhcmlhYmxlU2VydmljZUltcGwoKTsKICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykgewogICAgICAgIHZhcmlhYmxlc1RhYmxlVmlldy5zZXRDb2x1bW5SZXNpemVQb2xpY3koVGFibGVWaWV3LkNPTlNUUkFJTkVEX1JFU0laRV9QT0xJQ1lfQUxMX0NPTFVNTlMpOwogICAgICAgIG5hbWVDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGxEYXRhLmdldFZhbHVlKCkuZ2V0TmFtZSgpKSk7CiAgICAgICAgZGVzY3JpcHRpb25Db2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGxEYXRhLmdldFZhbHVlKCkuZ2V0RGVzY3JpcHRpb24oKSkpOwogICAgICAgIGxvYWRWYXJpYWJsZXMoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JzZXJ2YWJsZUxpc3Q8R3Jvb3Z5U2NyaXB0RW5naW5lPiBnZXRWYXJpYWJsZXMoKSB7CiAgICAgICAgcmV0dXJuIHZhcmlhYmxlczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBsb2FkVmFyaWFibGVzKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhcmlhYmxlcy5zZXRBbGwodmFyaWFibGVTZXJ2aWNlLmxvYWRWYXJpYWJsZXMoKSk7CiAgICAgICAgICAgIHZhcmlhYmxlc1RhYmxlVmlldy5zZXRJdGVtcyh2YXJpYWJsZXMpOwoKICAgICAgICAgICAgdmFyaWFibGVzVGFibGVWaWV3LmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigKICAgICAgICAgICAgICAgIChvYnMsIG9sZFZhbCwgbmV3VmFsKSAtPiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFZhcmlhYmxlKG5ld1ZhbCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwoKICAgICAgICAgICAgaWYgKCF2YXJpYWJsZXMuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgICAgICB2YXJpYWJsZXNUYWJsZVZpZXcuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RGaXJzdCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0RGV0YWlsUGFuZURpc2FibGVkKHRydWUpOyAvLyBObyBpdGVtcywgc28gZGlzYWJsZSBkZXRhaWxzCiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdmFyaWFibGVzLmNsZWFyKCk7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJFcnJvciBsb2FkaW5nIHZhcmlhYmxlczogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9pZCBzZWxlY3RWYXJpYWJsZShHcm9vdnlTY3JpcHRFbmdpbmUgdmFyaWFibGUpIHsKICAgICAgICBjdXJyZW50bHlFZGl0aW5nID0gdmFyaWFibGU7CiAgICAgICAgbmFtZUZpZWxkLnNldFRleHQodmFyaWFibGUuZ2V0TmFtZSgpKTsKICAgICAgICBmb3JtYXRGaWVsZC5zZXRUZXh0KHZhcmlhYmxlLmdldEZvcm1hdCgpKTsKICAgICAgICBkZXNjcmlwdGlvbkZpZWxkLnNldFRleHQodmFyaWFibGUuZ2V0RGVzY3JpcHRpb24oKSk7CiAgICAgICAgc2NyaXB0QXJlYS5zZXRUZXh0KHZhcmlhYmxlLmdldEdyb292eVNjcmlwdCgpKTsKICAgICAgICBzZXREZXRhaWxQYW5lRGlzYWJsZWQoZmFsc2UpOwogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRHVwbGljYXRlKCkgewogICAgICAgIGlmIChjdXJyZW50bHlFZGl0aW5nID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIk5vIHZhcmlhYmxlIHNlbGVjdGVkIHRvIGR1cGxpY2F0ZS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIFN0cmluZyBuZXdOYW1lID0gY3VycmVudGx5RWRpdGluZy5nZXROYW1lKCkgKyAiIChjb3B5KSI7CiAgICAgICAgYm9vbGVhbiBuYW1lRXhpc3RzID0gdHJ1ZTsKICAgICAgICB3aGlsZSAobmFtZUV4aXN0cykgewogICAgICAgICAgICBuYW1lRXhpc3RzID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAoR3Jvb3Z5U2NyaXB0RW5naW5lIHYgOiB2YXJpYWJsZXMpIHsKICAgICAgICAgICAgICAgIGlmICh2LmdldE5hbWUoKS5lcXVhbHMobmV3TmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBuYW1lRXhpc3RzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmFtZUV4aXN0cykgewogICAgICAgICAgICAgICAgbmV3TmFtZSArPSAiIChjb3B5KSI7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIEdyb292eVNjcmlwdEVuZ2luZSBuZXdWYXIgPSBuZXcgR3Jvb3Z5U2NyaXB0RW5naW5lKG5ld05hbWUsIGN1cnJlbnRseUVkaXRpbmcuZ2V0Rm9ybWF0KCksIGN1cnJlbnRseUVkaXRpbmcuZ2V0RGVzY3JpcHRpb24oKSwgY3VycmVudGx5RWRpdGluZy5nZXRHcm9vdnlTY3JpcHQoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyaWFibGVTZXJ2aWNlLmFkZFZhcmlhYmxlKG5ld1Zhcik7CiAgICAgICAgICAgIFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVsb2FkQ3VzdG9tVmFyaWFibGVzKCk7CiAgICAgICAgICAgIGxvYWRWYXJpYWJsZXMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlZhcmlhYmxlICciICsgbmV3TmFtZSArICInIGR1cGxpY2F0ZWQgYW5kIGFkZGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVycm9yIGR1cGxpY2F0aW5nIHZhcmlhYmxlOiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVBZGQoKSB7CiAgICAgICAgU3RyaW5nIG5hbWUgPSBuYW1lRmllbGQuZ2V0VGV4dCgpOwogICAgICAgIFN0cmluZyBmb3JtYXQgPSBmb3JtYXRGaWVsZC5nZXRUZXh0KCk7CiAgICAgICAgU3RyaW5nIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25GaWVsZC5nZXRUZXh0KCk7CiAgICAgICAgU3RyaW5nIHNjcmlwdCA9IHNjcmlwdEFyZWEuZ2V0VGV4dCgpOwoKICAgICAgICBpZiAobmFtZSA9PSBudWxsIHx8IG5hbWUuaXNCbGFuaygpIHx8IGZvcm1hdCA9PSBudWxsIHx8IGZvcm1hdC5pc0JsYW5rKCkpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIk5hbWUgYW5kIEZvcm1hdCBjYW5ub3QgYmUgZW1wdHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGUgbmFtZQogICAgICAgIGJvb2xlYW4gbmFtZUV4aXN0cyA9IHZhcmlhYmxlcy5zdHJlYW0oKS5hbnlNYXRjaCh2IC0+IHYuZ2V0TmFtZSgpLmVxdWFscyhuYW1lKSk7CiAgICAgICAgaWYgKG5hbWVFeGlzdHMpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlZhcmlhYmxlIG5hbWUgYWxyZWFkeSBleGlzdHMuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIEdyb292eVNjcmlwdEVuZ2luZSBuZXdWYXIgPSBuZXcgR3Jvb3Z5U2NyaXB0RW5naW5lKG5hbWUsIGZvcm1hdCwgZGVzY3JpcHRpb24sIHNjcmlwdCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyaWFibGVTZXJ2aWNlLmFkZFZhcmlhYmxlKG5ld1Zhcik7CiAgICAgICAgICAgIFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVsb2FkQ3VzdG9tVmFyaWFibGVzKCk7CiAgICAgICAgICAgIGxvYWRWYXJpYWJsZXMoKTsKICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBuZXdseSBhZGRlZCB2YXJpYWJsZQogICAgICAgICAgICB2YXJpYWJsZXNUYWJsZVZpZXcuZ2V0SXRlbXMoKS5zdHJlYW0oKQogICAgICAgICAgICAgICAgLmZpbHRlcih2IC0+IHYuZ2V0TmFtZSgpLmVxdWFscyhuYW1lKSkKICAgICAgICAgICAgICAgIC5maW5kRmlyc3QoKQogICAgICAgICAgICAgICAgLmlmUHJlc2VudCh2IC0+IHZhcmlhYmxlc1RhYmxlVmlldy5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdCh2KSk7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJWYXJpYWJsZSAnIiArIG5hbWUgKyAiJyBhZGRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJFcnJvciBhZGRpbmcgdmFyaWFibGU6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVNhdmUoKSB7CiAgICAgICAgaWYgKGN1cnJlbnRseUVkaXRpbmcgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiTm8gdmFyaWFibGUgc2VsZWN0ZWQgdG8gc2F2ZS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgR3Jvb3Z5U2NyaXB0RW5naW5lIHNlbGVjdGVkID0gY3VycmVudGx5RWRpdGluZzsKICAgICAgICBTdHJpbmcgbmFtZSA9IG5hbWVGaWVsZC5nZXRUZXh0KCk7CiAgICAgICAgU3RyaW5nIGZvcm1hdCA9IGZvcm1hdEZpZWxkLmdldFRleHQoKTsKICAgICAgICBTdHJpbmcgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbkZpZWxkLmdldFRleHQoKTsKICAgICAgICBTdHJpbmcgc2NyaXB0ID0gc2NyaXB0QXJlYS5nZXRUZXh0KCk7CiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCB8fCBuYW1lLmlzQmxhbmsoKSB8fCBmb3JtYXQgPT0gbnVsbCB8fCBmb3JtYXQuaXNCbGFuaygpKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJOYW1lIGFuZCBGb3JtYXQgY2Fubm90IGJlIGVtcHR5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlIG5hbWUgKGlnbm9yZSBjdXJyZW50IGVkaXRpbmcgdmFyaWFibGUpCiAgICAgICAgYm9vbGVhbiBuYW1lRXhpc3RzID0gdmFyaWFibGVzLnN0cmVhbSgpLmFueU1hdGNoKHYgLT4gdi5nZXROYW1lKCkuZXF1YWxzKG5hbWUpICYmIHYgIT0gc2VsZWN0ZWQpOwogICAgICAgIGlmIChuYW1lRXhpc3RzKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJWYXJpYWJsZSBuYW1lIGFscmVhZHkgZXhpc3RzLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyDkv53nlZnljp9pZAogICAgICAgIEdyb292eVNjcmlwdEVuZ2luZSB1cGRhdGVkVmFyaWFibGUgPSBuZXcgR3Jvb3Z5U2NyaXB0RW5naW5lKHNlbGVjdGVkLmdldElkKCksIG5hbWUsIGZvcm1hdCwgZGVzY3JpcHRpb24sIHNjcmlwdCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyaWFibGVTZXJ2aWNlLnVwZGF0ZVZhcmlhYmxlKHVwZGF0ZWRWYXJpYWJsZSk7CiAgICAgICAgICAgIFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVsb2FkQ3VzdG9tVmFyaWFibGVzKCk7CiAgICAgICAgICAgIGxvYWRWYXJpYWJsZXMoKTsKICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSB1cGRhdGVkIHZhcmlhYmxlCiAgICAgICAgICAgIHZhcmlhYmxlc1RhYmxlVmlldy5nZXRJdGVtcygpLnN0cmVhbSgpCiAgICAgICAgICAgICAgICAuZmlsdGVyKHYgLT4gdi5nZXROYW1lKCkuZXF1YWxzKG5hbWUpKQogICAgICAgICAgICAgICAgLmZpbmRGaXJzdCgpCiAgICAgICAgICAgICAgICAuaWZQcmVzZW50KHYgLT4gdmFyaWFibGVzVGFibGVWaWV3LmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KHYpKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlZhcmlhYmxlICciICsgbmFtZSArICInIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkVycm9yIHNhdmluZyB2YXJpYWJsZTogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRGVsZXRlKCkgewogICAgICAgIGlmIChjdXJyZW50bHlFZGl0aW5nID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIk5vIHZhcmlhYmxlIHNlbGVjdGVkIHRvIGRlbGV0ZS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgR3Jvb3Z5U2NyaXB0RW5naW5lIHNlbGVjdGVkID0gY3VycmVudGx5RWRpdGluZzsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIltERUJVR10gVHJ5IHRvIGRlbGV0ZSB2YXJpYWJsZSBpZDogIiArIHNlbGVjdGVkLmdldElkKCkpOyAvLyBkZWJ1ZyBsb2cKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoc2VsZWN0ZWQuZ2V0SWQoKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB2YXJpYWJsZVNlcnZpY2UuZGVsZXRlVmFyaWFibGUoc2VsZWN0ZWQuZ2V0SWQoKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIltERUJVR10gaWQgaXMgbnVsbCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIFZhcmlhYmxlR2VuZXJhdG9yLmdldEluc3RhbmNlKCkucmVsb2FkQ3VzdG9tVmFyaWFibGVzKCk7CiAgICAgICAgICAgIGxvYWRWYXJpYWJsZXMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlZhcmlhYmxlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRXJyb3IgZGVsZXRpbmcgdmFyaWFibGU6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNsZWFyKCkgewogICAgICAgIG5hbWVGaWVsZC5jbGVhcigpOwogICAgICAgIGZvcm1hdEZpZWxkLmNsZWFyKCk7CiAgICAgICAgZGVzY3JpcHRpb25GaWVsZC5jbGVhcigpOwogICAgICAgIHNjcmlwdEFyZWEuY2xlYXIoKTsKICAgICAgICB2YXJpYWJsZXNUYWJsZVZpZXcuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgIHNldERldGFpbFBhbmVEaXNhYmxlZChmYWxzZSk7CiAgICAgICAgY3VycmVudGx5RWRpdGluZyA9IG51bGw7CiAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRm9ybSBjbGVhcmVkLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5JTkZPKTsKICAgICAgICB9CiAgICB9CgoKICAgIHByaXZhdGUgdm9pZCBzZXREZXRhaWxQYW5lRGlzYWJsZWQoYm9vbGVhbiBkaXNhYmxlZCkgewogICAgICAgIG5hbWVGaWVsZC5zZXREaXNhYmxlKGRpc2FibGVkKTsKICAgICAgICBmb3JtYXRGaWVsZC5zZXREaXNhYmxlKGRpc2FibGVkKTsKICAgICAgICBkZXNjcmlwdGlvbkZpZWxkLnNldERpc2FibGUoZGlzYWJsZWQpOwogICAgICAgIHNjcmlwdEFyZWEuc2V0RGlzYWJsZShkaXNhYmxlZCk7CiAgICAgICAgc2F2ZUJ1dHRvbi5zZXREaXNhYmxlKGRpc2FibGVkKTsKICAgICAgICBkZWxldGVCdXR0b24uc2V0RGlzYWJsZShkaXNhYmxlZCk7CiAgICB9CgoKICAgIAogICAgcHVibGljIHZvaWQgc2V0TWFpblZpZXdNb2RlbChNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWwpIHsKICAgICAgICB0aGlzLm1haW5WaWV3TW9kZWwgPSBtYWluVmlld01vZGVsOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCByZWZyZXNoKCkgewogICAgICAgIGxvYWRWYXJpYWJsZXMoKTsKICAgIH0KfQo=
END
PATH:src/main/java/com/qa/app/ui/vm/HeadersTemplateViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zOwppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0OwppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDsKaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7CmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qOwppbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlOwppbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlOwppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uVHlwZTsKaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlVmlldzsKCmltcG9ydCBqYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7CgppbXBvcnQgb3JnLnlhbWwuc25ha2V5YW1sLllhbWw7CgppbXBvcnQgY29tLnFhLmFwcC5tb2RlbC5IZWFkZXJzVGVtcGxhdGU7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuUHJvamVjdENvbnRleHQ7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuU2VydmljZUV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSUhlYWRlcnNUZW1wbGF0ZVNlcnZpY2U7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC5IZWFkZXJzVGVtcGxhdGVTZXJ2aWNlSW1wbDsKCmltcG9ydCBvcmcueWFtbC5zbmFrZXlhbWwuRHVtcGVyT3B0aW9uczsKCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOwppbXBvcnQgY29tLnFhLmFwcC5jb21tb24ubGlzdGVuZXJzLkFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyOwoKcHVibGljIGNsYXNzIEhlYWRlcnNUZW1wbGF0ZVZpZXdNb2RlbCBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUsIEFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyIHsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRleHRGaWVsZCBoZWFkZXJzVGVtcGxhdGVOYW1lRmllbGQ7CiAgICBARlhNTAogICAgcHJpdmF0ZSBUZXh0QXJlYSBoZWFkZXJzVGVtcGxhdGVDb250ZW50QXJlYTsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRleHRBcmVhIGhlYWRlcnNUZW1wbGF0ZURlc2NyaXB0aW9uQXJlYTsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBhZGRCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gZHVwbGljYXRlQnV0dG9uOwogICAgQEZYTUwKICAgIHByaXZhdGUgQnV0dG9uIHVwZGF0ZUJ1dHRvbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIEJ1dHRvbiBkZWxldGVCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gY2xlYXJCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gZm9ybWF0QnV0dG9uOwogICAgQEZYTUwKICAgIHByaXZhdGUgQnV0dG9uIHZhbGlkYXRlQnV0dG9uOwogICAgQEZYTUwKICAgIHByaXZhdGUgVGFibGVWaWV3PEhlYWRlcnNUZW1wbGF0ZUl0ZW0+IGhlYWRlcnNUZW1wbGF0ZVRhYmxlOwogICAgQEZYTUwKICAgIHByaXZhdGUgVGFibGVDb2x1bW48SGVhZGVyc1RlbXBsYXRlSXRlbSwgU3RyaW5nPiBoZWFkZXJzVGVtcGxhdGVOYW1lQ29sdW1uOwogICAgQEZYTUwKICAgIHByaXZhdGUgVGFibGVDb2x1bW48SGVhZGVyc1RlbXBsYXRlSXRlbSwgU3RyaW5nPiBoZWFkZXJzVGVtcGxhdGVEZXNjcmlwdGlvbkNvbHVtbjsKICAgIEBGWE1MCiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEhlYWRlcnNUZW1wbGF0ZUl0ZW0sIFN0cmluZz4gaGVhZGVyc1RlbXBsYXRlQ29udGVudENvbHVtbjsKCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PEhlYWRlcnNUZW1wbGF0ZUl0ZW0+IGhlYWRlcnNUZW1wbGF0ZUxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsKICAgIHByaXZhdGUgZmluYWwgSUhlYWRlcnNUZW1wbGF0ZVNlcnZpY2UgaGVhZGVyc1RlbXBsYXRlU2VydmljZSA9IG5ldyBIZWFkZXJzVGVtcGxhdGVTZXJ2aWNlSW1wbCgpOwogICAgcHJpdmF0ZSBNYWluVmlld01vZGVsIG1haW5WaWV3TW9kZWw7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7CiAgICAgICAgaGVhZGVyc1RlbXBsYXRlTmFtZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IGNlbGxEYXRhLmdldFZhbHVlKCkubmFtZVByb3BlcnR5KCkpOwogICAgICAgIGhlYWRlcnNUZW1wbGF0ZURlc2NyaXB0aW9uQ29sdW1uLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4gY2VsbERhdGEuZ2V0VmFsdWUoKS5kZXNjcmlwdGlvblByb3BlcnR5KCkpOwogICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbnRlbnRDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBjZWxsRGF0YS5nZXRWYWx1ZSgpLmNvbnRlbnRQcm9wZXJ0eSgpKTsKICAgICAgICBoZWFkZXJzVGVtcGxhdGVUYWJsZS5zZXRJdGVtcyhoZWFkZXJzVGVtcGxhdGVMaXN0KTsKICAgICAgICBoZWFkZXJzVGVtcGxhdGVUYWJsZS5zZXRDb2x1bW5SZXNpemVQb2xpY3koVGFibGVWaWV3LkNPTlNUUkFJTkVEX1JFU0laRV9QT0xJQ1lfQUxMX0NPTFVNTlMpOwogICAgICAgIGhlYWRlcnNUZW1wbGF0ZVRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRTZWxlY3Rpb24sIG5ld1NlbGVjdGlvbikgLT4gewogICAgICAgICAgICBpZiAobmV3U2VsZWN0aW9uICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbnRlbnRBcmVhLnNldFRleHQobmV3U2VsZWN0aW9uLmdldENvbnRlbnQoKSk7CiAgICAgICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVOYW1lRmllbGQuc2V0VGV4dChuZXdTZWxlY3Rpb24uZ2V0TmFtZSgpKTsKICAgICAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZURlc2NyaXB0aW9uQXJlYS5zZXRUZXh0KG5ld1NlbGVjdGlvbi5nZXREZXNjcmlwdGlvbigpKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGxvYWRUZW1wbGF0ZXMoKTsKICAgICAgICBBcHBDb25maWcuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcyk7CgogICAgICAgIC8vIGRvdWJsZSBjbGljayByb3cgdG8gc2hvdyBjb250ZW50IGluIHBvcHVwCiAgICAgICAgaGVhZGVyc1RlbXBsYXRlVGFibGUuc2V0Um93RmFjdG9yeSh0diAtPiB7CiAgICAgICAgICAgIFRhYmxlUm93PEhlYWRlcnNUZW1wbGF0ZUl0ZW0+IHJvdyA9IG5ldyBUYWJsZVJvdzw+KCk7CiAgICAgICAgICAgIHJvdy5zZXRPbk1vdXNlQ2xpY2tlZChldmVudCAtPiB7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZ2V0Q2xpY2tDb3VudCgpID09IDIgJiYgIXJvdy5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgICAgICAgICBIZWFkZXJzVGVtcGxhdGVJdGVtIGl0ZW0gPSByb3cuZ2V0SXRlbSgpOwogICAgICAgICAgICAgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTik7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoIkhlYWRlcnMgQ29udGVudCBEZXRhaWwiKTsKICAgICAgICAgICAgICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KCJUZW1wbGF0ZTogIiArIGl0ZW0uZ2V0TmFtZSgpKTsKICAgICAgICAgICAgICAgICAgICBUZXh0QXJlYSBhcmVhID0gbmV3IFRleHRBcmVhKGl0ZW0uZ2V0Q29udGVudCgpKTsKICAgICAgICAgICAgICAgICAgICBhcmVhLnNldEVkaXRhYmxlKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBhcmVhLnNldFdyYXBUZXh0KHRydWUpOwogICAgICAgICAgICAgICAgICAgIGFyZWEuc2V0UHJlZldpZHRoKDgwMCk7CiAgICAgICAgICAgICAgICAgICAgYXJlYS5zZXRQcmVmSGVpZ2h0KDYwMCk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQuZ2V0RGlhbG9nUGFuZSgpLnNldENvbnRlbnQoYXJlYSk7CiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGljb24KICAgICAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgYWxlcnQuZ2V0RGlhbG9nUGFuZSgpLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhZ2UuZ2V0SWNvbnMoKS5hZGQobmV3IEltYWdlKGdldENsYXNzKCkuZ2V0UmVzb3VyY2VBc1N0cmVhbSgiL3N0YXRpYy9pY29uL2Zhdmljb24uaWNvIikpKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGJ1dHRvbiB0byBDbG9zZQogICAgICAgICAgICAgICAgICAgIGFsZXJ0LmdldEJ1dHRvblR5cGVzKCkuc2V0QWxsKG5ldyBCdXR0b25UeXBlKCJDbG9zZSIsIEJ1dHRvbkJhci5CdXR0b25EYXRhLk9LX0RPTkUpKTsKICAgICAgICAgICAgICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJvdzsKICAgICAgICB9KTsKCiAgICAgICAgLy8gYWRkIFRvb2x0aXAgYW5kIG1heCBoZWlnaHQsIGxlbmd0aCBsaW1pdCB0byBjb250ZW50IGNvbHVtbgogICAgICAgIGhlYWRlcnNUZW1wbGF0ZUNvbnRlbnRDb2x1bW4uc2V0Q2VsbEZhY3RvcnkoY29sIC0+IG5ldyBUYWJsZUNlbGw8SGVhZGVyc1RlbXBsYXRlSXRlbSwgU3RyaW5nPigpIHsKICAgICAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IE1BWF9MRU5HVEggPSAyMDA7CiAgICAgICAgICAgIHByaXZhdGUgZmluYWwgVG9vbHRpcCB0b29sdGlwID0gbmV3IFRvb2x0aXAoKTsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHsKICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpOwogICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGl0ZW0gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcChudWxsKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoKCkgPiBNQVhfTEVOR1RIKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoaXRlbS5zdWJzdHJpbmcoMCwgTUFYX0xFTkdUSCkgKyAiLi4uIik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChpdGVtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zZXRUZXh0KGl0ZW0pOwogICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXAodG9vbHRpcCk7CiAgICAgICAgICAgICAgICAgICAgc2V0V3JhcFRleHQoZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHNldFByZWZIZWlnaHQoODApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBvbkNvbmZpZ0NoYW5nZWQoKSB7CiAgICAgICAgbG9hZFRlbXBsYXRlcygpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBsb2FkVGVtcGxhdGVzKCkgewogICAgICAgIGhlYWRlcnNUZW1wbGF0ZUxpc3QuY2xlYXIoKTsKICAgICAgICBJbnRlZ2VyIHByb2plY3RJZCA9IFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKTsKICAgICAgICBpZiAocHJvamVjdElkICE9IG51bGwpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoSGVhZGVyc1RlbXBsYXRlIHQgOiBoZWFkZXJzVGVtcGxhdGVTZXJ2aWNlLmdldEhlYWRlcnNUZW1wbGF0ZXNCeVByb2plY3RJZChwcm9qZWN0SWQpKSB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1RlbXBsYXRlTGlzdC5hZGQobmV3IEhlYWRlcnNUZW1wbGF0ZUl0ZW0odC5nZXRJZCgpLCB0LmdldE5hbWUoKSwgdC5nZXRDb250ZW50KCksIHQuZ2V0RGVzY3JpcHRpb24oKSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIC8vIGFkZCBlcnJvciBoaW50CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFoZWFkZXJzVGVtcGxhdGVMaXN0LmlzRW1wdHkoKSkgewogICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdEZpcnN0KCk7CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRHVwbGljYXRlVGVtcGxhdGUoKSB7CiAgICAgICAgSGVhZGVyc1RlbXBsYXRlSXRlbSBzZWxlY3RlZCA9IGhlYWRlcnNUZW1wbGF0ZVRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7CiAgICAgICAgaWYgKHNlbGVjdGVkID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlBsZWFzZSBzZWxlY3QgYSB0ZW1wbGF0ZSB0byBkdXBsaWNhdGUuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBTdHJpbmcgbmV3TmFtZSA9IHNlbGVjdGVkLmdldE5hbWUoKSArICIgKGNvcHkpIjsKICAgICAgICAvLyBOb3RlOiBXZSBtaWdodCBuZWVkIGEgYmV0dGVyIHdheSB0byBlbnN1cmUgdW5pcXVlbmVzcyBpZiBuZWVkZWQuCgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEhlYWRlcnNUZW1wbGF0ZSBuZXdUZW1wbGF0ZSA9IG5ldyBIZWFkZXJzVGVtcGxhdGUobmV3TmFtZSwgc2VsZWN0ZWQuZ2V0Q29udGVudCgpLCBzZWxlY3RlZC5nZXREZXNjcmlwdGlvbigpLCBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCkpOwogICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVTZXJ2aWNlLmFkZEhlYWRlcnNUZW1wbGF0ZShuZXdUZW1wbGF0ZSk7CiAgICAgICAgICAgIGxvYWRUZW1wbGF0ZXMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlRlbXBsYXRlIGR1cGxpY2F0ZWQgYW5kIGFkZGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBkdXBsaWNhdGUgdGVtcGxhdGU6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZEhlYWRlcnNUZW1wbGF0ZSgpIHsKICAgICAgICBTdHJpbmcgbmFtZSA9IGhlYWRlcnNUZW1wbGF0ZU5hbWVGaWVsZC5nZXRUZXh0KCkudHJpbSgpOwogICAgICAgIFN0cmluZyBjb250ZW50ID0gaGVhZGVyc1RlbXBsYXRlQ29udGVudEFyZWEuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBTdHJpbmcgZGVzY3JpcHRpb24gPSBoZWFkZXJzVGVtcGxhdGVEZXNjcmlwdGlvbkFyZWEuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICBpZiAobmFtZS5pc0VtcHR5KCkgfHwgY29udGVudC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIklucHV0IEVycm9yOiBOYW1lIGFuZCBDb250ZW50IGFyZSByZXF1aXJlZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gVmFsaWRhdGUgWUFNTCBiZWZvcmUgc2F2aW5nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFsaWRhdGVZYW1sKGNvbnRlbnQpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiVmFsaWRhdGlvbiBFcnJvcjogSW52YWxpZCBZQU1MLiAiICsgZXguZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0FsZXJ0KCJWYWxpZGF0aW9uIEVycm9yIiwgIkludmFsaWQgWUFNTDogIiArIGV4LmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSGVhZGVyc1RlbXBsYXRlIHQgPSBuZXcgSGVhZGVyc1RlbXBsYXRlKG5hbWUsIGNvbnRlbnQsIGRlc2NyaXB0aW9uLCBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdElkKCkpOwogICAgICAgICAgICBoZWFkZXJzVGVtcGxhdGVTZXJ2aWNlLmFkZEhlYWRlcnNUZW1wbGF0ZSh0KTsKICAgICAgICAgICAgbG9hZFRlbXBsYXRlcygpOwogICAgICAgICAgICBjbGVhckZpZWxkcygpOwogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiVGVtcGxhdGUgYWRkZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIGFkZCB0ZW1wbGF0ZTogIiArIGUuZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEBGWE1MCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlVXBkYXRlSGVhZGVyc1RlbXBsYXRlKCkgewogICAgICAgIEhlYWRlcnNUZW1wbGF0ZUl0ZW0gc2VsZWN0ZWQgPSBoZWFkZXJzVGVtcGxhdGVUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpOwogICAgICAgIGlmIChzZWxlY3RlZCA9PSBudWxsKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJTZWxlY3Rpb24gRXJyb3I6IFBsZWFzZSBzZWxlY3QgYSB0ZW1wbGF0ZSB0byB1cGRhdGUuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIFZhbGlkYXRlIFlBTUwgYmVmb3JlIHVwZGF0aW5nCiAgICAgICAgU3RyaW5nIHVwZGF0ZWRDb250ZW50ID0gaGVhZGVyc1RlbXBsYXRlQ29udGVudEFyZWEuZ2V0VGV4dCgpLnRyaW0oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICB2YWxpZGF0ZVlhbWwodXBkYXRlZENvbnRlbnQpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiVmFsaWRhdGlvbiBFcnJvcjogSW52YWxpZCBZQU1MLiAiICsgZXguZ2V0TWVzc2FnZSgpLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0FsZXJ0KCJWYWxpZGF0aW9uIEVycm9yIiwgIkludmFsaWQgWUFNTDogIiArIGV4LmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSGVhZGVyc1RlbXBsYXRlIHQgPSBuZXcgSGVhZGVyc1RlbXBsYXRlKHNlbGVjdGVkLmdldElkKCksIGhlYWRlcnNUZW1wbGF0ZU5hbWVGaWVsZC5nZXRUZXh0KCkudHJpbSgpLCB1cGRhdGVkQ29udGVudCwgaGVhZGVyc1RlbXBsYXRlRGVzY3JpcHRpb25BcmVhLmdldFRleHQoKS50cmltKCksIFByb2plY3RDb250ZXh0LmdldEN1cnJlbnRQcm9qZWN0SWQoKSk7CiAgICAgICAgICAgIGhlYWRlcnNUZW1wbGF0ZVNlcnZpY2UudXBkYXRlSGVhZGVyc1RlbXBsYXRlKHQpOwogICAgICAgICAgICBsb2FkVGVtcGxhdGVzKCk7CiAgICAgICAgICAgIGNsZWFyRmllbGRzKCk7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJUZW1wbGF0ZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byB1cGRhdGUgdGVtcGxhdGU6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZURlbGV0ZUhlYWRlcnNUZW1wbGF0ZSgpIHsKICAgICAgICBIZWFkZXJzVGVtcGxhdGVJdGVtIHNlbGVjdGVkID0gaGVhZGVyc1RlbXBsYXRlVGFibGUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTsKICAgICAgICBpZiAoc2VsZWN0ZWQgIT0gbnVsbCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaGVhZGVyc1RlbXBsYXRlU2VydmljZS5kZWxldGVIZWFkZXJzVGVtcGxhdGUoc2VsZWN0ZWQuZ2V0SWQoKSk7CiAgICAgICAgICAgICAgICBsb2FkVGVtcGxhdGVzKCk7CiAgICAgICAgICAgICAgICBjbGVhckZpZWxkcygpOwogICAgICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJUZW1wbGF0ZSBkZWxldGVkIHN1Y2Nlc3NmdWxseS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gZGVsZXRlIHRlbXBsYXRlOiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiU2VsZWN0aW9uIEVycm9yOiBQbGVhc2Ugc2VsZWN0IGEgdGVtcGxhdGUgdG8gZGVsZXRlLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDbGVhckhlYWRlcnNUZW1wbGF0ZUZvcm0oKSB7CiAgICAgICAgY2xlYXJGaWVsZHMoKTsKICAgIH0KCiAgICBARlhNTAogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUZvcm1hdFRlbXBsYXRlKCkgewogICAgICAgIFN0cmluZyBjb250ZW50ID0gaGVhZGVyc1RlbXBsYXRlQ29udGVudEFyZWEuZ2V0VGV4dCgpOwogICAgICAgIGlmIChjb250ZW50ID09IG51bGwgfHwgY29udGVudC5pc0VtcHR5KCkpIHJldHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyDlhYjmoKHpqozvvIzlkI7moLzlvI/ljJYKICAgICAgICAgICAgdmFsaWRhdGVZYW1sKGNvbnRlbnQpOwogICAgICAgICAgICBTdHJpbmcgZm9ybWF0dGVkID0gZm9ybWF0WWFtbChjb250ZW50KTsKICAgICAgICAgICAgaGVhZGVyc1RlbXBsYXRlQ29udGVudEFyZWEuc2V0VGV4dChmb3JtYXR0ZWQpOwogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRm9ybWF0IFN1Y2Nlc3M6IENvbnRlbnQgZm9ybWF0dGVkIGFzIFlBTUwuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0FsZXJ0KCJGb3JtYXQgU3VjY2VzcyIsICJDb250ZW50IGZvcm1hdHRlZCBhcyBZQU1MLiIpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZvcm1hdCBFcnJvcjogRmFpbGVkIHRvIGZvcm1hdCBjb250ZW50LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93QWxlcnQoIkZvcm1hdCBFcnJvciIsICJGYWlsZWQgdG8gZm9ybWF0IGNvbnRlbnQ6ICIgKyBlLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQEZYTUwKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVWYWxpZGF0ZVRlbXBsYXRlKCkgewogICAgICAgIFN0cmluZyBjb250ZW50ID0gaGVhZGVyc1RlbXBsYXRlQ29udGVudEFyZWEuZ2V0VGV4dCgpOwogICAgICAgIGlmIChjb250ZW50ID09IG51bGwgfHwgY29udGVudC5pc0VtcHR5KCkpIHJldHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgICB2YWxpZGF0ZVlhbWwoY29udGVudCk7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJWYWxpZGF0aW9uIFN1Y2Nlc3M6IENvbnRlbnQgaXMgdmFsaWQgWUFNTC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuU1VDQ0VTUyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93QWxlcnQoIlZhbGlkYXRpb24gU3VjY2VzcyIsICJDb250ZW50IGlzIHZhbGlkIFlBTUwuIik7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiVmFsaWRhdGlvbiBFcnJvcjogSW52YWxpZCBZQU1MLiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93QWxlcnQoIlZhbGlkYXRpb24gRXJyb3IiLCAiSW52YWxpZCBZQU1MOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgU3RyaW5nIGZvcm1hdFlhbWwoU3RyaW5nIHlhbWxTdHIpIHsKICAgICAgICBZYW1sIHlhbWwgPSBuZXcgWWFtbCgpOwogICAgICAgIE9iamVjdCBvYmogPSB5YW1sLmxvYWQoeWFtbFN0cik7CiAgICAgICAgRHVtcGVyT3B0aW9ucyBvcHRpb25zID0gbmV3IER1bXBlck9wdGlvbnMoKTsKICAgICAgICBvcHRpb25zLnNldERlZmF1bHRGbG93U3R5bGUoRHVtcGVyT3B0aW9ucy5GbG93U3R5bGUuQkxPQ0spOwogICAgICAgIG9wdGlvbnMuc2V0UHJldHR5Rmxvdyh0cnVlKTsKICAgICAgICBvcHRpb25zLnNldEluZGVudCgyKTsKICAgICAgICBvcHRpb25zLnNldEluZGljYXRvckluZGVudCgxKTsKICAgICAgICBvcHRpb25zLnNldERlZmF1bHRTY2FsYXJTdHlsZShEdW1wZXJPcHRpb25zLlNjYWxhclN0eWxlLlBMQUlOKTsKICAgICAgICBZYW1sIHByZXR0eVlhbWwgPSBuZXcgWWFtbChvcHRpb25zKTsKICAgICAgICByZXR1cm4gcHJldHR5WWFtbC5kdW1wKG9iaik7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHZhbGlkYXRlWWFtbChTdHJpbmcgeWFtbFN0cikgewogICAgICAgIFlhbWwgeWFtbCA9IG5ldyBZYW1sKCk7CiAgICAgICAgeWFtbC5sb2FkKHlhbWxTdHIpOyAvLyB0aHJvd3MgZXhjZXB0aW9uIGlmIGludmFsaWQKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KFN0cmluZyB0aXRsZSwgU3RyaW5nIG1zZykgewogICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTik7CiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpOwogICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7CiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobXNnKTsKICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjbGVhckZpZWxkcygpIHsKICAgICAgICBoZWFkZXJzVGVtcGxhdGVOYW1lRmllbGQuY2xlYXIoKTsKICAgICAgICBoZWFkZXJzVGVtcGxhdGVDb250ZW50QXJlYS5jbGVhcigpOwogICAgICAgIGhlYWRlcnNUZW1wbGF0ZURlc2NyaXB0aW9uQXJlYS5jbGVhcigpOwogICAgICAgIGhlYWRlcnNUZW1wbGF0ZVRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYWluVmlld01vZGVsKE1haW5WaWV3TW9kZWwgbWFpblZpZXdNb2RlbCkgewogICAgICAgIHRoaXMubWFpblZpZXdNb2RlbCA9IG1haW5WaWV3TW9kZWw7CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVmcmVzaCgpIHsKICAgICAgICBsb2FkVGVtcGxhdGVzKCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBjbGFzcyBIZWFkZXJzVGVtcGxhdGVJdGVtIHsKICAgICAgICBwcml2YXRlIGZpbmFsIGludCBpZDsKICAgICAgICBwcml2YXRlIGZpbmFsIGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eSBuYW1lOwogICAgICAgIHByaXZhdGUgZmluYWwgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5IGNvbnRlbnQ7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkgZGVzY3JpcHRpb247CgogICAgICAgIHB1YmxpYyBIZWFkZXJzVGVtcGxhdGVJdGVtKGludCBpZCwgU3RyaW5nIG5hbWUsIFN0cmluZyBjb250ZW50LCBTdHJpbmcgZGVzY3JpcHRpb24pIHsKICAgICAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgICAgICB0aGlzLm5hbWUgPSBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KG5hbWUpOwogICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGNvbnRlbnQpOwogICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShkZXNjcmlwdGlvbik7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgSGVhZGVyc1RlbXBsYXRlSXRlbShTdHJpbmcgbmFtZSwgU3RyaW5nIGNvbnRlbnQsIFN0cmluZyBkZXNjcmlwdGlvbikgewogICAgICAgICAgICB0aGlzLmlkID0gMDsKICAgICAgICAgICAgdGhpcy5uYW1lID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShuYW1lKTsKICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gbmV3IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eShjb250ZW50KTsKICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkoZGVzY3JpcHRpb24pOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGludCBnZXRJZCgpIHsgcmV0dXJuIGlkOyB9CiAgICAgICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgeyByZXR1cm4gbmFtZS5nZXQoKTsgfQogICAgICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG4pIHsgbmFtZS5zZXQobik7IH0KICAgICAgICBwdWJsaWMgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlN0cmluZ1Byb3BlcnR5IG5hbWVQcm9wZXJ0eSgpIHsgcmV0dXJuIG5hbWU7IH0KICAgICAgICBwdWJsaWMgU3RyaW5nIGdldENvbnRlbnQoKSB7IHJldHVybiBjb250ZW50LmdldCgpOyB9CiAgICAgICAgcHVibGljIHZvaWQgc2V0Q29udGVudChTdHJpbmcgYykgeyBjb250ZW50LnNldChjKTsgfQogICAgICAgIHB1YmxpYyBqYXZhZnguYmVhbnMucHJvcGVydHkuU3RyaW5nUHJvcGVydHkgY29udGVudFByb3BlcnR5KCkgeyByZXR1cm4gY29udGVudDsgfQogICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7IHJldHVybiBkZXNjcmlwdGlvbi5nZXQoKTsgfQogICAgICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkKSB7IGRlc2NyaXB0aW9uLnNldChkKTsgfQogICAgICAgIHB1YmxpYyBqYXZhZnguYmVhbnMucHJvcGVydHkuU3RyaW5nUHJvcGVydHkgZGVzY3JpcHRpb25Qcm9wZXJ0eSgpIHsgcmV0dXJuIGRlc2NyaXB0aW9uOyB9CiAgICB9Cn0g
END
PATH:src/main/java/com/qa/app/ui/vm/MainViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOw0KDQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7DQppbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0Ow0KaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7DQppbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjsNCmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5Ob2RlOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkxpc3RWaWV3Ow0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYjsNCmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJQYW5lOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkxhYmVsOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5wYWludC5Db2xvcjsNCmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LkJvcmRlclBhbmU7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQ29udGV4dE1lbnU7DQppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuTWVudUl0ZW07DQoNCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEubmV0LlVSTDsNCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTsNCmltcG9ydCBqYXZhLnV0aWwuU2V0Ow0KaW1wb3J0IGphdmEudXRpbC5BcnJheXM7DQppbXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLlByb2plY3Q7DQppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLlByb2plY3RDb250ZXh0Ow0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5hcGkuSVByb2plY3RTZXJ2aWNlOw0KaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5pbXBsLlByb2plY3RTZXJ2aWNlSW1wbDsNCmltcG9ydCBjb20ucWEuYXBwLnV0aWwuQXBwQ29uZmlnOw0KaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybTsNCg0KcHVibGljIGNsYXNzIE1haW5WaWV3TW9kZWwgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHsNCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBMYWJlbCBzdGF0dXNMYWJlbDsNCg0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBCb3JkZXJQYW5lIG1haW5QYW5lOw0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBMaXN0VmlldzxTdHJpbmc+IG5hdmlnYXRpb25MaXN0Ow0KICAgIEBGWE1MDQogICAgcHJpdmF0ZSBUYWJQYW5lIGNvbnRlbnRUYWJQYW5lOw0KDQogICAgQEZYTUwNCiAgICBwcml2YXRlIExhYmVsIGN1cnJlbnRGZWF0dXJlTGFiZWw7DQoNCiAgICBwcml2YXRlIGZpbmFsIE9ic2VydmFibGVMaXN0PFN0cmluZz4gbmF2SXRlbXMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoDQogICAgICAgICJHYXRsaW5nIFRlc3QgTWFuYWdlbWVudCIsDQogICAgICAgICJHYXRsaW5nIFNjZW5hcmlvIE1hbmFnZW1lbnQiLA0KICAgICAgICAiR2F0bGluZyBUZXN0IFJlcG9ydHMiLA0KICAgICAgICAiR2F0bGluZyBJbnRlcm5hbCBSZXBvcnQiLA0KICAgICAgICAiRW5kcG9pbnQgTWFuYWdlbWVudCIsDQogICAgICAgICJIZWFkZXJzIFRlbXBsYXRlIE1hbmFnZW1lbnQiLA0KICAgICAgICAiQm9keSBUZW1wbGF0ZSBNYW5hZ2VtZW50IiwNCiAgICAgICAgIkVudmlyb25tZW50IE1hbmFnZW1lbnQiLA0KICAgICAgICAiREIgQ29ubmVjdGlvbnMgTWdtdCIsDQogICAgICAgICJQcm9qZWN0IE1hbmFnZW1lbnQiLA0KICAgICAgICAiVmFyaWFibGVzIE1hbmFnZW1lbnQiLA0KICAgICAgICAiQXBwbGljYXRpb24gUHJvcGVydGllcyINCiAgICApOw0KICAgIHByaXZhdGUgZmluYWwgTWFwPFN0cmluZywgU3RyaW5nPiBmeG1sTWFwcGluZyA9IG5ldyBIYXNoTWFwPD4oKTsNCiAgICBwcml2YXRlIGZpbmFsIE1hcDxTdHJpbmcsIE5vZGU+IGxvYWRlZFRhYnMgPSBuZXcgSGFzaE1hcDw+KCk7DQoNCiAgICAvKioNCiAgICAgKiBUaGUgc2V2ZW4gbWFuYWdlbWVudCBmdW5jdGlvbnMgdGhhdCBzaG91bGQgYWx3YXlzIHNoYXJlIHRoZSBzYW1lIHNpbmdsZQ0KICAgICAqIFRhYiBpbnN0YW5jZS4gV2hlbiB0aGUgdXNlciBzZWxlY3RzIGFueSBvZiB0aGVzZSBlbnRyaWVzIGZyb20gdGhlDQogICAgICogbmF2aWdhdGlvbiBsaXN0IHdlIHdpbGwgZWl0aGVyIHJlLXVzZSB0aGUgZXhpc3Rpbmcgc2hhcmVkIHRhYiAoaWYgaXQgaXMNCiAgICAgKiBhbHJlYWR5IHByZXNlbnQpIG9yIGNyZWF0ZSBvbmUgaWYgaXQgZG9lcyBub3QgeWV0IGV4aXN0LCByZXBsYWNpbmcgaXRzDQogICAgICogY29udGVudCBhbmQgdGV4dCBvbiBldmVyeSBzd2l0Y2ggaW5zdGVhZCBvZiBvcGVuaW5nIGFkZGl0aW9uYWwgdGFicy4NCiAgICAgKi8NCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBTSU5HTEVfVEFCX0lURU1TID0gbmV3IEhhc2hTZXQ8PihBcnJheXMuYXNMaXN0KA0KICAgICAgICAgICAgIkVuZHBvaW50IE1hbmFnZW1lbnQiLA0KICAgICAgICAgICAgIkhlYWRlcnMgVGVtcGxhdGUgTWFuYWdlbWVudCIsDQogICAgICAgICAgICAiQm9keSBUZW1wbGF0ZSBNYW5hZ2VtZW50IiwNCiAgICAgICAgICAgICJFbnZpcm9ubWVudCBNYW5hZ2VtZW50IiwNCiAgICAgICAgICAgICJQcm9qZWN0IE1hbmFnZW1lbnQiLA0KICAgICAgICAgICAgIlZhcmlhYmxlcyBNYW5hZ2VtZW50IiwNCiAgICAgICAgICAgICJEQiBDb25uZWN0aW9ucyBNZ210IiwNCiAgICAgICAgICAgICJBcHBsaWNhdGlvbiBQcm9wZXJ0aWVzIg0KICAgICkpOw0KDQogICAgLy8gRW51bSBmb3Igc3RhdHVzIHR5cGVzDQogICAgcHVibGljIGVudW0gU3RhdHVzVHlwZSB7DQogICAgICAgIElORk8sDQogICAgICAgIFNVQ0NFU1MsDQogICAgICAgIFdBUk5JTkcsDQogICAgICAgIEVSUk9SDQogICAgfQ0KDQogICAgcHJpdmF0ZSBJUHJvamVjdFNlcnZpY2UgcHJvamVjdFNlcnZpY2U7DQogICAgcHJpdmF0ZSBzdGF0aWMgTWFpblZpZXdNb2RlbCBpbnN0YW5jZTsNCg0KICAgIHB1YmxpYyBNYWluVmlld01vZGVsKCkgew0KICAgICAgICBpbnN0YW5jZSA9IHRoaXM7DQogICAgICAgIHRoaXMucHJvamVjdFNlcnZpY2UgPSBuZXcgUHJvamVjdFNlcnZpY2VJbXBsKCk7DQogICAgfQ0KDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykgew0KICAgICAgICByZWluaXRpYWxpemUoKTsNCiAgICAgICAgbG9hZEFuZFNldEN1cnJlbnRQcm9qZWN0KCk7DQogICAgICAgIEFwcENvbmZpZy5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzOjpvbkNvbmZpZ0NoYW5nZWQpOw0KICAgICAgICANCiAgICAgICAgLy8gRm9yY2UgcmVmcmVzaCB0aGUgaW5pdGlhbCB0YWIgY29udGVudA0KICAgICAgICBpZiAoIW5hdkl0ZW1zLmlzRW1wdHkoKSAmJiAhY29udGVudFRhYlBhbmUuZ2V0VGFicygpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgVGFiIGluaXRpYWxUYWIgPSBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkuZ2V0KDApOw0KICAgICAgICAgICAgaWYgKGluaXRpYWxUYWIgIT0gbnVsbCAmJiBpbml0aWFsVGFiLmdldENvbnRlbnQoKSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgTm9kZSBjb250ZW50Tm9kZSA9IGluaXRpYWxUYWIuZ2V0Q29udGVudCgpOw0KICAgICAgICAgICAgICAgIE9iamVjdCBjb250cm9sbGVyID0gY29udGVudE5vZGUuZ2V0UHJvcGVydGllcygpLmdldCgiY29udHJvbGxlciIpOw0KICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlciA9IGNvbnRlbnROb2RlLmdldFVzZXJEYXRhKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ1Rlc3RWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICAgICAgICAgKChHYXRsaW5nVGVzdFZpZXdNb2RlbCkgY29udHJvbGxlcikucmVmcmVzaER5bmFtaWNWYXJpYWJsZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgKChHYXRsaW5nVGVzdFZpZXdNb2RlbCkgY29udHJvbGxlcikucmVmcmVzaCgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBvbkNvbmZpZ0NoYW5nZWQoKSB7DQogICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKHRoaXM6OmxvYWRBbmRTZXRDdXJyZW50UHJvamVjdCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgcmVpbml0aWFsaXplKCkgew0KICAgICAgICAvLyBJbml0aWFsaXplIEZYTUwgbWFwcGluZw0KICAgICAgICBmeG1sTWFwcGluZy5jbGVhcigpOw0KICAgICAgICBmeG1sTWFwcGluZy5wdXQoIkdhdGxpbmcgVGVzdCBNYW5hZ2VtZW50IiwgIi9jb20vcWEvYXBwL3VpL3ZpZXcvZ2F0bGluZ190ZXN0X3ZpZXcuZnhtbCIpOw0KICAgICAgICBmeG1sTWFwcGluZy5wdXQoIkVuZHBvaW50IE1hbmFnZW1lbnQiLCAiL2NvbS9xYS9hcHAvdWkvdmlldy9lbmRwb2ludF92aWV3LmZ4bWwiKTsNCiAgICAgICAgZnhtbE1hcHBpbmcucHV0KCJIZWFkZXJzIFRlbXBsYXRlIE1hbmFnZW1lbnQiLCAiL2NvbS9xYS9hcHAvdWkvdmlldy9oZWFkZXJzX3RlbXBsYXRlX3ZpZXcuZnhtbCIpOw0KICAgICAgICBmeG1sTWFwcGluZy5wdXQoIkJvZHkgVGVtcGxhdGUgTWFuYWdlbWVudCIsICIvY29tL3FhL2FwcC91aS92aWV3L2JvZHlfdGVtcGxhdGVfdmlldy5meG1sIik7DQogICAgICAgIGZ4bWxNYXBwaW5nLnB1dCgiRW52aXJvbm1lbnQgTWFuYWdlbWVudCIsICIvY29tL3FhL2FwcC91aS92aWV3L2Vudmlyb25tZW50X3ZpZXcuZnhtbCIpOw0KICAgICAgICBmeG1sTWFwcGluZy5wdXQoIkRCIENvbm5lY3Rpb25zIE1nbXQiLCAiL2NvbS9xYS9hcHAvdWkvdmlldy9kYl9jb25uZWN0aW9uX3ZpZXcuZnhtbCIpOw0KICAgICAgICBmeG1sTWFwcGluZy5wdXQoIlByb2plY3QgTWFuYWdlbWVudCIsICIvY29tL3FhL2FwcC91aS92aWV3L3Byb2plY3Rfdmlldy5meG1sIik7DQogICAgICAgIGZ4bWxNYXBwaW5nLnB1dCgiVmFyaWFibGVzIE1hbmFnZW1lbnQiLCAiL2NvbS9xYS9hcHAvdWkvdmlldy9ncm9vdnlfdmFyaWFibGVfdmlldy5meG1sIik7DQogICAgICAgIGZ4bWxNYXBwaW5nLnB1dCgiR2F0bGluZyBTY2VuYXJpbyBNYW5hZ2VtZW50IiwgIi9jb20vcWEvYXBwL3VpL3ZpZXcvZ2F0bGluZ19zY2VuYXJpb192aWV3LmZ4bWwiKTsNCiAgICAgICAgZnhtbE1hcHBpbmcucHV0KCJBcHBsaWNhdGlvbiBQcm9wZXJ0aWVzIiwgIi9jb20vcWEvYXBwL3VpL3ZpZXcvYXBwbGljYXRpb25fcHJvcGVydGllc192aWV3LmZ4bWwiKTsNCiAgICAgICAgZnhtbE1hcHBpbmcucHV0KCJHYXRsaW5nIFRlc3QgUmVwb3J0cyIsICIvY29tL3FhL2FwcC91aS92aWV3L2dhdGxpbmdfdGVzdF9yZXBvcnRfdmlldy5meG1sIik7DQogICAgICAgIGZ4bWxNYXBwaW5nLnB1dCgiR2F0bGluZyBJbnRlcm5hbCBSZXBvcnQiLCAiL2NvbS9xYS9hcHAvdWkvdmlldy9nYXRsaW5nX2ludGVybmFsX3JlcG9ydF92aWV3LmZ4bWwiKTsNCiAgICAgICAgLy8gUmVtb3ZlZCBTeXN0ZW0gU2V0dGluZ3MgbWFwcGluZw0KDQogICAgICAgIG5hdmlnYXRpb25MaXN0LnNldEl0ZW1zKG5hdkl0ZW1zKTsNCiAgICAgICAgdXBkYXRlU3RhdHVzKCJXZWxjb21lIHRvIEdhdGxpbmcgVGVzdGluZyBTeXN0ZW0hIiwgU3RhdHVzVHlwZS5JTkZPKTsNCiAgICAgICAgbmF2aWdhdGlvbkxpc3QuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3RlZEl0ZW1Qcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnNlcnZhYmxlLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIC0+IHsNCiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgb3Blbk9yU2VsZWN0VGFiKG5ld1ZhbHVlKTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZlYXR1cmVMYWJlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGZWF0dXJlTGFiZWwuc2V0VGV4dChuZXdWYWx1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdGVkSXRlbVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4gew0KICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9IG51bGwgJiYgY3VycmVudEZlYXR1cmVMYWJlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgY3VycmVudEZlYXR1cmVMYWJlbC5zZXRUZXh0KG5ld1ZhbHVlLmdldFRleHQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIFNlbGVjdCB0aGUgZmlyc3QgaXRlbSBieSBkZWZhdWx0IGlmIGF2YWlsYWJsZQ0KICAgICAgICBpZiAoIW5hdkl0ZW1zLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgU3RyaW5nIGZpcnN0SXRlbSA9IG5hdkl0ZW1zLmdldCgwKTsNCiAgICAgICAgICAgIG5hdmlnYXRpb25MaXN0LmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0Rmlyc3QoKTsNCiAgICAgICAgICAgIGlmIChjdXJyZW50RmVhdHVyZUxhYmVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50RmVhdHVyZUxhYmVsLnNldFRleHQoZmlyc3RJdGVtKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIE9wZW4gc2NlbmFyaW8gdGFiIGJ5IGRlZmF1bHQgYXMgc2Vjb25kIGZpeGVkIHRhYg0KICAgICAgICAgICAgb3Blbk9yU2VsZWN0VGFiKCJHYXRsaW5nIFNjZW5hcmlvIE1hbmFnZW1lbnQiKTsNCiAgICAgICAgICAgIC8vIEVuc3VyZSB3ZSByZXZlcnQgc2VsZWN0aW9uIGJhY2sgdG8gZmlyc3QgdGFiDQogICAgICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdCgwKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBvcGVuT3JTZWxlY3RUYWIoU3RyaW5nIHRhYk5hbWUpIHsNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIDEuIEdlbmVyYWwgY2hlY2s6IGlmIGEgdGFiIHdpdGggdGhlIGV4YWN0IHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cywNCiAgICAgICAgLy8gICAgc2ltcGx5IHNlbGVjdCBpdCBhbmQgcmVmcmVzaCBpdHMgY29udGVudCAob3JpZ2luYWwgYmVoYXZpb3VyKS4NCiAgICAgICAgLy8gICAgVGhpcyBwcmV2ZW50cyBkdXBsaWNhdGUgdGFicyBmb3IgaXRlbXMgbGlrZSAiR2F0bGluZyBUZXN0DQogICAgICAgIC8vICAgIE1hbmFnZW1lbnQiIHdoaWNoIGFyZSAqbm90KiBwYXJ0IG9mIFNJTkdMRV9UQUJfSVRFTVMuDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBmb3IgKFRhYiB0YWIgOiBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkpIHsNCiAgICAgICAgICAgIGlmICh0YWIuZ2V0VGV4dCgpLmVxdWFscyh0YWJOYW1lKSkgew0KICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBHYXRsaW5nIFRlc3QgTWFuYWdlbWVudCBzdGF5cyBhdCBpbmRleCAwIGFuZCBpcyBub3QgY2xvc2FibGUNCiAgICAgICAgICAgICAgICBpZiAoIkdhdGxpbmcgVGVzdCBNYW5hZ2VtZW50Ii5lcXVhbHModGFiTmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGFiLnNldENsb3NhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUYWJQYW5lLmdldFRhYnMoKS5pbmRleE9mKHRhYikgIT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLnJlbW92ZSh0YWIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLmFkZCgwLCB0YWIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBTY2VuYXJpbyB0YWIgZml4ZWQgYXQgaW5kZXggMSBhbmQgbm90IGNsb3NhYmxlDQogICAgICAgICAgICAgICAgaWYgKCJHYXRsaW5nIFNjZW5hcmlvIE1hbmFnZW1lbnQiLmVxdWFscyh0YWJOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICB0YWIuc2V0Q2xvc2FibGUoZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICBpbnQgZGVzaXJlZEluZGV4ID0gTWF0aC5taW4oMSwgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLnNpemUoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkuaW5kZXhPZih0YWIpICE9IGRlc2lyZWRJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLnJlbW92ZSh0YWIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLmFkZChkZXNpcmVkSW5kZXgsIHRhYik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdCh0YWIpOw0KICAgICAgICAgICAgICAgIHJlZnJlc2hUYWJDb250ZW50KHRhYk5hbWUsIHRhYi5nZXRDb250ZW50KCkpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEZpcnN0LCBoYW5kbGUgdGhlIGdyb3VwIHRoYXQgc2hvdWxkIGFsd2F5cyBvY2N1cHkgYSBzaW5nbGUgVGFiDQogICAgICAgIGlmIChTSU5HTEVfVEFCX0lURU1TLmNvbnRhaW5zKHRhYk5hbWUpKSB7DQogICAgICAgICAgICAvLyBUcnkgdG8gZmluZCBhbiBleGlzdGluZyB0YWIgaW4gdGhpcyBncm91cCAoY291bGQgYmUgdGhlIHNhbWUgb3IgYW5vdGhlciBpdGVtKQ0KICAgICAgICAgICAgVGFiIGV4aXN0aW5nR3JvdXBUYWIgPSBudWxsOw0KICAgICAgICAgICAgZm9yIChUYWIgdGFiIDogY29udGVudFRhYlBhbmUuZ2V0VGFicygpKSB7DQogICAgICAgICAgICAgICAgaWYgKFNJTkdMRV9UQUJfSVRFTVMuY29udGFpbnModGFiLmdldFRleHQoKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdHcm91cFRhYiA9IHRhYjsNCiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbHJlYWR5IHNob3dpbmcgdGhlIHJlcXVlc3RlZCBwYWdlLCBzaW1wbHkgc2VsZWN0IGFuZCByZWZyZXNoDQogICAgICAgICAgICAgICAgICAgIGlmICh0YWIuZ2V0VGV4dCgpLmVxdWFscyh0YWJOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QodGFiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUYWJDb250ZW50KHRhYk5hbWUsIHRhYi5nZXRDb250ZW50KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBXZSBuZWVkIG9ubHkgb25lIHN1Y2ggdGFiDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBQcmVwYXJlIChvciByZXRyaWV2ZSkgdGhlIGNvbnRlbnQgbm9kZSBmb3IgdGhlIHJlcXVlc3RlZCBwYWdlDQogICAgICAgICAgICBTdHJpbmcgZnhtbFBhdGggPSBmeG1sTWFwcGluZy5nZXQodGFiTmFtZSk7DQogICAgICAgICAgICBpZiAoZnhtbFBhdGggPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHNob3dHbG9iYWxTdGF0dXMoIk5vIEZYTUwgbWFwcGluZyBmb3I6ICIgKyB0YWJOYW1lLCBTdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgTm9kZSBjb250ZW50Tm9kZSA9IGxvYWRlZFRhYnMuZ2V0KHRhYk5hbWUpOw0KICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbnVsbDsNCiAgICAgICAgICAgICAgICBpZiAoY29udGVudE5vZGUgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnROb2RlID0gbG9hZGVyLmxvYWQoKTsNCiAgICAgICAgICAgICAgICAgICAgT2JqZWN0IGNvbnRyb2xsZXIgPSBsb2FkZXIuZ2V0Q29udHJvbGxlcigpOw0KICAgICAgICAgICAgICAgICAgICAvLyBSZS11c2UgdGhlIHNhbWUgaGVscGVyIHRvIHdpcmUgdGhlIGNvbnRyb2xsZXIgKGNvZGUgZXh0cmFjdGVkIGJlbG93KQ0KICAgICAgICAgICAgICAgICAgICB3aXJlQ29udHJvbGxlcihjb250cm9sbGVyKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudE5vZGUuZ2V0UHJvcGVydGllcygpLnB1dCgiY29udHJvbGxlciIsIGNvbnRyb2xsZXIpOw0KICAgICAgICAgICAgICAgICAgICBsb2FkZWRUYWJzLnB1dCh0YWJOYW1lLCBjb250ZW50Tm9kZSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nR3JvdXBUYWIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBjb250ZW50IGFuZCBsYWJlbCBvZiB0aGUgZXhpc3RpbmcgdGFiDQogICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nR3JvdXBUYWIuc2V0VGV4dCh0YWJOYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdHcm91cFRhYi5zZXRDb250ZW50KGNvbnRlbnROb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgYXR0YWNoQ29udGV4dE1lbnUoZXhpc3RpbmdHcm91cFRhYik7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUYWJQYW5lLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGV4aXN0aW5nR3JvdXBUYWIpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vIE5vIHRhYiBmcm9tIHRoZSBncm91cCBpcyBvcGVuIHlldCDigJMgY3JlYXRlIG9uZSBub3JtYWxseQ0KICAgICAgICAgICAgICAgICAgICBUYWIgbmV3VGFiID0gbmV3IFRhYih0YWJOYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgbmV3VGFiLnNldENvbnRlbnQoY29udGVudE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICBuZXdUYWIuc2V0Q2xvc2FibGUodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUYWJQYW5lLmdldFRhYnMoKS5hZGQobmV3VGFiKTsNCiAgICAgICAgICAgICAgICAgICAgYXR0YWNoQ29udGV4dE1lbnUobmV3VGFiKTsNCiAgICAgICAgICAgICAgICAgICAgbmV3VGFiLnNldE9uQ2xvc2VkKGV2ZW50IC0+IGxvYWRlZFRhYnMucmVtb3ZlKHRhYk5hbWUpKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QobmV3VGFiKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZlYXR1cmVMYWJlbCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGZWF0dXJlTGFiZWwuc2V0VGV4dCh0YWJOYW1lKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBjb250ZW50IHdlIGp1c3QgZGlzcGxheWVkDQogICAgICAgICAgICAgICAgcmVmcmVzaFRhYkNvbnRlbnQodGFiTmFtZSwgY29udGVudE5vZGUpOw0KICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRvIGxvYWQgRlhNTCBmb3IgdGFiOiAiICsgdGFiTmFtZSArICIgZnJvbSAiICsgZnhtbFBhdGgpOw0KICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgICAgICAgICAgc2hvd0dsb2JhbFN0YXR1cygiRXJyb3IgbG9hZGluZyBwYWdlOiAiICsgdGFiTmFtZSwgU3RhdHVzVHlwZS5FUlJPUik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm47IC8vIFdlIGFyZSBkb25lIGhhbmRsaW5nIHRoZSBzaW5nbGUtdGFiIGl0ZW1zDQogICAgICAgIH0NCg0KICAgICAgICAvLyBJZiBub3Qgb3BlbiwgbG9hZCBhbmQgYWRkIG5ldyB0YWINCiAgICAgICAgU3RyaW5nIGZ4bWxQYXRoID0gZnhtbE1hcHBpbmcuZ2V0KHRhYk5hbWUpOw0KICAgICAgICBpZiAoZnhtbFBhdGggIT0gbnVsbCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBOb2RlIGNvbnRlbnROb2RlID0gbG9hZGVkVGFicy5nZXQodGFiTmFtZSk7DQogICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgIGlmIChjb250ZW50Tm9kZSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudE5vZGUgPSBsb2FkZXIubG9hZCgpOw0KICAgICAgICAgICAgICAgICAgICBPYmplY3QgY29udHJvbGxlciA9IGxvYWRlci5nZXRDb250cm9sbGVyKCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ1Rlc3RWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICgoR2F0bGluZ1Rlc3RWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEJvZHlUZW1wbGF0ZVZpZXdNb2RlbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKChCb2R5VGVtcGxhdGVWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEhlYWRlcnNUZW1wbGF0ZVZpZXdNb2RlbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKChIZWFkZXJzVGVtcGxhdGVWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEVudmlyb25tZW50Vmlld01vZGVsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAoKEVudmlyb25tZW50Vmlld01vZGVsKSBjb250cm9sbGVyKS5zZXRNYWluVmlld01vZGVsKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBFbmRwb2ludFZpZXdNb2RlbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKChFbmRwb2ludFZpZXdNb2RlbCkgY29udHJvbGxlcikuc2V0TWFpblZpZXdNb2RlbCh0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgUHJvamVjdFZpZXdNb2RlbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKChQcm9qZWN0Vmlld01vZGVsKSBjb250cm9sbGVyKS5zZXRNYWluVmlld01vZGVsKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblByb3BlcnRpZXNWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICgoQXBwbGljYXRpb25Qcm9wZXJ0aWVzVmlld01vZGVsKSBjb250cm9sbGVyKS5zZXRNYWluVmlld01vZGVsKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBHcm9vdnlWYXJpYWJsZVZpZXdNb2RlbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKChHcm9vdnlWYXJpYWJsZVZpZXdNb2RlbCkgY29udHJvbGxlcikuc2V0TWFpblZpZXdNb2RlbCh0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ1NjZW5hcmlvVmlld01vZGVsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAoKEdhdGxpbmdTY2VuYXJpb1ZpZXdNb2RlbCkgY29udHJvbGxlcikuc2V0TWFpblZpZXdNb2RlbCh0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ0ludGVybmFsUmVwb3J0Vmlld01vZGVsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50bHkgbm8gc2V0TWFpblZpZXdNb2RlbCBtZXRob2QgbmVlZGVkLCBwbGFjZWhvbGRlciBmb3IgZnV0dXJlDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIERiQ29ubmVjdGlvblZpZXdNb2RlbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKChEYkNvbm5lY3Rpb25WaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IE5vZGUgZmluZCBjb250cm9sbGVyDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnROb2RlLmdldFByb3BlcnRpZXMoKS5wdXQoImNvbnRyb2xsZXIiLCBjb250cm9sbGVyKTsNCiAgICAgICAgICAgICAgICAgICAgbG9hZGVkVGFicy5wdXQodGFiTmFtZSwgY29udGVudE5vZGUpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIFRhYiBuZXdUYWIgPSBuZXcgVGFiKHRhYk5hbWUpOw0KICAgICAgICAgICAgICAgIG5ld1RhYi5zZXRDb250ZW50KGNvbnRlbnROb2RlKTsNCiAgICAgICAgICAgICAgICBpZiAodGFiTmFtZS5lcXVhbHMoIkdhdGxpbmcgVGVzdCBNYW5hZ2VtZW50IikpIHsNCiAgICAgICAgICAgICAgICAgICAgbmV3VGFiLnNldENsb3NhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIGluc2VydCBHYXRsaW5nIFRlc3QgdGFiIGF0IHRoZSBmaXJzdCBwb3NpdGlvbg0KICAgICAgICAgICAgICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkuYWRkKDAsIG5ld1RhYik7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJOYW1lLmVxdWFscygiR2F0bGluZyBTY2VuYXJpbyBNYW5hZ2VtZW50IikpIHsNCiAgICAgICAgICAgICAgICAgICAgbmV3VGFiLnNldENsb3NhYmxlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIGluc2VydCBHYXRsaW5nIFNjZW5hcmlvIHRhYiBhdCB0aGUgc2Vjb25kIHBvc2l0aW9uDQogICAgICAgICAgICAgICAgICAgIGludCBpbnNlcnRJbmRleCA9IE1hdGgubWluKDEsIGNvbnRlbnRUYWJQYW5lLmdldFRhYnMoKS5zaXplKCkpOw0KICAgICAgICAgICAgICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkuYWRkKGluc2VydEluZGV4LCBuZXdUYWIpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG5ld1RhYi5zZXRDbG9zYWJsZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLmFkZChuZXdUYWIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhdHRhY2hDb250ZXh0TWVudShuZXdUYWIpOw0KICAgICAgICAgICAgICAgIG5ld1RhYi5zZXRPbkNsb3NlZChldmVudCAtPiBsb2FkZWRUYWJzLnJlbW92ZSh0YWJOYW1lKSk7IC8vIFJlbW92ZSBmcm9tIGNhY2hlIG9uIGNsb3NlDQoNCiAgICAgICAgICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChuZXdUYWIpOw0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RmVhdHVyZUxhYmVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudEZlYXR1cmVMYWJlbC5zZXRUZXh0KHRhYk5hbWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIGNvbnRlbnQgd2hlbiBvcGVuIG5ldyB0YWINCiAgICAgICAgICAgICAgICByZWZyZXNoVGFiQ29udGVudCh0YWJOYW1lLCBjb250ZW50Tm9kZSk7DQogICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gbG9hZCBGWE1MIGZvciB0YWI6ICIgKyB0YWJOYW1lICsgIiBmcm9tICIgKyBmeG1sUGF0aCk7DQogICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICAgICAgICAgICAgICBzaG93R2xvYmFsU3RhdHVzKCJFcnJvciBsb2FkaW5nIHBhZ2U6ICIgKyB0YWJOYW1lLCBTdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNob3dHbG9iYWxTdGF0dXMoIk5vIEZYTUwgbWFwcGluZyBmb3I6ICIgKyB0YWJOYW1lLCBTdGF0dXNUeXBlLkVSUk9SKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFdpcmVzIHRoZSBzaGFyZWQgTWFpblZpZXdNb2RlbCBpbnRvIHN1Yi1jb250cm9sbGVycyB0aGF0IGV4cG9zZSBhDQogICAgICogc2V0TWFpblZpZXdNb2RlbCBtZXRob2QgdG8gbWFpbnRhaW4gcHJldmlvdXMgYmVoYXZpb3VyLg0KICAgICAqLw0KICAgIHByaXZhdGUgdm9pZCB3aXJlQ29udHJvbGxlcihPYmplY3QgY29udHJvbGxlcikgew0KICAgICAgICBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEdhdGxpbmdUZXN0Vmlld01vZGVsKSB7DQogICAgICAgICAgICAoKEdhdGxpbmdUZXN0Vmlld01vZGVsKSBjb250cm9sbGVyKS5zZXRNYWluVmlld01vZGVsKHRoaXMpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBCb2R5VGVtcGxhdGVWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoQm9keVRlbXBsYXRlVmlld01vZGVsKSBjb250cm9sbGVyKS5zZXRNYWluVmlld01vZGVsKHRoaXMpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBIZWFkZXJzVGVtcGxhdGVWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoSGVhZGVyc1RlbXBsYXRlVmlld01vZGVsKSBjb250cm9sbGVyKS5zZXRNYWluVmlld01vZGVsKHRoaXMpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBFbnZpcm9ubWVudFZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChFbnZpcm9ubWVudFZpZXdNb2RlbCkgY29udHJvbGxlcikuc2V0TWFpblZpZXdNb2RlbCh0aGlzKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgRW5kcG9pbnRWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoRW5kcG9pbnRWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIFByb2plY3RWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoUHJvamVjdFZpZXdNb2RlbCkgY29udHJvbGxlcikuc2V0TWFpblZpZXdNb2RlbCh0aGlzKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgQXBwbGljYXRpb25Qcm9wZXJ0aWVzVmlld01vZGVsKSB7DQogICAgICAgICAgICAoKEFwcGxpY2F0aW9uUHJvcGVydGllc1ZpZXdNb2RlbCkgY29udHJvbGxlcikuc2V0TWFpblZpZXdNb2RlbCh0aGlzKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR3Jvb3Z5VmFyaWFibGVWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoR3Jvb3Z5VmFyaWFibGVWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEdhdGxpbmdTY2VuYXJpb1ZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChHYXRsaW5nU2NlbmFyaW9WaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIERiQ29ubmVjdGlvblZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChEYkNvbm5lY3Rpb25WaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnNldE1haW5WaWV3TW9kZWwodGhpcyk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBDZW50cmFsaXNlZCBtZXRob2QgdG8gcmVmcmVzaCBhIHRhYidzIGNvbnRyb2xsZXIgYmFzZWQgb24gaXRzIHR5cGUgaW4NCiAgICAgKiBvcmRlciB0byBhdm9pZCBkdXBsaWNhdGlvbiBpbiBzZXZlcmFsIGxvY2F0aW9ucy4NCiAgICAgKi8NCiAgICBwcml2YXRlIHZvaWQgcmVmcmVzaFRhYkNvbnRlbnQoU3RyaW5nIHRhYk5hbWUsIE5vZGUgY29udGVudE5vZGUpIHsNCiAgICAgICAgT2JqZWN0IGNvbnRyb2xsZXIgPSBudWxsOw0KICAgICAgICBpZiAoY29udGVudE5vZGUgIT0gbnVsbCkgew0KICAgICAgICAgICAgY29udHJvbGxlciA9IGNvbnRlbnROb2RlLmdldFByb3BlcnRpZXMoKS5nZXQoImNvbnRyb2xsZXIiKTsNCiAgICAgICAgICAgIGlmIChjb250cm9sbGVyID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gY29udGVudE5vZGUuZ2V0VXNlckRhdGEoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ1Rlc3RWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoR2F0bGluZ1Rlc3RWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnJlZnJlc2hEeW5hbWljVmFyaWFibGVzKCk7DQogICAgICAgICAgICAoKEdhdGxpbmdUZXN0Vmlld01vZGVsKSBjb250cm9sbGVyKS5yZWZyZXNoKCk7DQogICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEJvZHlUZW1wbGF0ZVZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChCb2R5VGVtcGxhdGVWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnJlZnJlc2goKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgSGVhZGVyc1RlbXBsYXRlVmlld01vZGVsKSB7DQogICAgICAgICAgICAoKEhlYWRlcnNUZW1wbGF0ZVZpZXdNb2RlbCkgY29udHJvbGxlcikucmVmcmVzaCgpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBFbnZpcm9ubWVudFZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChFbnZpcm9ubWVudFZpZXdNb2RlbCkgY29udHJvbGxlcikucmVmcmVzaCgpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBFbmRwb2ludFZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChFbmRwb2ludFZpZXdNb2RlbCkgY29udHJvbGxlcikucmVmcmVzaCgpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBQcm9qZWN0Vmlld01vZGVsKSB7DQogICAgICAgICAgICAoKFByb2plY3RWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnJlZnJlc2goKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgQXBwbGljYXRpb25Qcm9wZXJ0aWVzVmlld01vZGVsKSB7DQogICAgICAgICAgICAoKEFwcGxpY2F0aW9uUHJvcGVydGllc1ZpZXdNb2RlbCkgY29udHJvbGxlcikubG9hZFByb3BlcnRpZXMoKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR3Jvb3Z5VmFyaWFibGVWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoR3Jvb3Z5VmFyaWFibGVWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnJlZnJlc2goKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ1Rlc3RSZXBvcnRWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoR2F0bGluZ1Rlc3RSZXBvcnRWaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnJlZnJlc2goKTsNCiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgR2F0bGluZ1NjZW5hcmlvVmlld01vZGVsKSB7DQogICAgICAgICAgICAoKEdhdGxpbmdTY2VuYXJpb1ZpZXdNb2RlbCkgY29udHJvbGxlcikucmVmcmVzaCgpOw0KICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBHYXRsaW5nSW50ZXJuYWxSZXBvcnRWaWV3TW9kZWwpIHsNCiAgICAgICAgICAgICgoR2F0bGluZ0ludGVybmFsUmVwb3J0Vmlld01vZGVsKSBjb250cm9sbGVyKS5yZWZyZXNoKCk7DQogICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIERiQ29ubmVjdGlvblZpZXdNb2RlbCkgew0KICAgICAgICAgICAgKChEYkNvbm5lY3Rpb25WaWV3TW9kZWwpIGNvbnRyb2xsZXIpLnJlZnJlc2goKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHVwZGF0ZVN0YXR1cyhTdHJpbmcgbWVzc2FnZSwgU3RhdHVzVHlwZSB0eXBlKSB7DQogICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHsNCiAgICAgICAgICAgIHN0YXR1c0xhYmVsLnNldFRleHQobWVzc2FnZSk7DQogICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsNCiAgICAgICAgICAgICAgICBjYXNlIElORk86DQogICAgICAgICAgICAgICAgICAgIHN0YXR1c0xhYmVsLnNldFRleHRGaWxsKENvbG9yLkJMQUNLKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBTVUNDRVNTOg0KICAgICAgICAgICAgICAgICAgICBzdGF0dXNMYWJlbC5zZXRUZXh0RmlsbChDb2xvci5HUkVFTik7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgV0FSTklORzoNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc2V0VGV4dEZpbGwoQ29sb3IuT1JBTkdFKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBFUlJPUjoNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc2V0VGV4dEZpbGwoQ29sb3IuUkVEKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHJlbG9hZEFsbFRhYnMoKSB7DQogICAgICAgIGxvYWRlZFRhYnMuY2xlYXIoKTsNCiAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLmNsZWFyKCk7DQogICAgICAgIHJlaW5pdGlhbGl6ZSgpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBsb2FkQW5kU2V0Q3VycmVudFByb2plY3QoKSB7DQogICAgICAgIFN0cmluZyBjdXJyZW50UHJvamVjdE5hbWUgPSBBcHBDb25maWcuZ2V0UHJvcGVydHkoImN1cnJlbnQucHJvamVjdC5uYW1lIik7DQogICAgICAgIGlmIChjdXJyZW50UHJvamVjdE5hbWUgIT0gbnVsbCAmJiAhY3VycmVudFByb2plY3ROYW1lLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBQcm9qZWN0IHByb2plY3QgPSBwcm9qZWN0U2VydmljZS5nZXRQcm9qZWN0QnlOYW1lKGN1cnJlbnRQcm9qZWN0TmFtZSk7DQogICAgICAgICAgICAgICAgaWYgKHByb2plY3QgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBQcm9qZWN0Q29udGV4dC5zZXRDdXJyZW50UHJvamVjdChwcm9qZWN0KTsNCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCJDdXJyZW50IHByb2plY3Q6ICIgKyBwcm9qZWN0LmdldE5hbWUoKSwgU3RhdHVzVHlwZS5JTkZPKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBoYW5kbGVOb1Byb2plY3QoIlByb2plY3QgJyIgKyBjdXJyZW50UHJvamVjdE5hbWUgKyAiJyBub3QgZm91bmQuIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gbG9hZCBwcm9qZWN0OiAiICsgZS5nZXRNZXNzYWdlKCksIFN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgICAgIGhhbmRsZU5vUHJvamVjdChlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBoYW5kbGVOb1Byb2plY3QoIk5vIHByb2plY3Qgc2VsZWN0ZWQuIFBsZWFzZSBzZWxlY3Qgb3IgY3JlYXRlIGEgcHJvamVjdC4iKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVOb1Byb2plY3QoU3RyaW5nIG1lc3NhZ2UpIHsNCiAgICAgICAgUHJvamVjdENvbnRleHQuY2xlYXJDdXJyZW50UHJvamVjdCgpOw0KICAgICAgICB1cGRhdGVTdGF0dXMobWVzc2FnZSwgU3RhdHVzVHlwZS5JTkZPKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBjbG9zZVByb2plY3QoKSB7DQogICAgICAgIFByb2plY3QgY3VycmVudFByb2plY3QgPSBQcm9qZWN0Q29udGV4dC5nZXRDdXJyZW50UHJvamVjdCgpOw0KICAgICAgICBpZiAoY3VycmVudFByb2plY3QgIT0gbnVsbCkgew0KICAgICAgICAgICAgY3VycmVudFByb2plY3Quc2V0TGFzdFVzZWQoZmFsc2UpOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBwcm9qZWN0U2VydmljZS51cGRhdGVQcm9qZWN0KGN1cnJlbnRQcm9qZWN0KTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIHVwZGF0ZSBwcm9qZWN0IHN0YXRlIG9uIGNsb3NlOiAiICsgZS5nZXRNZXNzYWdlKCksIFN0YXR1c1R5cGUuRVJST1IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIFByb2plY3RDb250ZXh0LmNsZWFyQ3VycmVudFByb2plY3QoKTsNCiAgICAgICAgQXBwQ29uZmlnLnJlbW92ZVByb3BlcnR5KCJjdXJyZW50LnByb2plY3QubmFtZSIpOw0KICAgICAgICBBcHBDb25maWcuc2F2ZVByb3BlcnRpZXMoKTsNCiAgICAgICAgbG9hZEFuZFNldEN1cnJlbnRQcm9qZWN0KCk7IC8vIFJlbG9hZCB0byByZWZsZWN0IGNsb3NlZCBzdGF0ZQ0KICAgIH0NCiAgICANCiAgICBARlhNTA0KICAgIHByaXZhdGUgdm9pZCBoYW5kbGVSZWxvYWRDb25maWcoKSB7DQogICAgICAgIEFwcENvbmZpZy5yZWxvYWQoKTsNCiAgICAgICAgdXBkYXRlU3RhdHVzKCJDb25maWd1cmF0aW9uIHJlbG9hZGVkLiIsIFN0YXR1c1R5cGUuSU5GTyk7DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyB2b2lkIHNob3dHbG9iYWxTdGF0dXMoU3RyaW5nIG1lc3NhZ2UsIFN0YXR1c1R5cGUgdHlwZSkgew0KICAgICAgICBpZiAoaW5zdGFuY2UgIT0gbnVsbCkgew0KICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlU3RhdHVzKG1lc3NhZ2UsIHR5cGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gQWRkcyBjb250ZXh0IG1lbnUgdG8gYSB0YWIgd2l0aCBDbG9zZSBhbmQgQ2xvc2UgTGVmdCBUYWJzIGFjdGlvbnMNCiAgICBwcml2YXRlIHZvaWQgYXR0YWNoQ29udGV4dE1lbnUoVGFiIHRhYikgew0KICAgICAgICBDb250ZXh0TWVudSBjb250ZXh0TWVudSA9IG5ldyBDb250ZXh0TWVudSgpOw0KDQogICAgICAgIC8vIENsb3NlIFJpZ2h0IFRhYnMNCiAgICAgICAgTWVudUl0ZW0gY2xvc2VSaWdodEl0ZW0gPSBuZXcgTWVudUl0ZW0oIkNsb3NlIFJpZ2h0IFRhYnMiKTsNCiAgICAgICAgY2xvc2VSaWdodEl0ZW0uc2V0T25BY3Rpb24oZSAtPiB7DQogICAgICAgICAgICBpbnQgaWR4ID0gY29udGVudFRhYlBhbmUuZ2V0VGFicygpLmluZGV4T2YodGFiKTsNCiAgICAgICAgICAgIC8vIGl0ZXJhdGUgZnJvbSByaWdodG1vc3QgdG8gb25lIGFmdGVyIGN1cnJlbnQNCiAgICAgICAgICAgIGZvciAoaW50IGkgPSBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkuc2l6ZSgpIC0gMTsgaSA+IGlkeDsgaS0tKSB7DQogICAgICAgICAgICAgICAgVGFiIHQgPSBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkuZ2V0KGkpOw0KICAgICAgICAgICAgICAgIGlmICh0LmlzQ2xvc2FibGUoKSkgew0KICAgICAgICAgICAgICAgICAgICBjb250ZW50VGFiUGFuZS5nZXRUYWJzKCkucmVtb3ZlKHQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gQ2xvc2UgQWxsIFRhYnMgKGV4Y2VwdCBub24tY2xvc2FibGUpDQogICAgICAgIE1lbnVJdGVtIGNsb3NlQWxsSXRlbSA9IG5ldyBNZW51SXRlbSgiQ2xvc2UgQWxsIFRhYnMiKTsNCiAgICAgICAgY2xvc2VBbGxJdGVtLnNldE9uQWN0aW9uKGUgLT4gew0KICAgICAgICAgICAgY29udGVudFRhYlBhbmUuZ2V0VGFicygpLnJlbW92ZUlmKHQgLT4gdC5pc0Nsb3NhYmxlKCkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBPbmx5IGFkZCBjb250ZXh0IG1lbnUgdG8gY2xvc2FibGUgdGFicyBvciBhZGQgZGlmZmVyZW50IG9wdGlvbnMgZm9yIGZpeGVkIHRhYnMNCiAgICAgICAgaWYgKHRhYi5pc0Nsb3NhYmxlKCkpIHsNCiAgICAgICAgICAgIGNvbnRleHRNZW51LmdldEl0ZW1zKCkuYWRkQWxsKGNsb3NlUmlnaHRJdGVtLCBjbG9zZUFsbEl0ZW0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gRm9yIGZpeGVkIHRhYnMsIG9ubHkgYWRkIHRoZSBvcHRpb24gdG8gY2xvc2Ugb3RoZXIgdGFicw0KICAgICAgICAgICAgY29udGV4dE1lbnUuZ2V0SXRlbXMoKS5hZGQoY2xvc2VBbGxJdGVtKTsNCiAgICAgICAgfQ0KICAgICAgICB0YWIuc2V0Q29udGV4dE1lbnUoY29udGV4dE1lbnUpOw0KICAgIH0NCn0=
END
PATH:src/main/java/com/qa/app/ui/vm/ProjectViewModel.java
cGFja2FnZSBjb20ucWEuYXBwLnVpLnZtOwoKaW1wb3J0IGNvbS5xYS5hcHAubW9kZWwuUHJvamVjdDsKaW1wb3J0IGNvbS5xYS5hcHAuc2VydmljZS5TZXJ2aWNlRXhjZXB0aW9uOwppbXBvcnQgY29tLnFhLmFwcC5zZXJ2aWNlLmFwaS5JUHJvamVjdFNlcnZpY2U7CmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2UuaW1wbC5Qcm9qZWN0U2VydmljZUltcGw7CmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuRlhDb2xsZWN0aW9uczsKaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5PYnNlcnZhYmxlTGlzdDsKaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7CmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlOwppbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjsKaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlVmlldzsKCmltcG9ydCBqYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7CgpwdWJsaWMgY2xhc3MgUHJvamVjdFZpZXdNb2RlbCBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUgewogICAgQEZYTUwgcHJpdmF0ZSBUZXh0RmllbGQgcHJvamVjdE5hbWVGaWVsZDsKICAgIEBGWE1MIHByaXZhdGUgVGV4dEFyZWEgcHJvamVjdERlc2NyaXB0aW9uRmllbGQ7CiAgICBARlhNTCBwcml2YXRlIEJ1dHRvbiBhZGRCdXR0b247CiAgICBARlhNTAogICAgcHJpdmF0ZSBCdXR0b24gZHVwbGljYXRlQnV0dG9uOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gdXBkYXRlQnV0dG9uOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gZGVsZXRlQnV0dG9uOwogICAgQEZYTUwgcHJpdmF0ZSBCdXR0b24gY2xlYXJCdXR0b247CiAgICBARlhNTCBwcml2YXRlIFRhYmxlVmlldzxQcm9qZWN0PiBwcm9qZWN0VGFibGU7CiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPFByb2plY3QsIFN0cmluZz4gcHJvamVjdE5hbWVDb2x1bW47CiAgICBARlhNTCBwcml2YXRlIFRhYmxlQ29sdW1uPFByb2plY3QsIFN0cmluZz4gcHJvamVjdERlc2NyaXB0aW9uQ29sdW1uOwoKICAgIHByaXZhdGUgZmluYWwgT2JzZXJ2YWJsZUxpc3Q8UHJvamVjdD4gcHJvamVjdExpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTsKICAgIHByaXZhdGUgZmluYWwgSVByb2plY3RTZXJ2aWNlIHByb2plY3RTZXJ2aWNlID0gbmV3IFByb2plY3RTZXJ2aWNlSW1wbCgpOwogICAgcHJpdmF0ZSBQcm9qZWN0IHNlbGVjdGVkUHJvamVjdCA9IG51bGw7CiAgICBwcml2YXRlIE1haW5WaWV3TW9kZWwgbWFpblZpZXdNb2RlbDsKCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHsKICAgICAgICBwcm9qZWN0TmFtZUNvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IG5ldyBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXROYW1lKCkpKTsKICAgICAgICBwcm9qZWN0RGVzY3JpcHRpb25Db2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBuZXcgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5KGNlbGxEYXRhLmdldFZhbHVlKCkuZ2V0RGVzY3JpcHRpb24oKSkpOwogICAgICAgIHByb2plY3RUYWJsZS5zZXRJdGVtcyhwcm9qZWN0TGlzdCk7CiAgICAgICAgcHJvamVjdFRhYmxlLnNldENvbHVtblJlc2l6ZVBvbGljeShUYWJsZVZpZXcuQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWV9BTExfQ09MVU1OUyk7CiAgICAgICAgbG9hZFByb2plY3RzKCk7CiAgICAgICAgcHJvamVjdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0ZWRJdGVtUHJvcGVydHkoKS5hZGRMaXN0ZW5lcigob2JzLCBvbGRTZWwsIG5ld1NlbCkgLT4gb25UYWJsZVNlbGVjdGlvbkNoYW5nZWQobmV3U2VsKSk7CiAgICAgICAgYWRkQnV0dG9uLnNldE9uQWN0aW9uKGUgLT4gaGFuZGxlQWRkUHJvamVjdCgpKTsKICAgICAgICBkdXBsaWNhdGVCdXR0b24uc2V0T25BY3Rpb24oZSAtPiBoYW5kbGVEdXBsaWNhdGVQcm9qZWN0KCkpOwogICAgICAgIHVwZGF0ZUJ1dHRvbi5zZXRPbkFjdGlvbihlIC0+IGhhbmRsZVVwZGF0ZVByb2plY3QoKSk7CiAgICAgICAgZGVsZXRlQnV0dG9uLnNldE9uQWN0aW9uKGUgLT4gaGFuZGxlRGVsZXRlUHJvamVjdCgpKTsKICAgICAgICBjbGVhckJ1dHRvbi5zZXRPbkFjdGlvbihlIC0+IGhhbmRsZUNsZWFyRm9ybSgpKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgbG9hZFByb2plY3RzKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHByb2plY3RMaXN0LmNsZWFyKCk7CiAgICAgICAgICAgIHByb2plY3RMaXN0LmFkZEFsbChwcm9qZWN0U2VydmljZS5nZXRBbGxQcm9qZWN0cygpKTsKICAgICAgICAgICAgaWYgKCFwcm9qZWN0TGlzdC5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgICAgIHByb2plY3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdEZpcnN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTZXJ2aWNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIkZhaWxlZCB0byBsb2FkIHByb2plY3RzOiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIG9uVGFibGVTZWxlY3Rpb25DaGFuZ2VkKFByb2plY3QgcHJvamVjdCkgewogICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IHByb2plY3Q7CiAgICAgICAgaWYgKHByb2plY3QgIT0gbnVsbCkgewogICAgICAgICAgICBwcm9qZWN0TmFtZUZpZWxkLnNldFRleHQocHJvamVjdC5nZXROYW1lKCkpOwogICAgICAgICAgICBwcm9qZWN0RGVzY3JpcHRpb25GaWVsZC5zZXRUZXh0KHByb2plY3QuZ2V0RGVzY3JpcHRpb24oKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xlYXJGb3JtKCk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEdXBsaWNhdGVQcm9qZWN0KCkgewogICAgICAgIGlmIChzZWxlY3RlZFByb2plY3QgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiUGxlYXNlIHNlbGVjdCBhIHByb2plY3QgdG8gZHVwbGljYXRlLiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBTdHJpbmcgbmV3TmFtZSA9IHNlbGVjdGVkUHJvamVjdC5nZXROYW1lKCkgKyAiIChjb3B5KSI7CiAgICAgICAgLy8gQSBjaGVjayBmb3IgcHJvamVjdCBuYW1lIHVuaXF1ZW5lc3Mgc2hvdWxkIGJlIGFkZGVkIGlmIG5lY2Vzc2FyeS4KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcHJvamVjdFNlcnZpY2UuYWRkUHJvamVjdChuZXcgUHJvamVjdChuZXdOYW1lLCBzZWxlY3RlZFByb2plY3QuZ2V0RGVzY3JpcHRpb24oKSkpOwogICAgICAgICAgICBsb2FkUHJvamVjdHMoKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlByb2plY3QgZHVwbGljYXRlZCBhbmQgYWRkZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIGR1cGxpY2F0ZSBwcm9qZWN0OiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZFByb2plY3QoKSB7CiAgICAgICAgU3RyaW5nIG5hbWUgPSBwcm9qZWN0TmFtZUZpZWxkLmdldFRleHQoKS50cmltKCk7CiAgICAgICAgU3RyaW5nIGRlc2MgPSBwcm9qZWN0RGVzY3JpcHRpb25GaWVsZC5nZXRUZXh0KCkudHJpbSgpOwogICAgICAgIGlmIChuYW1lLmlzRW1wdHkoKSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiSW5wdXQgRXJyb3I6IFByb2plY3QgbmFtZSBpcyByZXF1aXJlZC4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcHJvamVjdFNlcnZpY2UuYWRkUHJvamVjdChuZXcgUHJvamVjdChuYW1lLCBkZXNjKSk7CiAgICAgICAgICAgIGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICBjbGVhckZvcm0oKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlByb2plY3QgYWRkZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIGFkZCBwcm9qZWN0OiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVVwZGF0ZVByb2plY3QoKSB7CiAgICAgICAgaWYgKHNlbGVjdGVkUHJvamVjdCA9PSBudWxsKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJTZWxlY3Rpb24gRXJyb3I6IFBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0IHRvIHVwZGF0ZS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgc2VsZWN0ZWRQcm9qZWN0LnNldE5hbWUocHJvamVjdE5hbWVGaWVsZC5nZXRUZXh0KCkudHJpbSgpKTsKICAgICAgICBzZWxlY3RlZFByb2plY3Quc2V0RGVzY3JpcHRpb24ocHJvamVjdERlc2NyaXB0aW9uRmllbGQuZ2V0VGV4dCgpLnRyaW0oKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcHJvamVjdFNlcnZpY2UudXBkYXRlUHJvamVjdChzZWxlY3RlZFByb2plY3QpOwogICAgICAgICAgICBsb2FkUHJvamVjdHMoKTsKICAgICAgICAgICAgY2xlYXJGb3JtKCk7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJQcm9qZWN0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiIsIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5TVUNDRVNTKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKFNlcnZpY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAobWFpblZpZXdNb2RlbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBtYWluVmlld01vZGVsLnVwZGF0ZVN0YXR1cygiRmFpbGVkIHRvIHVwZGF0ZSBwcm9qZWN0OiAiICsgZS5nZXRNZXNzYWdlKCksIE1haW5WaWV3TW9kZWwuU3RhdHVzVHlwZS5FUlJPUik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGhhbmRsZURlbGV0ZVByb2plY3QoKSB7CiAgICAgICAgaWYgKHNlbGVjdGVkUHJvamVjdCA9PSBudWxsKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJTZWxlY3Rpb24gRXJyb3I6IFBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0IHRvIGRlbGV0ZS4iLCBNYWluVmlld01vZGVsLlN0YXR1c1R5cGUuRVJST1IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcHJvamVjdFNlcnZpY2UuZGVsZXRlUHJvamVjdChzZWxlY3RlZFByb2plY3QuZ2V0SWQoKSk7CiAgICAgICAgICAgIGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICBjbGVhckZvcm0oKTsKICAgICAgICAgICAgaWYgKG1haW5WaWV3TW9kZWwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWFpblZpZXdNb2RlbC51cGRhdGVTdGF0dXMoIlByb2plY3QgZGVsZXRlZCBzdWNjZXNzZnVsbHkuIiwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLlNVQ0NFU1MpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoU2VydmljZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmIChtYWluVmlld01vZGVsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIG1haW5WaWV3TW9kZWwudXBkYXRlU3RhdHVzKCJGYWlsZWQgdG8gZGVsZXRlIHByb2plY3Q6ICIgKyBlLmdldE1lc3NhZ2UoKSwgTWFpblZpZXdNb2RlbC5TdGF0dXNUeXBlLkVSUk9SKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2xlYXJGb3JtKCkgewogICAgICAgIGNsZWFyRm9ybSgpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjbGVhckZvcm0oKSB7CiAgICAgICAgcHJvamVjdE5hbWVGaWVsZC5jbGVhcigpOwogICAgICAgIHByb2plY3REZXNjcmlwdGlvbkZpZWxkLmNsZWFyKCk7CiAgICAgICAgcHJvamVjdFRhYmxlLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICBzZWxlY3RlZFByb2plY3QgPSBudWxsOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1haW5WaWV3TW9kZWwoTWFpblZpZXdNb2RlbCBtYWluVmlld01vZGVsKSB7CiAgICAgICAgdGhpcy5tYWluVmlld01vZGVsID0gbWFpblZpZXdNb2RlbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZWZyZXNoKCkgewogICAgICAgIGxvYWRQcm9qZWN0cygpOwogICAgICAgIGlmICghcHJvamVjdExpc3QuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIHByb2plY3RUYWJsZS5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdEZpcnN0KCk7CiAgICAgICAgfQogICAgfQp9IA==
END
PATH:src/main/java/com/qa/app/util/AppConfig.java
cGFja2FnZSBjb20ucWEuYXBwLnV0aWw7DQoNCmltcG9ydCBjb20ucWEuYXBwLmNvbW1vbi5saXN0ZW5lcnMuQXBwQ29uZmlnQ2hhbmdlTGlzdGVuZXI7DQoNCmltcG9ydCBqYXZhLmlvLio7DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuUHJvcGVydGllczsNCg0KcHVibGljIGNsYXNzIEFwcENvbmZpZyB7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgUHJvcGVydGllcyBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1BFUlRJRVNfRklMRV9QQVRIID0gImFwcGxpY2F0aW9uLnByb3BlcnRpZXMiOw0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExpc3Q8QXBwQ29uZmlnQ2hhbmdlTGlzdGVuZXI+IGxpc3RlbmVycyA9IG5ldyBBcnJheUxpc3Q8PigpOw0KDQogICAgc3RhdGljIHsNCiAgICAgICAgbG9hZFByb3BlcnRpZXMoKTsNCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBsb2FkUHJvcGVydGllcygpIHsNCiAgICAgICAgdHJ5IChJbnB1dFN0cmVhbSBpbiA9IG5ldyBGaWxlSW5wdXRTdHJlYW0oUFJPUEVSVElFU19GSUxFX1BBVEgpKSB7DQogICAgICAgICAgICBwcm9wcy5sb2FkKGluKTsNCiAgICAgICAgfSBjYXRjaCAoRmlsZU5vdEZvdW5kRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiYXBwbGljYXRpb24ucHJvcGVydGllcyBub3QgZm91bmQsIHN0YXJ0aW5nIHdpdGggZW1wdHkgY29uZmlndXJhdGlvbi4iKTsNCiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gbG9hZCBhcHBsaWNhdGlvbi5wcm9wZXJ0aWVzOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyB2b2lkIGFkZENoYW5nZUxpc3RlbmVyKEFwcENvbmZpZ0NoYW5nZUxpc3RlbmVyIGxpc3RlbmVyKSB7DQogICAgICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZW1vdmVDaGFuZ2VMaXN0ZW5lcihBcHBDb25maWdDaGFuZ2VMaXN0ZW5lciBsaXN0ZW5lcikgew0KICAgICAgICBsaXN0ZW5lcnMucmVtb3ZlKGxpc3RlbmVyKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIG5vdGlmeUxpc3RlbmVycygpIHsNCiAgICAgICAgZm9yIChBcHBDb25maWdDaGFuZ2VMaXN0ZW5lciBsaXN0ZW5lciA6IGxpc3RlbmVycykgew0KICAgICAgICAgICAgbGlzdGVuZXIub25Db25maWdDaGFuZ2VkKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRQcm9wZXJ0eShTdHJpbmcga2V5KSB7DQogICAgICAgIHJldHVybiBwcm9wcy5nZXRQcm9wZXJ0eShrZXkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIGdldFByb3BlcnR5KFN0cmluZyBrZXksIFN0cmluZyBkZWZhdWx0VmFsdWUpIHsNCiAgICAgICAgcmV0dXJuIHByb3BzLmdldFByb3BlcnR5KGtleSwgZGVmYXVsdFZhbHVlKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0UHJvcGVydHkoU3RyaW5nIGtleSwgU3RyaW5nIHZhbHVlKSB7DQogICAgICAgIHByb3BzLnNldFByb3BlcnR5KGtleSwgdmFsdWUpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZW1vdmVQcm9wZXJ0eShTdHJpbmcga2V5KSB7DQogICAgICAgIHByb3BzLnJlbW92ZShrZXkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZWxvYWQoKSB7DQogICAgICAgIHByb3BzLmNsZWFyKCk7DQogICAgICAgIGxvYWRQcm9wZXJ0aWVzKCk7DQogICAgICAgIG5vdGlmeUxpc3RlbmVycygpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgUHJvcGVydGllcyBnZXRQcm9wZXJ0aWVzKCkgew0KICAgICAgICByZXR1cm4gKFByb3BlcnRpZXMpIHByb3BzLmNsb25lKCk7DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyB2b2lkIHNhdmVQcm9wZXJ0aWVzKFByb3BlcnRpZXMgbmV3UHJvcHMpIHsNCiAgICAgICAgcHJvcHMuY2xlYXIoKTsNCiAgICAgICAgcHJvcHMucHV0QWxsKG5ld1Byb3BzKTsNCiAgICAgICAgc2F2ZVByb3BlcnRpZXMoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2F2ZVByb3BlcnRpZXMoKSB7DQogICAgICAgIHRyeSAoT3V0cHV0U3RyZWFtIG91dHB1dCA9IG5ldyBGaWxlT3V0cHV0U3RyZWFtKFBST1BFUlRJRVNfRklMRV9QQVRIKSkgew0KICAgICAgICAgICAgcHJvcHMuc3RvcmUob3V0cHV0LCAiVXBkYXRlZCBmcm9tIGFwcGxpY2F0aW9uIik7DQogICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnMoKTsgLy8gTm90aWZ5IGFmdGVyIHNhdmluZw0KICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkZhaWxlZCB0byBzYXZlIGFwcGxpY2F0aW9uLnByb3BlcnRpZXM6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3UgbWlnaHQgd2FudCBhIG1vcmUgcm9idXN0IGVycm9yIGhhbmRsaW5nIG1lY2hhbmlzbQ0KICAgICAgICAgICAgLy8gdGhhdCBkb2Vzbid0IGRpcmVjdGx5IGludm9sdmUgVUkgY29tcG9uZW50cy4NCiAgICAgICAgfQ0KICAgIH0NCn0g
END
PATH:src/main/java/com/qa/app/util/HelpTooltipManager.java
cGFja2FnZSBjb20ucWEuYXBwLnV0aWw7DQoNCmltcG9ydCBjb20ucWEuYXBwLnNlcnZpY2Uuc2NyaXB0LlZhcmlhYmxlR2VuZXJhdG9yOw0KaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRvb2x0aXA7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KaW1wb3J0IGphdmEudXRpbC5zdHJlYW0uQ29sbGVjdG9yczsNCg0KLyoqDQogKiBDZW50cmFsaXplZCBmYWN0b3J5IGZvciByZXVzYWJsZSBoZWxwIHRvb2x0aXBzIGFjcm9zcyB0aGUgVUkuDQogKiBUaGlzIGNsYXNzIGJ1aWxkcyBhbmQgY2FjaGVzIFRvb2x0aXAgaW5zdGFuY2VzIHNvIHRoYXQgZXZlcnkgVmlld01vZGVsDQogKiBjYW4gb2J0YWluIGNvbnNpc3RlbnQgaGVscCBtZXNzYWdlcyB3aXRob3V0IGR1cGxpY2F0aW5nIGNvZGUuDQogKi8NCnB1YmxpYyBmaW5hbCBjbGFzcyBIZWxwVG9vbHRpcE1hbmFnZXIgew0KDQogICAgcHJpdmF0ZSBzdGF0aWMgVG9vbHRpcCByZXNwb25zZUNoZWNrVG9vbHRpcDsNCiAgICBwcml2YXRlIHN0YXRpYyBUb29sdGlwIGV4ZWN1dGlvbkZsb3dUb29sdGlwOw0KDQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEJVSUxUX0lOX1ZBUklBQkxFX0RPQyA9ICJCdWlsdC1pbiB2YXJpYWJsZXMgdXNhZ2UgZXhhbXBsZXM6XG5cbiIgKw0KICAgICAgICAgICAgIjEuIFVVSUQ6IF9fVVVJRFxuIiArDQogICAgICAgICAgICAiICAgRXhhbXBsZTogXCJfX1VVSURcIiDihpIgXCJmNDdhYzEwYi01OGNjLTQzNzItYTU2Ny0wZTAyYjJjM2Q0NzlcIlxuXG4iICsNCiAgICAgICAgICAgICIyLiBUaW1lc3RhbXAgKG1zKTogX19USU1FU1RBTVBcbiIgKw0KICAgICAgICAgICAgIiAgIEV4YW1wbGU6IFwiX19USU1FU1RBTVBcIiDihpIgXCIxNjg0OTMyMTU2MTIzXCJcblxuIiArDQogICAgICAgICAgICAiMy4gRGF0ZS9UaW1lOiBfX0RBVEVUSU1FKGZvcm1hdFssIHRpbWV6b25lXSlcbiIgKw0KICAgICAgICAgICAgIiAgIEV4YW1wbGVzOlxuIiArDQogICAgICAgICAgICAiICAgLSBcIl9fREFURVRJTUUoeXl5eS1NTS1kZCBISDptbTpzcylcIiDihpIgXCIyMDI1LTA3LTA1IDEyOjMwOjQ1XCJcbiIgKw0KICAgICAgICAgICAgIiAgIC0gXCJfX0RBVEVUSU1FKHl5eXlNTWRkSEhtbXNzKVwiIOKGkiBcIjIwMjUwNzA1MTIzMDQ1XCJcbiIgKw0KICAgICAgICAgICAgIiAgIC0gXCJfX0RBVEVUSU1FKHl5eXktTU0tZGQnVCdISDptbTpzc1hYWCwgQXNpYS9TaGFuZ2hhaSlcIiDihpIgXCIyMDI1LTA3LTA1VDEyOjMwOjQ1KzA4OjAwXCJcblxuIiArDQogICAgICAgICAgICAiNC4gUHJlZml4ICsgVGltZXN0YW1wIChtcyk6IF9fUFJFRklYX1RJTUVTVEFNUChwcmVmaXgpXG4iICsNCiAgICAgICAgICAgICIgICBFeGFtcGxlOiBcIl9fUFJFRklYX1RJTUVTVEFNUChPUkRFUl8pXCIg4oaSIFwiT1JERVJfMTY4NDkzMjE1NjEyM1wiXG5cbiIgKw0KICAgICAgICAgICAgIjUuIFByZWZpeCArIERhdGVUaW1lOiBfX1BSRUZJWF9EQVRFVElNRShwcmVmaXgsZm9ybWF0WywgdGltZXpvbmVdKVxuIiArDQogICAgICAgICAgICAiICAgRXhhbXBsZTogXCJfX1BSRUZJWF9EQVRFVElNRShCQVRDSF8seXl5eU1NZGQsQW1lcmljYS9OZXdfWW9yaylcIiDihpIgXCJCQVRDSF8yMDIzMDUyNFwiXG5cbiIgKw0KICAgICAgICAgICAgIjYuIFJhbmRvbSBTdHJpbmc6IF9fUkFORE9NX1NUUklORyhsZW5ndGgsbW9kZSlcbiIgKw0KICAgICAgICAgICAgIiAgIE1vZGVzIGF2YWlsYWJsZTpcbiIgKw0KICAgICAgICAgICAgIiAgIC0gYTogQWxwaGFudW1lcmljIChkZWZhdWx0KVxuIiArDQogICAgICAgICAgICAiICAgLSB1OiBVcHBlcmNhc2Ugb25seVxuIiArDQogICAgICAgICAgICAiICAgLSBsOiBMb3dlcmNhc2Ugb25seVxuIiArDQogICAgICAgICAgICAiICAgLSBtOiBNaXhlZCBjYXNlIChubyBudW1iZXJzKVxuIiArDQogICAgICAgICAgICAiICAgLSBuOiBOdW1lcmljIG9ubHlcbiIgKw0KICAgICAgICAgICAgIiAgIEV4YW1wbGU6IFwiX19SQU5ET01fU1RSSU5HKDgsYSlcIiDihpIgXCJBM2JYNzFwUVwiIjsNCg0KICAgIHByaXZhdGUgSGVscFRvb2x0aXBNYW5hZ2VyKCkgew0KICAgICAgICAvLyBVdGlsaXR5IGNsYXNzIOKAkyBubyBpbnN0YW5jZS4NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZXR1cm5zIGEgc2luZ2xldG9uIHRvb2x0aXAgZGVzY3JpYmluZyBob3cgdG8gY29uZmlndXJlIHJlc3BvbnNlIGNoZWNrcy4NCiAgICAgKiBUaGUgY29udGVudCBpcyBzdGF0aWM7IHRoZXJlZm9yZSB3ZSBjYWNoZSB0aGUgVG9vbHRpcCBpbnN0YW5jZS4NCiAgICAgKg0KICAgICAqIEByZXR1cm4gYSBUb29sdGlwIHdpdGggcmVzcG9uc2UtY2hlY2sgaGVscCB0ZXh0DQogICAgICovDQogICAgcHVibGljIHN0YXRpYyBUb29sdGlwIGdldFJlc3BvbnNlQ2hlY2tUb29sdGlwKCkgew0KICAgICAgICBpZiAocmVzcG9uc2VDaGVja1Rvb2x0aXAgPT0gbnVsbCkgew0KICAgICAgICAgICAgcmVzcG9uc2VDaGVja1Rvb2x0aXAgPSBidWlsZFJlc3BvbnNlQ2hlY2tUb29sdGlwKCk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlQ2hlY2tUb29sdGlwOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFJldHVybnMgYSBzaW5nbGV0b24gdG9vbHRpcCB0aGF0IGV4cGxhaW5zIHRoZSBydW50aW1lIGV4ZWN1dGlvbiBvcmRlcg0KICAgICAqIChTZXR1cCDihpIgRElGRl9QUkUg4oaSIFBSRV9DSEVDSyDihpIgTWFpbiDihpIgRElGRl9QU1Qg4oaSIFBTVF9DSEVDSyDihpIgVGVhcmRvd24pLg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgVG9vbHRpcCBnZXRFeGVjdXRpb25GbG93VG9vbHRpcCgpIHsNCiAgICAgICAgaWYgKGV4ZWN1dGlvbkZsb3dUb29sdGlwID09IG51bGwpIHsNCiAgICAgICAgICAgIGV4ZWN1dGlvbkZsb3dUb29sdGlwID0gYnVpbGRFeGVjdXRpb25GbG93VG9vbHRpcCgpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBleGVjdXRpb25GbG93VG9vbHRpcDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBCdWlsZHMgYSBmcmVzaCB0b29sdGlwIGRlc2NyaWJpbmcgYXZhaWxhYmxlIGR5bmFtaWMgdmFyaWFibGVzLg0KICAgICAqIFRoaXMgdG9vbHRpcCBpcyByZWJ1aWx0IG9uIGV2ZXJ5IGNhbGwgc28gdGhhdCBpdCBhbHdheXMgcmVmbGVjdHMNCiAgICAgKiB0aGUgbGF0ZXN0IGN1c3RvbSB2YXJpYWJsZSBkZWZpbml0aW9ucy4NCiAgICAgKg0KICAgICAqIEByZXR1cm4gYSBuZXdseSBjb25zdHJ1Y3RlZCBUb29sdGlwIGZvciBkeW5hbWljIHZhcmlhYmxlcw0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgVG9vbHRpcCBidWlsZFZhcmlhYmxlVG9vbHRpcCgpIHsNCiAgICAgICAgU3RyaW5nIGJ1aWx0SW5Eb2NzID0gQlVJTFRfSU5fVkFSSUFCTEVfRE9DOw0KICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+IGFsbFZhcnMgPSBWYXJpYWJsZUdlbmVyYXRvci5nZXRJbnN0YW5jZSgpLmdldFZhcmlhYmxlRGVmaW5pdGlvbnMoKTsNCiAgICAgICAgU3RyaW5nIGN1c3RvbURvY3MgPSBhbGxWYXJzLnN0cmVhbSgpDQogICAgICAgICAgICAgICAgLmZpbHRlcih2IC0+ICF2LmdldCgiZm9ybWF0Iikuc3RhcnRzV2l0aCgiX18iKSkgLy8gZXhjbHVkZSBidWlsdC1pbnMNCiAgICAgICAgICAgICAgICAubWFwKHYgLT4gdi5nZXQoImZvcm1hdCIpICsgIlxuICAiICsgdi5nZXQoImRlc2NyaXB0aW9uIikpDQogICAgICAgICAgICAgICAgLmNvbGxlY3QoQ29sbGVjdG9ycy5qb2luaW5nKCJcblxuIikpOw0KDQogICAgICAgIFN0cmluZ0J1aWxkZXIgdG9vbHRpcFRleHQgPSBuZXcgU3RyaW5nQnVpbGRlcigpOw0KICAgICAgICB0b29sdGlwVGV4dC5hcHBlbmQoYnVpbHRJbkRvY3MpOw0KDQogICAgICAgIGlmICghY3VzdG9tRG9jcy5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgIHRvb2x0aXBUZXh0LmFwcGVuZCgiXG5cbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iKTsNCiAgICAgICAgICAgIHRvb2x0aXBUZXh0LmFwcGVuZCgiQ3VzdG9tIFZhcmlhYmxlczpcblxuIik7DQogICAgICAgICAgICB0b29sdGlwVGV4dC5hcHBlbmQoY3VzdG9tRG9jcyk7DQogICAgICAgIH0NCg0KICAgICAgICBUb29sdGlwIHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0b29sdGlwVGV4dC50b1N0cmluZygpKTsNCiAgICAgICAgdG9vbHRpcC5zZXRTdHlsZSgiLWZ4LWZvbnQtc2l6ZTogMTRweDsiKTsNCiAgICAgICAgdG9vbHRpcC5zZXRBdXRvSGlkZSh0cnVlKTsNCiAgICAgICAgcmV0dXJuIHRvb2x0aXA7DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyBTdHJpbmcgZ2V0QnVpbHRJblZhcmlhYmxlRG9jKCkgew0KICAgICAgICByZXR1cm4gQlVJTFRfSU5fVkFSSUFCTEVfRE9DOw0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFByaXZhdGUgaGVscGVyIG1ldGhvZHMNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KICAgIHByaXZhdGUgc3RhdGljIFRvb2x0aXAgYnVpbGRSZXNwb25zZUNoZWNrVG9vbHRpcCgpIHsNCiAgICAgICAgU3RyaW5nIHRleHQgPSAiSG93IHRvIGNvbmZpZ3VyZSByZXNwb25zZSBjaGVja3M6XG5cbiIgKw0KICAgICAgICAgICAgICAgICIxLiBTVEFUVVNcbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwcmVzc2lvbjogKE5vdCB1c2VkKVxuIiArDQogICAgICAgICAgICAgICAgIiAgLSBPcGVyYXRvcjogSVNcbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwZWN0OiBFeHBlY3RlZCBIVFRQIHN0YXR1cyBjb2RlIChlLmcuLCAyMDAsIDQwNCkuXG5cbiIgKw0KICAgICAgICAgICAgICAgICIyLiBKU09OX1BBVEhcbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwcmVzc2lvbjogSlNPTlBhdGggdG8gZXh0cmFjdCB2YWx1ZSAoZS5nLiwgJC5kYXRhLmlkKS5cbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gT3BlcmF0b3I6IElTLCBDT05UQUlOUy5cbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwZWN0OiBUaGUgZXhwZWN0ZWQgdmFsdWUuXG4iICsNCiAgICAgICAgICAgICAgICAiICAtIFNhdmUgQXM6IChPcHRpb25hbCkgVmFyaWFibGUgbmFtZSB0byBzYXZlIHRoZSB2YWx1ZSBmb3IgbGF0ZXIgdXNlIChlLmcuLCBteVRva2VuKS5cblxuIiArDQogICAgICAgICAgICAgICAgIjMuIFhQQVRIXG4iICsNCiAgICAgICAgICAgICAgICAiICAtIEV4cHJlc3Npb246IFhQYXRoIGZvciBYTUwgcmVzcG9uc2VzIChlLmcuLCAvL3VzZXIvaWQpLlxuIiArDQogICAgICAgICAgICAgICAgIiAgLSBPcGVyYXRvcjogSVMsIENPTlRBSU5TLlxuIiArDQogICAgICAgICAgICAgICAgIiAgLSBFeHBlY3Q6IFRoZSBleHBlY3RlZCB2YWx1ZS5cbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gU2F2ZSBBczogKE9wdGlvbmFsKSBWYXJpYWJsZSBuYW1lLlxuXG4iICsNCiAgICAgICAgICAgICAgICAiNC4gUkVHRVhcbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwcmVzc2lvbjogUmVnZXggd2l0aCBhIGNhcHR1cmluZyBncm91cCAoZS5nLiwgdG9rZW49KC4qPyk7KS5cbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gT3BlcmF0b3I6IElTLCBDT05UQUlOUy5cbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwZWN0OiBUaGUgZXhwZWN0ZWQgdmFsdWUuXG4iICsNCiAgICAgICAgICAgICAgICAiICAtIFNhdmUgQXM6IChPcHRpb25hbCkgVmFyaWFibGUgbmFtZS5cblxuIiArDQogICAgICAgICAgICAgICAgIjUuIERJRkZcbiIgKw0KICAgICAgICAgICAgICAgICIgIC0gRXhwcmVzc2lvbjogUmVmZXJlbmNlIGtleSBgVENJRC5KU09OUGF0aGAgKGUuZy4sIFBvc2l0aW9uLiQuYmFsYW5jZSkuXG4iICsNCiAgICAgICAgICAgICAgICAiICAtIE9wZXJhdG9yOiBJU1xuIiArDQogICAgICAgICAgICAgICAgIiAgLSBFeHBlY3Q6IEV4cGVjdGVkIG51bWVyaWNhbCBkaWZmZXJlbmNlIChhZnRlciAtIGJlZm9yZSkuXG4iICsNCiAgICAgICAgICAgICAgICAiICAtIFNhdmUgQXM6IChOb3QgdXNlZCkuXG5cbiIgKw0KICAgICAgICAgICAgICAgICJOb3RlOiBJZiBcIlNhdmUgQXNcIiBpcyBwcm92aWRlZCwgdGhlIGV4dHJhY3RlZCB2YWx1ZSB3aWxsIGJlIHNhdmVkIGFzIGEgdmFyaWFibGUgbmFtZWQgXCJUQ0lELnZhcmlhYmxlTmFtZVwiLlxuIiArDQogICAgICAgICAgICAgICAgIllvdSBjYW4gdXNlIGl0IGluIGxhdGVyIHRlc3QgY2FzZXMgd2l0aCAke1RDSUQudmFyaWFibGVOYW1lfS4iOw0KDQogICAgICAgIFRvb2x0aXAgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRleHQpOw0KICAgICAgICB0b29sdGlwLnNldFN0eWxlKCItZngtZm9udC1zaXplOiAxNHB4OyIpOw0KICAgICAgICB0b29sdGlwLnNldEF1dG9IaWRlKHRydWUpOw0KICAgICAgICByZXR1cm4gdG9vbHRpcDsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBUb29sdGlwIGJ1aWxkRXhlY3V0aW9uRmxvd1Rvb2x0aXAoKSB7DQogICAgICAgIFN0cmluZyB0ZXh0ID0gIkV4ZWN1dGlvbiBzZXF1ZW5jZSB3aGVuIHJ1bm5pbmcgdGVzdHM6XG5cbiIgKw0KICAgICAgICAgICAgICAgICIxLiBTZXR1cCBzY3JpcHQocykg4oCTIGV4ZWN1dGVkIGluIGxpc3RlZCBvcmRlci5cbiIgKw0KICAgICAgICAgICAgICAgICIyLiBESUZGX1BSRSDigJMgcmVmZXJlbmNlIEFQSSBjYWxsKHMpIHRvIGNhcHR1cmUgXCJiZWZvcmVcIiB2YWx1ZSBmb3IgRElGRiBjaGVja3MuXG4iICsNCiAgICAgICAgICAgICAgICAiMy4gUFJFX0NIRUNLIOKAkyByZWZlcmVuY2UgQVBJIGNhbGwocykgdG8gdmFsaWRhdGUgcHJlLWNvbmRpdGlvbiBmaWVsZHMuXG4iICsNCiAgICAgICAgICAgICAgICAiNC4gTWFpbiByZXF1ZXN0IOKAkyB0aGUgdGVzdCBjYXNlIGl0c2VsZiwgcGVyZm9ybXMgU1RBVFVTIC8gSlNPTl9QQVRIIGV0Yy5cbiIgKw0KICAgICAgICAgICAgICAgICI1LiBESUZGX1BTVCDigJMgcmVmZXJlbmNlIEFQSSBjYWxsKHMpIHRvIGNhcHR1cmUgXCJhZnRlclwiIHZhbHVlIGZvciBESUZGIGNoZWNrcy5cbiIgKw0KICAgICAgICAgICAgICAgICI2LiBQU1RfQ0hFQ0sg4oCTIHJlZmVyZW5jZSBBUEkgY2FsbChzKSB0byB2YWxpZGF0ZSByZXN1bHQgZmllbGRzLlxuIiArDQogICAgICAgICAgICAgICAgIjcuIFRlYXJkb3duIHNjcmlwdChzKS5cblxuIiArDQogICAgICAgICAgICAgICAgIkV2YWx1YXRpb24gbG9naWM6XG4iICsNCiAgICAgICAgICAgICAgICAi4oCiIERJRkYgPSAoYWZ0ZXIg4oCTIGJlZm9yZSkgY29tcGFyZWQgd2l0aCBFeHBlY3QuXG4iICsNCiAgICAgICAgICAgICAgICAi4oCiIFBSRV9DSEVDSyAvIFBTVF9DSEVDSzogY29tcGFyZSBmaWVsZCB2YWx1ZSB3aXRoIEV4cGVjdCB1c2luZyBJUyAvIENPTlRBSU5TIC8gTUFUQ0hFUy5cbiIgKw0KICAgICAgICAgICAgICAgICLigKIgQWxsIGNoZWNrcyByZWNvcmRlZCBpbiBmaW5hbCByZXBvcnQgdW5kZXIgdGhlaXIgcmVzcGVjdGl2ZSBncm91cHMuIjsNCg0KICAgICAgICBUb29sdGlwIHQgPSBuZXcgVG9vbHRpcCh0ZXh0KTsNCiAgICAgICAgdC5zZXRTdHlsZSgiLWZ4LWZvbnQtc2l6ZTogMTRweDsiKTsNCiAgICAgICAgdC5zZXRBdXRvSGlkZSh0cnVlKTsNCiAgICAgICAgcmV0dXJuIHQ7DQogICAgfQ0KfSA=
END
PATH:src/main/java/com/qa/app/util/OperatorUtil.java
cGFja2FnZSBjb20ucWEuYXBwLnV0aWw7DQoNCmltcG9ydCBjb20ucWEuYXBwLm1vZGVsLk9wZXJhdG9yOw0KDQppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7DQppbXBvcnQgamF2YS51dGlsLk9iamVjdHM7DQppbXBvcnQgamF2YS51dGlsLnJlZ2V4LlBhdHRlcm47DQoNCnB1YmxpYyBjbGFzcyBPcGVyYXRvclV0aWwgew0KDQogICAgcHVibGljIHN0YXRpYyBib29sZWFuIGNvbXBhcmUoU3RyaW5nIGFjdHVhbCwgT3BlcmF0b3Igb3BlcmF0b3IsIFN0cmluZyBleHBlY3RlZCkgew0KICAgICAgICBpZiAob3BlcmF0b3IgPT0gT3BlcmF0b3IuSVNfTlVMTCkgew0KICAgICAgICAgICAgcmV0dXJuIGFjdHVhbCA9PSBudWxsOw0KICAgICAgICB9DQogICAgICAgIGlmIChvcGVyYXRvciA9PSBPcGVyYXRvci5OT1RfTlVMTCkgew0KICAgICAgICAgICAgcmV0dXJuIGFjdHVhbCAhPSBudWxsOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRm9yIGFsbCBvdGhlciBvcGVyYXRvcnMsIGFjdHVhbCB2YWx1ZSBjYW5ub3QgYmUgbnVsbA0KICAgICAgICBpZiAoYWN0dWFsID09IG51bGwpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHsNCiAgICAgICAgICAgIGNhc2UgSVM6DQogICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdHMuZXF1YWxzKGFjdHVhbCwgZXhwZWN0ZWQpOw0KICAgICAgICAgICAgY2FzZSBJU19OT1Q6DQogICAgICAgICAgICAgICAgcmV0dXJuICFPYmplY3RzLmVxdWFscyhhY3R1YWwsIGV4cGVjdGVkKTsNCiAgICAgICAgICAgIGNhc2UgQ09OVEFJTlM6DQogICAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkICE9IG51bGwgJiYgYWN0dWFsLmNvbnRhaW5zKGV4cGVjdGVkKTsNCiAgICAgICAgICAgIGNhc2UgTk9UX0NPTlRBSU5TOg0KICAgICAgICAgICAgICAgIHJldHVybiBleHBlY3RlZCA9PSBudWxsIHx8ICFhY3R1YWwuY29udGFpbnMoZXhwZWN0ZWQpOw0KICAgICAgICAgICAgY2FzZSBHUkVBVEVSX1RIQU46DQogICAgICAgICAgICBjYXNlIExFU1NfVEhBTjoNCiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZU51bWVyaWNhbGx5KGFjdHVhbCwgb3BlcmF0b3IsIGV4cGVjdGVkKTsNCiAgICAgICAgICAgIGNhc2UgTUFUQ0hFUzoNCiAgICAgICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQgIT0gbnVsbCAmJiBQYXR0ZXJuLm1hdGNoZXMoZXhwZWN0ZWQsIGFjdHVhbCk7DQogICAgICAgICAgICBjYXNlIE5PVF9NQVRDSEVTOg0KICAgICAgICAgICAgICAgIHJldHVybiBleHBlY3RlZCA9PSBudWxsIHx8ICFQYXR0ZXJuLm1hdGNoZXMoZXhwZWN0ZWQsIGFjdHVhbCk7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigiVW5zdXBwb3J0ZWQgb3BlcmF0b3I6ICIgKyBvcGVyYXRvcik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGNvbXBhcmVOdW1lcmljYWxseShTdHJpbmcgYWN0dWFsU3RyLCBPcGVyYXRvciBvcGVyYXRvciwgU3RyaW5nIGV4cGVjdGVkU3RyKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBCaWdEZWNpbWFsIGFjdHVhbE51bSA9IG5ldyBCaWdEZWNpbWFsKGFjdHVhbFN0cik7DQogICAgICAgICAgICBCaWdEZWNpbWFsIGV4cGVjdGVkTnVtID0gbmV3IEJpZ0RlY2ltYWwoZXhwZWN0ZWRTdHIpOw0KICAgICAgICAgICAgaW50IGNvbXBhcmlzb25SZXN1bHQgPSBhY3R1YWxOdW0uY29tcGFyZVRvKGV4cGVjdGVkTnVtKTsNCg0KICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09IE9wZXJhdG9yLkdSRUFURVJfVEhBTikgew0KICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJpc29uUmVzdWx0ID4gMDsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT0gT3BlcmF0b3IuTEVTU19USEFOKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25SZXN1bHQgPCAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgLy8gSWYgdmFsdWVzIGFyZSBub3QgbnVtZXJpYywgY29tcGFyaXNvbiBpcyBmYWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KfSA=
END
PATH:src/main/resources/com/qa/app/ui/view/application_properties_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCg0KPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+DQoNCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjYwMC4wIiBwcmVmV2lkdGg9IjkwMC4wIiB4bWxucz0iaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE3IiB4bWxuczpmeD0iaHR0cDovL2phdmFmeC5jb20vZnhtbC8xIiBmeDpjb250cm9sbGVyPSJjb20ucWEuYXBwLnVpLnZtLkFwcGxpY2F0aW9uUHJvcGVydGllc1ZpZXdNb2RlbCI+DQogICAgPGNoaWxkcmVuPg0KICAgICAgICA8VkJveCBzcGFjaW5nPSIxNS4wIiBBbmNob3JQYW5lLnRvcEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLmJvdHRvbUFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLmxlZnRBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5yaWdodEFuY2hvcj0iMC4wIiBWQm94LnZncm93PSJBTFdBWVMiPg0KICAgICAgICAgICAgPHBhZGRpbmc+DQogICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9IjE1LjAiIHJpZ2h0PSIxNS4wIiBib3R0b209IjE1LjAiIGxlZnQ9IjE1LjAiLz4NCiAgICAgICAgICAgIDwvcGFkZGluZz4NCiAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJBcHBsaWNhdGlvbiBQcm9wZXJ0aWVzIiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4NCiAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4NCiAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHNwYWNpbmc9IjEwLjAiPg0KICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0iU2F2ZSIgb25BY3Rpb249IiNvblNhdmUiIC8+DQogICAgICAgICAgICA8L0hCb3g+DQogICAgICAgICAgICA8TGFiZWwgdGV4dD0iUHJvcGVydGllcyBMaXN0IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNHB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4NCiAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9InByb3BlcnRpZXNUYWJsZSIgZWRpdGFibGU9InRydWUiIFZCb3gudmdyb3c9IkFMV0FZUyIgcHJlZkhlaWdodD0iMCIgc3R5bGVDbGFzcz0idGFibGUtdmlldyI+DQogICAgICAgICAgICAgICAgPGNvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0ia2V5Q29sdW1uIiB0ZXh0PSJLZXkiIHByZWZXaWR0aD0iMjUwIiBlZGl0YWJsZT0iZmFsc2UiIC8+DQogICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0idmFsdWVDb2x1bW4iIHRleHQ9IlZhbHVlIiBwcmVmV2lkdGg9IjYwMCIgZWRpdGFibGU9InRydWUiIC8+DQogICAgICAgICAgICAgICAgPC9jb2x1bW5zPg0KICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgIDwvVkJveD4NCiAgICA8L2NoaWxkcmVuPg0KPC9BbmNob3JQYW5lPiA=
END
PATH:src/main/resources/com/qa/app/ui/view/body_template_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjgwMC4wIiBwcmVmV2lkdGg9IjEyMDAuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5Cb2R5VGVtcGxhdGVWaWV3TW9kZWwiPgogICAgPGNoaWxkcmVuPgogICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgIDxwYWRkaW5nPgogICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPgogICAgICAgICAgICA8L3BhZGRpbmc+CiAgICAgICAgICAgIDwhLS0gSGVhZGVyIC0tPgogICAgICAgICAgICA8TGFiZWwgdGV4dD0iQm9keSBUZW1wbGF0ZSBNYW5hZ2VtZW50IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgPFNlcGFyYXRvciAvPgoKICAgICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgICAgICAgIDxTcGxpdFBhbmUgb3JpZW50YXRpb249IkhPUklaT05UQUwiIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICA8aXRlbXM+CiAgICAgICAgICAgICAgICA8IS0tIFRlbXBsYXRlIExpc3QgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIG1pbldpZHRoPSIwLjAiPgogICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSI1LjAiIHJpZ2h0PSI1LjAiIGJvdHRvbT0iNS4wIiBsZWZ0PSI1LjAiLz48L3BhZGRpbmc+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlRlbXBsYXRlIExpc3QiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9ImJvZHlUZW1wbGF0ZVRhYmxlIiBWQm94LnZncm93PSJBTFdBWVMiIHN0eWxlQ2xhc3M9InRhYmxlLXZpZXciPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iYm9keVRlbXBsYXRlTmFtZUNvbHVtbiIgdGV4dD0iTmFtZSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJib2R5VGVtcGxhdGVEZXNjcmlwdGlvbkNvbHVtbiIgdGV4dD0iRGVzY3JpcHRpb24iLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iYm9keVRlbXBsYXRlQ29udGVudENvbHVtbiIgdmlzaWJsZT0iZmFsc2UiIHByZWZXaWR0aD0iMCIgdGV4dD0iQm9keSBDb250ZW50Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz4KICAgICAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz4KICAgICAgICAgICAgICAgIDwvVkJveD4KCiAgICAgICAgICAgICAgICA8IS0tIFRlbXBsYXRlIERldGFpbHMgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIgcmlnaHQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVGVtcGxhdGUgRGV0YWlscyIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTRweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+CiAgICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciAvPgogICAgICAgICAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHNwYWNpbmc9IjEwLjAiPgogICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iYWRkQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUFkZEJvZHlUZW1wbGF0ZSIgdGV4dD0iQWRkIiAvPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0idXBkYXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZVVwZGF0ZUJvZHlUZW1wbGF0ZSIgdGV4dD0iVXBkYXRlIiAvPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iZHVwbGljYXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUR1cGxpY2F0ZVRlbXBsYXRlIiB0ZXh0PSJEdXBsaWNhdGUiIC8+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJkZWxldGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIG9uQWN0aW9uPSIjaGFuZGxlRGVsZXRlQm9keVRlbXBsYXRlIiB0ZXh0PSJEZWxldGUiIC8+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVDbGVhckJvZHlUZW1wbGF0ZUZvcm0iIHRleHQ9IkNsZWFyIiAvPgogICAgICAgICAgICAgICAgPFNlcGFyYXRvciBvcmllbnRhdGlvbj0iVkVSVElDQUwiLz4KICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImZvcm1hdEJ1dHRvbiIgdGV4dD0iRm9ybWF0IiBvbkFjdGlvbj0iI2hhbmRsZUZvcm1hdFRlbXBsYXRlIi8+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJ2YWxpZGF0ZUJ1dHRvbiIgdGV4dD0iVmFsaWRhdGUiIG9uQWN0aW9uPSIjaGFuZGxlVmFsaWRhdGVUZW1wbGF0ZSIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICA8L0hCb3g+CiAgICAgICAgICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9IjE1LjAiIHZnYXA9IjEwLjAiIG1heFdpZHRoPSJJbmZpbml0eSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBwcmVmV2lkdGg9IjEyMC4wIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iTmFtZToiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0iYm9keVRlbXBsYXRlTmFtZUZpZWxkIiBwcm9tcHRUZXh0PSJUZW1wbGF0ZSBOYW1lIiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJEZXNjcmlwdGlvbjoiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJib2R5VGVtcGxhdGVEZXNjcmlwdGlvbkFyZWEiIHByb21wdFRleHQ9IlRlbXBsYXRlIERlc2NyaXB0aW9uIiBwcmVmUm93Q291bnQ9IjMiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgVkJveC52Z3Jvdz0iTkVWRVIiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJCb2R5IEZvcm1hdDoiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvQm94IGZ4OmlkPSJib2R5Rm9ybWF0Q29tYm9Cb3giIHByb21wdFRleHQ9IlNlbGVjdCBGb3JtYXQiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgIDwvR3JpZFBhbmU+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkJvZHkgQ29udGVudDoiLz4KICAgICAgICAgICAgICAgICAgICA8VGV4dEFyZWEgZng6aWQ9ImJvZHlUZW1wbGF0ZUNvbnRlbnRBcmVhIiBwcm9tcHRUZXh0PSJCb2R5IFRlbXBsYXRlIENvbnRlbnQiIHByZWZSb3dDb3VudD0iMyIgVkJveC52Z3Jvdz0iQUxXQVlTIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICA8L2l0ZW1zPgogICAgICAgICAgICA8L1NwbGl0UGFuZT4KICAgICAgICA8L1ZCb3g+CiAgICA8L2NoaWxkcmVuPgo8L0FuY2hvclBhbmU+IA==
END
PATH:src/main/resources/com/qa/app/ui/view/db_connection_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjgwMC4wIiBwcmVmV2lkdGg9IjEyMDAuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5EYkNvbm5lY3Rpb25WaWV3TW9kZWwiPgogICAgPGNoaWxkcmVuPgogICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgIDxwYWRkaW5nPgogICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPgogICAgICAgICAgICA8L3BhZGRpbmc+CiAgICAgICAgICAgIDwhLS0gSGVhZGVyIC0tPgogICAgICAgICAgICA8TGFiZWwgdGV4dD0iRGF0YWJhc2UgQ29ubmVjdGlvbiBNYW5hZ2VtZW50IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgPFNlcGFyYXRvciAvPgoKICAgICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgICAgICAgIDxTcGxpdFBhbmUgb3JpZW50YXRpb249IkhPUklaT05UQUwiIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICA8aXRlbXM+CiAgICAgICAgICAgICAgICA8IS0tIENvbm5lY3Rpb24gTGlzdCBTZWN0aW9uIC0tPgogICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTUuMCIgbWluV2lkdGg9IjAuMCI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iQ29ubmVjdGlvbiBMaXN0IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNHB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJkYkNvbm5lY3Rpb25UYWJsZSIgVkJveC52Z3Jvdz0iQUxXQVlTIiBzdHlsZUNsYXNzPSJ0YWJsZS12aWV3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbHVtbnM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImFsaWFzQ29sdW1uIiB0ZXh0PSJBbGlhcyIgcHJlZldpZHRoPSIxMjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iZGVzY3JpcHRpb25Db2x1bW4iIHRleHQ9IkRlc2NyaXB0aW9uIiBwcmVmV2lkdGg9IjI1MCIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+CiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CgogICAgICAgICAgICAgICAgPCEtLSBDb25uZWN0aW9uIERldGFpbHMgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIgcmlnaHQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iQ29ubmVjdGlvbiBEZXRhaWxzIiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNHB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgICAgICAgICA8U2VwYXJhdG9yIC8+CiAgICAgICAgICAgICAgICAgICAgPEhCb3ggYWxpZ25tZW50PSJDRU5URVJfTEVGVCIgc3BhY2luZz0iMTAuMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImFkZEJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgdGV4dD0iQWRkIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0idXBkYXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiB0ZXh0PSJVcGRhdGUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJkdXBsaWNhdGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIHRleHQ9IkR1cGxpY2F0ZSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImRlbGV0ZUJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgdGV4dD0iRGVsZXRlIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iY2xlYXJCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIHRleHQ9IkNsZWFyIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciBvcmllbnRhdGlvbj0iVkVSVElDQUwiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9InRlc3RDb25uZWN0aW9uQnV0dG9uIiB0ZXh0PSJUZXN0IENvbm5lY3Rpb24iLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICA8L0hCb3g+CiAgICAgICAgICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9IjE1LjAiIHZnYXA9IjEwLjAiIG1heFdpZHRoPSJJbmZpbml0eSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBwcmVmV2lkdGg9IjEyMC4wIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iQWxpYXM6IiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9ImFsaWFzRmllbGQiIHByb21wdFRleHQ9IkNvbm5lY3Rpb24gQWxpYXMiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iRW52aXJvbm1lbnQ6IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21ib0JveCBmeDppZD0iZW52aXJvbm1lbnRDb21ibyIgcHJvbXB0VGV4dD0iU2VsZWN0IEVudmlyb25tZW50IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iRGVzY3JpcHRpb246IiBHcmlkUGFuZS5yb3dJbmRleD0iMiIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0QXJlYSBmeDppZD0iZGVzY3JpcHRpb25BcmVhIiBwcm9tcHRUZXh0PSJDb25uZWN0aW9uIERlc2NyaXB0aW9uIiBwcmVmUm93Q291bnQ9IjMiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgVkJveC52Z3Jvdz0iTkVWRVIiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFVwZGF0ZSBEQiBUeXBlIHJvdyBsYWJlbCAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJEQiBUeXBlOiIgR3JpZFBhbmUucm93SW5kZXg9IjMiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9Cb3ggZng6aWQ9ImRiVHlwZUNvbWJvIiBwcm9tcHRUZXh0PSJTZWxlY3QgVHlwZSIgR3JpZFBhbmUucm93SW5kZXg9IjMiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9Ikhvc3Q6IiBHcmlkUGFuZS5yb3dJbmRleD0iNCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9Imhvc3RGaWVsZCIgcHJvbXB0VGV4dD0ibG9jYWxob3N0IiBHcmlkUGFuZS5yb3dJbmRleD0iNCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iUG9ydDoiIEdyaWRQYW5lLnJvd0luZGV4PSI1IiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0icG9ydEZpZWxkIiBwcm9tcHRUZXh0PSI1NDMyIiBHcmlkUGFuZS5yb3dJbmRleD0iNSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iRGF0YWJhc2U6IiBmeDppZD0iZGJOYW1lTGFiZWwiIEdyaWRQYW5lLnJvd0luZGV4PSI2IiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0iZGJOYW1lRmllbGQiIHByb21wdFRleHQ9Im15ZGIiIEdyaWRQYW5lLnJvd0luZGV4PSI2IiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJTY2hlbWE6IiBmeDppZD0ic2NoZW1hTGFiZWwiIEdyaWRQYW5lLnJvd0luZGV4PSI3IiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0ic2NoZW1hRmllbGQiIHByb21wdFRleHQ9InB1YmxpYyIgR3JpZFBhbmUucm93SW5kZXg9IjciIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlNlcnZpY2VOYW1lOiIgZng6aWQ9InNlcnZpY2VOYW1lTGFiZWwiIEdyaWRQYW5lLnJvd0luZGV4PSI4IiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0ic2VydmljZU5hbWVGaWVsZCIgcHJvbXB0VGV4dD0ib3JjbCIgR3JpZFBhbmUucm93SW5kZXg9IjgiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkpEQkMgVVJMOiIgR3JpZFBhbmUucm93SW5kZXg9IjkiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPSJ1cmxGaWVsZCIgZWRpdGFibGU9ImZhbHNlIiBHcmlkUGFuZS5yb3dJbmRleD0iOSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVXNlcm5hbWU6IiBHcmlkUGFuZS5yb3dJbmRleD0iMTAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPSJ1c2VybmFtZUZpZWxkIiBwcm9tcHRUZXh0PSJEYXRhYmFzZSBVc2VybmFtZSIgR3JpZFBhbmUucm93SW5kZXg9IjEwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJQYXNzd29yZDoiIEdyaWRQYW5lLnJvd0luZGV4PSIxMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXNzd29yZEZpZWxkIGZ4OmlkPSJwYXNzd29yZEZpZWxkIiBwcm9tcHRUZXh0PSJEYXRhYmFzZSBQYXNzd29yZCIgR3JpZFBhbmUucm93SW5kZXg9IjExIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJQb29sIFNpemU6IiBHcmlkUGFuZS5yb3dJbmRleD0iMTIiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBmeDppZD0icG9vbFNpemVTcGlubmVyIiBlZGl0YWJsZT0idHJ1ZSIgR3JpZFBhbmUucm93SW5kZXg9IjEyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgIDwvR3JpZFBhbmU+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICA8L2l0ZW1zPgogICAgICAgICAgICA8L1NwbGl0UGFuZT4KICAgICAgICA8L1ZCb3g+CiAgICA8L2NoaWxkcmVuPgo8L0FuY2hvclBhbmU+IA==
END
PATH:src/main/resources/com/qa/app/ui/view/endpoint_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjgwMC4wIiBwcmVmV2lkdGg9IjEyMDAuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5FbmRwb2ludFZpZXdNb2RlbCI+CiAgICA8Y2hpbGRyZW4+CiAgICAgICAgPFZCb3ggc3BhY2luZz0iMTUuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5sZWZ0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUucmlnaHRBbmNob3I9IjAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4KICAgICAgICAgICAgPHBhZGRpbmc+CiAgICAgICAgICAgICAgICA8SW5zZXRzIHRvcD0iNS4wIiByaWdodD0iNS4wIiBib3R0b209IjUuMCIgbGVmdD0iNS4wIi8+CiAgICAgICAgICAgIDwvcGFkZGluZz4KICAgICAgICAgICAgPCEtLSBIZWFkZXIgLS0+CiAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJFbmRwb2ludCBNYW5hZ2VtZW50IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgPFNlcGFyYXRvciAvPgoKICAgICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgICAgICAgIDxTcGxpdFBhbmUgb3JpZW50YXRpb249IkhPUklaT05UQUwiIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICA8aXRlbXM+CiAgICAgICAgICAgICAgICA8IS0tIEVuZHBvaW50IExpc3QgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjEwLjAiIG1pbldpZHRoPSIwLjAiPgogICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSI1LjAiIGJvdHRvbT0iNS4wIiBsZWZ0PSI1LjAiIHJpZ2h0PSI1LjAiLz48L3BhZGRpbmc+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkVuZHBvaW50IExpc3QiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9ImVuZHBvaW50VGFibGUiIFZCb3gudmdyb3c9IkFMV0FZUyIgc3R5bGVDbGFzcz0idGFibGUtdmlldyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJlbnZpcm9ubWVudENvbHVtbiIgcHJlZldpZHRoPSIxODAuMCIgdGV4dD0iRW52aXJvbm1lbnQiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iZW5kcG9pbnROYW1lQ29sdW1uIiBwcmVmV2lkdGg9IjIwMC4wIiB0ZXh0PSJFbmRwb2ludCIvPgogICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJtZXRob2RDb2x1bW4iIHByZWZXaWR0aD0iMTIwLjAiIHRleHQ9Ik1ldGhvZCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ1cmxDb2x1bW4iIHZpc2libGU9ImZhbHNlIiBwcmVmV2lkdGg9IjAiIHRleHQ9IlVSTCIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+CiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CgogICAgICAgICAgICAgICAgPCEtLSBFbmRwb2ludCBEZXRhaWxzIFNlY3Rpb24gLS0+CiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSIxNS4wIiBWQm94LnZncm93PSJBTFdBWVMiPgogICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSI1LjAiIGJvdHRvbT0iNS4wIiBsZWZ0PSI1LjAiIHJpZ2h0PSI1LjAiLz48L3BhZGRpbmc+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkVuZHBvaW50IERldGFpbHMiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4KICAgICAgICAgICAgICAgICAgICA8SEJveCBhbGlnbm1lbnQ9IkNFTlRFUl9MRUZUIiBzcGFjaW5nPSIxMC4wIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iYWRkQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUFkZEVuZHBvaW50IiB0ZXh0PSJBZGQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJ1cGRhdGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIG9uQWN0aW9uPSIjaGFuZGxlVXBkYXRlRW5kcG9pbnQiIHRleHQ9IlVwZGF0ZSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImR1cGxpY2F0ZUJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVEdXBsaWNhdGVFbmRwb2ludCIgdGV4dD0iRHVwbGljYXRlIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iZGVsZXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZURlbGV0ZUVuZHBvaW50IiB0ZXh0PSJEZWxldGUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVDbGVhckVuZHBvaW50Rm9ybSIgdGV4dD0iQ2xlYXIiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgPC9IQm94PgogICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD0iMTUuMCIgdmdhcD0iMTAuMCIgVkJveC52Z3Jvdz0iTkVWRVIiIG1heFdpZHRoPSJJbmZpbml0eSI+CiAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIHByZWZXaWR0aD0iMTIwLjAiLz4KICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgcHJlZldpZHRoPSI1MDAuMCIgaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgIDxyb3dDb25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICA8Um93Q29uc3RyYWludHMgbWluSGVpZ2h0PSI0MC4wIi8+CiAgICAgICAgICAgICAgICAgICAgPFJvd0NvbnN0cmFpbnRzIG1pbkhlaWdodD0iNDAuMCIvPgogICAgICAgICAgICAgICAgICAgIDxSb3dDb25zdHJhaW50cyBtaW5IZWlnaHQ9IjQwLjAiLz4KICAgICAgICAgICAgICAgICAgICA8Um93Q29uc3RyYWludHMgbWluSGVpZ2h0PSI0MC4wIi8+CiAgICAgICAgICAgICAgICA8L3Jvd0NvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkVudmlyb25tZW50OiIgR3JpZFBhbmUucm93SW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9Cb3ggZng6aWQ9ImVudmlyb25tZW50Q29tYm9Cb3giIHByb21wdFRleHQ9IlNlbGVjdCBFbnZpcm9ubWVudCIgR3JpZFBhbmUucm93SW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iRW5kcG9pbnQ6IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9ImVuZHBvaW50TmFtZUZpZWxkIiBwcm9tcHRUZXh0PSJFbmRwb2ludCBOYW1lIiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iSFRUUCBNZXRob2Q6IiBHcmlkUGFuZS5yb3dJbmRleD0iMiIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICA8Q29tYm9Cb3ggZng6aWQ9Im1ldGhvZENvbWJvQm94IiBwcm9tcHRUZXh0PSJTZWxlY3QgTWV0aG9kIiBHcmlkUGFuZS5yb3dJbmRleD0iMiIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVVJMOiIgR3JpZFBhbmUucm93SW5kZXg9IjMiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0idXJsRmllbGQiIHByb21wdFRleHQ9IkVuZHBvaW50IFVSTCIgR3JpZFBhbmUucm93SW5kZXg9IjMiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CiAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICA8L0dyaWRQYW5lPgogICAgICAgICAgICAgICAgPC9WQm94PgogICAgICAgICAgICAgICAgPC9pdGVtcz4KICAgICAgICAgICAgPC9TcGxpdFBhbmU+CiAgICAgICAgPC9WQm94PgogICAgPC9jaGlsZHJlbj4KPC9BbmNob3JQYW5lPiA=
END
PATH:src/main/resources/com/qa/app/ui/view/environment_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjYwMC4wIiBwcmVmV2lkdGg9IjkwMC4wIiB4bWxucz0iaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE3IiB4bWxuczpmeD0iaHR0cDovL2phdmFmeC5jb20vZnhtbC8xIiBmeDpjb250cm9sbGVyPSJjb20ucWEuYXBwLnVpLnZtLkVudmlyb25tZW50Vmlld01vZGVsIj4KICAgIDxjaGlsZHJlbj4KICAgICAgICA8VkJveCBzcGFjaW5nPSIxNS4wIiBBbmNob3JQYW5lLnRvcEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLmJvdHRvbUFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLmxlZnRBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5yaWdodEFuY2hvcj0iMC4wIiBWQm94LnZncm93PSJBTFdBWVMiPgogICAgICAgICAgICA8cGFkZGluZz4KICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPSI1LjAiIHJpZ2h0PSI1LjAiIGJvdHRvbT0iNS4wIiBsZWZ0PSI1LjAiLz4KICAgICAgICAgICAgPC9wYWRkaW5nPgogICAgICAgICAgICA8IS0tIEhlYWRlciAtLT4KICAgICAgICAgICAgPExhYmVsIHRleHQ9IkVudmlyb25tZW50IE1hbmFnZW1lbnQiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE2cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICA8U2VwYXJhdG9yIC8+CgogICAgICAgICAgICA8IS0tIE1haW4gQ29udGVudCAtLT4KICAgICAgICAgICAgPFNwbGl0UGFuZSBvcmllbnRhdGlvbj0iSE9SSVpPTlRBTCIgZGl2aWRlclBvc2l0aW9ucz0iMC4yNSIgVkJveC52Z3Jvdz0iQUxXQVlTIj4KICAgICAgICAgICAgICAgIDxpdGVtcz4KICAgICAgICAgICAgICAgIDwhLS0gRW52aXJvbm1lbnQgTGlzdCBTZWN0aW9uIC0tPgogICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCIgbWluV2lkdGg9IjAuMCI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iRW52aXJvbm1lbnQgTGlzdCIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTRweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+CiAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDppZD0iZW52aXJvbm1lbnRUYWJsZSIgVkJveC52Z3Jvdz0iQUxXQVlTIiBzdHlsZUNsYXNzPSJ0YWJsZS12aWV3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbHVtbnM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImVudmlyb25tZW50TmFtZUNvbHVtbiIgcHJlZldpZHRoPSIyMDAuMCIgdGV4dD0iTmFtZSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJlbnZpcm9ubWVudERlc2NyaXB0aW9uQ29sdW1uIiBwcmVmV2lkdGg9IjYwMC4wIiB0ZXh0PSJEZXNjcmlwdGlvbiIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+CiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CgogICAgICAgICAgICAgICAgPCEtLSBFbnZpcm9ubWVudCBEZXRhaWxzIFNlY3Rpb24gLS0+CiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSIxNS4wIiBWQm94LnZncm93PSJBTFdBWVMiPgogICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSI1LjAiIGJvdHRvbT0iNS4wIiBsZWZ0PSI1LjAiIHJpZ2h0PSI1LjAiLz48L3BhZGRpbmc+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkVudmlyb25tZW50IERldGFpbHMiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4KICAgICAgICAgICAgICAgICAgICA8SEJveCBhbGlnbm1lbnQ9IkNFTlRFUl9MRUZUIiBzcGFjaW5nPSIxMC4wIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iYWRkQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUFkZEVudmlyb25tZW50IiB0ZXh0PSJBZGQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJ1cGRhdGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIG9uQWN0aW9uPSIjaGFuZGxlVXBkYXRlRW52aXJvbm1lbnQiIHRleHQ9IlVwZGF0ZSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImR1cGxpY2F0ZUJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVEdXBsaWNhdGVFbnZpcm9ubWVudCIgdGV4dD0iRHVwbGljYXRlIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iZGVsZXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZURlbGV0ZUVudmlyb25tZW50IiB0ZXh0PSJEZWxldGUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVDbGVhckVudmlyb25tZW50Rm9ybSIgdGV4dD0iQ2xlYXIiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgPC9IQm94PgogICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD0iMTUuMCIgdmdhcD0iMTAuMCIgVkJveC52Z3Jvdz0iTkVWRVIiIG1heFdpZHRoPSJJbmZpbml0eSI+CiAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIHByZWZXaWR0aD0iMTIwLjAiLz4KICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgcHJlZldpZHRoPSI1MDAuMCIgaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgIDxyb3dDb25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICA8Um93Q29uc3RyYWludHMgbWluSGVpZ2h0PSI0MC4wIi8+CiAgICAgICAgICAgICAgICAgICAgPFJvd0NvbnN0cmFpbnRzIG1pbkhlaWdodD0iMTIwLjAiLz4KICAgICAgICAgICAgICAgIDwvcm93Q29uc3RyYWludHM+CiAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iTmFtZToiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9ImVudmlyb25tZW50TmFtZUZpZWxkIiBwcm9tcHRUZXh0PSJFbnZpcm9ubWVudCBOYW1lIiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iRGVzY3JpcHRpb246IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiLz4KICAgICAgICAgICAgICAgICAgICA8VGV4dEFyZWEgZng6aWQ9ImVudmlyb25tZW50RGVzY3JpcHRpb25BcmVhIiBwcm9tcHRUZXh0PSJEZXNjcmlwdGlvbiIgcHJlZlJvd0NvdW50PSI0IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIFZCb3gudmdyb3c9IkFMV0FZUyIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgPC9HcmlkUGFuZT4KICAgICAgICAgICAgICAgIDwvVkJveD4KICAgICAgICAgICAgICAgIDwvaXRlbXM+CiAgICAgICAgICAgIDwvU3BsaXRQYW5lPgogICAgICAgIDwvVkJveD4KICAgIDwvY2hpbGRyZW4+CjwvQW5jaG9yUGFuZT4g
END
PATH:src/main/resources/com/qa/app/ui/view/gatling_internal_report_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCg0KPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b24/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQ29tYm9Cb3g/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuTGFiZWw/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5IQm94Pz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuU3RhY2tQYW5lPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuVkJveD8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUud2ViLldlYlZpZXc/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVG9vbHRpcD8+DQoNCjxWQm94IHByZWZIZWlnaHQ9IjYwMC4wIiBwcmVmV2lkdGg9IjgwMC4wIiBzcGFjaW5nPSIxMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5HYXRsaW5nSW50ZXJuYWxSZXBvcnRWaWV3TW9kZWwiPg0KICAgIDxwYWRkaW5nPg0KICAgICAgICA8SW5zZXRzIGJvdHRvbT0iMTUiIGxlZnQ9IjE1IiByaWdodD0iMTUiIHRvcD0iMTUiIC8+DQogICAgPC9wYWRkaW5nPg0KDQogICAgPExhYmVsIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE2cHg7IiB0ZXh0PSJHYXRsaW5nIEludGVybmFsIFJlcG9ydCIgLz4NCg0KICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHNwYWNpbmc9IjEwIj4NCiAgICAgICAgPExhYmVsIHRleHQ9IkdhdGxpbmcgSW50ZXJuYWwgUmVwb3J0OiIgLz4NCiAgICAgICAgPENvbWJvQm94IGZ4OmlkPSJyZXBvcnREaXJlY3Rvcmllc0NvbWJvIiBvbkFjdGlvbj0iI2hhbmRsZURpcmVjdG9yeVNlbGVjdGlvbiIgcHJlZldpZHRoPSIzMjAuMCIgcHJvbXB0VGV4dD0iU2VsZWN0IGEgcmVwb3J0Li4uIiAvPg0KICAgICAgICA8QnV0dG9uIG9uQWN0aW9uPSIjaGFuZGxlQnJvd3NlIiB0ZXh0PSJCcm93c2UuLi4iIC8+DQogICAgICAgIDxCdXR0b24gdGV4dD0iKyIgb25BY3Rpb249IiNoYW5kbGVab29tSW4iPg0KICAgICAgICAgICAgPHRvb2x0aXA+DQogICAgICAgICAgICAgICAgPFRvb2x0aXAgdGV4dD0iWm9vbSBJbiIvPg0KICAgICAgICAgICAgPC90b29sdGlwPg0KICAgICAgICA8L0J1dHRvbj4NCiAgICAgICAgPEJ1dHRvbiB0ZXh0PSItIiBvbkFjdGlvbj0iI2hhbmRsZVpvb21PdXQiPg0KICAgICAgICAgICAgPHRvb2x0aXA+DQogICAgICAgICAgICAgICAgPFRvb2x0aXAgdGV4dD0iWm9vbSBPdXQiLz4NCiAgICAgICAgICAgIDwvdG9vbHRpcD4NCiAgICAgICAgPC9CdXR0b24+DQogICAgPC9IQm94Pg0KDQogICAgPFN0YWNrUGFuZSBmeDppZD0id2ViVmlld0NvbnRhaW5lciIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgPFdlYlZpZXcgZng6aWQ9IndlYlZpZXciIC8+DQogICAgPC9TdGFja1BhbmU+DQoNCjwvVkJveD4g
END
PATH:src/main/resources/com/qa/app/ui/view/gatling_scenario_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCg0KPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+DQoNCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjgwMC4wIiBwcmVmV2lkdGg9IjEyMDAuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5HYXRsaW5nU2NlbmFyaW9WaWV3TW9kZWwiPg0KICAgIDxjaGlsZHJlbj4NCiAgICAgICAgPFZCb3ggc3BhY2luZz0iMTUuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5sZWZ0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUucmlnaHRBbmNob3I9IjAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgIDxwYWRkaW5nPg0KICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPSIxNS4wIiByaWdodD0iMTUuMCIgYm90dG9tPSIxNS4wIiBsZWZ0PSIxNS4wIiAvPg0KICAgICAgICAgICAgPC9wYWRkaW5nPg0KDQogICAgICAgICAgICA8IS0tIFRpdGxlIC0tPg0KICAgICAgICAgICAgPExhYmVsIHRleHQ9IkdhdGxpbmcgU2NlbmFyaW8gTWFuYWdlbWVudCIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTZweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+DQogICAgICAgICAgICA8U2VwYXJhdG9yIC8+DQoNCiAgICAgICAgICAgIDwhLS0gQmFzaWMgaW5mbyBncmlkIC0tPg0KICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9IjE1LjAiIHZnYXA9IjEyLjAiIG1heFdpZHRoPSJJbmZpbml0eSI+DQogICAgICAgICAgICAgICAgPGNvbHVtbkNvbnN0cmFpbnRzPg0KICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgcHJlZldpZHRoPSIxNDAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIHByZWZXaWR0aD0iNzAwLjAiIGhncm93PSJBTFdBWVMiIC8+DQogICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz4NCiAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJTY2VuYXJpbyBOYW1lOiIgR3JpZFBhbmUucm93SW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIiAvPg0KICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPSJzY2VuYXJpb05hbWVGaWVsZCIgcHJvbXB0VGV4dD0iU2NlbmFyaW8gTmFtZSIgR3JpZFBhbmUucm93SW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIiAvPg0KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iU2NlbmFyaW8gRGVzY3JpcHRpb246IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIC8+DQogICAgICAgICAgICAgICAgICAgIDxUZXh0QXJlYSBmeDppZD0ic2NlbmFyaW9EZXNjQXJlYSIgcHJvbXB0VGV4dD0iU2NlbmFyaW8gRGVzY3JpcHRpb24iIHByZWZSb3dDb3VudD0iMiIgR3JpZFBhbmUucm93SW5kZXg9IjEiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIiAvPg0KICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICA8L0dyaWRQYW5lPg0KDQogICAgICAgICAgICA8IS0tIENhc2UgTGlzdCwgU2NlbmFyaW8gU3RlcHMsIExvYWQgTW9kZWwsIFNjaGVkdWxlciAtLT4NCiAgICAgICAgICAgIDxUYWJQYW5lIGZ4OmlkPSJzY2VuYXJpb1RhYlBhbmUiIFZCb3gudmdyb3c9IkFMV0FZUyIgdGFiQ2xvc2luZ1BvbGljeT0iVU5BVkFJTEFCTEUiPg0KICAgICAgICAgICAgICAgIDx0YWJzPg0KICAgICAgICAgICAgICAgICAgICA8VGFiIHRleHQ9IlNjZW5hcmlvIERldGFpbHMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwbGl0UGFuZSBvcmllbnRhdGlvbj0iSE9SSVpPTlRBTCIgcHJlZkhlaWdodD0iMzIwLjAiIG1heEhlaWdodD0iMzIwLjAiIG1pbkhlaWdodD0iMzIwLjAiIGRpdmlkZXJQb3NpdGlvbnM9IjAuNiwgMC42NSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpdGVtcz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQ2FzZSBsaXN0IC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BsaXRQYW5lLnJlc2l6YWJsZVdpdGhQYXJlbnQ+dHJ1ZTwvU3BsaXRQYW5lLnJlc2l6YWJsZVdpdGhQYXJlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iQ2FzZSBMaXN0IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBGaWx0ZXIgYmFyIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBzcGFjaW5nPSI4LjAiIGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJTdWl0ZToiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvQm94IGZ4OmlkPSJzdWl0ZUZpbHRlckNvbWJvIiBwcm9tcHRUZXh0PSJBbGwiIHByZWZXaWR0aD0iMTc1LjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlRhZzoiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0idGFnRmlsdGVyRmllbGQiIHByb21wdFRleHQ9IlRhZyBrZXl3b3JkIiBwcmVmV2lkdGg9IjE4NS4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0iRmlsdGVyIiBvbkFjdGlvbj0iI2hhbmRsZUZpbHRlckNhc2VzIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0iUmVzZXQiIG9uQWN0aW9uPSIjaGFuZGxlUmVzZXRGaWx0ZXIiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0hCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9ImF2YWlsYWJsZVRlc3RUYWJsZSIgcHJlZldpZHRoPSI2MDAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIiBlZGl0YWJsZT0iZmFsc2UiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ0Y2lkQ29sIiB0ZXh0PSJUQ0lEIiBwcmVmV2lkdGg9IjgwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJzdWl0ZUNvbCIgdGV4dD0iU3VpdGUiIHByZWZXaWR0aD0iMTIwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJhdmFpbGFibGVUYWdzQ29sIiB0ZXh0PSJUYWdzIiBwcmVmV2lkdGg9IjEyMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iYXZhaWxhYmxlRGVzY0NvbCIgdGV4dD0iRGVzY3JpcHRpb24iIHByZWZXaWR0aD0iMjAwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6Y29uc3RhbnQ9IkNPTlNUUkFJTkVEX1JFU0laRV9QT0xJQ1kiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtblJlc2l6ZVBvbGljeT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBPcGVyYXRpb24gYnV0dG9ucyAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgYWxpZ25tZW50PSJDRU5URVIiIHByZWZXaWR0aD0iMzUuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwbGl0UGFuZS5yZXNpemFibGVXaXRoUGFyZW50PmZhbHNlPC9TcGxpdFBhbmUucmVzaXphYmxlV2l0aFBhcmVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0i4oaSIiBmeDppZD0iYWRkQnV0dG9uIiBvbkFjdGlvbj0iI2hhbmRsZUFkZFRvU3RlcHMiIHByZWZXaWR0aD0iMzAiIG1pbldpZHRoPSIzMCIgc3R5bGU9Ii1meC1mb250LXNpemU6IDEycHg7IC1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0i4oaQIiBmeDppZD0icmVtb3ZlQnV0dG9uIiBvbkFjdGlvbj0iI2hhbmRsZVJlbW92ZUZyb21TdGVwcyIgcHJlZldpZHRoPSIzMCIgbWluV2lkdGg9IjMwIiBzdHlsZT0iLWZ4LWZvbnQtc2l6ZTogMTJweDsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PSLihpEiIGZ4OmlkPSJtb3ZlVXBCdXR0b24iIG9uQWN0aW9uPSIjaGFuZGxlTW92ZVN0ZXBVcCIgcHJlZldpZHRoPSIzMCIgbWluV2lkdGg9IjMwIiBzdHlsZT0iLWZ4LWZvbnQtc2l6ZTogMTJweDsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PSLihpMiIGZ4OmlkPSJtb3ZlRG93bkJ1dHRvbiIgb25BY3Rpb249IiNoYW5kbGVNb3ZlU3RlcERvd24iIHByZWZXaWR0aD0iMzAiIG1pbldpZHRoPSIzMCIgc3R5bGU9Ii1meC1mb250LXNpemU6IDEycHg7IC1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0i4pyVIiBmeDppZD0iY2xlYXJTdGVwc0J1dHRvbiIgb25BY3Rpb249IiNoYW5kbGVDbGVhclN0ZXBzIiBwcmVmV2lkdGg9IjMwIiBtaW5XaWR0aD0iMzAiIHN0eWxlPSItZngtZm9udC1zaXplOiAxMnB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gU2NlbmFyaW8gc3RlcHMgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSI1LjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGxpdFBhbmUucmVzaXphYmxlV2l0aFBhcmVudD50cnVlPC9TcGxpdFBhbmUucmVzaXphYmxlV2l0aFBhcmVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9IjEwIiBhbGlnbm1lbnQ9IkNFTlRFUl9MRUZUIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iU2NlbmFyaW8gU3RlcHMiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJzY2VuYXJpb1N0ZXBUYWJsZSIgcHJlZldpZHRoPSI0MDAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0ib3JkZXJDb2wiIHRleHQ9IiMiIHByZWZXaWR0aD0iNjAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9InN0ZXBUY2lkQ29sIiB0ZXh0PSJUQ0lEIiBwcmVmV2lkdGg9IjE1MC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0id2FpdENvbCIgdGV4dD0iV2FpdChzKSIgcHJlZldpZHRoPSI4MC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0ic3RlcFRhZ3NDb2wiIHRleHQ9IlRhZ3MiIHByZWZXaWR0aD0iMjAwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6Y29uc3RhbnQ9IkNPTlNUUkFJTkVEX1JFU0laRV9QT0xJQ1kiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtblJlc2l6ZVBvbGljeT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pdGVtcz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NwbGl0UGFuZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgPC9UYWI+DQogICAgICAgICAgICAgICAgICAgIDwhLS0gTG9hZCBNb2RlbCBDb25maWd1cmF0aW9uIC0tPg0KICAgICAgICAgICAgICAgICAgICA8VGFiIHRleHQ9IkxvYWQgTW9kZWwiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJQYW5lIGZ4OmlkPSJsb2FkTW9kZWxUYWJQYW5lIiB0YWJDbG9zaW5nUG9saWN5PSJVTkFWQUlMQUJMRSIgVkJveC52Z3Jvdz0iQUxXQVlTIiBwcmVmSGVpZ2h0PSI0NTAuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGZ4OmlkPSJzdGFuZGFyZExvYWRUYWIiIHRleHQ9IlN0YW5kYXJkIExvYWQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb250ZW50Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSIxMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD0iMTAiIHZnYXA9IjEwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz48SW5zZXRzIHRvcD0iMjAiIHJpZ2h0PSIyMCIgYm90dG9tPSIxMCIgbGVmdD0iMjAiLz48L3BhZGRpbmc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9Ik51bWJlciBvZiBVc2VyczoiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgR3JpZFBhbmUuaGFsaWdubWVudD0iUklHSFQiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBmeDppZD0ic3RhbmRhcmROdW1UaHJlYWRzU3Bpbm5lciIgZWRpdGFibGU9InRydWUiIGluaXRpYWxWYWx1ZT0iMSIgbWluPSIxIiBtYXg9IjEwMDAwIiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiLz4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJSYW1wLXVwIFBlcmlvZCAocyk6IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9InN0YW5kYXJkUmFtcFVwU3Bpbm5lciIgZWRpdGFibGU9InRydWUiIGluaXRpYWxWYWx1ZT0iMCIgbWluPSIwIiBtYXg9IjM2MDAiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIvPg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9Ikxvb3AgQ291bnQ6IiBHcmlkUGFuZS5yb3dJbmRleD0iMiIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9InN0YW5kYXJkTG9vcHNTcGlubmVyIiBlZGl0YWJsZT0idHJ1ZSIgaW5pdGlhbFZhbHVlPSIxIiBtaW49Ii0xIiBtYXg9IjEwMDAwIiBHcmlkUGFuZS5yb3dJbmRleD0iMiIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiLz4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJTY2hlZHVsZXI6IiBHcmlkUGFuZS5yb3dJbmRleD0iMyIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQm94IGZ4OmlkPSJzdGFuZGFyZFNjaGVkdWxlckNoZWNrQm94IiBHcmlkUGFuZS5yb3dJbmRleD0iMyIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiLz4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJTdGFydHVwIERlbGF5IChzKToiIEdyaWRQYW5lLnJvd0luZGV4PSI0IiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgR3JpZFBhbmUuaGFsaWdubWVudD0iUklHSFQiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBmeDppZD0ic3RhbmRhcmREZWxheVNwaW5uZXIiIGVkaXRhYmxlPSJ0cnVlIiBpbml0aWFsVmFsdWU9IjAiIG1pbj0iMCIgbWF4PSIzNjAwIiBHcmlkUGFuZS5yb3dJbmRleD0iNCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiLz4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJEdXJhdGlvbiAocyk6IiBHcmlkUGFuZS5yb3dJbmRleD0iNSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9InN0YW5kYXJkRHVyYXRpb25TcGlubmVyIiBlZGl0YWJsZT0idHJ1ZSIgaW5pdGlhbFZhbHVlPSI2MCIgbWluPSIxIiBtYXg9Ijg2NDAwIiBHcmlkUGFuZS5yb3dJbmRleD0iNSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZFBhbmU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgZng6aWQ9InN0ZXBwaW5nTG9hZFRhYiIgdGV4dD0iU3RlcHBpbmcgTG9hZCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjEwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkUGFuZSBoZ2FwPSIxMCIgdmdhcD0iMTAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSIyMCIgcmlnaHQ9IjIwIiBib3R0b209IjEwIiBsZWZ0PSIyMCIvPjwvcGFkZGluZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVGFyZ2V0IE51bWJlciBvZiBVc2VyczoiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgR3JpZFBhbmUuaGFsaWdubWVudD0iUklHSFQiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBmeDppZD0ic3RlcHBpbmdOdW1UaHJlYWRzU3Bpbm5lciIgZWRpdGFibGU9InRydWUiIGluaXRpYWxWYWx1ZT0iMTAwIiBtaW49IjEiIG1heD0iMTAwMDAiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIvPg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkluaXRpYWwgRGVsYXk6IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9InN0ZXBwaW5nSW5pdGlhbERlbGF5U3Bpbm5lciIgZWRpdGFibGU9InRydWUiIGluaXRpYWxWYWx1ZT0iMCIgbWluPSIwIiBtYXg9IjM2MDAiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJzZWNvbmRzLCIgR3JpZFBhbmUucm93SW5kZXg9IjEiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIyIi8+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVGhlbiwgc3RhcnQ6IiBHcmlkUGFuZS5yb3dJbmRleD0iMiIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9InN0ZXBwaW5nU3RhcnRVc2Vyc1NwaW5uZXIiIGVkaXRhYmxlPSJ0cnVlIiBpbml0aWFsVmFsdWU9IjEwIiBtaW49IjAiIG1heD0iMTAwMDAiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJ1c2Vycy4iIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMiIvPg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9Ik5leHQsIGFkZDoiIEdyaWRQYW5lLnJvd0luZGV4PSIzIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgR3JpZFBhbmUuaGFsaWdubWVudD0iUklHSFQiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBmeDppZD0ic3RlcHBpbmdJbmNyZW1lbnRVc2Vyc1NwaW5uZXIiIGVkaXRhYmxlPSJ0cnVlIiBpbml0aWFsVmFsdWU9IjEwIiBtaW49IjEiIG1heD0iMTAwMCIgR3JpZFBhbmUucm93SW5kZXg9IjMiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9InVzZXJzLCIgR3JpZFBhbmUucm93SW5kZXg9IjMiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIyIi8+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iZXZlcnk6IiBHcmlkUGFuZS5yb3dJbmRleD0iNCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmhhbGlnbm1lbnQ9IlJJR0hUIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9InN0ZXBwaW5nSW5jcmVtZW50VGltZVNwaW5uZXIiIGVkaXRhYmxlPSJ0cnVlIiBpbml0aWFsVmFsdWU9IjMwIiBtaW49IjEiIG1heD0iMzYwMCIgR3JpZFBhbmUucm93SW5kZXg9IjQiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9InNlY29uZHMuIiBHcmlkUGFuZS5yb3dJbmRleD0iNCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjIiLz4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJUaGVuLCBob2xkIGxvYWQgZm9yOiIgR3JpZFBhbmUucm93SW5kZXg9IjUiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIiBHcmlkUGFuZS5oYWxpZ25tZW50PSJSSUdIVCIvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIGZ4OmlkPSJzdGVwcGluZ0hvbGRMb2FkU3Bpbm5lciIgZWRpdGFibGU9InRydWUiIGluaXRpYWxWYWx1ZT0iNjAiIG1pbj0iMCIgbWF4PSI4NjQwMCIgR3JpZFBhbmUucm93SW5kZXg9IjUiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9InNlY29uZHMuIiBHcmlkUGFuZS5yb3dJbmRleD0iNSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjIiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZFBhbmU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgZng6aWQ9InVsdGltYXRlVGFiIiB0ZXh0PSJVbHRpbWF0ZSBMb2FkIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjEwIiByaWdodD0iMTAiIGJvdHRvbT0iMTAiIGxlZnQ9IjEwIi8+PC9wYWRkaW5nPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDppZD0idWx0aW1hdGVTdGVwc1RhYmxlIiBlZGl0YWJsZT0idHJ1ZSIgcHJlZkhlaWdodD0iMjAwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ1bHRpbWF0ZVN0YXJ0VGltZUNvbCIgdGV4dD0iU3RhcnQgVGltZSAocykiIHByZWZXaWR0aD0iMTAwIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0idWx0aW1hdGVJbml0aWFsTG9hZENvbCIgdGV4dD0iSW5pdGlhbCBMb2FkICh1c2VycykiIHByZWZXaWR0aD0iMTIwIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0idWx0aW1hdGVTdGFydHVwVGltZUNvbCIgdGV4dD0iU3RhcnR1cCBUaW1lIChzKSIgcHJlZldpZHRoPSIxMTAiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ1bHRpbWF0ZUhvbGRUaW1lQ29sIiB0ZXh0PSJIb2xkIFRpbWUgKHMpIiBwcmVmV2lkdGg9IjEwMCIvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9InVsdGltYXRlU2h1dGRvd25UaW1lQ29sIiB0ZXh0PSJTaHV0ZG93biBUaW1lIChzKSIgcHJlZldpZHRoPSIxMjAiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9IjEwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9IkFkZCBTdGVwIiBmeDppZD0iYWRkVWx0aW1hdGVTdGVwQnV0dG9uIi8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PSJSZW1vdmUgU3RlcCIgZng6aWQ9InJlbW92ZVVsdGltYXRlU3RlcEJ1dHRvbiIvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb250ZW50Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiUGFuZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgIDwvVGFiPg0KICAgICAgICAgICAgICAgICAgICA8IS0tIFNjaGVkdWxlciBzZXR0aW5ncyAtLT4NCiAgICAgICAgICAgICAgICAgICAgPFRhYiB0ZXh0PSJTY2hlZHVsZXIgU2V0dGluZ3MiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9IjEwIiB2Z2FwPSI4Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjEwIiByaWdodD0iMTAiIGxlZnQ9IjEwIiBib3R0b209IjEwIi8+PC9wYWRkaW5nPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iU3RhcnQgVGltZToiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIGZ4OmlkPSJzdGFydERhdGVQaWNrZXIiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJUaW1lOiIgR3JpZFBhbmUucm93SW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIyIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhCb3ggc3BhY2luZz0iNC4wIiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9ImhvdXJTcGlubmVyIiBwcmVmV2lkdGg9IjYwIiBlZGl0YWJsZT0idHJ1ZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IjoiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIGZ4OmlkPSJtaW51dGVTcGlubmVyIiBwcmVmV2lkdGg9IjYwIiBlZGl0YWJsZT0idHJ1ZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IjoiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIGZ4OmlkPSJzZWNvbmRTcGlubmVyIiBwcmVmV2lkdGg9IjYwIiBlZGl0YWJsZT0idHJ1ZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkZyZXF1ZW5jeToiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21ib0JveCBmeDppZD0iZnJlcXVlbmN5Q29tYm8iIHByb21wdFRleHQ9Ik9uY2UgLyBEYWlseSAvIFdlZWtseSIgR3JpZFBhbmUucm93SW5kZXg9IjEiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZFBhbmU+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgIDwvVGFiPg0KICAgICAgICAgICAgICAgIDwvdGFicz4NCiAgICAgICAgICAgIDwvVGFiUGFuZT4NCg0KICAgICAgICAgICAgPCEtLSBBY3Rpb24gYnV0dG9ucyAtLT4NCiAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHNwYWNpbmc9IjEwLjAiPg0KICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0iQWRkIiBvbkFjdGlvbj0iI2hhbmRsZUFkZFNjZW5hcmlvIiAvPg0KICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0iVXBkYXRlIiBvbkFjdGlvbj0iI2hhbmRsZVNhdmVTY2VuYXJpbyIgLz4NCiAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9IkR1cGxpY2F0ZSIgb25BY3Rpb249IiNoYW5kbGVEdXBsaWNhdGVTY2VuYXJpbyIgLz4NCiAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9IkRlbGV0ZSIgb25BY3Rpb249IiNoYW5kbGVEZWxldGVTY2VuYXJpbyIgLz4NCiAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9IkNsZWFyIiBvbkFjdGlvbj0iI2hhbmRsZUNsZWFyU2NlbmFyaW9Gb3JtIiAvPg0KICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9Im1vdmVTY2VuYXJpb1VwQnV0dG9uIiB0ZXh0PSJVcCIgb25BY3Rpb249IiNoYW5kbGVNb3ZlU2NlbmFyaW9VcCIgLz4NCiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJtb3ZlU2NlbmFyaW9Eb3duQnV0dG9uIiB0ZXh0PSJEb3duIiBvbkFjdGlvbj0iI2hhbmRsZU1vdmVTY2VuYXJpb0Rvd24iIC8+DQogICAgICAgICAgICAgICAgPFNlcGFyYXRvciBvcmllbnRhdGlvbj0iVkVSVElDQUwiIC8+DQogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0icnVuU2NlbmFyaW9CdXR0b24iIHRleHQ9IlJ1biBTZWxlY3RlZCBTY2VuYXJpbyhzKSIgb25BY3Rpb249IiNoYW5kbGVSdW5TY2VuYXJpbyIgLz4NCiAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9IlNjaGVkdWxlIiBvbkFjdGlvbj0iI2hhbmRsZVNjaGVkdWxlU2NlbmFyaW8iIC8+DQogICAgICAgICAgICA8L0hCb3g+DQoNCiAgICAgICAgICAgIDwhLS0gU2NlbmFyaW8gbGlzdCAtLT4NCiAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJTY2VuYXJpbyBMaXN0IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNHB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4NCiAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9InNjZW5hcmlvVGFibGUiIFZCb3gudmdyb3c9IkFMV0FZUyIgc3R5bGVDbGFzcz0idGFibGUtdmlldyI+DQogICAgICAgICAgICAgICAgPGNvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0ic2NOYW1lQ29sIiB0ZXh0PSJOYW1lIiBwcmVmV2lkdGg9IjEwMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9InNjVHlwZUNvbCIgdGV4dD0iTW9kZWwgVHlwZSIgcHJlZldpZHRoPSIxMDAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJzY1N0ZXBDb3VudENvbCIgdGV4dD0iI1N0ZXBzIiBwcmVmV2lkdGg9IjEwMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9InNjRGVzY0NvbCIgdGV4dD0iRGVzY3JpcHRpb24iIHByZWZXaWR0aD0iMzAwLjAiIC8+DQogICAgICAgICAgICAgICAgPC9jb2x1bW5zPg0KICAgICAgICAgICAgICAgIDxjb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6Y29uc3RhbnQ9IkNPTlNUUkFJTkVEX1JFU0laRV9QT0xJQ1kiIC8+DQogICAgICAgICAgICAgICAgPC9jb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICA8L1RhYmxlVmlldz4NCiAgICAgICAgPC9WQm94Pg0KICAgIDwvY2hpbGRyZW4+DQo8L0FuY2hvclBhbmU+IA==
END
PATH:src/main/resources/com/qa/app/ui/view/gatling_test_report_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b24/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5Db21ib0JveD8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkxhYmVsPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuU2VwYXJhdG9yPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuU3BsaXRQYW5lPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFiPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFiUGFuZT8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlQ29sdW1uPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVWaWV3Pz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGV4dEFyZWE/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UaXRsZWRQYW5lPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVHJlZVRhYmxlQ29sdW1uPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVHJlZVRhYmxlVmlldz8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuQW5jaG9yUGFuZT8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuQ29sdW1uQ29uc3RyYWludHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LkdyaWRQYW5lPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5IQm94Pz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5Sb3dDb25zdHJhaW50cz8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuVkJveD8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS53ZWIuV2ViVmlldz8+Cjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuQm9yZGVyUGFuZT8+Cgo8QW5jaG9yUGFuZSBwcmVmSGVpZ2h0PSI4MDAuMCIgcHJlZldpZHRoPSIxMjAwLjAiIHhtbG5zPSJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTciIHhtbG5zOmZ4PSJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzEiIGZ4OmNvbnRyb2xsZXI9ImNvbS5xYS5hcHAudWkudm0uR2F0bGluZ1Rlc3RSZXBvcnRWaWV3TW9kZWwiPgogICA8Y2hpbGRyZW4+CiAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiPgogICAgICAgICA8cGFkZGluZz4KICAgICAgICAgICAgPEluc2V0cyBib3R0b209IjE1LjAiIGxlZnQ9IjE1LjAiIHJpZ2h0PSIxNS4wIiB0b3A9IjE1LjAiIC8+CiAgICAgICAgIDwvcGFkZGluZz4KICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICA8TGFiZWwgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTZweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIHRleHQ9IkdhdGxpbmcgVGVzdCBSZXBvcnRzIiAvPgogICAgICAgICAgICA8U2VwYXJhdG9yIC8+CiAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIHhtbG5zPSJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTciIHhtbG5zOmZ4PSJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzEiPgogICAgICAgICAgICAgICA8IS0tIEZpbGUgc2VsZWN0aW9uIC8gYWN0aW9ucyAtLT4KICAgICAgICAgICAgICAgPEhCb3ggYWxpZ25tZW50PSJDRU5URVJfTEVGVCIgc3BhY2luZz0iMTAuMCI+CiAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkdhdGxpbmcgVGVzdCBSZXBvcnRzOiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvQm94IGZ4OmlkPSJyZWNlbnRGaWxlc0NvbWJvIiBvbkFjdGlvbj0iI2hhbmRsZVJlY2VudFNlbGVjdGlvbiIgcHJlZldpZHRoPSIzMDAuMCIgcHJvbXB0VGV4dD0iU2VsZWN0IGEgcmVwb3J0Li4uIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25BY3Rpb249IiNoYW5kbGVMb2FkUmVwb3J0IiB0ZXh0PSJCcm93c2UuLi4iIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25BY3Rpb249IiNoYW5kbGVFeHBvcnRIdG1sIiB0ZXh0PSJFeHBvcnQgU3VtbWFyeSIgLz4KICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgICAgPC9IQm94PgogICAgICAgICAgICA8L1ZCb3g+CgogICAgICAgICAgICA8IS0tIE1haW4gY29udGVudCBhcmVhIHJlcHJlc2VudGVkIGJ5IHR3byB0YWJzIC0tPgogICAgICAgICAgICA8VGFiUGFuZSBWQm94LnZncm93PSJBTFdBWVMiIHRhYkNsb3NpbmdQb2xpY3k9IlVOQVZBSUxBQkxFIj4KICAgICAgICAgICAgICAgIDx0YWJzPgogICAgICAgICAgICAgICAgICAgIDwhLS0gRGV0YWlscyBUYWIgLS0+CiAgICAgICAgICAgICAgICAgICAgPFRhYiB0ZXh0PSJEZXRhaWxzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BsaXRQYW5lIGRpdmlkZXJQb3NpdGlvbnM9IjAuNCIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5sZWZ0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUucmlnaHRBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjAuMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGl0ZW1zPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5jaG9yUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBBbmNob3JQYW5lLmJvdHRvbUFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLmxlZnRBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5yaWdodEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnRvcEFuY2hvcj0iMC4wIiBzcGFjaW5nPSI2LjAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJlZVRhYmxlVmlldyBmeDppZD0icmVxdWVzdHNUcmVlVGFibGVWaWV3IiBWQm94LnZncm93PSJBTFdBWVMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJlZVRhYmxlQ29sdW1uIGZ4OmlkPSJuYW1lQ29sdW1uIiBwcmVmV2lkdGg9IjE1MC4wIiB0ZXh0PSJOYW1lIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJlZVRhYmxlQ29sdW1uIGZ4OmlkPSJzdGF0dXNDb2x1bW4iIG1pbldpZHRoPSIwLjAiIHByZWZXaWR0aD0iNzUuMCIgdGV4dD0iU3RhdHVzIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJlZVRhYmxlQ29sdW1uIGZ4OmlkPSJyZXN1bHRDb2x1bW4iIHByZWZXaWR0aD0iNzUuMCIgdGV4dD0iUmVzdWx0IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJlZVRhYmxlVmlldyBmeDpjb25zdGFudD0iQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtblJlc2l6ZVBvbGljeT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHJlZVRhYmxlVmlldz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FuY2hvclBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbmNob3JQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJQYW5lIGZ4OmlkPSJkZXRhaWxzVGFiUGFuZSIgdGFiQ2xvc2luZ1BvbGljeT0iVU5BVkFJTEFCTEUiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFicz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiB0ZXh0PSJSZXF1ZXN0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dG9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGl0bGVkUGFuZSBhbmltYXRlZD0iZmFsc2UiIHRleHQ9IlVSTCAmYW1wOyBNZXRob2QiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoZ3Jvdz0iU09NRVRJTUVTIiBtYXhXaWR0aD0iMjg1LjAiIG1pbldpZHRoPSIxMC4wIiBwcmVmV2lkdGg9IjY4LjAiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoZ3Jvdz0iU09NRVRJTUVTIiBtYXhXaWR0aD0iNTE5LjAiIG1pbldpZHRoPSIxMC4wIiBwcmVmV2lkdGg9IjUxOS4wIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cm93Q29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3dDb25zdHJhaW50cyBtaW5IZWlnaHQ9IjEwLjAiIHByZWZIZWlnaHQ9IjMwLjAiIHZncm93PSJTT01FVElNRVMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3dDb25zdHJhaW50cyBtaW5IZWlnaHQ9IjEwLjAiIHByZWZIZWlnaHQ9IjMwLjAiIHZncm93PSJTT01FVElNRVMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcm93Q29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9Ik1ldGhvZDoiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJVUkw6IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPSJtZXRob2RMYWJlbCIgdGV4dD0iLSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmeDppZD0idXJsTGFiZWwiIHRleHQ9Ii0iIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpdGxlZFBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaXRsZWRQYW5lIGFuaW1hdGVkPSJmYWxzZSIgdGV4dD0iSGVhZGVycyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEFyZWEgZng6aWQ9InJlcXVlc3RIZWFkZXJzVGV4dEFyZWEiIGVkaXRhYmxlPSJmYWxzZSIgcHJlZkhlaWdodD0iMTUwLjAiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaXRsZWRQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdG9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2VudGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJvcmRlclBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dG9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlJlcXVlc3QgQm9keSIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDUgNSA1IDU7IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90b3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2VudGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJyZXF1ZXN0Qm9keVRleHRBcmVhIiBlZGl0YWJsZT0iZmFsc2UiIHdyYXBUZXh0PSJ0cnVlIiBWQm94LnZncm93PSJBTFdBWVMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NlbnRlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQm9yZGVyUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jZW50ZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQm9yZGVyUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiB0ZXh0PSJSZXNwb25zZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm9yZGVyUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3g+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpdGxlZFBhbmUgYW5pbWF0ZWQ9ImZhbHNlIiB0ZXh0PSJTdGF0dXMgJmFtcDsgVGltaW5ncyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZFBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhncm93PSJTT01FVElNRVMiIG1heFdpZHRoPSIyODUuMCIgbWluV2lkdGg9IjEwLjAiIHByZWZXaWR0aD0iMTAwLjAiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoZ3Jvdz0iU09NRVRJTUVTIiBtYXhXaWR0aD0iNTE5LjAiIG1pbldpZHRoPSIxMC4wIiBwcmVmV2lkdGg9IjUxOS4wIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cm93Q29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3dDb25zdHJhaW50cyBtaW5IZWlnaHQ9IjEwLjAiIHByZWZIZWlnaHQ9IjMwLjAiIHZncm93PSJTT01FVElNRVMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3dDb25zdHJhaW50cyBtaW5IZWlnaHQ9IjEwLjAiIHByZWZIZWlnaHQ9IjMwLjAiIHZncm93PSJTT01FVElNRVMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3dDb25zdHJhaW50cyBtaW5IZWlnaHQ9IjEwLjAiIHByZWZIZWlnaHQ9IjMwLjAiIHZncm93PSJTT01FVElNRVMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcm93Q29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlN0YXR1czoiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJMYXRlbmN5IChtcyk6IiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPSJyZXNwb25zZVN0YXR1c0xhYmVsIiB0ZXh0PSItIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPSJsYXRlbmN5TGFiZWwiIHRleHQ9Ii0iIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlNpemUgKGJ5dGVzKToiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZng6aWQ9InNpemVMYWJlbCIgdGV4dD0iLSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGl0bGVkUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpdGxlZFBhbmUgYW5pbWF0ZWQ9ImZhbHNlIiB0ZXh0PSJIZWFkZXJzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0QXJlYSBmeDppZD0icmVzcG9uc2VIZWFkZXJzVGV4dEFyZWEiIGVkaXRhYmxlPSJmYWxzZSIgcHJlZkhlaWdodD0iMTUwLjAiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaXRsZWRQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdG9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2VudGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJvcmRlclBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dG9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlJlc3BvbnNlIEJvZHkiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA1IDUgNSA1OyIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdG9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNlbnRlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0QXJlYSBmeDppZD0icmVzcG9uc2VCb2R5VGV4dEFyZWEiIGVkaXRhYmxlPSJmYWxzZSIgd3JhcFRleHQ9InRydWUiIFZCb3gudmdyb3c9IkFMV0FZUyIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2VudGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3JkZXJQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NlbnRlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3JkZXJQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGZ4OmlkPSJjaGVja3NUYWIiIHRleHQ9IkNoZWNrcyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5jaG9yUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJjaGVja3NUYWJsZVZpZXciIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJjaGVja1R5cGVDb2x1bW4iIHByZWZXaWR0aD0iNTAuMCIgdGV4dD0iVHlwZSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJjaGVja0V4cHJlc3Npb25Db2x1bW4iIHByZWZXaWR0aD0iMTAwLjAiIHRleHQ9IkV4cHJlc3Npb24iIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iY2hlY2tPcGVyYXRvckNvbHVtbiIgcHJlZldpZHRoPSI1MC4wIiB0ZXh0PSJPcGVyYXRvciIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJjaGVja0V4cGVjdGVkQ29sdW1uIiBwcmVmV2lkdGg9Ijc1LjAiIHRleHQ9IkV4cGVjdGVkIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImNoZWNrQWN0dWFsQ29sdW1uIiBwcmVmV2lkdGg9Ijc1LjAiIHRleHQ9IkFjdHVhbCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJjaGVja1Jlc3VsdENvbHVtbiIgcHJlZldpZHRoPSI1MC4wIiB0ZXh0PSJSZXN1bHQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbHVtblJlc2l6ZVBvbGljeT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDpjb25zdGFudD0iQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5SZXNpemVQb2xpY3k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVWaWV3PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FuY2hvclBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFicz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5jaG9yUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2l0ZW1zPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TcGxpdFBhbmU+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4KICAgICAgICAgICAgICAgICAgICA8L1RhYj4KCiAgICAgICAgICAgICAgICAgICAgPCEtLSBTdW1tYXJ5IFRhYiAtLT4KICAgICAgICAgICAgICAgICAgICA8VGFiIGZ4OmlkPSJzdW1tYXJ5VGFiIiB0ZXh0PSJTdW1tYXJ5IiBkaXNhYmxlPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5jaG9yUGFuZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxXZWJWaWV3IGZ4OmlkPSJzdW1tYXJ5V2ViVmlldyIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5sZWZ0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUucmlnaHRBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjAuMCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BbmNob3JQYW5lPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgPC9UYWI+CiAgICAgICAgICAgICAgICA8L3RhYnM+CiAgICAgICAgICAgIDwvVGFiUGFuZT4KICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgPC9WQm94PgogICA8L2NoaWxkcmVuPgo8L0FuY2hvclBhbmU+IA==
END
PATH:src/main/resources/com/qa/app/ui/view/gatling_test_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCg0KPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUudGV4dC5Gb250Pz4NCjw/aW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zPz4NCg0KPEFuY2hvclBhbmUgcHJlZkhlaWdodD0iODAwLjAiIHByZWZXaWR0aD0iMTIwMC4wIiB4bWxucz0iaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE3IiB4bWxuczpmeD0iaHR0cDovL2phdmFmeC5jb20vZnhtbC8xIiBmeDpjb250cm9sbGVyPSJjb20ucWEuYXBwLnVpLnZtLkdhdGxpbmdUZXN0Vmlld01vZGVsIj4NCiAgICA8Y2hpbGRyZW4+DQogICAgICAgIDxWQm94IGxheW91dFg9IjEwLjAiIGxheW91dFk9IjEwLjAiIHByZWZIZWlnaHQ9Ijc4MC4wIiBwcmVmV2lkdGg9IjExODAuMCIgc3BhY2luZz0iMTUuMCIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9IjEwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMTAuMCIgQW5jaG9yUGFuZS5yaWdodEFuY2hvcj0iMTAuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjEwLjAiPg0KICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgIDwhLS0gVGl0bGUgLS0+DQogICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkdhdGxpbmcgVGVzdCBNYW5hZ2VtZW50IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4NCiAgICAgICAgICAgICAgICA8U2VwYXJhdG9yIC8+DQoNCiAgICAgICAgICAgICAgICA8IS0tIEZvcm0gU2VjdGlvbiAobm8gU2Nyb2xsUGFuZSkgLS0+DQogICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYlBhbmUgZng6aWQ9InRlc3RNYW5hZ2VtZW50VGFiUGFuZSIgVkJveC52Z3Jvdz0iQUxXQVlTIiB0YWJDbG9zaW5nUG9saWN5PSJVTkFWQUlMQUJMRSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQmFzaWMgSW5mb3JtYXRpb24gVGFiIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIHRleHQ9IkJhc2ljIEluZm9ybWF0aW9uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb250ZW50Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjEwLjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz48SW5zZXRzIHRvcD0iMTUiIGxlZnQ9IjEwIiByaWdodD0iMTAiIGJvdHRvbT0iMTUiLz48L3BhZGRpbmc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRmlyc3QgUm93OiBJcyBSdW4sIFRlc3QgU3VpdGUsIFRlc3QgQ2FzZSBJRCwgVGFncywgV2FpdCBUaW1lIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBzcGFjaW5nPSIxNS4wIiBhbGlnbm1lbnQ9IkNFTlRFUl9MRUZUIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSI1LjAiIG1pbldpZHRoPSI2MC4wIiBtYXhXaWR0aD0iNjAuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJFbmFibGVkOiIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tCb3ggZng6aWQ9ImlzRW5hYmxlZENoZWNrQm94IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSI1LjAiIG1pbldpZHRoPSIzMDAuMCIgbWF4V2lkdGg9IjMwMC4wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlRlc3QgU3VpdGU6IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21ib0JveCBmeDppZD0ic3VpdGVDb21ib0JveCIgcHJvbXB0VGV4dD0iRW50ZXIgdGVzdCBzdWl0ZSBuYW1lIiBlZGl0YWJsZT0idHJ1ZSIgcHJlZldpZHRoPSIyMzguMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBIQm94Lmhncm93PSJBTFdBWVMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVGVzdCBDYXNlIElEOiIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPSJ0Y2lkRmllbGQiIHByb21wdFRleHQ9IkVudGVyIHRlc3QgY2FzZSBJRCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBIQm94Lmhncm93PSJBTFdBWVMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVGFnczoiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZsb3dQYW5lIGZ4OmlkPSJ0YWdzRmxvd1BhbmUiIGhnYXA9IjUiIHZnYXA9IjUiIHByZWZXaWR0aD0iMzAwLjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0idGFnc0lucHV0RmllbGQiIHByb21wdFRleHQ9IlByZXNzIEVudGVyIHRvIGFkZCB0YWciIG9uQWN0aW9uPSIjaGFuZGxlVGFnSW5wdXQiIHByZWZXaWR0aD0iMTIwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRmxvd1BhbmU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgbWluV2lkdGg9IjEwMC4wIiBtYXhXaWR0aD0iMTAwLjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iV2FpdCBUaW1lIChzKToiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgZng6aWQ9IndhaXRUaW1lU3Bpbm5lciIgcHJlZldpZHRoPSIxMDAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0hCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFNlY29uZCBSb3c6IFRlc3QgQ29uZGl0aW9ucyBhbmQgVGVzdCBEZXNjcmlwdGlvbnMgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9IjE1LjAiIGFsaWdubWVudD0iVE9QX0xFRlQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgbWluV2lkdGg9IjM1MC4wIiBtYXhXaWR0aD0iMzUwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJUZXN0IENvbmRpdGlvbnM6IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9IjUuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJjb25kaXRpb25zVGFibGUiIFZCb3gudmdyb3c9IkFMV0FZUyIgZWRpdGFibGU9InRydWUiIHN0eWxlQ2xhc3M9InRhYmxlLXZpZXciPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJwcmVmaXhDb2x1bW4iIHRleHQ9IlByZWZpeCIgcHJlZldpZHRoPSIxMTAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImNvbmRpdGlvblRjaWRDb2x1bW4iIHRleHQ9IlRDSUQiIHByZWZXaWR0aD0iMjAwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVWaWV3Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSI1LjAiIGFsaWdubWVudD0iVE9QX0NFTlRFUiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iYWRkQ29uZGl0aW9uQnV0dG9uIiB0ZXh0PSIrIiBvbkFjdGlvbj0iI2hhbmRsZUFkZENvbmRpdGlvbiIgcHJlZldpZHRoPSIzMC4wIiBtYXhXaWR0aD0iMzAuMCIgbWluV2lkdGg9IjMwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0icmVtb3ZlQ29uZGl0aW9uQnV0dG9uIiB0ZXh0PSItIiBvbkFjdGlvbj0iI2hhbmRsZVJlbW92ZUNvbmRpdGlvbiIgcHJlZldpZHRoPSIzMC4wIiBtYXhXaWR0aD0iMzAuMCIgbWluV2lkdGg9IjMwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSEJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBIQm94Lmhncm93PSJBTFdBWVMiIFZCb3gudmdyb3c9IkFMV0FZUyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJUZXN0IERlc2NyaXB0aW9uczoiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJkZXNjcmlwdGlvbnNBcmVhIiBwcm9tcHRUZXh0PSJEZXNjcmliZSB0ZXN0IHB1cnBvc2UgYW5kIGV4cGVjdGVkIGJlaGF2aW9yIiBWQm94LnZncm93PSJBTFdBWVMiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEFQSSBDb25maWd1cmF0aW9uIFRhYiAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiB0ZXh0PSJBUEkgQ29uZmlndXJhdGlvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiUGFuZSBmeDppZD0iYXBpQ29uZmlnVGFiUGFuZSIgdGFiQ2xvc2luZ1BvbGljeT0iVU5BVkFJTEFCTEUiIFZCb3gudmdyb3c9IkFMV0FZUyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJzPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBFbmRwb2ludCBUYWIgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIHRleHQ9IkVuZHBvaW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz48SW5zZXRzIHRvcD0iNiIgbGVmdD0iNiIgcmlnaHQ9IjYiIGJvdHRvbT0iNiIvPjwvcGFkZGluZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgSEJveC5oZ3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJFbmRwb2ludDoiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9Cb3ggZng6aWQ9ImVuZHBvaW50Q29tYm9Cb3giIHByb21wdFRleHQ9IlNlbGVjdCBFbmRwb2ludCIgbWF4V2lkdGg9IkluZmluaXR5IiBWQm94LnZncm93PSJORVZFUiIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBOZXcgVVJMIFZhcmlhYmxlIFNlY3Rpb24gLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBzcGFjaW5nPSIxNS4wIiBhbGlnbm1lbnQ9IlRPUF9MRUZUIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgcHJlZldpZHRoPSI0MDAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVVJMIFVzZXIgRGVmaW5lZCBWYXJpYWJsZXM6IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJ1cmxEeW5hbWljVmFyc1RhYmxlIiBWQm94LnZncm93PSJBTFdBWVMiIHN0eWxlQ2xhc3M9InRhYmxlLXZpZXciPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0idXJsRHluYW1pY0tleUNvbHVtbiIgcHJlZldpZHRoPSIxNTAuMCIgdGV4dD0iS2V5IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ1cmxEeW5hbWljVmFsdWVDb2x1bW4iIHByZWZXaWR0aD0iMjUwLjAiIHRleHQ9IlZhbHVlIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ1cmxEeW5hbWljQWN0aW9uQ29sdW1uIiBwcmVmV2lkdGg9IjYwLjAiIHRleHQ9IkFjdGlvbiIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDpjb25zdGFudD0iQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgSEJveC5oZ3Jvdz0iQUxXQVlTIiBWQm94LnZncm93PSJBTFdBWVMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJHZW5lcmF0ZWQgVVJMIFByZXZpZXc6IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEFyZWEgZng6aWQ9ImdlbmVyYXRlZFVybEFyZWEiIGVkaXRhYmxlPSJmYWxzZSIgd3JhcFRleHQ9InRydWUiIFZCb3gudmdyb3c9IkFMV0FZUyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb250ZW50Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEhlYWRlcnMgVGFiIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiB0ZXh0PSJIZWFkZXJzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz48SW5zZXRzIHRvcD0iNiIgbGVmdD0iNiIgcmlnaHQ9IjYiIGJvdHRvbT0iNiIvPjwvcGFkZGluZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9IjE1LjAiIGFsaWdubWVudD0iVE9QX0xFRlQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBwcmVmV2lkdGg9IjQwMC4wIiBWQm94LnZncm93PSJBTFdBWVMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJIZWFkZXJzIFRlbXBsYXRlOiIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvQm94IGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVDb21ib0JveCIgcHJvbXB0VGV4dD0iU2VsZWN0IGhlYWRlcnMgdGVtcGxhdGUiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhCb3ggc3BhY2luZz0iNSIgYWxpZ25tZW50PSJDRU5URVJfTEVGVCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJIZWFkZXJzIFVzZXIgRGVmaW5lZCBWYXJpYWJsZXM6IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPSJoZWFkZXJzSGVscEljb24iIHRleHQ9Ij8iIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC10ZXh0LWZpbGw6IGJsdWU7IC1meC1jdXJzb3I6IGhhbmQ7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb250Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb250IG5hbWU9IlN5c3RlbSBCb2xkIiBzaXplPSIxNC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb250Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSEJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVWYXJzVGFibGUiIFZCb3gudmdyb3c9IkFMV0FZUyIgc3R5bGVDbGFzcz0idGFibGUtdmlldyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVLZXlDb2x1bW4iIHByZWZXaWR0aD0iMTUwLjAiIHRleHQ9IktleSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iaGVhZGVyc1RlbXBsYXRlVmFsdWVDb2x1bW4iIHByZWZXaWR0aD0iMjUwLjAiIHRleHQ9IlZhbHVlIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVBY3Rpb25Db2x1bW4iIHByZWZXaWR0aD0iNjAuMCIgdGV4dD0iQWN0aW9uIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmNvbnN0YW50PSJDT05TVFJBSU5FRF9SRVNJWkVfUE9MSUNZIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtblJlc2l6ZVBvbGljeT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBIQm94Lmhncm93PSJBTFdBWVMiIFZCb3gudmdyb3c9IkFMV0FZUyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkdlbmVyYXRlZCBIZWFkZXJzIFByZXZpZXc6IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEFyZWEgZng6aWQ9ImdlbmVyYXRlZEhlYWRlcnNBcmVhIiBlZGl0YWJsZT0iZmFsc2UiIHdyYXBUZXh0PSJ0cnVlIiBWQm94LnZncm93PSJBTFdBWVMiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSEJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBCb2R5IFRhYiAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgdGV4dD0iQm9keSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjEwLjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjYiIGxlZnQ9IjYiIHJpZ2h0PSI2IiBib3R0b209IjYiLz48L3BhZGRpbmc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBzcGFjaW5nPSIxNS4wIiBhbGlnbm1lbnQ9IlRPUF9MRUZUIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgcHJlZldpZHRoPSI0MDAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iQm9keSBUZW1wbGF0ZToiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21ib0JveCBmeDppZD0iYm9keVRlbXBsYXRlQ29tYm9Cb3giIHByb21wdFRleHQ9IlNlbGVjdCBib2R5IHRlbXBsYXRlIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9IjUiIGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iQm9keSBVc2VyIERlZmluZWQgVmFyaWFibGVzOiIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZng6aWQ9ImJvZHlIZWxwSWNvbiIgdGV4dD0iPyIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXRleHQtZmlsbDogYmx1ZTsgLWZ4LWN1cnNvcjogaGFuZDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvbnQgbmFtZT0iU3lzdGVtIEJvbGQiIHNpemU9IjE0LjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ZvbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9ImJvZHlEeW5hbWljVmFyc1RhYmxlIiBWQm94LnZncm93PSJBTFdBWVMiIHN0eWxlQ2xhc3M9InRhYmxlLXZpZXciPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iYm9keUR5bmFtaWNLZXlDb2x1bW4iIHByZWZXaWR0aD0iMTUwLjAiIHRleHQ9IktleSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iYm9keUR5bmFtaWNWYWx1ZUNvbHVtbiIgcHJlZldpZHRoPSIyNTAuMCIgdGV4dD0iVmFsdWUiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImJvZHlEeW5hbWljQWN0aW9uQ29sdW1uIiBwcmVmV2lkdGg9IjYwLjAiIHRleHQ9IkFjdGlvbiIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDpjb25zdGFudD0iQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgSEJveC5oZ3Jvdz0iQUxXQVlTIiBWQm94LnZncm93PSJBTFdBWVMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJHZW5lcmF0ZWQgQm9keSBQcmV2aWV3OiIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJnZW5lcmF0ZWRCb2R5QXJlYSIgZWRpdGFibGU9ImZhbHNlIiB3cmFwVGV4dD0idHJ1ZSIgVkJveC52Z3Jvdz0iQUxXQVlTIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0hCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJzPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiUGFuZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY29udGVudD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFJlc3BvbnNlIENvbmZpZ3VyYXRpb24gVGFiIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIHRleHQ9IlJlc3BvbnNlIENvbmZpZ3VyYXRpb24iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSIxNSIgbGVmdD0iMTAiIHJpZ2h0PSIxMCIgYm90dG9tPSIxNSIvPjwvcGFkZGluZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhCb3ggc3BhY2luZz0iNSIgYWxpZ25tZW50PSJDRU5URVJfTEVGVCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iUmVzcG9uc2UgQ2hlY2tzOiIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZng6aWQ9InJlc3BvbnNlSGVscEljb24iIHRleHQ9Ij8iIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC10ZXh0LWZpbGw6IGJsdWU7IC1meC1jdXJzb3I6IGhhbmQ7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9udD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvbnQgbmFtZT0iU3lzdGVtIEJvbGQiIHNpemU9IjE0LjAiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb250Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBzcGFjaW5nPSI1LjAiIGFsaWdubWVudD0iVE9QX0xFRlQiIFZCb3gudmdyb3c9IkFMV0FZUyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDppZD0icmVzcG9uc2VDaGVja3NUYWJsZSIgZWRpdGFibGU9InRydWUiIEhCb3guaGdyb3c9IkFMV0FZUyIgVkJveC52Z3Jvdz0iQUxXQVlTIiBzdHlsZUNsYXNzPSJ0YWJsZS12aWV3Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbHVtbnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImNoZWNrVHlwZUNvbHVtbiIgdGV4dD0iQ2hlY2sgVHlwZSIgcHJlZldpZHRoPSIxMjAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iY2hlY2tFeHByZXNzaW9uQ29sdW1uIiB0ZXh0PSJDaGVjayBFeHByZXNzaW9uIiBwcmVmV2lkdGg9IjMwMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJjaGVja09wZXJhdG9yQ29sdW1uIiB0ZXh0PSJPcGVyYXRvciIgcHJlZldpZHRoPSIxMjAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iY2hlY2tFeHBlY3RDb2x1bW4iIHRleHQ9IkV4cGVjdGVkIFZhbHVlIiBwcmVmV2lkdGg9IjIwMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJjaGVja1NhdmVBc0NvbHVtbiIgdGV4dD0iU2F2ZSBBcyIgcHJlZldpZHRoPSIxMjAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDpjb25zdGFudD0iQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBhbGlnbm1lbnQ9IlRPUF9DRU5URVIiIHByZWZXaWR0aD0iNDAuMCIgbWF4V2lkdGg9IjQwLjAiIG1pbldpZHRoPSI0MC4wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkFjdGlvbj0iI2hhbmRsZUFkZFJlc3BvbnNlQ2hlY2siIHRleHQ9IisiIHByZWZXaWR0aD0iMzAuMCIgbWF4V2lkdGg9IjMwLjAiIG1pbldpZHRoPSIzMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkFjdGlvbj0iI2hhbmRsZVJlbW92ZVJlc3BvbnNlQ2hlY2siIHRleHQ9Ii0iIHByZWZXaWR0aD0iMzAuMCIgbWF4V2lkdGg9IjMwLjAiIG1pbldpZHRoPSIzMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iY29weVJlc3BvbnNlQ2hlY2tCdXR0b24iIHRleHQ9IuKniSIgb25BY3Rpb249IiNoYW5kbGVDb3B5UmVzcG9uc2VDaGVjayIgcHJlZldpZHRoPSIzMC4wIiBtYXhXaWR0aD0iMzAuMCIgbWluV2lkdGg9IjMwLjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0b29sdGlwPjxUb29sdGlwIHRleHQ9IkNvcHkgc2VsZWN0ZWQgY2hlY2socykiLz48L3Rvb2x0aXA+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9InBhc3RlUmVzcG9uc2VDaGVja0J1dHRvbiIgdGV4dD0i4o6YIiBvbkFjdGlvbj0iI2hhbmRsZVBhc3RlUmVzcG9uc2VDaGVjayIgcHJlZldpZHRoPSIzMC4wIiBtYXhXaWR0aD0iMzAuMCIgbWluV2lkdGg9IjMwLjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0b29sdGlwPjxUb29sdGlwIHRleHQ9IlBhc3RlIGNoZWNrKHMpIGZyb20gY2xpcGJvYXJkIi8+PC90b29sdGlwPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJyZXNwb25zZUhlbHBCdXR0b24iIHRleHQ9Ij8iIG9uQWN0aW9uPSIjaGFuZGxlUmVzcG9uc2VIZWxwQ2xpY2siIHByZWZXaWR0aD0iMzAuMCIgbWF4V2lkdGg9IjMwLjAiIG1pbldpZHRoPSIzMC4wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dG9vbHRpcD48VG9vbHRpcCB0ZXh0PSJTaG93IGhlbHAgZm9yIHJlc3BvbnNlIGNoZWNrcyIvPjwvdG9vbHRpcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSEJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFicz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiUGFuZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gSGlkZGVuIGZpZWxkIGZvciBJRCAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9InRlc3RJZEZpZWxkIiB2aXNpYmxlPSJmYWxzZSIgbWFuYWdlZD0iZmFsc2UiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBIaWRkZW4gbGVnYWN5IGZpZWxkcyB0byBrZWVwIFZpZXdNb2RlbCBjb21wYXRpYmlsaXR5IC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHZpc2libGU9ImZhbHNlIiBtYW5hZ2VkPSJmYWxzZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0QXJlYSBmeDppZD0iZXhwUmVzdWx0QXJlYSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0QXJlYSBmeDppZD0ic2F2ZUZpZWxkc0FyZWEiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICA8IS0tIEFjdGlvbiBCdXR0b25zIFNlY3Rpb24gLS0+DQogICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCI+DQogICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHNwYWNpbmc9IjE1LjAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImFkZEJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVBZGRUZXN0IiB0ZXh0PSJBZGQiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJ1cGRhdGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIG9uQWN0aW9uPSIjaGFuZGxlVXBkYXRlVGVzdCIgdGV4dD0iVXBkYXRlIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iZHVwbGljYXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUR1cGxpY2F0ZVRlc3QiIHRleHQ9IkR1cGxpY2F0ZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImRlbGV0ZUJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVEZWxldGVUZXN0IiB0ZXh0PSJEZWxldGUiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVDbGVhckZpZWxkcyIgdGV4dD0iQ2xlYXIiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJtb3ZlVXBCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIG9uQWN0aW9uPSIjaGFuZGxlTW92ZVVwIiB0ZXh0PSJVcCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9Im1vdmVEb3duQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZU1vdmVEb3duIiB0ZXh0PSJEb3duIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciBvcmllbnRhdGlvbj0iVkVSVElDQUwiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJydW5UZXN0QnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZVJ1blRlc3QiIHRleHQ9IlJ1biBTZWxlY3RlZCBUZXN0KHMpIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPSJydW5IZWxwSWNvbiIgdGV4dD0iPyIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXRleHQtZmlsbDogYmx1ZTsgLWZ4LWN1cnNvcjogaGFuZDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb250PjxGb250IG5hbWU9IlN5c3RlbSBCb2xkIiBzaXplPSIxNC4wIiAvPjwvZm9udD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyBib3R0b209IjEwLjAiIHRvcD0iMTAuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3BhZGRpbmc+DQogICAgICAgICAgICAgICAgICAgICAgICA8L0hCb3g+DQogICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIDwhLS0gVGVzdCBDYXNlcyBUYWJsZSBTZWN0aW9uIC0tPg0KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjUuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4NCiAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlRlc3QgQ2FzZXMgTGlzdCIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTZweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEZpbHRlciBiYXIgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBzcGFjaW5nPSI4LjAiIGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkVuYWJsZWQ6IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9Cb3ggZng6aWQ9ImVuYWJsZWRGaWx0ZXJDb21ibyIgcHJvbXB0VGV4dD0iQWxsIiBwcmVmV2lkdGg9IjExMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iU3VpdGU6IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9Cb3ggZng6aWQ9InN1aXRlRmlsdGVyQ29tYm8iIHByb21wdFRleHQ9IkFsbCIgcHJlZldpZHRoPSIxNzUuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlRhZzoiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9InRhZ0ZpbHRlckZpZWxkIiBwcm9tcHRUZXh0PSJUYWcga2V5d29yZCIgcHJlZldpZHRoPSIxODUuMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PSJGaWx0ZXIiIG9uQWN0aW9uPSIjaGFuZGxlRmlsdGVyVGVzdHMiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD0iUmVzZXQiIG9uQWN0aW9uPSIjaGFuZGxlUmVzZXRGaWx0ZXIiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvSEJveD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9InRlc3RUYWJsZSIgcHJlZkhlaWdodD0iMzAwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyIgc3R5bGVDbGFzcz0idGFibGUtdmlldyI+DQogICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJpc0VuYWJsZWRDb2x1bW4iIHByZWZXaWR0aD0iNzAuMCIgdGV4dD0iRW5hYmxlZCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0ic3VpdGVDb2x1bW4iIHByZWZXaWR0aD0iMTIwLjAiIHRleHQ9IlN1aXRlIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ0ZXN0VGNpZENvbHVtbiIgcHJlZldpZHRoPSIxMjAuMCIgdGV4dD0iVENJRCIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iZW5kcG9pbnRDb2x1bW4iIHByZWZXaWR0aD0iMTIwLjAiIHRleHQ9IkVuZHBvaW50IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVOYW1lQ29sdW1uIiBwcmVmV2lkdGg9IjEyMC4wIiB0ZXh0PSJIZWFkZXJzIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJib2R5VGVtcGxhdGVOYW1lQ29sdW1uIiBwcmVmV2lkdGg9IjEyMC4wIiB0ZXh0PSJCb2R5IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ0YWdzQ29sdW1uIiBwcmVmV2lkdGg9IjEyMC4wIiB0ZXh0PSJUYWdzIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJ3YWl0VGltZUNvbHVtbiIgcHJlZldpZHRoPSI4MC4wIiB0ZXh0PSJXYWl0KHMpIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJkZXNjcmlwdGlvbnNDb2x1bW4iIHByZWZXaWR0aD0iMjAwLjAiIHRleHQ9IkRlc2NyaXB0aW9ucyIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPg0KICAgICAgICAgICAgICAgICAgICA8Y29sdW1uUmVzaXplUG9saWN5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDpjb25zdGFudD0iQ09OU1RSQUlORURfUkVTSVpFX1BPTElDWSIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5SZXNpemVQb2xpY3k+DQogICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+DQogICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+DQogICAgICAgICAgICAgICAgPC9WQm94Pg0KICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgPC9WQm94Pg0KICAgIDwvY2hpbGRyZW4+DQo8L0FuY2hvclBhbmU+
END
PATH:src/main/resources/com/qa/app/ui/view/groovy_variable_edit_dialog.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCg0KPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b25UeXBlPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkRpYWxvZ1BhbmU/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuTGFiZWw/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGV4dEFyZWE/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGV4dEZpZWxkPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuR3JpZFBhbmU/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5Qcmlvcml0eT8+DQoNCjxEaWFsb2dQYW5lIHhtbG5zPSJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTciIHhtbG5zOmZ4PSJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzEiPg0KICAgIDxoZWFkZXJUZXh0Pg0KICAgICAgICBFZGl0IEN1c3RvbSBHcm9vdnkgVmFyaWFibGUNCiAgICA8L2hlYWRlclRleHQ+DQogICAgPGNvbnRlbnQ+DQogICAgICAgIDxHcmlkUGFuZSBoZ2FwPSIxMCIgdmdhcD0iMTAiPg0KICAgICAgICAgICAgPHBhZGRpbmc+DQogICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9IjEwIiAvPg0KICAgICAgICAgICAgPC9wYWRkaW5nPg0KICAgICAgICAgICAgPExhYmVsIHRleHQ9Ik5hbWU6IiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIC8+DQogICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPSJuYW1lRmllbGQiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgLz4NCg0KICAgICAgICAgICAgPExhYmVsIHRleHQ9IkZvcm1hdDoiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgLz4NCiAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9ImZvcm1hdEZpZWxkIiBHcmlkUGFuZS5yb3dJbmRleD0iMSIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIC8+DQogICAgICAgICAgICANCiAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJEZXNjcmlwdGlvbjoiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIgLz4NCiAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9ImRlc2NyaXB0aW9uRmllbGQiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgLz4NCg0KICAgICAgICAgICAgPExhYmVsIHRleHQ9Ikdyb292eSBTY3JpcHQ6IiBHcmlkUGFuZS5yb3dJbmRleD0iMyIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIC8+DQogICAgICAgICAgICA8VGV4dEFyZWEgZng6aWQ9InNjcmlwdEFyZWEiIHByZWZSb3dDb3VudD0iMTAiIHdyYXBUZXh0PSJ0cnVlIiBHcmlkUGFuZS5yb3dJbmRleD0iNCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtblNwYW49IjIiIC8+DQogICAgICAgIDwvR3JpZFBhbmU+DQogICAgPC9jb250ZW50Pg0KICAgIDxidXR0b25UeXBlcz4NCiAgICAgICAgPEJ1dHRvblR5cGUgZng6aWQ9Im9rQnV0dG9uIiB0ZXh0PSJPSyIgYnV0dG9uRGF0YT0iT0tfRE9ORSIgLz4NCiAgICAgICAgPEJ1dHRvblR5cGUgdGV4dD0iQ2FuY2VsIiBidXR0b25EYXRhPSJDQU5DRUxfQ0xPU0UiIC8+DQogICAgPC9idXR0b25UeXBlcz4NCjwvRGlhbG9nUGFuZT4g
END
PATH:src/main/resources/com/qa/app/ui/view/groovy_variable_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjgwMC4wIiBwcmVmV2lkdGg9IjEyMDAuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5Hcm9vdnlWYXJpYWJsZVZpZXdNb2RlbCI+CiAgICA8Y2hpbGRyZW4+CiAgICAgICAgPFZCb3ggc3BhY2luZz0iMTUuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9IjAuMCIgQW5jaG9yUGFuZS5sZWZ0QW5jaG9yPSIwLjAiIEFuY2hvclBhbmUucmlnaHRBbmNob3I9IjAuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4KICAgICAgICAgICAgPHBhZGRpbmc+CiAgICAgICAgICAgICAgICA8SW5zZXRzIHRvcD0iNS4wIiByaWdodD0iNS4wIiBib3R0b209IjUuMCIgbGVmdD0iNS4wIi8+CiAgICAgICAgICAgIDwvcGFkZGluZz4KICAgICAgICAgICAgCiAgICAgICAgICAgIDwhLS0gSGVhZGVyIFNlY3Rpb24gLS0+CiAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJWYXJpYWJsZXMgTWFuYWdlbWVudCIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTZweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+CiAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4KICAgICAgICAgICAgCiAgICAgICAgICAgIDwhLS0gTWFpbiBDb250ZW50IEFyZWEgLS0+CiAgICAgICAgICAgIDxTcGxpdFBhbmUgb3JpZW50YXRpb249IkhPUklaT05UQUwiIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICA8aXRlbXM+CiAgICAgICAgICAgICAgICA8IS0tIFZhcmlhYmxlcyBMaXN0IFNlY3Rpb24gLS0+CiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPSIxMC4wIiBtaW5XaWR0aD0iMC4wIj4KICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz48SW5zZXRzIHRvcD0iNS4wIiByaWdodD0iNS4wIiBib3R0b209IjUuMCIgbGVmdD0iNS4wIi8+PC9wYWRkaW5nPgogICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJWYXJpYWJsZXMgTGlzdCIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTRweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+CiAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDppZD0idmFyaWFibGVzVGFibGVWaWV3IiBWQm94LnZncm93PSJBTFdBWVMiIHN0eWxlQ2xhc3M9InRhYmxlLXZpZXciPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0ibmFtZUNvbHVtbiIgdGV4dD0iTmFtZSIgcHJlZldpZHRoPSIxMDAuMCIgbWluV2lkdGg9IjEwMC4wIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9ImRlc2NyaXB0aW9uQ29sdW1uIiB0ZXh0PSJEZXNjcmlwdGlvbiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPgogICAgICAgICAgICAgICAgICAgIDwvVGFibGVWaWV3PgogICAgICAgICAgICAgICAgPC9WQm94PgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8IS0tIFZhcmlhYmxlIERldGFpbHMgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIgcmlnaHQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVmFyaWFibGUgRGV0YWlscyIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTRweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+CiAgICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciAvPgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+CiAgICAgICAgICAgICAgICAgICAgPEhCb3ggc3BhY2luZz0iMTAuMCIgYWxpZ25tZW50PSJDRU5URVJfTEVGVCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImFkZEJ1dHRvbiIgdGV4dD0iQWRkIiBvbkFjdGlvbj0iI2hhbmRsZUFkZCIvPgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJzYXZlQnV0dG9uIiB0ZXh0PSJVcGRhdGUiIG9uQWN0aW9uPSIjaGFuZGxlU2F2ZSIvPgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJkdXBsaWNhdGVCdXR0b24iIHRleHQ9IkR1cGxpY2F0ZSIgb25BY3Rpb249IiNoYW5kbGVEdXBsaWNhdGUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImRlbGV0ZUJ1dHRvbiIgdGV4dD0iRGVsZXRlIiBvbkFjdGlvbj0iI2hhbmRsZURlbGV0ZSIvPgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgdGV4dD0iQ2xlYXIiIG9uQWN0aW9uPSIjaGFuZGxlQ2xlYXIiLz4KICAgICAgICAgICAgICAgICAgICA8L0hCb3g+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPCEtLSBGb3JtIEZpZWxkcyAtLT4KICAgICAgICAgICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD0iMTUuMCIgdmdhcD0iMTAuMCIgVkJveC52Z3Jvdz0iTkVWRVIiPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgcHJlZldpZHRoPSIxMjAuMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIHByZWZXaWR0aD0iNDAwLjAiIGhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICAgICAgPHJvd0NvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvd0NvbnN0cmFpbnRzIG1pbkhlaWdodD0iNDAuMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvd0NvbnN0cmFpbnRzIG1pbkhlaWdodD0iNDAuMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvd0NvbnN0cmFpbnRzIG1pbkhlaWdodD0iNDAuMCIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L3Jvd0NvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iTmFtZToiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0ibmFtZUZpZWxkIiBwcm9tcHRUZXh0PSJFbnRlciB2YXJpYWJsZSBuYW1lIiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkZvcm1hdDoiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0iZm9ybWF0RmllbGQiIHByb21wdFRleHQ9IkVudGVyIHZhcmlhYmxlIGZvcm1hdCIgR3JpZFBhbmUucm93SW5kZXg9IjEiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJEZXNjcmlwdGlvbjoiIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0iZGVzY3JpcHRpb25GaWVsZCIgcHJvbXB0VGV4dD0iRW50ZXIgdmFyaWFibGUgZGVzY3JpcHRpb24iIEdyaWRQYW5lLnJvd0luZGV4PSIyIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgIDwvR3JpZFBhbmU+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPCEtLSBHcm9vdnkgU2NyaXB0IFNlY3Rpb24gLS0+CiAgICAgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iNS4wIiBWQm94LnZncm93PSJBTFdBWVMiPgogICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iR3Jvb3Z5IFNjcmlwdDoiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJzY3JpcHRBcmVhIiBwcm9tcHRUZXh0PSJFbnRlciB5b3VyIEdyb292eSBzY3JpcHQgaGVyZS4uLiIgVkJveC52Z3Jvdz0iQUxXQVlTIiB3cmFwVGV4dD0idHJ1ZSIgLz4KICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICA8L2l0ZW1zPgogICAgICAgICAgICA8L1NwbGl0UGFuZT4KICAgICAgICA8L1ZCb3g+CiAgICA8L2NoaWxkcmVuPgo8L0FuY2hvclBhbmU+IA==
END
PATH:src/main/resources/com/qa/app/ui/view/headers_template_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjgwMC4wIiBwcmVmV2lkdGg9IjEyMDAuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyIgeG1sbnM6Zng9Imh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMSIgZng6Y29udHJvbGxlcj0iY29tLnFhLmFwcC51aS52bS5IZWFkZXJzVGVtcGxhdGVWaWV3TW9kZWwiPgogICAgPGNoaWxkcmVuPgogICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgIDxwYWRkaW5nPgogICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPgogICAgICAgICAgICA8L3BhZGRpbmc+CiAgICAgICAgICAgIDwhLS0gSGVhZGVyIC0tPgogICAgICAgICAgICA8TGFiZWwgdGV4dD0iSGVhZGVycyBUZW1wbGF0ZSBNYW5hZ2VtZW50IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgPFNlcGFyYXRvciAvPgoKICAgICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgICAgICAgIDxTcGxpdFBhbmUgb3JpZW50YXRpb249IkhPUklaT05UQUwiIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICA8aXRlbXM+CiAgICAgICAgICAgICAgICA8IS0tIFRlbXBsYXRlIExpc3QgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIG1pbldpZHRoPSIwLjAiPgogICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPjxJbnNldHMgdG9wPSI1LjAiIGJvdHRvbT0iNS4wIiBsZWZ0PSI1LjAiIHJpZ2h0PSI1LjAiLz48L3BhZGRpbmc+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IlRlbXBsYXRlIExpc3QiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9ImhlYWRlcnNUZW1wbGF0ZVRhYmxlIiBWQm94LnZncm93PSJBTFdBWVMiIHN0eWxlQ2xhc3M9InRhYmxlLXZpZXciPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iaGVhZGVyc1RlbXBsYXRlTmFtZUNvbHVtbiIgdGV4dD0iTmFtZSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVEZXNjcmlwdGlvbkNvbHVtbiIgdGV4dD0iRGVzY3JpcHRpb24iLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD0iaGVhZGVyc1RlbXBsYXRlQ29udGVudENvbHVtbiIgdmlzaWJsZT0iZmFsc2UiIHByZWZXaWR0aD0iMCIgdGV4dD0iSGVhZGVycyBDb250ZW50Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz4KICAgICAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz4KICAgICAgICAgICAgICAgIDwvVkJveD4KCiAgICAgICAgICAgICAgICA8IS0tIFRlbXBsYXRlIERldGFpbHMgU2VjdGlvbiAtLT4KICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIgcmlnaHQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iVGVtcGxhdGUgRGV0YWlscyIgc3R5bGU9Ii1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTRweDsgLWZ4LXRleHQtZmlsbDogIzJjM2U1MDsiIC8+CiAgICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciAvPgogICAgICAgICAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHNwYWNpbmc9IjEwLjAiPgogICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iYWRkQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUFkZEhlYWRlcnNUZW1wbGF0ZSIgdGV4dD0iQWRkIiAvPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0idXBkYXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZVVwZGF0ZUhlYWRlcnNUZW1wbGF0ZSIgdGV4dD0iVXBkYXRlIiAvPgogICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iZHVwbGljYXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiBvbkFjdGlvbj0iI2hhbmRsZUR1cGxpY2F0ZVRlbXBsYXRlIiB0ZXh0PSJEdXBsaWNhdGUiIC8+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJkZWxldGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIG9uQWN0aW9uPSIjaGFuZGxlRGVsZXRlSGVhZGVyc1RlbXBsYXRlIiB0ZXh0PSJEZWxldGUiIC8+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgb25BY3Rpb249IiNoYW5kbGVDbGVhckhlYWRlcnNUZW1wbGF0ZUZvcm0iIHRleHQ9IkNsZWFyIiAvPgogICAgICAgICAgICAgICAgPFNlcGFyYXRvciBvcmllbnRhdGlvbj0iVkVSVElDQUwiLz4KICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImZvcm1hdEJ1dHRvbiIgdGV4dD0iRm9ybWF0IiBvbkFjdGlvbj0iI2hhbmRsZUZvcm1hdFRlbXBsYXRlIi8+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJ2YWxpZGF0ZUJ1dHRvbiIgdGV4dD0iVmFsaWRhdGUiIG9uQWN0aW9uPSIjaGFuZGxlVmFsaWRhdGVUZW1wbGF0ZSIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPgogICAgICAgICAgICA8L0hCb3g+CiAgICAgICAgICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9IjE1LjAiIHZnYXA9IjE1LjAiIG1heFdpZHRoPSJJbmZpbml0eSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBwcmVmV2lkdGg9IjEyMC4wIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iTmFtZToiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD0iaGVhZGVyc1RlbXBsYXRlTmFtZUZpZWxkIiBwcm9tcHRUZXh0PSJUZW1wbGF0ZSBOYW1lIiBHcmlkUGFuZS5yb3dJbmRleD0iMCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9IjEiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJEZXNjcmlwdGlvbjoiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVEZXNjcmlwdGlvbkFyZWEiIHByb21wdFRleHQ9IlRlbXBsYXRlIERlc2NyaXB0aW9uIiBwcmVmUm93Q291bnQ9IjMiIEdyaWRQYW5lLnJvd0luZGV4PSIxIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMSIgVkJveC52Z3Jvdz0iTkVWRVIiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9jaGlsZHJlbj4KICAgICAgICAgICAgICAgICAgICA8L0dyaWRQYW5lPgogICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJIZWFkZXJzIENvbnRlbnQ6Ii8+CiAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJoZWFkZXJzVGVtcGxhdGVDb250ZW50QXJlYSIgcHJvbXB0VGV4dD0iSGVhZGVycyBUZW1wbGF0ZSBDb250ZW50IiBwcmVmUm93Q291bnQ9IjYiIFZCb3gudmdyb3c9IkFMV0FZUyIgR3JpZFBhbmUuaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgPC9WQm94PgogICAgICAgICAgICAgICAgPC9pdGVtcz4KICAgICAgICAgICAgPC9TcGxpdFBhbmU+CiAgICAgICAgPC9WQm94PgogICAgPC9jaGlsZHJlbj4KPC9BbmNob3JQYW5lPiA=
END
PATH:src/main/resources/com/qa/app/ui/view/main_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCg0KPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5MYWJlbD8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5MaXN0Vmlldz8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5TcGxpdFBhbmU/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFiUGFuZT8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LkFuY2hvclBhbmU/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5Cb3JkZXJQYW5lPz4NCjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuSEJveD8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g/Pg0KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLnRleHQuRm9udD8+DQo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b24/Pg0KDQo8Qm9yZGVyUGFuZSBmeDppZD0ibWFpblBhbmUiIHByZWZIZWlnaHQ9Ijc2OC4wIiBwcmVmV2lkdGg9IjEwMjQuMCIgeG1sbnM9Imh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNyINCiAgICAgICAgICAgIHhtbG5zOmZ4PSJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzEiIGZ4OmNvbnRyb2xsZXI9ImNvbS5xYS5hcHAudWkudm0uTWFpblZpZXdNb2RlbCINCiAgICAgICAgICAgIHN0eWxlc2hlZXRzPSJAL3N0YXRpYy9jc3MvbmF2aWdhdGlvbi5jc3MiPg0KICAgIDx0b3A+DQogICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHByZWZIZWlnaHQ9IjUwLjAiIHN0eWxlPSItZngtYmFja2dyb3VuZC1jb2xvcjogIzQ2ODJCNDsgLWZ4LXBhZGRpbmc6IDAgMCAwIDIwOyIgQm9yZGVyUGFuZS5hbGlnbm1lbnQ9IkNFTlRFUiI+DQogICAgICAgICAgICA8Y2hpbGRyZW4+DQogICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkdhdGxpbmcgVGVzdGluZyBTeXN0ZW0gLSAiIHRleHRGaWxsPSJ3aGl0ZSI+DQogICAgICAgICAgICAgICAgICAgIDxmb250Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPEZvbnQgbmFtZT0iU3lzdGVtIEJvbGQiIHNpemU9IjIwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgIDwvZm9udD4NCiAgICAgICAgICAgICAgICA8L0xhYmVsPg0KICAgICAgICAgICAgICAgIDwhLS0gTmV3IExhYmVsIGZvciB0aGUgc2VsZWN0ZWQgZnVuY3Rpb24gbmFtZSAtLT4NCiAgICAgICAgICAgICAgICA8TGFiZWwgZng6aWQ9ImN1cnJlbnRGZWF0dXJlTGFiZWwiIHRleHRGaWxsPSJ3aGl0ZSIgSEJveC5tYXJnaW49IiR4MiI+DQogICAgICAgICAgICAgICAgICAgIDxmb250Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPEZvbnQgbmFtZT0iU3lzdGVtIEJvbGQiIHNpemU9IjIwLjAiIC8+DQogICAgICAgICAgICAgICAgICAgIDwvZm9udD4NCiAgICAgICAgICAgICAgICAgICAgPEhCb3gubWFyZ2luPg0KICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyBsZWZ0PSIyMC4wIiAvPg0KICAgICAgICAgICAgICAgICAgICA8L0hCb3gubWFyZ2luPg0KICAgICAgICAgICAgICAgIDwvTGFiZWw+DQogICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgPEJvcmRlclBhbmUubWFyZ2luPg0KICAgICAgICAgICAgICAgIDxJbnNldHMgLz4NCiAgICAgICAgICAgIDwvQm9yZGVyUGFuZS5tYXJnaW4+DQogICAgICAgICAgICA8cGFkZGluZz4NCiAgICAgICAgICAgICAgICA8SW5zZXRzIGxlZnQ9IjIwLjAiIC8+DQogICAgICAgICAgICA8L3BhZGRpbmc+DQogICAgICAgIDwvSEJveD4NCiAgICA8L3RvcD4NCiAgICA8Y2VudGVyPg0KICAgICAgICA8U3BsaXRQYW5lIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIHByZWZIZWlnaHQ9IjE2MC4wIiBwcmVmV2lkdGg9IjE1MC4wIiBCb3JkZXJQYW5lLmFsaWdubWVudD0iQ0VOVEVSIj4NCiAgICAgICAgICAgIDxpdGVtcz4NCiAgICAgICAgICAgICAgICA8VkJveCBhbGlnbm1lbnQ9IlRPUF9DRU5URVIiIHByZWZIZWlnaHQ9IjIwMC4wIiBwcmVmV2lkdGg9IjE1MC4wIiBtaW5XaWR0aD0iMTUwLjAiIHNwYWNpbmc9IjEwLjAiIG1heFdpZHRoPSIyNTAuMCI+DQogICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxMaXN0VmlldyBmeDppZD0ibmF2aWdhdGlvbkxpc3QiIHByZWZXaWR0aD0iMTUwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyIgc3R5bGVDbGFzcz0ibmF2aWdhdGlvbi1saXN0IiAvPg0KICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgIDwvVkJveD4NCiAgICAgICAgICAgICAgICA8QW5jaG9yUGFuZSBwcmVmSGVpZ2h0PSIyMDAuMCIgcHJlZldpZHRoPSI4MDAuMCI+DQogICAgICAgICAgICAgICAgICAgIDxjaGlsZHJlbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJQYW5lIGZ4OmlkPSJjb250ZW50VGFiUGFuZSIgcHJlZkhlaWdodD0iNzE4LjAiIHByZWZXaWR0aD0iNzYzLjAiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbmNob3JQYW5lLmJvdHRvbUFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLmxlZnRBbmNob3I9IjAuMCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuY2hvclBhbmUucmlnaHRBbmNob3I9IjAuMCIgQW5jaG9yUGFuZS50b3BBbmNob3I9IjAuMCIvPg0KICAgICAgICAgICAgICAgICAgICA8L2NoaWxkcmVuPg0KICAgICAgICAgICAgICAgIDwvQW5jaG9yUGFuZT4NCiAgICAgICAgICAgIDwvaXRlbXM+DQogICAgICAgIDwvU3BsaXRQYW5lPg0KICAgIDwvY2VudGVyPg0KICAgIDxib3R0b20+DQogICAgICAgIDxIQm94IGFsaWdubWVudD0iQ0VOVEVSX0xFRlQiIHByZWZIZWlnaHQ9IjMwLjAiIHN0eWxlPSItZngtYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDsgLWZ4LXBhZGRpbmc6IDVweDsiPg0KICAgICAgICAgICAgPGNoaWxkcmVuPg0KICAgICAgICAgICAgICAgIDxMYWJlbCBmeDppZD0ic3RhdHVzTGFiZWwiIHRleHQ9IlJlYWR5IiAvPg0KICAgICAgICAgICAgPC9jaGlsZHJlbj4NCiAgICAgICAgPC9IQm94Pg0KICAgIDwvYm90dG9tPg0KPC9Cb3JkZXJQYW5lPg0K
END
PATH:src/main/resources/com/qa/app/ui/view/project_view.fxml
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Pgo8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz4KPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz4KCjxBbmNob3JQYW5lIHByZWZIZWlnaHQ9IjYwMC4wIiBwcmVmV2lkdGg9IjkwMC4wIiB4bWxucz0iaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE3IiB4bWxuczpmeD0iaHR0cDovL2phdmFmeC5jb20vZnhtbC8xIiBmeDpjb250cm9sbGVyPSJjb20ucWEuYXBwLnVpLnZtLlByb2plY3RWaWV3TW9kZWwiPgogICAgPGNoaWxkcmVuPgogICAgICAgIDxWQm94IHNwYWNpbmc9IjE1LjAiIEFuY2hvclBhbmUudG9wQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPSIwLjAiIEFuY2hvclBhbmUubGVmdEFuY2hvcj0iMC4wIiBBbmNob3JQYW5lLnJpZ2h0QW5jaG9yPSIwLjAiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgIDxwYWRkaW5nPgogICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPgogICAgICAgICAgICA8L3BhZGRpbmc+CiAgICAgICAgICAgIDwhLS0gSGVhZGVyIC0tPgogICAgICAgICAgICA8TGFiZWwgdGV4dD0iUHJvamVjdCBNYW5hZ2VtZW50IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNnB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgPFNlcGFyYXRvciAvPgoKICAgICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgICAgICAgIDxTcGxpdFBhbmUgb3JpZW50YXRpb249IkhPUklaT05UQUwiIGRpdmlkZXJQb3NpdGlvbnM9IjAuMjUiIFZCb3gudmdyb3c9IkFMV0FZUyI+CiAgICAgICAgICAgICAgICA8aXRlbXM+CiAgICAgICAgICAgICAgICA8IS0tIFByb2plY3QgTGlzdCBTZWN0aW9uIC0tPgogICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTAuMCIgbWluV2lkdGg9IjAuMCI+CiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+PEluc2V0cyB0b3A9IjUuMCIgcmlnaHQ9IjUuMCIgYm90dG9tPSI1LjAiIGxlZnQ9IjUuMCIvPjwvcGFkZGluZz4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iUHJvamVjdCBMaXN0IiBzdHlsZT0iLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtZm9udC1zaXplOiAxNHB4OyAtZngtdGV4dC1maWxsOiAjMmMzZTUwOyIgLz4KICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPSJwcm9qZWN0VGFibGUiIFZCb3gudmdyb3c9IkFMV0FZUyIgc3R5bGVDbGFzcz0idGFibGUtdmlldyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJwcm9qZWN0TmFtZUNvbHVtbiIgcHJlZldpZHRoPSIyMDAuMCIgdGV4dD0iTmFtZSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPSJwcm9qZWN0RGVzY3JpcHRpb25Db2x1bW4iIHByZWZXaWR0aD0iNjAwLjAiIHRleHQ9IkRlc2NyaXB0aW9uIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz4KICAgICAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz4KICAgICAgICAgICAgICAgIDwvVkJveD4KCiAgICAgICAgICAgICAgICA8IS0tIFByb2plY3QgRGV0YWlscyBTZWN0aW9uIC0tPgogICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz0iMTUuMCIgVkJveC52Z3Jvdz0iQUxXQVlTIj4KICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz48SW5zZXRzIHRvcD0iNS4wIiBib3R0b209IjUuMCIgbGVmdD0iNS4wIiByaWdodD0iNS4wIi8+PC9wYWRkaW5nPgogICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PSJQcm9qZWN0IERldGFpbHMiIHN0eWxlPSItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7IC1meC10ZXh0LWZpbGw6ICMyYzNlNTA7IiAvPgogICAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4KICAgICAgICAgICAgICAgICAgICA8SEJveCBhbGlnbm1lbnQ9IkNFTlRFUl9MRUZUIiBzcGFjaW5nPSIxMC4wIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGNoaWxkcmVuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iYWRkQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiB0ZXh0PSJBZGQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJ1cGRhdGVCdXR0b24iIG1uZW1vbmljUGFyc2luZz0iZmFsc2UiIHRleHQ9IlVwZGF0ZSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9ImR1cGxpY2F0ZUJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgdGV4dD0iRHVwbGljYXRlIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD0iZGVsZXRlQnV0dG9uIiBtbmVtb25pY1BhcnNpbmc9ImZhbHNlIiB0ZXh0PSJEZWxldGUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPSJjbGVhckJ1dHRvbiIgbW5lbW9uaWNQYXJzaW5nPSJmYWxzZSIgdGV4dD0iQ2xlYXIiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgPC9IQm94PgogICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD0iMTUuMCIgdmdhcD0iMTAuMCIgVkJveC52Z3Jvdz0iTkVWRVIiIG1heFdpZHRoPSJJbmZpbml0eSI+CiAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIHByZWZXaWR0aD0iMTIwLjAiLz4KICAgICAgICAgICAgICAgICAgICA8Q29sdW1uQ29uc3RyYWludHMgcHJlZldpZHRoPSI1MDAuMCIgaGdyb3c9IkFMV0FZUyIvPgogICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz4KICAgICAgICAgICAgICAgIDxyb3dDb25zdHJhaW50cz4KICAgICAgICAgICAgICAgICAgICA8Um93Q29uc3RyYWludHMgbWluSGVpZ2h0PSI0MC4wIi8+CiAgICAgICAgICAgICAgICAgICAgPFJvd0NvbnN0cmFpbnRzIG1pbkhlaWdodD0iMTIwLjAiLz4KICAgICAgICAgICAgICAgIDwvcm93Q29uc3RyYWludHM+CiAgICAgICAgICAgICAgICA8Y2hpbGRyZW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD0iTmFtZToiIEdyaWRQYW5lLnJvd0luZGV4PSIwIiBHcmlkUGFuZS5jb2x1bW5JbmRleD0iMCIvPgogICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9InByb2plY3ROYW1lRmllbGQiIHByb21wdFRleHQ9IlByb2plY3QgTmFtZSIgR3JpZFBhbmUucm93SW5kZXg9IjAiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBHcmlkUGFuZS5oZ3Jvdz0iQUxXQVlTIi8+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9IkRlc2NyaXB0aW9uOiIgR3JpZFBhbmUucm93SW5kZXg9IjEiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIwIi8+CiAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhIGZ4OmlkPSJwcm9qZWN0RGVzY3JpcHRpb25GaWVsZCIgcHJvbXB0VGV4dD0iRGVzY3JpcHRpb24iIHByZWZSb3dDb3VudD0iNCIgR3JpZFBhbmUucm93SW5kZXg9IjEiIEdyaWRQYW5lLmNvbHVtbkluZGV4PSIxIiBWQm94LnZncm93PSJBTFdBWVMiIEdyaWRQYW5lLmhncm93PSJBTFdBWVMiLz4KICAgICAgICAgICAgICAgIDwvY2hpbGRyZW4+CiAgICAgICAgICAgIDwvR3JpZFBhbmU+CiAgICAgICAgICAgICAgICA8L1ZCb3g+CiAgICAgICAgICAgICAgICA8L2l0ZW1zPgogICAgICAgICAgICA8L1NwbGl0UGFuZT4KICAgICAgICA8L1ZCb3g+CiAgICA8L2NoaWxkcmVuPgo8L0FuY2hvclBhbmU+IA==
END
PATH:src/main/resources/gatling.conf
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCiMgR2F0bGluZyBDdXN0b20gT3ZlcnJpZGVzICMNCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQojIFRoaXMgZmlsZSBpbnRlbnRpb25hbGx5IGNvbnRhaW5zIG9ubHkgY29tbWVudHMuDQojIEFsbCB2YWx1ZXMgZmFsbCBiYWNrIHRvIEdhdGxpbmcncyBidWlsdC1pbiByZWZlcmVuY2UuY29uZiBkZWZhdWx0cy4NCiMgQWRkIHlvdXIgb3ZlcnJpZGVzIGJlbG93IGlmIG5lZWRlZCwgZS5nLjoNCiMgZ2F0bGluZyB7DQojICAgaHR0cCB7DQojICAgICBjb25uZWN0VGltZW91dCA9IDMwMDAwICAjIDMwIHNlY29uZHMNCiMgICB9DQojIH0g
END
PATH:src/main/resources/logback.xml
PGNvbmZpZ3VyYXRpb24+DQoNCiAgICA8YXBwZW5kZXIgbmFtZT0iQ09OU09MRSIgY2xhc3M9ImNoLnFvcy5sb2diYWNrLmNvcmUuQ29uc29sZUFwcGVuZGVyIj4NCiAgICAgICAgPGVuY29kZXI+DQogICAgICAgICAgICA8cGF0dGVybj4lZHtISDptbTpzcy5TU1N9IFslLTVsZXZlbF0gJS0zNS4zNWxvZ2dlcnszNX0gLSAlbXNnJW4lckV4PC9wYXR0ZXJuPg0KICAgICAgICA8L2VuY29kZXI+DQogICAgICAgIDxpbW1lZGlhdGVGbHVzaD50cnVlPC9pbW1lZGlhdGVGbHVzaD4NCiAgICA8L2FwcGVuZGVyPg0KDQogICAgPGxvZ2dlciBuYW1lPSJjb20ucWEuYXBwIiBsZXZlbD0iSU5GTyIgLz4NCiAgICA8bG9nZ2VyIG5hbWU9ImlvLmdhdGxpbmciIGxldmVsPSJJTkZPIiAvPg0KICAgIDxsb2dnZXIgbmFtZT0iaW8uZ2F0bGluZy5odHRwIiBsZXZlbD0iVFJBQ0UiIC8+DQoNCiAgICA8cm9vdCBsZXZlbD0iSU5GTyI+DQogICAgICAgIDxhcHBlbmRlci1yZWYgcmVmPSJDT05TT0xFIiAvPg0KICAgIDwvcm9vdD4NCg0KPC9jb25maWd1cmF0aW9uPiA=
END
PATH:src/main/resources/static/css/navigation.css
Lm5hdmlnYXRpb24tbGlzdCB7DQogICAgLWZ4LWJhY2tncm91bmQtY29sb3I6ICNmOGZhZmQ7DQogICAgLWZ4LWJvcmRlci1jb2xvcjogI2QxZDVkYjsNCiAgICAtZngtYm9yZGVyLXdpZHRoOiAxcHg7DQogICAgLWZ4LWJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAtZngtYmFja2dyb3VuZC1yYWRpdXM6IDhweDsNCiAgICAtZngtcGFkZGluZzogOHB4IDA7DQogICAgLWZ4LWZvbnQtc2l6ZTogMTNweDsNCiAgICAtZngtZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsICdBcmlhbCcsIHNhbnMtc2VyaWY7DQp9DQoNCi5uYXZpZ2F0aW9uLWxpc3QgLmxpc3QtY2VsbCB7DQogICAgLWZ4LWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgIC1meC10ZXh0LWZpbGw6ICMzMzM7DQogICAgLWZ4LXBhZGRpbmc6IDEwcHggMThweDsNCiAgICAtZngtZm9udC1zaXplOiAxM3B4Ow0KICAgIC1meC1ib3JkZXItd2lkdGg6IDAgMCAxcHggMDsNCiAgICAtZngtYm9yZGVyLWNvbG9yOiAjZTVlN2ViOw0KICAgIC1meC1jdXJzb3I6IGhhbmQ7DQogICAgLWZ4LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4yczsNCn0NCg0KLm5hdmlnYXRpb24tbGlzdCAubGlzdC1jZWxsOmhvdmVyIHsNCiAgICAtZngtYmFja2dyb3VuZC1jb2xvcjogI2UzZWFmYzsNCiAgICAtZngtdGV4dC1maWxsOiAjMWQ0ZWQ4Ow0KfQ0KDQoubmF2aWdhdGlvbi1saXN0IC5saXN0LWNlbGw6c2VsZWN0ZWQgew0KICAgIC1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjNmVhOGQ5Ow0KICAgIC1meC10ZXh0LWZpbGw6IHdoaXRlOw0KICAgIC1meC1mb250LXdlaWdodDogYm9sZDsNCiAgICAtZngtYmFja2dyb3VuZC1yYWRpdXM6IDhweDsNCn0NCg0KLm5hdmlnYXRpb24tbGlzdCAubGlzdC1jZWxsOmZpbGxlZDpzZWxlY3RlZDpmb2N1c2VkIHsNCiAgICAtZngtYmFja2dyb3VuZC1jb2xvcjogIzZlYThkOTsNCiAgICAtZngtdGV4dC1maWxsOiB3aGl0ZTsNCiAgICAtZngtYmFja2dyb3VuZC1yYWRpdXM6IDhweDsNCn0NCg0KLyogVGFibGVWaWV3IOmAieS4reihjOe7n+S4gOmrmOS6ruiJsiAqLw0KLnRhYmxlLXJvdy1jZWxsOnNlbGVjdGVkLCAudGFibGUtcm93LWNlbGw6ZmlsbGVkOnNlbGVjdGVkLCAudGFibGUtcm93LWNlbGw6Zm9jdXNlZDpzZWxlY3RlZCB7DQogICAgLWZ4LWJhY2tncm91bmQtY29sb3I6ICM2ZWE4ZDk7DQogICAgLWZ4LXRleHQtZmlsbDogd2hpdGU7DQp9DQoNCi50YWJsZS12aWV3IC5jb2x1bW4taGVhZGVyLWJhY2tncm91bmQgew0KICAgIC1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjRmOGZiOw0KfSA=
END
</script>
    <script id="source-data" type="text/plain">package com.qa.app.util;

import java.io.*;
import java.nio.charset.StandardCharsets;
import java.nio.file.*;
import java.util.*;
import java.util.Base64;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * Combined utility: export project code into self-contained HTML (gatling.code.html)
 * and import (restore) code from that HTML.
 *
 * 1. Export (default):
 *    java GatlingCodeArchiver export [<projectDir>.] [<outputHtml> gatling.code.html]
 *
 * 2. Import:
 *    java GatlingCodeArchiver import <inputHtml> <targetDir>
 *
 * HTML title: "gatling testing code".
 * HTML embeds raw packaged txt inside a <script id="code-data" type="text/plain"> tag to avoid escaping.
 */
public class GatlingCodeArchiver {

    /* ---------- Config ---------- */
    private static final Set<String> TEXT_EXTENSIONS = Set.of(
            "java", "xml", "properties", "conf", "config", "txt", "fxml", "css", "md", "json", "yml", "yaml");
    private static final List<String> EXCLUDE_DIRS = List.of(
            ".git", "target", ".idea", "out", "logs", ".cursor", ".vscode");

    /* ---------- Entry ---------- */
    public static void main(String[] args) throws Exception {
        if (args.length == 0 || "export".equalsIgnoreCase(args[0])) {
            Path project = args.length > 1 ? Paths.get(args[1]) : Paths.get(".");
            Path out = args.length > 2 ? Paths.get(args[2]) : Paths.get("gatling.code.html");
            exportHtml(project, out);
        } else if ("import".equalsIgnoreCase(args[0])) {
            if (args.length < 3) {
                System.out.println("Usage: import <inputHtml> <targetDir>");
                return;
            }
            Path html = Paths.get(args[1]);
            Path target = Paths.get(args[2]);
            importFromHtml(html, target);
        } else {
            System.out.println("Unknown command. Usage:\n  export [projectDir] [outputHtml]\n  import <inputHtml> <targetDir>");
        }
    }

    /* ---------- Export ---------- */
    private static void exportHtml(Path root, Path outputHtml) throws IOException {
        if (!Files.isDirectory(root)) {
            throw new IllegalArgumentException("Project directory not found: " + root);
        }

        // Build packaged text (NDJSON-like)
        StringBuilder pkgBuilder = new StringBuilder();
        Files.walk(root)
                .filter(Files::isRegularFile)
                .filter(p -> shouldInclude(p))
                .forEach(p -> appendFileEntry(root, p, pkgBuilder));
        String packagedText = pkgBuilder.toString();

        // Read this class's source (best effort)
        Path selfSrcPath = root.resolve("GatlingCodeArchiver.java");
        String selfSource = "";
        if (Files.exists(selfSrcPath)) {
            selfSource = Files.readString(selfSrcPath, StandardCharsets.UTF_8);
        } else {
            Path alt = root.resolve("GatlingCodeArchiver.java");
            if (Files.exists(alt)) {
                selfSource = Files.readString(alt, StandardCharsets.UTF_8);
            }
        }

        // Build HTML
        String html = buildHtml(packagedText, selfSource);

        // Ensure dir exists
        if (outputHtml.getParent() != null) {
            Files.createDirectories(outputHtml.getParent());
        }
        Files.writeString(outputHtml, html, StandardCharsets.UTF_8);
        System.out.println("Exported to " + outputHtml.toAbsolutePath());
    }

    private static boolean shouldInclude(Path file) {
        for (Path part : file) {
            if (EXCLUDE_DIRS.contains(part.toString())) return false;
        }
        String name = file.getFileName().toString();
        int idx = name.lastIndexOf('.');
        if (idx == -1) return false;
        return TEXT_EXTENSIONS.contains(name.substring(idx + 1).toLowerCase());
    }

    private static void appendFileEntry(Path root, Path file, StringBuilder sb) {
        try {
            Path rel = root.relativize(file);
            String b64 = Base64.getEncoder().encodeToString(Files.readAllBytes(file));
            sb.append("PATH:").append(rel.toString().replace('\\', '/')).append('\n');
            sb.append(b64).append('\n');
            sb.append("END\n");
        } catch (IOException ex) {
            System.err.println("Skip file " + file + " due: " + ex.getMessage());
        }
    }

    /* ---------- Import ---------- */
    private static void importFromHtml(Path htmlFile, Path targetDir) throws IOException {
        if (!Files.exists(htmlFile)) {
            throw new IllegalArgumentException("HTML file not found: " + htmlFile);
        }
        // Read html as string
        String html = Files.readString(htmlFile, StandardCharsets.UTF_8);
        // Extract between <script id="code-data" type="text/plain"> ... <\/script>
        Pattern pattern = Pattern.compile("<script[^>]*id=\"code-data\"[^>]*>([\\s\\S]*?)<\/script>", Pattern.CASE_INSENSITIVE);
        Matcher m = pattern.matcher(html);
        if (!m.find()) {
            throw new IllegalStateException("No code-data section found in HTML");
        }
        String pkg = m.group(1).trim();
        // Ensure target dir exists
        Files.createDirectories(targetDir);
        parseAndWrite(pkg, targetDir);
        System.out.println("Import completed to " + targetDir.toAbsolutePath());
    }

    private static void parseAndWrite(String pkg, Path targetDir) throws IOException {
        try (BufferedReader br = new BufferedReader(new StringReader(pkg))) {
            String line;
            String currentPath = null;
            StringBuilder b64 = new StringBuilder();
            while ((line = br.readLine()) != null) {
                if (line.startsWith("PATH:")) {
                    currentPath = line.substring(5);
                    b64.setLength(0);
                } else if (line.equals("END")) {
                    if (currentPath != null) {
                        Path outFile = targetDir.resolve(currentPath);
                        Files.createDirectories(outFile.getParent());
                        byte[] data = Base64.getDecoder().decode(b64.toString());
                        Files.write(outFile, data);
                    }
                    currentPath = null;
                } else {
                    b64.append(line);
                }
            }
        }
    }

    /* ---------- HTML template ---------- */
    private static String buildHtml(String packagedText, String archiverSource) {
        String usage = "java GatlingCodeArchiver.java export . gatling.code.html\n" +
                       "java GatlingCodeArchiver.java import gatling.code.html restoredDir";

        String safePkg = packagedText.replace("<\/script>", "<\\/script>");
        String safeSrc = archiverSource.replace("<\/script>", "<\\/script>");

        return """
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="utf-8" />
                    <title>gatling testing code</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        pre { background:#f5f5f5; border:1px solid #ddd; padding:10px; overflow:auto; }
                        button { margin-bottom:10px; padding:6px 12px; }
                    </style>
                </head>
                <body>
                    <h2>gatling testing code</h2>
                    <h3>Usage</h3>
                    <pre>%s</pre>
                    <button onclick="togglePackage()">Show / Hide Package</button>
                    <button onclick="copyPackage()">Copy Package To Clipboard</button>
                    <pre id="display" style="display:none;"></pre>
                    <h3>GatlingCodeArchiver.java</h3>
                    <button onclick="toggleSrc()">Show / Hide Source</button>
                    <button onclick="copySource()">Copy Source Code</button>
                    <pre id="src" style="display:none;"></pre>
                    <script id="code-data" type="text/plain">%s<\/script>
                    <script id="source-data" type="text/plain">%s<\/script>
                    <script>
                        const raw = document.getElementById('code-data').textContent.trim();
                        const srcRaw = document.getElementById('source-data').textContent.trim();
                        document.getElementById('display').textContent = raw;
                        document.getElementById('src').textContent = srcRaw;
                        function copyPackage() {
                            navigator.clipboard.writeText(raw).then(()=>alert('Package copied!')).catch(e=>alert('Copy failed: '+e));
                        }
                        function togglePackage(){
                            const el=document.getElementById('display');
                            el.style.display = el.style.display==='none'? 'block':'none';
                        }
                        function toggleSrc(){
                            const el=document.getElementById('src');
                            el.style.display = el.style.display==='none'? 'block':'none';
                        }
                        function copySource() {
                            navigator.clipboard.writeText(srcRaw).then(()=>alert('Source copied!')).catch(e=>alert('Copy failed: '+e));
                        }
                    <\/script>
                </body>
                </html>
                """.formatted(usage, safePkg, safeSrc);
    }
} </script>
    <script>
        const raw = document.getElementById('code-data').textContent.trim();
        const srcRaw = document.getElementById('source-data').textContent.trim();
        document.getElementById('display').textContent = raw;
        document.getElementById('src').textContent = srcRaw;
        function copyPackage() {
            navigator.clipboard.writeText(raw).then(()=>alert('Package copied!')).catch(e=>alert('Copy failed: '+e));
        }
        function togglePackage(){
            const el=document.getElementById('display');
            el.style.display = el.style.display==='none'? 'block':'none';
        }
        function toggleSrc(){
            const el=document.getElementById('src');
            el.style.display = el.style.display==='none'? 'block':'none';
        }
        function copySource() {
            navigator.clipboard.writeText(srcRaw).then(()=>alert('Source copied!')).catch(e=>alert('Copy failed: '+e));
        }
    </script>
</body>
</html>
